function bN(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in n)){const o=Object.getOwnPropertyDescriptor(i,s);o&&Object.defineProperty(n,s,o.get?o:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();function EN(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var yy={exports:{}},Oc={};var fS;function TN(){if(fS)return Oc;fS=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var h in s)h!=="key"&&(o[h]=s[h])}else o=s;return s=o.ref,{$$typeof:n,type:i,key:u,ref:s!==void 0?s:null,props:o}}return Oc.Fragment=e,Oc.jsx=t,Oc.jsxs=t,Oc}var dS;function SN(){return dS||(dS=1,yy.exports=TN()),yy.exports}var _e=SN(),_y={exports:{}},$e={};var pS;function wN(){if(pS)return $e;pS=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),E=Symbol.iterator;function w(H){return H===null||typeof H!="object"?null:(H=E&&H[E]||H["@@iterator"],typeof H=="function"?H:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,A={};function U(H,Z,ce){this.props=H,this.context=Z,this.refs=A,this.updater=ce||I}U.prototype.isReactComponent={},U.prototype.setState=function(H,Z){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,Z,"setState")},U.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function V(){}V.prototype=U.prototype;function z(H,Z,ce){this.props=H,this.context=Z,this.refs=A,this.updater=ce||I}var Q=z.prototype=new V;Q.constructor=z,O(Q,U.prototype),Q.isPureReactComponent=!0;var j=Array.isArray;function ie(){}var S={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function x(H,Z,ce){var fe=ce.ref;return{$$typeof:n,type:H,key:Z,ref:fe!==void 0?fe:null,props:ce}}function N(H,Z){return x(H.type,Z,H.props)}function k(H){return typeof H=="object"&&H!==null&&H.$$typeof===n}function P(H){var Z={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(ce){return Z[ce]})}var M=/\/+/g;function pe(H,Z){return typeof H=="object"&&H!==null&&H.key!=null?P(""+H.key):Z.toString(36)}function ge(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(ie,ie):(H.status="pending",H.then(function(Z){H.status==="pending"&&(H.status="fulfilled",H.value=Z)},function(Z){H.status==="pending"&&(H.status="rejected",H.reason=Z)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function K(H,Z,ce,fe,Ie){var Me=typeof H;(Me==="undefined"||Me==="boolean")&&(H=null);var Be=!1;if(H===null)Be=!0;else switch(Me){case"bigint":case"string":case"number":Be=!0;break;case"object":switch(H.$$typeof){case n:case e:Be=!0;break;case y:return Be=H._init,K(Be(H._payload),Z,ce,fe,Ie)}}if(Be)return Ie=Ie(H),Be=fe===""?"."+pe(H,0):fe,j(Ie)?(ce="",Be!=null&&(ce=Be.replace(M,"$&/")+"/"),K(Ie,Z,ce,"",function(cr){return cr})):Ie!=null&&(k(Ie)&&(Ie=N(Ie,ce+(Ie.key==null||H&&H.key===Ie.key?"":(""+Ie.key).replace(M,"$&/")+"/")+Be)),Z.push(Ie)),1;Be=0;var gt=fe===""?".":fe+":";if(j(H))for(var yt=0;yt<H.length;yt++)fe=H[yt],Me=gt+pe(fe,yt),Be+=K(fe,Z,ce,Me,Ie);else if(yt=w(H),typeof yt=="function")for(H=yt.call(H),yt=0;!(fe=H.next()).done;)fe=fe.value,Me=gt+pe(fe,yt++),Be+=K(fe,Z,ce,Me,Ie);else if(Me==="object"){if(typeof H.then=="function")return K(ge(H),Z,ce,fe,Ie);throw Z=String(H),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Be}function re(H,Z,ce){if(H==null)return H;var fe=[],Ie=0;return K(H,fe,"","",function(Me){return Z.call(ce,Me,Ie++)}),fe}function me(H){if(H._status===-1){var Z=H._result;Z=Z(),Z.then(function(ce){(H._status===0||H._status===-1)&&(H._status=1,H._result=ce)},function(ce){(H._status===0||H._status===-1)&&(H._status=2,H._result=ce)}),H._status===-1&&(H._status=0,H._result=Z)}if(H._status===1)return H._result.default;throw H._result}var xe=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)},ze={map:re,forEach:function(H,Z,ce){re(H,function(){Z.apply(this,arguments)},ce)},count:function(H){var Z=0;return re(H,function(){Z++}),Z},toArray:function(H){return re(H,function(Z){return Z})||[]},only:function(H){if(!k(H))throw Error("React.Children.only expected to receive a single React element child.");return H}};return $e.Activity=_,$e.Children=ze,$e.Component=U,$e.Fragment=t,$e.Profiler=s,$e.PureComponent=z,$e.StrictMode=i,$e.Suspense=f,$e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,$e.__COMPILER_RUNTIME={__proto__:null,c:function(H){return S.H.useMemoCache(H)}},$e.cache=function(H){return function(){return H.apply(null,arguments)}},$e.cacheSignal=function(){return null},$e.cloneElement=function(H,Z,ce){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var fe=O({},H.props),Ie=H.key;if(Z!=null)for(Me in Z.key!==void 0&&(Ie=""+Z.key),Z)!C.call(Z,Me)||Me==="key"||Me==="__self"||Me==="__source"||Me==="ref"&&Z.ref===void 0||(fe[Me]=Z[Me]);var Me=arguments.length-2;if(Me===1)fe.children=ce;else if(1<Me){for(var Be=Array(Me),gt=0;gt<Me;gt++)Be[gt]=arguments[gt+2];fe.children=Be}return x(H.type,Ie,fe)},$e.createContext=function(H){return H={$$typeof:u,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:o,_context:H},H},$e.createElement=function(H,Z,ce){var fe,Ie={},Me=null;if(Z!=null)for(fe in Z.key!==void 0&&(Me=""+Z.key),Z)C.call(Z,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(Ie[fe]=Z[fe]);var Be=arguments.length-2;if(Be===1)Ie.children=ce;else if(1<Be){for(var gt=Array(Be),yt=0;yt<Be;yt++)gt[yt]=arguments[yt+2];Ie.children=gt}if(H&&H.defaultProps)for(fe in Be=H.defaultProps,Be)Ie[fe]===void 0&&(Ie[fe]=Be[fe]);return x(H,Me,Ie)},$e.createRef=function(){return{current:null}},$e.forwardRef=function(H){return{$$typeof:h,render:H}},$e.isValidElement=k,$e.lazy=function(H){return{$$typeof:y,_payload:{_status:-1,_result:H},_init:me}},$e.memo=function(H,Z){return{$$typeof:d,type:H,compare:Z===void 0?null:Z}},$e.startTransition=function(H){var Z=S.T,ce={};S.T=ce;try{var fe=H(),Ie=S.S;Ie!==null&&Ie(ce,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(ie,xe)}catch(Me){xe(Me)}finally{Z!==null&&ce.types!==null&&(Z.types=ce.types),S.T=Z}},$e.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},$e.use=function(H){return S.H.use(H)},$e.useActionState=function(H,Z,ce){return S.H.useActionState(H,Z,ce)},$e.useCallback=function(H,Z){return S.H.useCallback(H,Z)},$e.useContext=function(H){return S.H.useContext(H)},$e.useDebugValue=function(){},$e.useDeferredValue=function(H,Z){return S.H.useDeferredValue(H,Z)},$e.useEffect=function(H,Z){return S.H.useEffect(H,Z)},$e.useEffectEvent=function(H){return S.H.useEffectEvent(H)},$e.useId=function(){return S.H.useId()},$e.useImperativeHandle=function(H,Z,ce){return S.H.useImperativeHandle(H,Z,ce)},$e.useInsertionEffect=function(H,Z){return S.H.useInsertionEffect(H,Z)},$e.useLayoutEffect=function(H,Z){return S.H.useLayoutEffect(H,Z)},$e.useMemo=function(H,Z){return S.H.useMemo(H,Z)},$e.useOptimistic=function(H,Z){return S.H.useOptimistic(H,Z)},$e.useReducer=function(H,Z,ce){return S.H.useReducer(H,Z,ce)},$e.useRef=function(H){return S.H.useRef(H)},$e.useState=function(H){return S.H.useState(H)},$e.useSyncExternalStore=function(H,Z,ce){return S.H.useSyncExternalStore(H,Z,ce)},$e.useTransition=function(){return S.H.useTransition()},$e.version="19.2.0",$e}var mS;function lv(){return mS||(mS=1,_y.exports=wN()),_y.exports}var L=lv();const wt=EN(L),gS=bN({__proto__:null,default:wt},[L]);var vy={exports:{}},Dc={},by={exports:{}},Ey={};var yS;function CN(){return yS||(yS=1,(function(n){function e(K,re){var me=K.length;K.push(re);e:for(;0<me;){var xe=me-1>>>1,ze=K[xe];if(0<s(ze,re))K[xe]=re,K[me]=ze,me=xe;else break e}}function t(K){return K.length===0?null:K[0]}function i(K){if(K.length===0)return null;var re=K[0],me=K.pop();if(me!==re){K[0]=me;e:for(var xe=0,ze=K.length,H=ze>>>1;xe<H;){var Z=2*(xe+1)-1,ce=K[Z],fe=Z+1,Ie=K[fe];if(0>s(ce,me))fe<ze&&0>s(Ie,ce)?(K[xe]=Ie,K[fe]=me,xe=fe):(K[xe]=ce,K[Z]=me,xe=Z);else if(fe<ze&&0>s(Ie,me))K[xe]=Ie,K[fe]=me,xe=fe;else break e}}return re}function s(K,re){var me=K.sortIndex-re.sortIndex;return me!==0?me:K.id-re.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var f=[],d=[],y=1,_=null,E=3,w=!1,I=!1,O=!1,A=!1,U=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function Q(K){for(var re=t(d);re!==null;){if(re.callback===null)i(d);else if(re.startTime<=K)i(d),re.sortIndex=re.expirationTime,e(f,re);else break;re=t(d)}}function j(K){if(O=!1,Q(K),!I)if(t(f)!==null)I=!0,ie||(ie=!0,P());else{var re=t(d);re!==null&&ge(j,re.startTime-K)}}var ie=!1,S=-1,C=5,x=-1;function N(){return A?!0:!(n.unstable_now()-x<C)}function k(){if(A=!1,ie){var K=n.unstable_now();x=K;var re=!0;try{e:{I=!1,O&&(O=!1,V(S),S=-1),w=!0;var me=E;try{t:{for(Q(K),_=t(f);_!==null&&!(_.expirationTime>K&&N());){var xe=_.callback;if(typeof xe=="function"){_.callback=null,E=_.priorityLevel;var ze=xe(_.expirationTime<=K);if(K=n.unstable_now(),typeof ze=="function"){_.callback=ze,Q(K),re=!0;break t}_===t(f)&&i(f),Q(K)}else i(f);_=t(f)}if(_!==null)re=!0;else{var H=t(d);H!==null&&ge(j,H.startTime-K),re=!1}}break e}finally{_=null,E=me,w=!1}re=void 0}}finally{re?P():ie=!1}}}var P;if(typeof z=="function")P=function(){z(k)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,pe=M.port2;M.port1.onmessage=k,P=function(){pe.postMessage(null)}}else P=function(){U(k,0)};function ge(K,re){S=U(function(){K(n.unstable_now())},re)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(K){K.callback=null},n.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<K?Math.floor(1e3/K):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function(K){switch(E){case 1:case 2:case 3:var re=3;break;default:re=E}var me=E;E=re;try{return K()}finally{E=me}},n.unstable_requestPaint=function(){A=!0},n.unstable_runWithPriority=function(K,re){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var me=E;E=K;try{return re()}finally{E=me}},n.unstable_scheduleCallback=function(K,re,me){var xe=n.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?xe+me:xe):me=xe,K){case 1:var ze=-1;break;case 2:ze=250;break;case 5:ze=1073741823;break;case 4:ze=1e4;break;default:ze=5e3}return ze=me+ze,K={id:y++,callback:re,priorityLevel:K,startTime:me,expirationTime:ze,sortIndex:-1},me>xe?(K.sortIndex=me,e(d,K),t(f)===null&&K===t(d)&&(O?(V(S),S=-1):O=!0,ge(j,me-xe))):(K.sortIndex=ze,e(f,K),I||w||(I=!0,ie||(ie=!0,P()))),K},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(K){var re=E;return function(){var me=E;E=re;try{return K.apply(this,arguments)}finally{E=me}}}})(Ey)),Ey}var _S;function RN(){return _S||(_S=1,by.exports=CN()),by.exports}var Ty={exports:{}},Wn={};var vS;function AN(){if(vS)return Wn;vS=1;var n=lv();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)d+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(f,d,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:_==null?null:""+_,children:f,containerInfo:d,implementation:y}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Wn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Wn.createPortal=function(f,d){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(f,d,null,y)},Wn.flushSync=function(f){var d=u.T,y=i.p;try{if(u.T=null,i.p=2,f)return f()}finally{u.T=d,i.p=y,i.d.f()}},Wn.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(f,d))},Wn.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},Wn.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var y=d.as,_=h(y,d.crossOrigin),E=typeof d.integrity=="string"?d.integrity:void 0,w=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;y==="style"?i.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:_,integrity:E,fetchPriority:w}):y==="script"&&i.d.X(f,{crossOrigin:_,integrity:E,fetchPriority:w,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Wn.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var y=h(d.as,d.crossOrigin);i.d.M(f,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(f)},Wn.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var y=d.as,_=h(y,d.crossOrigin);i.d.L(f,y,{crossOrigin:_,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Wn.preloadModule=function(f,d){if(typeof f=="string")if(d){var y=h(d.as,d.crossOrigin);i.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(f)},Wn.requestFormReset=function(f){i.d.r(f)},Wn.unstable_batchedUpdates=function(f,d){return f(d)},Wn.useFormState=function(f,d,y){return u.H.useFormState(f,d,y)},Wn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Wn.version="19.2.0",Wn}var bS;function VC(){if(bS)return Ty.exports;bS=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Ty.exports=AN(),Ty.exports}var ES;function IN(){if(ES)return Dc;ES=1;var n=RN(),e=lv(),t=VC();function i(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var a=r,l=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(l=a.return),r=a.return;while(r)}return a.tag===3?l:null}function u(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function h(r){if(r.tag===31){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function f(r){if(o(r)!==r)throw Error(i(188))}function d(r){var a=r.alternate;if(!a){if(a=o(r),a===null)throw Error(i(188));return a!==r?null:r}for(var l=r,c=a;;){var m=l.return;if(m===null)break;var g=m.alternate;if(g===null){if(c=m.return,c!==null){l=c;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===l)return f(m),r;if(g===c)return f(m),a;g=g.sibling}throw Error(i(188))}if(l.return!==c.return)l=m,c=g;else{for(var b=!1,R=m.child;R;){if(R===l){b=!0,l=m,c=g;break}if(R===c){b=!0,c=m,l=g;break}R=R.sibling}if(!b){for(R=g.child;R;){if(R===l){b=!0,l=g,c=m;break}if(R===c){b=!0,c=g,l=m;break}R=R.sibling}if(!b)throw Error(i(189))}}if(l.alternate!==c)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?r:a}function y(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=y(r),a!==null)return a;r=r.sibling}return null}var _=Object.assign,E=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),V=Symbol.for("react.consumer"),z=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function P(r){return r===null||typeof r!="object"?null:(r=k&&r[k]||r["@@iterator"],typeof r=="function"?r:null)}var M=Symbol.for("react.client.reference");function pe(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===M?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case O:return"Fragment";case U:return"Profiler";case A:return"StrictMode";case j:return"Suspense";case ie:return"SuspenseList";case x:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case I:return"Portal";case z:return r.displayName||"Context";case V:return(r._context.displayName||"Context")+".Consumer";case Q:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case S:return a=r.displayName||null,a!==null?a:pe(r.type)||"Memo";case C:a=r._payload,r=r._init;try{return pe(r(a))}catch{}}return null}var ge=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},xe=[],ze=-1;function H(r){return{current:r}}function Z(r){0>ze||(r.current=xe[ze],xe[ze]=null,ze--)}function ce(r,a){ze++,xe[ze]=r.current,r.current=a}var fe=H(null),Ie=H(null),Me=H(null),Be=H(null);function gt(r,a){switch(ce(Me,a),ce(Ie,r),ce(fe,null),a.nodeType){case 9:case 11:r=(r=a.documentElement)&&(r=r.namespaceURI)?kT(r):0;break;default:if(r=a.tagName,a=a.namespaceURI)a=kT(a),r=LT(a,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}Z(fe),ce(fe,r)}function yt(){Z(fe),Z(Ie),Z(Me)}function cr(r){r.memoizedState!==null&&ce(Be,r);var a=fe.current,l=LT(a,r.type);a!==l&&(ce(Ie,r),ce(fe,l))}function Lt(r){Ie.current===r&&(Z(fe),Z(Ie)),Be.current===r&&(Z(Be),Cc._currentValue=me)}var Qn,hr;function si(r){if(Qn===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Qn=a&&a[1]||"",hr=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qn+r+hr}var ai=!1;function us(r,a){if(!r||ai)return"";ai=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(ne){var J=ne}Reflect.construct(r,[],oe)}else{try{oe.call()}catch(ne){J=ne}r.call(oe.prototype)}}else{try{throw Error()}catch(ne){J=ne}(oe=r())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(ne){if(ne&&J&&typeof ne.stack=="string")return[ne.stack,J.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),b=g[0],R=g[1];if(b&&R){var F=b.split(`
`),X=R.split(`
`);for(m=c=0;c<F.length&&!F[c].includes("DetermineComponentFrameRoot");)c++;for(;m<X.length&&!X[m].includes("DetermineComponentFrameRoot");)m++;if(c===F.length||m===X.length)for(c=F.length-1,m=X.length-1;1<=c&&0<=m&&F[c]!==X[m];)m--;for(;1<=c&&0<=m;c--,m--)if(F[c]!==X[m]){if(c!==1||m!==1)do if(c--,m--,0>m||F[c]!==X[m]){var se=`
`+F[c].replace(" at new "," at ");return r.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",r.displayName)),se}while(1<=c&&0<=m);break}}}finally{ai=!1,Error.prepareStackTrace=l}return(l=r?r.displayName||r.name:"")?si(l):""}function uo(r,a){switch(r.tag){case 26:case 27:case 5:return si(r.type);case 16:return si("Lazy");case 13:return r.child!==a&&a!==null?si("Suspense Fallback"):si("Suspense");case 19:return si("SuspenseList");case 0:case 15:return us(r.type,!1);case 11:return us(r.type.render,!1);case 1:return us(r.type,!0);case 31:return si("Activity");default:return""}}function ta(r){try{var a="",l=null;do a+=uo(r,l),l=r,r=r.return;while(r);return a}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Xt=Object.prototype.hasOwnProperty,an=n.unstable_scheduleCallback,Or=n.unstable_cancelCallback,Lu=n.unstable_shouldYield,Hi=n.unstable_requestPaint,on=n.unstable_now,Dr=n.unstable_getCurrentPriorityLevel,cs=n.unstable_ImmediatePriority,oi=n.unstable_UserBlockingPriority,Dn=n.unstable_NormalPriority,sl=n.unstable_LowPriority,al=n.unstable_IdlePriority,na=n.log,ol=n.unstable_setDisableYieldValue,ln=null,mn=null;function li(r){if(typeof na=="function"&&ol(r),mn&&typeof mn.setStrictMode=="function")try{mn.setStrictMode(ln,r)}catch{}}var $t=Math.clz32?Math.clz32:fs,ll=Math.log,hs=Math.LN2;function fs(r){return r>>>=0,r===0?32:31-(ll(r)/hs|0)|0}var Ai=256,fr=262144,Jt=4194304;function Ii(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function ji(r,a,l){var c=r.pendingLanes;if(c===0)return 0;var m=0,g=r.suspendedLanes,b=r.pingedLanes;r=r.warmLanes;var R=c&134217727;return R!==0?(c=R&~g,c!==0?m=Ii(c):(b&=R,b!==0?m=Ii(b):l||(l=R&~r,l!==0&&(m=Ii(l))))):(R=c&~g,R!==0?m=Ii(R):b!==0?m=Ii(b):l||(l=c&~r,l!==0&&(m=Ii(l)))),m===0?0:a!==0&&a!==m&&(a&g)===0&&(g=m&-m,l=a&-a,g>=l||g===32&&(l&4194048)!==0)?a:m}function mi(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function ia(r,a){switch(r){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ds(){var r=Jt;return Jt<<=1,(Jt&62914560)===0&&(Jt=4194304),r}function qi(r){for(var a=[],l=0;31>l;l++)a.push(r);return a}function ps(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function B(r,a,l,c,m,g){var b=r.pendingLanes;r.pendingLanes=l,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=l,r.entangledLanes&=l,r.errorRecoveryDisabledLanes&=l,r.shellSuspendCounter=0;var R=r.entanglements,F=r.expirationTimes,X=r.hiddenUpdates;for(l=b&~l;0<l;){var se=31-$t(l),oe=1<<se;R[se]=0,F[se]=-1;var J=X[se];if(J!==null)for(X[se]=null,se=0;se<J.length;se++){var ne=J[se];ne!==null&&(ne.lane&=-536870913)}l&=~oe}c!==0&&G(r,c,0),g!==0&&m===0&&r.tag!==0&&(r.suspendedLanes|=g&~(b&~a))}function G(r,a,l){r.pendingLanes|=a,r.suspendedLanes&=~a;var c=31-$t(a);r.entangledLanes|=a,r.entanglements[c]=r.entanglements[c]|1073741824|l&261930}function ee(r,a){var l=r.entangledLanes|=a;for(r=r.entanglements;l;){var c=31-$t(l),m=1<<c;m&a|r[c]&a&&(r[c]|=a),l&=~m}}function he(r,a){var l=a&-a;return l=(l&42)!==0?1:de(l),(l&(r.suspendedLanes|a))!==0?0:l}function de(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Ce(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Ne(){var r=re.p;return r!==0?r:(r=window.event,r===void 0?32:sS(r.type))}function Ee(r,a){var l=re.p;try{return re.p=r,a()}finally{re.p=l}}var Re=Math.random().toString(36).slice(2),Te="__reactFiber$"+Re,be="__reactProps$"+Re,we="__reactContainer$"+Re,We="__reactEvents$"+Re,Ot="__reactListeners$"+Re,Qt="__reactHandles$"+Re,gn="__reactResources$"+Re,lt="__reactMarker$"+Re;function dt(r){delete r[Te],delete r[be],delete r[We],delete r[Ot],delete r[Qt]}function Nn(r){var a=r[Te];if(a)return a;for(var l=r.parentNode;l;){if(a=l[we]||l[Te]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(r=jT(r);r!==null;){if(l=r[Te])return l;r=jT(r)}return a}r=l,l=r.parentNode}return null}function Mn(r){if(r=r[Te]||r[we]){var a=r.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return r}return null}function Zt(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(i(33))}function un(r){var a=r[gn];return a||(a=r[gn]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Gt(r){r[lt]=!0}var dr=new Set,Oi={};function ui(r,a){ci(r,a),ci(r+"Capture",a)}function ci(r,a){for(Oi[r]=a,r=0;r<a.length;r++)dr.add(a[r])}var Xe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),en={},$i={};function Gi(r){return Xt.call($i,r)?!0:Xt.call(en,r)?!1:Xe.test(r)?$i[r]=!0:(en[r]=!0,!1)}function Vt(r,a,l){if(Gi(a))if(l===null)r.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+l)}}function xn(r,a,l){if(l===null)r.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+l)}}function Wt(r,a,l,c){if(c===null)r.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttributeNS(a,l,""+c)}}function yn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function ra(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Vu(r,a,l){var c=Object.getOwnPropertyDescriptor(r.constructor.prototype,a);if(!r.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,g=c.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return m.call(this)},set:function(b){l=""+b,g.call(this,b)}}),Object.defineProperty(r,a,{enumerable:c.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function Rt(r){if(!r._valueTracker){var a=ra(r)?"checked":"value";r._valueTracker=Vu(r,a,""+r[a])}}function co(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var l=a.getValue(),c="";return r&&(c=ra(r)?r.checked?"true":"false":r.value),r=c,r!==l?(a.setValue(r),!0):!1}function Nr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var ho=/[\n"\\]/g;function gi(r){return r.replace(ho,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function ul(r,a,l,c,m,g,b,R){r.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?r.type=b:r.removeAttribute("type"),a!=null?b==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+yn(a)):r.value!==""+yn(a)&&(r.value=""+yn(a)):b!=="submit"&&b!=="reset"||r.removeAttribute("value"),a!=null?Uu(r,b,yn(a)):l!=null?Uu(r,b,yn(l)):c!=null&&r.removeAttribute("value"),m==null&&g!=null&&(r.defaultChecked=!!g),m!=null&&(r.checked=m&&typeof m!="function"&&typeof m!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?r.name=""+yn(R):r.removeAttribute("name")}function jh(r,a,l,c,m,g,b,R){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(r.type=g),a!=null||l!=null){if(!(g!=="submit"&&g!=="reset"||a!=null)){Rt(r);return}l=l!=null?""+yn(l):"",a=a!=null?""+yn(a):l,R||a===r.value||(r.value=a),r.defaultValue=a}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=R?r.checked:!!c,r.defaultChecked=!!c,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(r.name=b),Rt(r)}function Uu(r,a,l){a==="number"&&Nr(r.ownerDocument)===r||r.defaultValue===""+l||(r.defaultValue=""+l)}function sa(r,a,l,c){if(r=r.options,a){a={};for(var m=0;m<l.length;m++)a["$"+l[m]]=!0;for(l=0;l<r.length;l++)m=a.hasOwnProperty("$"+r[l].value),r[l].selected!==m&&(r[l].selected=m),m&&c&&(r[l].defaultSelected=!0)}else{for(l=""+yn(l),a=null,m=0;m<r.length;m++){if(r[m].value===l){r[m].selected=!0,c&&(r[m].defaultSelected=!0);return}a!==null||r[m].disabled||(a=r[m])}a!==null&&(a.selected=!0)}}function qh(r,a,l){if(a!=null&&(a=""+yn(a),a!==r.value&&(r.value=a),l==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=l!=null?""+yn(l):""}function aa(r,a,l,c){if(a==null){if(c!=null){if(l!=null)throw Error(i(92));if(ge(c)){if(1<c.length)throw Error(i(93));c=c[0]}l=c}l==null&&(l=""),a=l}l=yn(a),r.defaultValue=l,c=r.textContent,c===l&&c!==""&&c!==null&&(r.value=c),Rt(r)}function yi(r,a){if(a){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=a;return}}r.textContent=a}var $h=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zu(r,a,l){var c=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":c?r.setProperty(a,l):typeof l!="number"||l===0||$h.has(a)?a==="float"?r.cssFloat=l:r[a]=(""+l).trim():r[a]=l+"px"}function Fu(r,a,l){if(a!=null&&typeof a!="object")throw Error(i(62));if(r=r.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var m in a)c=a[m],a.hasOwnProperty(m)&&l[m]!==c&&zu(r,m,c)}else for(var g in a)a.hasOwnProperty(g)&&zu(r,g,a[g])}function cl(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),oa=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hl(r){return oa.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function pr(){}var Bu=null;function Ki(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var la=null,Mr=null;function fo(r){var a=Mn(r);if(a&&(r=a.stateNode)){var l=r[be]||null;e:switch(r=a.stateNode,a.type){case"input":if(ul(r,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+gi(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var c=l[a];if(c!==r&&c.form===r.form){var m=c[be]||null;if(!m)throw Error(i(90));ul(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<l.length;a++)c=l[a],c.form===r.form&&co(c)}break e;case"textarea":qh(r,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&sa(r,!!l.multiple,a,!1)}}}var fl=!1;function ua(r,a,l){if(fl)return r(a,l);fl=!0;try{var c=r(a);return c}finally{if(fl=!1,(la!==null||Mr!==null)&&(Ff(),la&&(a=la,r=Mr,Mr=la=null,fo(a),r)))for(a=0;a<r.length;a++)fo(r[a])}}function mr(r,a){var l=r.stateNode;if(l===null)return null;var c=l[be]||null;if(c===null)return null;l=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(i(231,a,typeof l));return l}var Yi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),po=!1;if(Yi)try{var Dt={};Object.defineProperty(Dt,"passive",{get:function(){po=!0}}),window.addEventListener("test",Dt,Dt),window.removeEventListener("test",Dt,Dt)}catch{po=!1}var xr=null,Hu=null,mo=null;function ju(){if(mo)return mo;var r,a=Hu,l=a.length,c,m="value"in xr?xr.value:xr.textContent,g=m.length;for(r=0;r<l&&a[r]===m[r];r++);var b=l-r;for(c=1;c<=b&&a[l-c]===m[g-c];c++);return mo=m.slice(r,1<c?1-c:void 0)}function go(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function ms(){return!0}function gr(){return!1}function zn(r){function a(l,c,m,g,b){this._reactName=l,this._targetInst=m,this.type=c,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var R in r)r.hasOwnProperty(R)&&(l=r[R],this[R]=l?l(g):g[R]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?ms:gr,this.isPropagationStopped=gr,this}return _(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ms)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ms)},persist:function(){},isPersistent:ms}),a}var gs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pr=zn(gs),ca=_({},gs,{view:0,detail:0}),qu=zn(ca),ha,dl,kr,pl=_({},ca,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fa,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==kr&&(kr&&r.type==="mousemove"?(ha=r.screenX-kr.screenX,dl=r.screenY-kr.screenY):dl=ha=0,kr=r),ha)},movementY:function(r){return"movementY"in r?r.movementY:dl}}),$u=zn(pl),yo=_({},pl,{dataTransfer:0}),Kh=zn(yo),Yh=_({},ca,{relatedTarget:0}),_o=zn(Yh),Gu=_({},gs,{animationName:0,elapsedTime:0,pseudoElement:0}),Qh=zn(Gu),ml=_({},gs,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Wh=zn(ml),Xh=_({},gs,{data:0}),Lr=zn(Xh),Jh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ef={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tf(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=ef[r])?!!a[r]:!1}function fa(){return tf}var hi=_({},ca,{key:function(r){if(r.key){var a=Jh[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=go(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Zh[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fa,charCode:function(r){return r.type==="keypress"?go(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?go(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),nf=zn(hi),rf=_({},pl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ys=zn(rf),p=_({},ca,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fa}),v=zn(p),T=_({},gs,{propertyName:0,elapsedTime:0,pseudoElement:0}),D=zn(T),Y=_({},pl,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),te=zn(Y),ye=_({},gs,{newState:0,oldState:0}),Ke=zn(ye),cn=[9,13,27,32],_t=Yi&&"CompositionEvent"in window,Kt=null;Yi&&"documentMode"in document&&(Kt=document.documentMode);var Qi=Yi&&"TextEvent"in window&&!Kt,Vr=Yi&&(!_t||Kt&&8<Kt&&11>=Kt),yr=" ",_r=!1;function vo(r,a){switch(r){case"keyup":return cn.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gl(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var yl=!1;function qO(r,a){switch(r){case"compositionend":return gl(a);case"keypress":return a.which!==32?null:(_r=!0,yr);case"textInput":return r=a.data,r===yr&&_r?null:r;default:return null}}function $O(r,a){if(yl)return r==="compositionend"||!_t&&vo(r,a)?(r=ju(),mo=Hu=xr=null,yl=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Vr&&a.locale!=="ko"?null:a.data;default:return null}}var GO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function G0(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!GO[r.type]:a==="textarea"}function K0(r,a,l,c){la?Mr?Mr.push(c):Mr=[c]:la=c,a=Kf(a,"onChange"),0<a.length&&(l=new Pr("onChange","change",null,l,c),r.push({event:l,listeners:a}))}var Ku=null,Yu=null;function KO(r){OT(r,0)}function sf(r){var a=Zt(r);if(co(a))return r}function Y0(r,a){if(r==="change")return a}var Q0=!1;if(Yi){var wm;if(Yi){var Cm="oninput"in document;if(!Cm){var W0=document.createElement("div");W0.setAttribute("oninput","return;"),Cm=typeof W0.oninput=="function"}wm=Cm}else wm=!1;Q0=wm&&(!document.documentMode||9<document.documentMode)}function X0(){Ku&&(Ku.detachEvent("onpropertychange",J0),Yu=Ku=null)}function J0(r){if(r.propertyName==="value"&&sf(Yu)){var a=[];K0(a,Yu,r,Ki(r)),ua(KO,a)}}function YO(r,a,l){r==="focusin"?(X0(),Ku=a,Yu=l,Ku.attachEvent("onpropertychange",J0)):r==="focusout"&&X0()}function QO(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return sf(Yu)}function WO(r,a){if(r==="click")return sf(a)}function XO(r,a){if(r==="input"||r==="change")return sf(a)}function JO(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var Di=typeof Object.is=="function"?Object.is:JO;function Qu(r,a){if(Di(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var l=Object.keys(r),c=Object.keys(a);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var m=l[c];if(!Xt.call(a,m)||!Di(r[m],a[m]))return!1}return!0}function Z0(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function eb(r,a){var l=Z0(r);r=0;for(var c;l;){if(l.nodeType===3){if(c=r+l.textContent.length,r<=a&&c>=a)return{node:l,offset:a-r};r=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Z0(l)}}function tb(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?tb(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function nb(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=Nr(r.document);a instanceof r.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)r=a.contentWindow;else break;a=Nr(r.document)}return a}function Rm(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}var ZO=Yi&&"documentMode"in document&&11>=document.documentMode,_l=null,Am=null,Wu=null,Im=!1;function ib(r,a,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Im||_l==null||_l!==Nr(c)||(c=_l,"selectionStart"in c&&Rm(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Wu&&Qu(Wu,c)||(Wu=c,c=Kf(Am,"onSelect"),0<c.length&&(a=new Pr("onSelect","select",null,a,l),r.push({event:a,listeners:c}),a.target=_l)))}function bo(r,a){var l={};return l[r.toLowerCase()]=a.toLowerCase(),l["Webkit"+r]="webkit"+a,l["Moz"+r]="moz"+a,l}var vl={animationend:bo("Animation","AnimationEnd"),animationiteration:bo("Animation","AnimationIteration"),animationstart:bo("Animation","AnimationStart"),transitionrun:bo("Transition","TransitionRun"),transitionstart:bo("Transition","TransitionStart"),transitioncancel:bo("Transition","TransitionCancel"),transitionend:bo("Transition","TransitionEnd")},Om={},rb={};Yi&&(rb=document.createElement("div").style,"AnimationEvent"in window||(delete vl.animationend.animation,delete vl.animationiteration.animation,delete vl.animationstart.animation),"TransitionEvent"in window||delete vl.transitionend.transition);function Eo(r){if(Om[r])return Om[r];if(!vl[r])return r;var a=vl[r],l;for(l in a)if(a.hasOwnProperty(l)&&l in rb)return Om[r]=a[l];return r}var sb=Eo("animationend"),ab=Eo("animationiteration"),ob=Eo("animationstart"),eD=Eo("transitionrun"),tD=Eo("transitionstart"),nD=Eo("transitioncancel"),lb=Eo("transitionend"),ub=new Map,Dm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Dm.push("scrollEnd");function vr(r,a){ub.set(r,a),ui(a,[r])}var af=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},Wi=[],bl=0,Nm=0;function of(){for(var r=bl,a=Nm=bl=0;a<r;){var l=Wi[a];Wi[a++]=null;var c=Wi[a];Wi[a++]=null;var m=Wi[a];Wi[a++]=null;var g=Wi[a];if(Wi[a++]=null,c!==null&&m!==null){var b=c.pending;b===null?m.next=m:(m.next=b.next,b.next=m),c.pending=m}g!==0&&cb(l,m,g)}}function lf(r,a,l,c){Wi[bl++]=r,Wi[bl++]=a,Wi[bl++]=l,Wi[bl++]=c,Nm|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function Mm(r,a,l,c){return lf(r,a,l,c),uf(r)}function To(r,a){return lf(r,null,null,a),uf(r)}function cb(r,a,l){r.lanes|=l;var c=r.alternate;c!==null&&(c.lanes|=l);for(var m=!1,g=r.return;g!==null;)g.childLanes|=l,c=g.alternate,c!==null&&(c.childLanes|=l),g.tag===22&&(r=g.stateNode,r===null||r._visibility&1||(m=!0)),r=g,g=g.return;return r.tag===3?(g=r.stateNode,m&&a!==null&&(m=31-$t(l),r=g.hiddenUpdates,c=r[m],c===null?r[m]=[a]:c.push(a),a.lane=l|536870912),g):null}function uf(r){if(50<_c)throw _c=0,Bg=null,Error(i(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var El={};function iD(r,a,l,c){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ni(r,a,l,c){return new iD(r,a,l,c)}function xm(r){return r=r.prototype,!(!r||!r.isReactComponent)}function _s(r,a){var l=r.alternate;return l===null?(l=Ni(r.tag,a,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=a,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&65011712,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,a=r.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l.refCleanup=r.refCleanup,l}function hb(r,a){r.flags&=65011714;var l=r.alternate;return l===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,a=l.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function cf(r,a,l,c,m,g){var b=0;if(c=r,typeof r=="function")xm(r)&&(b=1);else if(typeof r=="string")b=lN(r,l,fe.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case x:return r=Ni(31,l,a,m),r.elementType=x,r.lanes=g,r;case O:return So(l.children,m,g,a);case A:b=8,m|=24;break;case U:return r=Ni(12,l,a,m|2),r.elementType=U,r.lanes=g,r;case j:return r=Ni(13,l,a,m),r.elementType=j,r.lanes=g,r;case ie:return r=Ni(19,l,a,m),r.elementType=ie,r.lanes=g,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case z:b=10;break e;case V:b=9;break e;case Q:b=11;break e;case S:b=14;break e;case C:b=16,c=null;break e}b=29,l=Error(i(130,r===null?"null":typeof r,"")),c=null}return a=Ni(b,l,a,m),a.elementType=r,a.type=c,a.lanes=g,a}function So(r,a,l,c){return r=Ni(7,r,c,a),r.lanes=l,r}function Pm(r,a,l){return r=Ni(6,r,null,a),r.lanes=l,r}function fb(r){var a=Ni(18,null,null,0);return a.stateNode=r,a}function km(r,a,l){return a=Ni(4,r.children!==null?r.children:[],r.key,a),a.lanes=l,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}var db=new WeakMap;function Xi(r,a){if(typeof r=="object"&&r!==null){var l=db.get(r);return l!==void 0?l:(a={value:r,source:a,stack:ta(a)},db.set(r,a),a)}return{value:r,source:a,stack:ta(a)}}var Tl=[],Sl=0,hf=null,Xu=0,Ji=[],Zi=0,da=null,Ur=1,zr="";function vs(r,a){Tl[Sl++]=Xu,Tl[Sl++]=hf,hf=r,Xu=a}function pb(r,a,l){Ji[Zi++]=Ur,Ji[Zi++]=zr,Ji[Zi++]=da,da=r;var c=Ur;r=zr;var m=32-$t(c)-1;c&=~(1<<m),l+=1;var g=32-$t(a)+m;if(30<g){var b=m-m%5;g=(c&(1<<b)-1).toString(32),c>>=b,m-=b,Ur=1<<32-$t(a)+m|l<<m|c,zr=g+r}else Ur=1<<g|l<<m|c,zr=r}function Lm(r){r.return!==null&&(vs(r,1),pb(r,1,0))}function Vm(r){for(;r===hf;)hf=Tl[--Sl],Tl[Sl]=null,Xu=Tl[--Sl],Tl[Sl]=null;for(;r===da;)da=Ji[--Zi],Ji[Zi]=null,zr=Ji[--Zi],Ji[Zi]=null,Ur=Ji[--Zi],Ji[Zi]=null}function mb(r,a){Ji[Zi++]=Ur,Ji[Zi++]=zr,Ji[Zi++]=da,Ur=a.id,zr=a.overflow,da=r}var Fn=null,Ut=null,at=!1,pa=null,er=!1,Um=Error(i(519));function ma(r){var a=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ju(Xi(a,r)),Um}function gb(r){var a=r.stateNode,l=r.type,c=r.memoizedProps;switch(a[Te]=r,a[be]=c,l){case"dialog":et("cancel",a),et("close",a);break;case"iframe":case"object":case"embed":et("load",a);break;case"video":case"audio":for(l=0;l<bc.length;l++)et(bc[l],a);break;case"source":et("error",a);break;case"img":case"image":case"link":et("error",a),et("load",a);break;case"details":et("toggle",a);break;case"input":et("invalid",a),jh(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":et("invalid",a);break;case"textarea":et("invalid",a),aa(a,c.value,c.defaultValue,c.children)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||c.suppressHydrationWarning===!0||xT(a.textContent,l)?(c.popover!=null&&(et("beforetoggle",a),et("toggle",a)),c.onScroll!=null&&et("scroll",a),c.onScrollEnd!=null&&et("scrollend",a),c.onClick!=null&&(a.onclick=pr),a=!0):a=!1,a||ma(r,!0)}function yb(r){for(Fn=r.return;Fn;)switch(Fn.tag){case 5:case 31:case 13:er=!1;return;case 27:case 3:er=!0;return;default:Fn=Fn.return}}function wl(r){if(r!==Fn)return!1;if(!at)return yb(r),at=!0,!1;var a=r.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=r.type,l=!(l!=="form"&&l!=="button")||ny(r.type,r.memoizedProps)),l=!l),l&&Ut&&ma(r),yb(r),a===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));Ut=HT(r)}else if(a===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));Ut=HT(r)}else a===27?(a=Ut,Oa(r.type)?(r=oy,oy=null,Ut=r):Ut=a):Ut=Fn?nr(r.stateNode.nextSibling):null;return!0}function wo(){Ut=Fn=null,at=!1}function zm(){var r=pa;return r!==null&&(Ei===null?Ei=r:Ei.push.apply(Ei,r),pa=null),r}function Ju(r){pa===null?pa=[r]:pa.push(r)}var Fm=H(null),Co=null,bs=null;function ga(r,a,l){ce(Fm,a._currentValue),a._currentValue=l}function Es(r){r._currentValue=Fm.current,Z(Fm)}function Bm(r,a,l){for(;r!==null;){var c=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),r===l)break;r=r.return}}function Hm(r,a,l,c){var m=r.child;for(m!==null&&(m.return=r);m!==null;){var g=m.dependencies;if(g!==null){var b=m.child;g=g.firstContext;e:for(;g!==null;){var R=g;g=m;for(var F=0;F<a.length;F++)if(R.context===a[F]){g.lanes|=l,R=g.alternate,R!==null&&(R.lanes|=l),Bm(g.return,l,r),c||(b=null);break e}g=R.next}}else if(m.tag===18){if(b=m.return,b===null)throw Error(i(341));b.lanes|=l,g=b.alternate,g!==null&&(g.lanes|=l),Bm(b,l,r),b=null}else b=m.child;if(b!==null)b.return=m;else for(b=m;b!==null;){if(b===r){b=null;break}if(m=b.sibling,m!==null){m.return=b.return,b=m;break}b=b.return}m=b}}function Cl(r,a,l,c){r=null;for(var m=a,g=!1;m!==null;){if(!g){if((m.flags&524288)!==0)g=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var b=m.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var R=m.type;Di(m.pendingProps.value,b.value)||(r!==null?r.push(R):r=[R])}}else if(m===Be.current){if(b=m.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(r!==null?r.push(Cc):r=[Cc])}m=m.return}r!==null&&Hm(a,r,l,c),a.flags|=262144}function ff(r){for(r=r.firstContext;r!==null;){if(!Di(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Ro(r){Co=r,bs=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Bn(r){return _b(Co,r)}function df(r,a){return Co===null&&Ro(r),_b(r,a)}function _b(r,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},bs===null){if(r===null)throw Error(i(308));bs=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else bs=bs.next=a;return l}var rD=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(l,c){r.push(c)}};this.abort=function(){a.aborted=!0,r.forEach(function(l){return l()})}},sD=n.unstable_scheduleCallback,aD=n.unstable_NormalPriority,_n={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jm(){return{controller:new rD,data:new Map,refCount:0}}function Zu(r){r.refCount--,r.refCount===0&&sD(aD,function(){r.controller.abort()})}var ec=null,qm=0,Rl=0,Al=null;function oD(r,a){if(ec===null){var l=ec=[];qm=0,Rl=Kg(),Al={status:"pending",value:void 0,then:function(c){l.push(c)}}}return qm++,a.then(vb,vb),a}function vb(){if(--qm===0&&ec!==null){Al!==null&&(Al.status="fulfilled");var r=ec;ec=null,Rl=0,Al=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function lD(r,a){var l=[],c={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return r.then(function(){c.status="fulfilled",c.value=a;for(var m=0;m<l.length;m++)(0,l[m])(a)},function(m){for(c.status="rejected",c.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),c}var bb=K.S;K.S=function(r,a){iT=on(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&oD(r,a),bb!==null&&bb(r,a)};var Ao=H(null);function $m(){var r=Ao.current;return r!==null?r:kt.pooledCache}function pf(r,a){a===null?ce(Ao,Ao.current):ce(Ao,a.pool)}function Eb(){var r=$m();return r===null?null:{parent:_n._currentValue,pool:r}}var Il=Error(i(460)),Gm=Error(i(474)),mf=Error(i(542)),gf={then:function(){}};function Tb(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Sb(r,a,l){switch(l=r[l],l===void 0?r.push(a):l!==a&&(a.then(pr,pr),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,Cb(r),r;default:if(typeof a.status=="string")a.then(pr,pr);else{if(r=kt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=a,r.status="pending",r.then(function(c){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=c}},function(c){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,Cb(r),r}throw Oo=a,Il}}function Io(r){try{var a=r._init;return a(r._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Oo=l,Il):l}}var Oo=null;function wb(){if(Oo===null)throw Error(i(459));var r=Oo;return Oo=null,r}function Cb(r){if(r===Il||r===mf)throw Error(i(483))}var Ol=null,tc=0;function yf(r){var a=tc;return tc+=1,Ol===null&&(Ol=[]),Sb(Ol,r,a)}function nc(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function _f(r,a){throw a.$$typeof===E?Error(i(525)):(r=Object.prototype.toString.call(a),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function Rb(r){function a($,q){if(r){var W=$.deletions;W===null?($.deletions=[q],$.flags|=16):W.push(q)}}function l($,q){if(!r)return null;for(;q!==null;)a($,q),q=q.sibling;return null}function c($){for(var q=new Map;$!==null;)$.key!==null?q.set($.key,$):q.set($.index,$),$=$.sibling;return q}function m($,q){return $=_s($,q),$.index=0,$.sibling=null,$}function g($,q,W){return $.index=W,r?(W=$.alternate,W!==null?(W=W.index,W<q?($.flags|=67108866,q):W):($.flags|=67108866,q)):($.flags|=1048576,q)}function b($){return r&&$.alternate===null&&($.flags|=67108866),$}function R($,q,W,ae){return q===null||q.tag!==6?(q=Pm(W,$.mode,ae),q.return=$,q):(q=m(q,W),q.return=$,q)}function F($,q,W,ae){var Pe=W.type;return Pe===O?se($,q,W.props.children,ae,W.key):q!==null&&(q.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===C&&Io(Pe)===q.type)?(q=m(q,W.props),nc(q,W),q.return=$,q):(q=cf(W.type,W.key,W.props,null,$.mode,ae),nc(q,W),q.return=$,q)}function X($,q,W,ae){return q===null||q.tag!==4||q.stateNode.containerInfo!==W.containerInfo||q.stateNode.implementation!==W.implementation?(q=km(W,$.mode,ae),q.return=$,q):(q=m(q,W.children||[]),q.return=$,q)}function se($,q,W,ae,Pe){return q===null||q.tag!==7?(q=So(W,$.mode,ae,Pe),q.return=$,q):(q=m(q,W),q.return=$,q)}function oe($,q,W){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=Pm(""+q,$.mode,W),q.return=$,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case w:return W=cf(q.type,q.key,q.props,null,$.mode,W),nc(W,q),W.return=$,W;case I:return q=km(q,$.mode,W),q.return=$,q;case C:return q=Io(q),oe($,q,W)}if(ge(q)||P(q))return q=So(q,$.mode,W,null),q.return=$,q;if(typeof q.then=="function")return oe($,yf(q),W);if(q.$$typeof===z)return oe($,df($,q),W);_f($,q)}return null}function J($,q,W,ae){var Pe=q!==null?q.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return Pe!==null?null:R($,q,""+W,ae);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case w:return W.key===Pe?F($,q,W,ae):null;case I:return W.key===Pe?X($,q,W,ae):null;case C:return W=Io(W),J($,q,W,ae)}if(ge(W)||P(W))return Pe!==null?null:se($,q,W,ae,null);if(typeof W.then=="function")return J($,q,yf(W),ae);if(W.$$typeof===z)return J($,q,df($,W),ae);_f($,W)}return null}function ne($,q,W,ae,Pe){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return $=$.get(W)||null,R(q,$,""+ae,Pe);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case w:return $=$.get(ae.key===null?W:ae.key)||null,F(q,$,ae,Pe);case I:return $=$.get(ae.key===null?W:ae.key)||null,X(q,$,ae,Pe);case C:return ae=Io(ae),ne($,q,W,ae,Pe)}if(ge(ae)||P(ae))return $=$.get(W)||null,se(q,$,ae,Pe,null);if(typeof ae.then=="function")return ne($,q,W,yf(ae),Pe);if(ae.$$typeof===z)return ne($,q,W,df(q,ae),Pe);_f(q,ae)}return null}function Ae($,q,W,ae){for(var Pe=null,pt=null,De=q,Qe=q=0,it=null;De!==null&&Qe<W.length;Qe++){De.index>Qe?(it=De,De=null):it=De.sibling;var mt=J($,De,W[Qe],ae);if(mt===null){De===null&&(De=it);break}r&&De&&mt.alternate===null&&a($,De),q=g(mt,q,Qe),pt===null?Pe=mt:pt.sibling=mt,pt=mt,De=it}if(Qe===W.length)return l($,De),at&&vs($,Qe),Pe;if(De===null){for(;Qe<W.length;Qe++)De=oe($,W[Qe],ae),De!==null&&(q=g(De,q,Qe),pt===null?Pe=De:pt.sibling=De,pt=De);return at&&vs($,Qe),Pe}for(De=c(De);Qe<W.length;Qe++)it=ne(De,$,Qe,W[Qe],ae),it!==null&&(r&&it.alternate!==null&&De.delete(it.key===null?Qe:it.key),q=g(it,q,Qe),pt===null?Pe=it:pt.sibling=it,pt=it);return r&&De.forEach(function(Pa){return a($,Pa)}),at&&vs($,Qe),Pe}function Ue($,q,W,ae){if(W==null)throw Error(i(151));for(var Pe=null,pt=null,De=q,Qe=q=0,it=null,mt=W.next();De!==null&&!mt.done;Qe++,mt=W.next()){De.index>Qe?(it=De,De=null):it=De.sibling;var Pa=J($,De,mt.value,ae);if(Pa===null){De===null&&(De=it);break}r&&De&&Pa.alternate===null&&a($,De),q=g(Pa,q,Qe),pt===null?Pe=Pa:pt.sibling=Pa,pt=Pa,De=it}if(mt.done)return l($,De),at&&vs($,Qe),Pe;if(De===null){for(;!mt.done;Qe++,mt=W.next())mt=oe($,mt.value,ae),mt!==null&&(q=g(mt,q,Qe),pt===null?Pe=mt:pt.sibling=mt,pt=mt);return at&&vs($,Qe),Pe}for(De=c(De);!mt.done;Qe++,mt=W.next())mt=ne(De,$,Qe,mt.value,ae),mt!==null&&(r&&mt.alternate!==null&&De.delete(mt.key===null?Qe:mt.key),q=g(mt,q,Qe),pt===null?Pe=mt:pt.sibling=mt,pt=mt);return r&&De.forEach(function(vN){return a($,vN)}),at&&vs($,Qe),Pe}function xt($,q,W,ae){if(typeof W=="object"&&W!==null&&W.type===O&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case w:e:{for(var Pe=W.key;q!==null;){if(q.key===Pe){if(Pe=W.type,Pe===O){if(q.tag===7){l($,q.sibling),ae=m(q,W.props.children),ae.return=$,$=ae;break e}}else if(q.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===C&&Io(Pe)===q.type){l($,q.sibling),ae=m(q,W.props),nc(ae,W),ae.return=$,$=ae;break e}l($,q);break}else a($,q);q=q.sibling}W.type===O?(ae=So(W.props.children,$.mode,ae,W.key),ae.return=$,$=ae):(ae=cf(W.type,W.key,W.props,null,$.mode,ae),nc(ae,W),ae.return=$,$=ae)}return b($);case I:e:{for(Pe=W.key;q!==null;){if(q.key===Pe)if(q.tag===4&&q.stateNode.containerInfo===W.containerInfo&&q.stateNode.implementation===W.implementation){l($,q.sibling),ae=m(q,W.children||[]),ae.return=$,$=ae;break e}else{l($,q);break}else a($,q);q=q.sibling}ae=km(W,$.mode,ae),ae.return=$,$=ae}return b($);case C:return W=Io(W),xt($,q,W,ae)}if(ge(W))return Ae($,q,W,ae);if(P(W)){if(Pe=P(W),typeof Pe!="function")throw Error(i(150));return W=Pe.call(W),Ue($,q,W,ae)}if(typeof W.then=="function")return xt($,q,yf(W),ae);if(W.$$typeof===z)return xt($,q,df($,W),ae);_f($,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,q!==null&&q.tag===6?(l($,q.sibling),ae=m(q,W),ae.return=$,$=ae):(l($,q),ae=Pm(W,$.mode,ae),ae.return=$,$=ae),b($)):l($,q)}return function($,q,W,ae){try{tc=0;var Pe=xt($,q,W,ae);return Ol=null,Pe}catch(De){if(De===Il||De===mf)throw De;var pt=Ni(29,De,null,$.mode);return pt.lanes=ae,pt.return=$,pt}finally{}}}var Do=Rb(!0),Ab=Rb(!1),ya=!1;function Km(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ym(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function _a(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function va(r,a,l){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(vt&2)!==0){var m=c.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),c.pending=a,a=uf(r),cb(r,null,l),a}return lf(r,c,a,l),uf(r)}function ic(r,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var c=a.lanes;c&=r.pendingLanes,l|=c,a.lanes=l,ee(r,l)}}function Qm(r,a){var l=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var m=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var b={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};g===null?m=g=b:g=g.next=b,l=l.next}while(l!==null);g===null?m=g=a:g=g.next=a}else m=g=a;l={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=a:r.next=a,l.lastBaseUpdate=a}var Wm=!1;function rc(){if(Wm){var r=Al;if(r!==null)throw r}}function sc(r,a,l,c){Wm=!1;var m=r.updateQueue;ya=!1;var g=m.firstBaseUpdate,b=m.lastBaseUpdate,R=m.shared.pending;if(R!==null){m.shared.pending=null;var F=R,X=F.next;F.next=null,b===null?g=X:b.next=X,b=F;var se=r.alternate;se!==null&&(se=se.updateQueue,R=se.lastBaseUpdate,R!==b&&(R===null?se.firstBaseUpdate=X:R.next=X,se.lastBaseUpdate=F))}if(g!==null){var oe=m.baseState;b=0,se=X=F=null,R=g;do{var J=R.lane&-536870913,ne=J!==R.lane;if(ne?(nt&J)===J:(c&J)===J){J!==0&&J===Rl&&(Wm=!0),se!==null&&(se=se.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var Ae=r,Ue=R;J=a;var xt=l;switch(Ue.tag){case 1:if(Ae=Ue.payload,typeof Ae=="function"){oe=Ae.call(xt,oe,J);break e}oe=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=Ue.payload,J=typeof Ae=="function"?Ae.call(xt,oe,J):Ae,J==null)break e;oe=_({},oe,J);break e;case 2:ya=!0}}J=R.callback,J!==null&&(r.flags|=64,ne&&(r.flags|=8192),ne=m.callbacks,ne===null?m.callbacks=[J]:ne.push(J))}else ne={lane:J,tag:R.tag,payload:R.payload,callback:R.callback,next:null},se===null?(X=se=ne,F=oe):se=se.next=ne,b|=J;if(R=R.next,R===null){if(R=m.shared.pending,R===null)break;ne=R,R=ne.next,ne.next=null,m.lastBaseUpdate=ne,m.shared.pending=null}}while(!0);se===null&&(F=oe),m.baseState=F,m.firstBaseUpdate=X,m.lastBaseUpdate=se,g===null&&(m.shared.lanes=0),wa|=b,r.lanes=b,r.memoizedState=oe}}function Ib(r,a){if(typeof r!="function")throw Error(i(191,r));r.call(a)}function Ob(r,a){var l=r.callbacks;if(l!==null)for(r.callbacks=null,r=0;r<l.length;r++)Ib(l[r],a)}var Dl=H(null),vf=H(0);function Db(r,a){r=Ds,ce(vf,r),ce(Dl,a),Ds=r|a.baseLanes}function Xm(){ce(vf,Ds),ce(Dl,Dl.current)}function Jm(){Ds=vf.current,Z(Dl),Z(vf)}var Mi=H(null),tr=null;function ba(r){var a=r.alternate;ce(hn,hn.current&1),ce(Mi,r),tr===null&&(a===null||Dl.current!==null||a.memoizedState!==null)&&(tr=r)}function Zm(r){ce(hn,hn.current),ce(Mi,r),tr===null&&(tr=r)}function Nb(r){r.tag===22?(ce(hn,hn.current),ce(Mi,r),tr===null&&(tr=r)):Ea()}function Ea(){ce(hn,hn.current),ce(Mi,Mi.current)}function xi(r){Z(Mi),tr===r&&(tr=null),Z(hn)}var hn=H(0);function bf(r){for(var a=r;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||sy(l)||ay(l)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Ts=0,Ye=null,Nt=null,vn=null,Ef=!1,Nl=!1,No=!1,Tf=0,ac=0,Ml=null,uD=0;function tn(){throw Error(i(321))}function eg(r,a){if(a===null)return!1;for(var l=0;l<a.length&&l<r.length;l++)if(!Di(r[l],a[l]))return!1;return!0}function tg(r,a,l,c,m,g){return Ts=g,Ye=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,K.H=r===null||r.memoizedState===null?pE:gg,No=!1,g=l(c,m),No=!1,Nl&&(g=xb(a,l,c,m)),Mb(r),g}function Mb(r){K.H=uc;var a=Nt!==null&&Nt.next!==null;if(Ts=0,vn=Nt=Ye=null,Ef=!1,ac=0,Ml=null,a)throw Error(i(300));r===null||bn||(r=r.dependencies,r!==null&&ff(r)&&(bn=!0))}function xb(r,a,l,c){Ye=r;var m=0;do{if(Nl&&(Ml=null),ac=0,Nl=!1,25<=m)throw Error(i(301));if(m+=1,vn=Nt=null,r.updateQueue!=null){var g=r.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}K.H=mE,g=a(l,c)}while(Nl);return g}function cD(){var r=K.H,a=r.useState()[0];return a=typeof a.then=="function"?oc(a):a,r=r.useState()[0],(Nt!==null?Nt.memoizedState:null)!==r&&(Ye.flags|=1024),a}function ng(){var r=Tf!==0;return Tf=0,r}function ig(r,a,l){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~l}function rg(r){if(Ef){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Ef=!1}Ts=0,vn=Nt=Ye=null,Nl=!1,ac=Tf=0,Ml=null}function fi(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vn===null?Ye.memoizedState=vn=r:vn=vn.next=r,vn}function fn(){if(Nt===null){var r=Ye.alternate;r=r!==null?r.memoizedState:null}else r=Nt.next;var a=vn===null?Ye.memoizedState:vn.next;if(a!==null)vn=a,Nt=r;else{if(r===null)throw Ye.alternate===null?Error(i(467)):Error(i(310));Nt=r,r={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},vn===null?Ye.memoizedState=vn=r:vn=vn.next=r}return vn}function Sf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function oc(r){var a=ac;return ac+=1,Ml===null&&(Ml=[]),r=Sb(Ml,r,a),a=Ye,(vn===null?a.memoizedState:vn.next)===null&&(a=a.alternate,K.H=a===null||a.memoizedState===null?pE:gg),r}function wf(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return oc(r);if(r.$$typeof===z)return Bn(r)}throw Error(i(438,String(r)))}function sg(r){var a=null,l=Ye.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var c=Ye.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Sf(),Ye.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(r),c=0;c<r;c++)l[c]=N;return a.index++,l}function Ss(r,a){return typeof a=="function"?a(r):a}function Cf(r){var a=fn();return ag(a,Nt,r)}function ag(r,a,l){var c=r.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=l;var m=r.baseQueue,g=c.pending;if(g!==null){if(m!==null){var b=m.next;m.next=g.next,g.next=b}a.baseQueue=m=g,c.pending=null}if(g=r.baseState,m===null)r.memoizedState=g;else{a=m.next;var R=b=null,F=null,X=a,se=!1;do{var oe=X.lane&-536870913;if(oe!==X.lane?(nt&oe)===oe:(Ts&oe)===oe){var J=X.revertLane;if(J===0)F!==null&&(F=F.next={lane:0,revertLane:0,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),oe===Rl&&(se=!0);else if((Ts&J)===J){X=X.next,J===Rl&&(se=!0);continue}else oe={lane:0,revertLane:X.revertLane,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},F===null?(R=F=oe,b=g):F=F.next=oe,Ye.lanes|=J,wa|=J;oe=X.action,No&&l(g,oe),g=X.hasEagerState?X.eagerState:l(g,oe)}else J={lane:oe,revertLane:X.revertLane,gesture:X.gesture,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},F===null?(R=F=J,b=g):F=F.next=J,Ye.lanes|=oe,wa|=oe;X=X.next}while(X!==null&&X!==a);if(F===null?b=g:F.next=R,!Di(g,r.memoizedState)&&(bn=!0,se&&(l=Al,l!==null)))throw l;r.memoizedState=g,r.baseState=b,r.baseQueue=F,c.lastRenderedState=g}return m===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function og(r){var a=fn(),l=a.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=r;var c=l.dispatch,m=l.pending,g=a.memoizedState;if(m!==null){l.pending=null;var b=m=m.next;do g=r(g,b.action),b=b.next;while(b!==m);Di(g,a.memoizedState)||(bn=!0),a.memoizedState=g,a.baseQueue===null&&(a.baseState=g),l.lastRenderedState=g}return[g,c]}function Pb(r,a,l){var c=Ye,m=fn(),g=at;if(g){if(l===void 0)throw Error(i(407));l=l()}else l=a();var b=!Di((Nt||m).memoizedState,l);if(b&&(m.memoizedState=l,bn=!0),m=m.queue,cg(Vb.bind(null,c,m,r),[r]),m.getSnapshot!==a||b||vn!==null&&vn.memoizedState.tag&1){if(c.flags|=2048,xl(9,{destroy:void 0},Lb.bind(null,c,m,l,a),null),kt===null)throw Error(i(349));g||(Ts&127)!==0||kb(c,a,l)}return l}function kb(r,a,l){r.flags|=16384,r={getSnapshot:a,value:l},a=Ye.updateQueue,a===null?(a=Sf(),Ye.updateQueue=a,a.stores=[r]):(l=a.stores,l===null?a.stores=[r]:l.push(r))}function Lb(r,a,l,c){a.value=l,a.getSnapshot=c,Ub(a)&&zb(r)}function Vb(r,a,l){return l(function(){Ub(a)&&zb(r)})}function Ub(r){var a=r.getSnapshot;r=r.value;try{var l=a();return!Di(r,l)}catch{return!0}}function zb(r){var a=To(r,2);a!==null&&Ti(a,r,2)}function lg(r){var a=fi();if(typeof r=="function"){var l=r;if(r=l(),No){li(!0);try{l()}finally{li(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ss,lastRenderedState:r},a}function Fb(r,a,l,c){return r.baseState=l,ag(r,Nt,typeof c=="function"?c:Ss)}function hD(r,a,l,c,m){if(If(r))throw Error(i(485));if(r=a.action,r!==null){var g={payload:m,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){g.listeners.push(b)}};K.T!==null?l(!0):g.isTransition=!1,c(g),l=a.pending,l===null?(g.next=a.pending=g,Bb(a,g)):(g.next=l.next,a.pending=l.next=g)}}function Bb(r,a){var l=a.action,c=a.payload,m=r.state;if(a.isTransition){var g=K.T,b={};K.T=b;try{var R=l(m,c),F=K.S;F!==null&&F(b,R),Hb(r,a,R)}catch(X){ug(r,a,X)}finally{g!==null&&b.types!==null&&(g.types=b.types),K.T=g}}else try{g=l(m,c),Hb(r,a,g)}catch(X){ug(r,a,X)}}function Hb(r,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){jb(r,a,c)},function(c){return ug(r,a,c)}):jb(r,a,l)}function jb(r,a,l){a.status="fulfilled",a.value=l,qb(a),r.state=l,a=r.pending,a!==null&&(l=a.next,l===a?r.pending=null:(l=l.next,a.next=l,Bb(r,l)))}function ug(r,a,l){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=l,qb(a),a=a.next;while(a!==c)}r.action=null}function qb(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function $b(r,a){return a}function Gb(r,a){if(at){var l=kt.formState;if(l!==null){e:{var c=Ye;if(at){if(Ut){t:{for(var m=Ut,g=er;m.nodeType!==8;){if(!g){m=null;break t}if(m=nr(m.nextSibling),m===null){m=null;break t}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){Ut=nr(m.nextSibling),c=m.data==="F!";break e}}ma(c)}c=!1}c&&(a=l[0])}}return l=fi(),l.memoizedState=l.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$b,lastRenderedState:a},l.queue=c,l=hE.bind(null,Ye,c),c.dispatch=l,c=lg(!1),g=mg.bind(null,Ye,!1,c.queue),c=fi(),m={state:a,dispatch:null,action:r,pending:null},c.queue=m,l=hD.bind(null,Ye,m,g,l),m.dispatch=l,c.memoizedState=r,[a,l,!1]}function Kb(r){var a=fn();return Yb(a,Nt,r)}function Yb(r,a,l){if(a=ag(r,a,$b)[0],r=Cf(Ss)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=oc(a)}catch(b){throw b===Il?mf:b}else c=a;a=fn();var m=a.queue,g=m.dispatch;return l!==a.memoizedState&&(Ye.flags|=2048,xl(9,{destroy:void 0},fD.bind(null,m,l),null)),[c,g,r]}function fD(r,a){r.action=a}function Qb(r){var a=fn(),l=Nt;if(l!==null)return Yb(a,l,r);fn(),a=a.memoizedState,l=fn();var c=l.queue.dispatch;return l.memoizedState=r,[a,c,!1]}function xl(r,a,l,c){return r={tag:r,create:l,deps:c,inst:a,next:null},a=Ye.updateQueue,a===null&&(a=Sf(),Ye.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=r.next=r:(c=l.next,l.next=r,r.next=c,a.lastEffect=r),r}function Wb(){return fn().memoizedState}function Rf(r,a,l,c){var m=fi();Ye.flags|=r,m.memoizedState=xl(1|a,{destroy:void 0},l,c===void 0?null:c)}function Af(r,a,l,c){var m=fn();c=c===void 0?null:c;var g=m.memoizedState.inst;Nt!==null&&c!==null&&eg(c,Nt.memoizedState.deps)?m.memoizedState=xl(a,g,l,c):(Ye.flags|=r,m.memoizedState=xl(1|a,g,l,c))}function Xb(r,a){Rf(8390656,8,r,a)}function cg(r,a){Af(2048,8,r,a)}function dD(r){Ye.flags|=4;var a=Ye.updateQueue;if(a===null)a=Sf(),Ye.updateQueue=a,a.events=[r];else{var l=a.events;l===null?a.events=[r]:l.push(r)}}function Jb(r){var a=fn().memoizedState;return dD({ref:a,nextImpl:r}),function(){if((vt&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}function Zb(r,a){return Af(4,2,r,a)}function eE(r,a){return Af(4,4,r,a)}function tE(r,a){if(typeof a=="function"){r=r();var l=a(r);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function nE(r,a,l){l=l!=null?l.concat([r]):null,Af(4,4,tE.bind(null,a,r),l)}function hg(){}function iE(r,a){var l=fn();a=a===void 0?null:a;var c=l.memoizedState;return a!==null&&eg(a,c[1])?c[0]:(l.memoizedState=[r,a],r)}function rE(r,a){var l=fn();a=a===void 0?null:a;var c=l.memoizedState;if(a!==null&&eg(a,c[1]))return c[0];if(c=r(),No){li(!0);try{r()}finally{li(!1)}}return l.memoizedState=[c,a],c}function fg(r,a,l){return l===void 0||(Ts&1073741824)!==0&&(nt&261930)===0?r.memoizedState=a:(r.memoizedState=l,r=sT(),Ye.lanes|=r,wa|=r,l)}function sE(r,a,l,c){return Di(l,a)?l:Dl.current!==null?(r=fg(r,l,c),Di(r,a)||(bn=!0),r):(Ts&42)===0||(Ts&1073741824)!==0&&(nt&261930)===0?(bn=!0,r.memoizedState=l):(r=sT(),Ye.lanes|=r,wa|=r,a)}function aE(r,a,l,c,m){var g=re.p;re.p=g!==0&&8>g?g:8;var b=K.T,R={};K.T=R,mg(r,!1,a,l);try{var F=m(),X=K.S;if(X!==null&&X(R,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var se=lD(F,c);lc(r,a,se,Li(r))}else lc(r,a,c,Li(r))}catch(oe){lc(r,a,{then:function(){},status:"rejected",reason:oe},Li())}finally{re.p=g,b!==null&&R.types!==null&&(b.types=R.types),K.T=b}}function pD(){}function dg(r,a,l,c){if(r.tag!==5)throw Error(i(476));var m=oE(r).queue;aE(r,m,a,me,l===null?pD:function(){return lE(r),l(c)})}function oE(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ss,lastRenderedState:me},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ss,lastRenderedState:l},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function lE(r){var a=oE(r);a.next===null&&(a=r.alternate.memoizedState),lc(r,a.next.queue,{},Li())}function pg(){return Bn(Cc)}function uE(){return fn().memoizedState}function cE(){return fn().memoizedState}function mD(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var l=Li();r=_a(l);var c=va(a,r,l);c!==null&&(Ti(c,a,l),ic(c,a,l)),a={cache:jm()},r.payload=a;return}a=a.return}}function gD(r,a,l){var c=Li();l={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},If(r)?fE(a,l):(l=Mm(r,a,l,c),l!==null&&(Ti(l,r,c),dE(l,a,c)))}function hE(r,a,l){var c=Li();lc(r,a,l,c)}function lc(r,a,l,c){var m={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(If(r))fE(a,m);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=a.lastRenderedReducer,g!==null))try{var b=a.lastRenderedState,R=g(b,l);if(m.hasEagerState=!0,m.eagerState=R,Di(R,b))return lf(r,a,m,0),kt===null&&of(),!1}catch{}finally{}if(l=Mm(r,a,m,c),l!==null)return Ti(l,r,c),dE(l,a,c),!0}return!1}function mg(r,a,l,c){if(c={lane:2,revertLane:Kg(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},If(r)){if(a)throw Error(i(479))}else a=Mm(r,l,c,2),a!==null&&Ti(a,r,2)}function If(r){var a=r.alternate;return r===Ye||a!==null&&a===Ye}function fE(r,a){Nl=Ef=!0;var l=r.pending;l===null?a.next=a:(a.next=l.next,l.next=a),r.pending=a}function dE(r,a,l){if((l&4194048)!==0){var c=a.lanes;c&=r.pendingLanes,l|=c,a.lanes=l,ee(r,l)}}var uc={readContext:Bn,use:wf,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useLayoutEffect:tn,useInsertionEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useSyncExternalStore:tn,useId:tn,useHostTransitionStatus:tn,useFormState:tn,useActionState:tn,useOptimistic:tn,useMemoCache:tn,useCacheRefresh:tn};uc.useEffectEvent=tn;var pE={readContext:Bn,use:wf,useCallback:function(r,a){return fi().memoizedState=[r,a===void 0?null:a],r},useContext:Bn,useEffect:Xb,useImperativeHandle:function(r,a,l){l=l!=null?l.concat([r]):null,Rf(4194308,4,tE.bind(null,a,r),l)},useLayoutEffect:function(r,a){return Rf(4194308,4,r,a)},useInsertionEffect:function(r,a){Rf(4,2,r,a)},useMemo:function(r,a){var l=fi();a=a===void 0?null:a;var c=r();if(No){li(!0);try{r()}finally{li(!1)}}return l.memoizedState=[c,a],c},useReducer:function(r,a,l){var c=fi();if(l!==void 0){var m=l(a);if(No){li(!0);try{l(a)}finally{li(!1)}}}else m=a;return c.memoizedState=c.baseState=m,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:m},c.queue=r,r=r.dispatch=gD.bind(null,Ye,r),[c.memoizedState,r]},useRef:function(r){var a=fi();return r={current:r},a.memoizedState=r},useState:function(r){r=lg(r);var a=r.queue,l=hE.bind(null,Ye,a);return a.dispatch=l,[r.memoizedState,l]},useDebugValue:hg,useDeferredValue:function(r,a){var l=fi();return fg(l,r,a)},useTransition:function(){var r=lg(!1);return r=aE.bind(null,Ye,r.queue,!0,!1),fi().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,l){var c=Ye,m=fi();if(at){if(l===void 0)throw Error(i(407));l=l()}else{if(l=a(),kt===null)throw Error(i(349));(nt&127)!==0||kb(c,a,l)}m.memoizedState=l;var g={value:l,getSnapshot:a};return m.queue=g,Xb(Vb.bind(null,c,g,r),[r]),c.flags|=2048,xl(9,{destroy:void 0},Lb.bind(null,c,g,l,a),null),l},useId:function(){var r=fi(),a=kt.identifierPrefix;if(at){var l=zr,c=Ur;l=(c&~(1<<32-$t(c)-1)).toString(32)+l,a="_"+a+"R_"+l,l=Tf++,0<l&&(a+="H"+l.toString(32)),a+="_"}else l=uD++,a="_"+a+"r_"+l.toString(32)+"_";return r.memoizedState=a},useHostTransitionStatus:pg,useFormState:Gb,useActionState:Gb,useOptimistic:function(r){var a=fi();a.memoizedState=a.baseState=r;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=mg.bind(null,Ye,!0,l),l.dispatch=a,[r,a]},useMemoCache:sg,useCacheRefresh:function(){return fi().memoizedState=mD.bind(null,Ye)},useEffectEvent:function(r){var a=fi(),l={impl:r};return a.memoizedState=l,function(){if((vt&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},gg={readContext:Bn,use:wf,useCallback:iE,useContext:Bn,useEffect:cg,useImperativeHandle:nE,useInsertionEffect:Zb,useLayoutEffect:eE,useMemo:rE,useReducer:Cf,useRef:Wb,useState:function(){return Cf(Ss)},useDebugValue:hg,useDeferredValue:function(r,a){var l=fn();return sE(l,Nt.memoizedState,r,a)},useTransition:function(){var r=Cf(Ss)[0],a=fn().memoizedState;return[typeof r=="boolean"?r:oc(r),a]},useSyncExternalStore:Pb,useId:uE,useHostTransitionStatus:pg,useFormState:Kb,useActionState:Kb,useOptimistic:function(r,a){var l=fn();return Fb(l,Nt,r,a)},useMemoCache:sg,useCacheRefresh:cE};gg.useEffectEvent=Jb;var mE={readContext:Bn,use:wf,useCallback:iE,useContext:Bn,useEffect:cg,useImperativeHandle:nE,useInsertionEffect:Zb,useLayoutEffect:eE,useMemo:rE,useReducer:og,useRef:Wb,useState:function(){return og(Ss)},useDebugValue:hg,useDeferredValue:function(r,a){var l=fn();return Nt===null?fg(l,r,a):sE(l,Nt.memoizedState,r,a)},useTransition:function(){var r=og(Ss)[0],a=fn().memoizedState;return[typeof r=="boolean"?r:oc(r),a]},useSyncExternalStore:Pb,useId:uE,useHostTransitionStatus:pg,useFormState:Qb,useActionState:Qb,useOptimistic:function(r,a){var l=fn();return Nt!==null?Fb(l,Nt,r,a):(l.baseState=r,[r,l.queue.dispatch])},useMemoCache:sg,useCacheRefresh:cE};mE.useEffectEvent=Jb;function yg(r,a,l,c){a=r.memoizedState,l=l(c,a),l=l==null?a:_({},a,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var _g={enqueueSetState:function(r,a,l){r=r._reactInternals;var c=Li(),m=_a(c);m.payload=a,l!=null&&(m.callback=l),a=va(r,m,c),a!==null&&(Ti(a,r,c),ic(a,r,c))},enqueueReplaceState:function(r,a,l){r=r._reactInternals;var c=Li(),m=_a(c);m.tag=1,m.payload=a,l!=null&&(m.callback=l),a=va(r,m,c),a!==null&&(Ti(a,r,c),ic(a,r,c))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var l=Li(),c=_a(l);c.tag=2,a!=null&&(c.callback=a),a=va(r,c,l),a!==null&&(Ti(a,r,l),ic(a,r,l))}};function gE(r,a,l,c,m,g,b){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,g,b):a.prototype&&a.prototype.isPureReactComponent?!Qu(l,c)||!Qu(m,g):!0}function yE(r,a,l,c){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,c),a.state!==r&&_g.enqueueReplaceState(a,a.state,null)}function Mo(r,a){var l=a;if("ref"in a){l={};for(var c in a)c!=="ref"&&(l[c]=a[c])}if(r=r.defaultProps){l===a&&(l=_({},l));for(var m in r)l[m]===void 0&&(l[m]=r[m])}return l}function _E(r){af(r)}function vE(r){console.error(r)}function bE(r){af(r)}function Of(r,a){try{var l=r.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function EE(r,a,l){try{var c=r.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function vg(r,a,l){return l=_a(l),l.tag=3,l.payload={element:null},l.callback=function(){Of(r,a)},l}function TE(r){return r=_a(r),r.tag=3,r}function SE(r,a,l,c){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var g=c.value;r.payload=function(){return m(g)},r.callback=function(){EE(a,l,c)}}var b=l.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(r.callback=function(){EE(a,l,c),typeof m!="function"&&(Ca===null?Ca=new Set([this]):Ca.add(this));var R=c.stack;this.componentDidCatch(c.value,{componentStack:R!==null?R:""})})}function yD(r,a,l,c,m){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=l.alternate,a!==null&&Cl(a,l,m,!0),l=Mi.current,l!==null){switch(l.tag){case 31:case 13:return tr===null?Bf():l.alternate===null&&nn===0&&(nn=3),l.flags&=-257,l.flags|=65536,l.lanes=m,c===gf?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([c]):a.add(c),qg(r,c,m)),!1;case 22:return l.flags|=65536,c===gf?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([c]):l.add(c)),qg(r,c,m)),!1}throw Error(i(435,l.tag))}return qg(r,c,m),Bf(),!1}if(at)return a=Mi.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=m,c!==Um&&(r=Error(i(422),{cause:c}),Ju(Xi(r,l)))):(c!==Um&&(a=Error(i(423),{cause:c}),Ju(Xi(a,l))),r=r.current.alternate,r.flags|=65536,m&=-m,r.lanes|=m,c=Xi(c,l),m=vg(r.stateNode,c,m),Qm(r,m),nn!==4&&(nn=2)),!1;var g=Error(i(520),{cause:c});if(g=Xi(g,l),yc===null?yc=[g]:yc.push(g),nn!==4&&(nn=2),a===null)return!0;c=Xi(c,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,r=m&-m,l.lanes|=r,r=vg(l.stateNode,c,r),Qm(l,r),!1;case 1:if(a=l.type,g=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ca===null||!Ca.has(g))))return l.flags|=65536,m&=-m,l.lanes|=m,m=TE(m),SE(m,r,l,c),Qm(l,m),!1}l=l.return}while(l!==null);return!1}var bg=Error(i(461)),bn=!1;function Hn(r,a,l,c){a.child=r===null?Ab(a,null,l,c):Do(a,r.child,l,c)}function wE(r,a,l,c,m){l=l.render;var g=a.ref;if("ref"in c){var b={};for(var R in c)R!=="ref"&&(b[R]=c[R])}else b=c;return Ro(a),c=tg(r,a,l,b,g,m),R=ng(),r!==null&&!bn?(ig(r,a,m),ws(r,a,m)):(at&&R&&Lm(a),a.flags|=1,Hn(r,a,c,m),a.child)}function CE(r,a,l,c,m){if(r===null){var g=l.type;return typeof g=="function"&&!xm(g)&&g.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=g,RE(r,a,g,c,m)):(r=cf(l.type,null,c,a,a.mode,m),r.ref=a.ref,r.return=a,a.child=r)}if(g=r.child,!Ig(r,m)){var b=g.memoizedProps;if(l=l.compare,l=l!==null?l:Qu,l(b,c)&&r.ref===a.ref)return ws(r,a,m)}return a.flags|=1,r=_s(g,c),r.ref=a.ref,r.return=a,a.child=r}function RE(r,a,l,c,m){if(r!==null){var g=r.memoizedProps;if(Qu(g,c)&&r.ref===a.ref)if(bn=!1,a.pendingProps=c=g,Ig(r,m))(r.flags&131072)!==0&&(bn=!0);else return a.lanes=r.lanes,ws(r,a,m)}return Eg(r,a,l,c,m)}function AE(r,a,l,c){var m=c.children,g=r!==null?r.memoizedState:null;if(r===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((a.flags&128)!==0){if(g=g!==null?g.baseLanes|l:l,r!==null){for(c=a.child=r.child,m=0;c!==null;)m=m|c.lanes|c.childLanes,c=c.sibling;c=m&~g}else c=0,a.child=null;return IE(r,a,g,l,c)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&pf(a,g!==null?g.cachePool:null),g!==null?Db(a,g):Xm(),Nb(a);else return c=a.lanes=536870912,IE(r,a,g!==null?g.baseLanes|l:l,l,c)}else g!==null?(pf(a,g.cachePool),Db(a,g),Ea(),a.memoizedState=null):(r!==null&&pf(a,null),Xm(),Ea());return Hn(r,a,m,l),a.child}function cc(r,a){return r!==null&&r.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function IE(r,a,l,c,m){var g=$m();return g=g===null?null:{parent:_n._currentValue,pool:g},a.memoizedState={baseLanes:l,cachePool:g},r!==null&&pf(a,null),Xm(),Nb(a),r!==null&&Cl(r,a,c,!0),a.childLanes=m,null}function Df(r,a){return a=Mf({mode:a.mode,children:a.children},r.mode),a.ref=r.ref,r.child=a,a.return=r,a}function OE(r,a,l){return Do(a,r.child,null,l),r=Df(a,a.pendingProps),r.flags|=2,xi(a),a.memoizedState=null,r}function _D(r,a,l){var c=a.pendingProps,m=(a.flags&128)!==0;if(a.flags&=-129,r===null){if(at){if(c.mode==="hidden")return r=Df(a,c),a.lanes=536870912,cc(null,r);if(Zm(a),(r=Ut)?(r=BT(r,er),r=r!==null&&r.data==="&"?r:null,r!==null&&(a.memoizedState={dehydrated:r,treeContext:da!==null?{id:Ur,overflow:zr}:null,retryLane:536870912,hydrationErrors:null},l=fb(r),l.return=a,a.child=l,Fn=a,Ut=null)):r=null,r===null)throw ma(a);return a.lanes=536870912,null}return Df(a,c)}var g=r.memoizedState;if(g!==null){var b=g.dehydrated;if(Zm(a),m)if(a.flags&256)a.flags&=-257,a=OE(r,a,l);else if(a.memoizedState!==null)a.child=r.child,a.flags|=128,a=null;else throw Error(i(558));else if(bn||Cl(r,a,l,!1),m=(l&r.childLanes)!==0,bn||m){if(c=kt,c!==null&&(b=he(c,l),b!==0&&b!==g.retryLane))throw g.retryLane=b,To(r,b),Ti(c,r,b),bg;Bf(),a=OE(r,a,l)}else r=g.treeContext,Ut=nr(b.nextSibling),Fn=a,at=!0,pa=null,er=!1,r!==null&&mb(a,r),a=Df(a,c),a.flags|=4096;return a}return r=_s(r.child,{mode:c.mode,children:c.children}),r.ref=a.ref,a.child=r,r.return=a,r}function Nf(r,a){var l=a.ref;if(l===null)r!==null&&r.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(r===null||r.ref!==l)&&(a.flags|=4194816)}}function Eg(r,a,l,c,m){return Ro(a),l=tg(r,a,l,c,void 0,m),c=ng(),r!==null&&!bn?(ig(r,a,m),ws(r,a,m)):(at&&c&&Lm(a),a.flags|=1,Hn(r,a,l,m),a.child)}function DE(r,a,l,c,m,g){return Ro(a),a.updateQueue=null,l=xb(a,c,l,m),Mb(r),c=ng(),r!==null&&!bn?(ig(r,a,g),ws(r,a,g)):(at&&c&&Lm(a),a.flags|=1,Hn(r,a,l,g),a.child)}function NE(r,a,l,c,m){if(Ro(a),a.stateNode===null){var g=El,b=l.contextType;typeof b=="object"&&b!==null&&(g=Bn(b)),g=new l(c,g),a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=_g,a.stateNode=g,g._reactInternals=a,g=a.stateNode,g.props=c,g.state=a.memoizedState,g.refs={},Km(a),b=l.contextType,g.context=typeof b=="object"&&b!==null?Bn(b):El,g.state=a.memoizedState,b=l.getDerivedStateFromProps,typeof b=="function"&&(yg(a,l,b,c),g.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(b=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),b!==g.state&&_g.enqueueReplaceState(g,g.state,null),sc(a,c,g,m),rc(),g.state=a.memoizedState),typeof g.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(r===null){g=a.stateNode;var R=a.memoizedProps,F=Mo(l,R);g.props=F;var X=g.context,se=l.contextType;b=El,typeof se=="object"&&se!==null&&(b=Bn(se));var oe=l.getDerivedStateFromProps;se=typeof oe=="function"||typeof g.getSnapshotBeforeUpdate=="function",R=a.pendingProps!==R,se||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(R||X!==b)&&yE(a,g,c,b),ya=!1;var J=a.memoizedState;g.state=J,sc(a,c,g,m),rc(),X=a.memoizedState,R||J!==X||ya?(typeof oe=="function"&&(yg(a,l,oe,c),X=a.memoizedState),(F=ya||gE(a,l,F,c,J,X,b))?(se||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(a.flags|=4194308)):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=X),g.props=c,g.state=X,g.context=b,c=F):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{g=a.stateNode,Ym(r,a),b=a.memoizedProps,se=Mo(l,b),g.props=se,oe=a.pendingProps,J=g.context,X=l.contextType,F=El,typeof X=="object"&&X!==null&&(F=Bn(X)),R=l.getDerivedStateFromProps,(X=typeof R=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==oe||J!==F)&&yE(a,g,c,F),ya=!1,J=a.memoizedState,g.state=J,sc(a,c,g,m),rc();var ne=a.memoizedState;b!==oe||J!==ne||ya||r!==null&&r.dependencies!==null&&ff(r.dependencies)?(typeof R=="function"&&(yg(a,l,R,c),ne=a.memoizedState),(se=ya||gE(a,l,se,c,J,ne,F)||r!==null&&r.dependencies!==null&&ff(r.dependencies))?(X||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,ne,F),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,ne,F)),typeof g.componentDidUpdate=="function"&&(a.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===r.memoizedProps&&J===r.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&J===r.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=ne),g.props=c,g.state=ne,g.context=F,c=se):(typeof g.componentDidUpdate!="function"||b===r.memoizedProps&&J===r.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&J===r.memoizedState||(a.flags|=1024),c=!1)}return g=c,Nf(r,a),c=(a.flags&128)!==0,g||c?(g=a.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:g.render(),a.flags|=1,r!==null&&c?(a.child=Do(a,r.child,null,m),a.child=Do(a,null,l,m)):Hn(r,a,l,m),a.memoizedState=g.state,r=a.child):r=ws(r,a,m),r}function ME(r,a,l,c){return wo(),a.flags|=256,Hn(r,a,l,c),a.child}var Tg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sg(r){return{baseLanes:r,cachePool:Eb()}}function wg(r,a,l){return r=r!==null?r.childLanes&~l:0,a&&(r|=ki),r}function xE(r,a,l){var c=a.pendingProps,m=!1,g=(a.flags&128)!==0,b;if((b=g)||(b=r!==null&&r.memoizedState===null?!1:(hn.current&2)!==0),b&&(m=!0,a.flags&=-129),b=(a.flags&32)!==0,a.flags&=-33,r===null){if(at){if(m?ba(a):Ea(),(r=Ut)?(r=BT(r,er),r=r!==null&&r.data!=="&"?r:null,r!==null&&(a.memoizedState={dehydrated:r,treeContext:da!==null?{id:Ur,overflow:zr}:null,retryLane:536870912,hydrationErrors:null},l=fb(r),l.return=a,a.child=l,Fn=a,Ut=null)):r=null,r===null)throw ma(a);return ay(r)?a.lanes=32:a.lanes=536870912,null}var R=c.children;return c=c.fallback,m?(Ea(),m=a.mode,R=Mf({mode:"hidden",children:R},m),c=So(c,m,l,null),R.return=a,c.return=a,R.sibling=c,a.child=R,c=a.child,c.memoizedState=Sg(l),c.childLanes=wg(r,b,l),a.memoizedState=Tg,cc(null,c)):(ba(a),Cg(a,R))}var F=r.memoizedState;if(F!==null&&(R=F.dehydrated,R!==null)){if(g)a.flags&256?(ba(a),a.flags&=-257,a=Rg(r,a,l)):a.memoizedState!==null?(Ea(),a.child=r.child,a.flags|=128,a=null):(Ea(),R=c.fallback,m=a.mode,c=Mf({mode:"visible",children:c.children},m),R=So(R,m,l,null),R.flags|=2,c.return=a,R.return=a,c.sibling=R,a.child=c,Do(a,r.child,null,l),c=a.child,c.memoizedState=Sg(l),c.childLanes=wg(r,b,l),a.memoizedState=Tg,a=cc(null,c));else if(ba(a),ay(R)){if(b=R.nextSibling&&R.nextSibling.dataset,b)var X=b.dgst;b=X,c=Error(i(419)),c.stack="",c.digest=b,Ju({value:c,source:null,stack:null}),a=Rg(r,a,l)}else if(bn||Cl(r,a,l,!1),b=(l&r.childLanes)!==0,bn||b){if(b=kt,b!==null&&(c=he(b,l),c!==0&&c!==F.retryLane))throw F.retryLane=c,To(r,c),Ti(b,r,c),bg;sy(R)||Bf(),a=Rg(r,a,l)}else sy(R)?(a.flags|=192,a.child=r.child,a=null):(r=F.treeContext,Ut=nr(R.nextSibling),Fn=a,at=!0,pa=null,er=!1,r!==null&&mb(a,r),a=Cg(a,c.children),a.flags|=4096);return a}return m?(Ea(),R=c.fallback,m=a.mode,F=r.child,X=F.sibling,c=_s(F,{mode:"hidden",children:c.children}),c.subtreeFlags=F.subtreeFlags&65011712,X!==null?R=_s(X,R):(R=So(R,m,l,null),R.flags|=2),R.return=a,c.return=a,c.sibling=R,a.child=c,cc(null,c),c=a.child,R=r.child.memoizedState,R===null?R=Sg(l):(m=R.cachePool,m!==null?(F=_n._currentValue,m=m.parent!==F?{parent:F,pool:F}:m):m=Eb(),R={baseLanes:R.baseLanes|l,cachePool:m}),c.memoizedState=R,c.childLanes=wg(r,b,l),a.memoizedState=Tg,cc(r.child,c)):(ba(a),l=r.child,r=l.sibling,l=_s(l,{mode:"visible",children:c.children}),l.return=a,l.sibling=null,r!==null&&(b=a.deletions,b===null?(a.deletions=[r],a.flags|=16):b.push(r)),a.child=l,a.memoizedState=null,l)}function Cg(r,a){return a=Mf({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function Mf(r,a){return r=Ni(22,r,null,a),r.lanes=0,r}function Rg(r,a,l){return Do(a,r.child,null,l),r=Cg(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function PE(r,a,l){r.lanes|=a;var c=r.alternate;c!==null&&(c.lanes|=a),Bm(r.return,a,l)}function Ag(r,a,l,c,m,g){var b=r.memoizedState;b===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:m,treeForkCount:g}:(b.isBackwards=a,b.rendering=null,b.renderingStartTime=0,b.last=c,b.tail=l,b.tailMode=m,b.treeForkCount=g)}function kE(r,a,l){var c=a.pendingProps,m=c.revealOrder,g=c.tail;c=c.children;var b=hn.current,R=(b&2)!==0;if(R?(b=b&1|2,a.flags|=128):b&=1,ce(hn,b),Hn(r,a,c,l),c=at?Xu:0,!R&&r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&PE(r,l,a);else if(r.tag===19)PE(r,l,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(m){case"forwards":for(l=a.child,m=null;l!==null;)r=l.alternate,r!==null&&bf(r)===null&&(m=l),l=l.sibling;l=m,l===null?(m=a.child,a.child=null):(m=l.sibling,l.sibling=null),Ag(a,!1,m,l,g,c);break;case"backwards":case"unstable_legacy-backwards":for(l=null,m=a.child,a.child=null;m!==null;){if(r=m.alternate,r!==null&&bf(r)===null){a.child=m;break}r=m.sibling,m.sibling=l,l=m,m=r}Ag(a,!0,l,null,g,c);break;case"together":Ag(a,!1,null,null,void 0,c);break;default:a.memoizedState=null}return a.child}function ws(r,a,l){if(r!==null&&(a.dependencies=r.dependencies),wa|=a.lanes,(l&a.childLanes)===0)if(r!==null){if(Cl(r,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(i(153));if(a.child!==null){for(r=a.child,l=_s(r,r.pendingProps),a.child=l,l.return=a;r.sibling!==null;)r=r.sibling,l=l.sibling=_s(r,r.pendingProps),l.return=a;l.sibling=null}return a.child}function Ig(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&ff(r)))}function vD(r,a,l){switch(a.tag){case 3:gt(a,a.stateNode.containerInfo),ga(a,_n,r.memoizedState.cache),wo();break;case 27:case 5:cr(a);break;case 4:gt(a,a.stateNode.containerInfo);break;case 10:ga(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Zm(a),null;break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(ba(a),a.flags|=128,null):(l&a.child.childLanes)!==0?xE(r,a,l):(ba(a),r=ws(r,a,l),r!==null?r.sibling:null);ba(a);break;case 19:var m=(r.flags&128)!==0;if(c=(l&a.childLanes)!==0,c||(Cl(r,a,l,!1),c=(l&a.childLanes)!==0),m){if(c)return kE(r,a,l);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ce(hn,hn.current),c)break;return null;case 22:return a.lanes=0,AE(r,a,l,a.pendingProps);case 24:ga(a,_n,r.memoizedState.cache)}return ws(r,a,l)}function LE(r,a,l){if(r!==null)if(r.memoizedProps!==a.pendingProps)bn=!0;else{if(!Ig(r,l)&&(a.flags&128)===0)return bn=!1,vD(r,a,l);bn=(r.flags&131072)!==0}else bn=!1,at&&(a.flags&1048576)!==0&&pb(a,Xu,a.index);switch(a.lanes=0,a.tag){case 16:e:{var c=a.pendingProps;if(r=Io(a.elementType),a.type=r,typeof r=="function")xm(r)?(c=Mo(r,c),a.tag=1,a=NE(null,a,r,c,l)):(a.tag=0,a=Eg(null,a,r,c,l));else{if(r!=null){var m=r.$$typeof;if(m===Q){a.tag=11,a=wE(null,a,r,c,l);break e}else if(m===S){a.tag=14,a=CE(null,a,r,c,l);break e}}throw a=pe(r)||r,Error(i(306,a,""))}}return a;case 0:return Eg(r,a,a.type,a.pendingProps,l);case 1:return c=a.type,m=Mo(c,a.pendingProps),NE(r,a,c,m,l);case 3:e:{if(gt(a,a.stateNode.containerInfo),r===null)throw Error(i(387));c=a.pendingProps;var g=a.memoizedState;m=g.element,Ym(r,a),sc(a,c,null,l);var b=a.memoizedState;if(c=b.cache,ga(a,_n,c),c!==g.cache&&Hm(a,[_n],l,!0),rc(),c=b.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:b.cache},a.updateQueue.baseState=g,a.memoizedState=g,a.flags&256){a=ME(r,a,c,l);break e}else if(c!==m){m=Xi(Error(i(424)),a),Ju(m),a=ME(r,a,c,l);break e}else{switch(r=a.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Ut=nr(r.firstChild),Fn=a,at=!0,pa=null,er=!0,l=Ab(a,null,c,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(wo(),c===m){a=ws(r,a,l);break e}Hn(r,a,c,l)}a=a.child}return a;case 26:return Nf(r,a),r===null?(l=KT(a.type,null,a.pendingProps,null))?a.memoizedState=l:at||(l=a.type,r=a.pendingProps,c=Yf(Me.current).createElement(l),c[Te]=a,c[be]=r,jn(c,l,r),Gt(c),a.stateNode=c):a.memoizedState=KT(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return cr(a),r===null&&at&&(c=a.stateNode=qT(a.type,a.pendingProps,Me.current),Fn=a,er=!0,m=Ut,Oa(a.type)?(oy=m,Ut=nr(c.firstChild)):Ut=m),Hn(r,a,a.pendingProps.children,l),Nf(r,a),r===null&&(a.flags|=4194304),a.child;case 5:return r===null&&at&&((m=c=Ut)&&(c=QD(c,a.type,a.pendingProps,er),c!==null?(a.stateNode=c,Fn=a,Ut=nr(c.firstChild),er=!1,m=!0):m=!1),m||ma(a)),cr(a),m=a.type,g=a.pendingProps,b=r!==null?r.memoizedProps:null,c=g.children,ny(m,g)?c=null:b!==null&&ny(m,b)&&(a.flags|=32),a.memoizedState!==null&&(m=tg(r,a,cD,null,null,l),Cc._currentValue=m),Nf(r,a),Hn(r,a,c,l),a.child;case 6:return r===null&&at&&((r=l=Ut)&&(l=WD(l,a.pendingProps,er),l!==null?(a.stateNode=l,Fn=a,Ut=null,r=!0):r=!1),r||ma(a)),null;case 13:return xE(r,a,l);case 4:return gt(a,a.stateNode.containerInfo),c=a.pendingProps,r===null?a.child=Do(a,null,c,l):Hn(r,a,c,l),a.child;case 11:return wE(r,a,a.type,a.pendingProps,l);case 7:return Hn(r,a,a.pendingProps,l),a.child;case 8:return Hn(r,a,a.pendingProps.children,l),a.child;case 12:return Hn(r,a,a.pendingProps.children,l),a.child;case 10:return c=a.pendingProps,ga(a,a.type,c.value),Hn(r,a,c.children,l),a.child;case 9:return m=a.type._context,c=a.pendingProps.children,Ro(a),m=Bn(m),c=c(m),a.flags|=1,Hn(r,a,c,l),a.child;case 14:return CE(r,a,a.type,a.pendingProps,l);case 15:return RE(r,a,a.type,a.pendingProps,l);case 19:return kE(r,a,l);case 31:return _D(r,a,l);case 22:return AE(r,a,l,a.pendingProps);case 24:return Ro(a),c=Bn(_n),r===null?(m=$m(),m===null&&(m=kt,g=jm(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=l),m=g),a.memoizedState={parent:c,cache:m},Km(a),ga(a,_n,m)):((r.lanes&l)!==0&&(Ym(r,a),sc(a,null,null,l),rc()),m=r.memoizedState,g=a.memoizedState,m.parent!==c?(m={parent:c,cache:c},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),ga(a,_n,c)):(c=g.cache,ga(a,_n,c),c!==m.cache&&Hm(a,[_n],l,!0))),Hn(r,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Cs(r){r.flags|=4}function Og(r,a,l,c,m){if((a=(r.mode&32)!==0)&&(a=!1),a){if(r.flags|=16777216,(m&335544128)===m)if(r.stateNode.complete)r.flags|=8192;else if(uT())r.flags|=8192;else throw Oo=gf,Gm}else r.flags&=-16777217}function VE(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!JT(a))if(uT())r.flags|=8192;else throw Oo=gf,Gm}function xf(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?ds():536870912,r.lanes|=a,Vl|=a)}function hc(r,a){if(!at)switch(r.tailMode){case"hidden":a=r.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function zt(r){var a=r.alternate!==null&&r.alternate.child===r.child,l=0,c=0;if(a)for(var m=r.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=r,m=m.sibling;else for(m=r.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=r,m=m.sibling;return r.subtreeFlags|=c,r.childLanes=l,a}function bD(r,a,l){var c=a.pendingProps;switch(Vm(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(a),null;case 1:return zt(a),null;case 3:return l=a.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),Es(_n),yt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(r===null||r.child===null)&&(wl(a)?Cs(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,zm())),zt(a),null;case 26:var m=a.type,g=a.memoizedState;return r===null?(Cs(a),g!==null?(zt(a),VE(a,g)):(zt(a),Og(a,m,null,c,l))):g?g!==r.memoizedState?(Cs(a),zt(a),VE(a,g)):(zt(a),a.flags&=-16777217):(r=r.memoizedProps,r!==c&&Cs(a),zt(a),Og(a,m,r,c,l)),null;case 27:if(Lt(a),l=Me.current,m=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==c&&Cs(a);else{if(!c){if(a.stateNode===null)throw Error(i(166));return zt(a),null}r=fe.current,wl(a)?gb(a):(r=qT(m,c,l),a.stateNode=r,Cs(a))}return zt(a),null;case 5:if(Lt(a),m=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==c&&Cs(a);else{if(!c){if(a.stateNode===null)throw Error(i(166));return zt(a),null}if(g=fe.current,wl(a))gb(a);else{var b=Yf(Me.current);switch(g){case 1:g=b.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:g=b.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":g=b.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":g=b.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":g=b.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?b.createElement("select",{is:c.is}):b.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?b.createElement(m,{is:c.is}):b.createElement(m)}}g[Te]=a,g[be]=c;e:for(b=a.child;b!==null;){if(b.tag===5||b.tag===6)g.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===a)break e;for(;b.sibling===null;){if(b.return===null||b.return===a)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}a.stateNode=g;e:switch(jn(g,m,c),m){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Cs(a)}}return zt(a),Og(a,a.type,r===null?null:r.memoizedProps,a.pendingProps,l),null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==c&&Cs(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(i(166));if(r=Me.current,wl(a)){if(r=a.stateNode,l=a.memoizedProps,c=null,m=Fn,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}r[Te]=a,r=!!(r.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||xT(r.nodeValue,l)),r||ma(a,!0)}else r=Yf(r).createTextNode(c),r[Te]=a,a.stateNode=r}return zt(a),null;case 31:if(l=a.memoizedState,r===null||r.memoizedState!==null){if(c=wl(a),l!==null){if(r===null){if(!c)throw Error(i(318));if(r=a.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[Te]=a}else wo(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;zt(a),r=!1}else l=zm(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=l),r=!0;if(!r)return a.flags&256?(xi(a),a):(xi(a),null);if((a.flags&128)!==0)throw Error(i(558))}return zt(a),null;case 13:if(c=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(m=wl(a),c!==null&&c.dehydrated!==null){if(r===null){if(!m)throw Error(i(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[Te]=a}else wo(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;zt(a),m=!1}else m=zm(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=m),m=!0;if(!m)return a.flags&256?(xi(a),a):(xi(a),null)}return xi(a),(a.flags&128)!==0?(a.lanes=l,a):(l=c!==null,r=r!==null&&r.memoizedState!==null,l&&(c=a.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==m&&(c.flags|=2048)),l!==r&&l&&(a.child.flags|=8192),xf(a,a.updateQueue),zt(a),null);case 4:return yt(),r===null&&Xg(a.stateNode.containerInfo),zt(a),null;case 10:return Es(a.type),zt(a),null;case 19:if(Z(hn),c=a.memoizedState,c===null)return zt(a),null;if(m=(a.flags&128)!==0,g=c.rendering,g===null)if(m)hc(c,!1);else{if(nn!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(g=bf(r),g!==null){for(a.flags|=128,hc(c,!1),r=g.updateQueue,a.updateQueue=r,xf(a,r),a.subtreeFlags=0,r=l,l=a.child;l!==null;)hb(l,r),l=l.sibling;return ce(hn,hn.current&1|2),at&&vs(a,c.treeForkCount),a.child}r=r.sibling}c.tail!==null&&on()>Uf&&(a.flags|=128,m=!0,hc(c,!1),a.lanes=4194304)}else{if(!m)if(r=bf(g),r!==null){if(a.flags|=128,m=!0,r=r.updateQueue,a.updateQueue=r,xf(a,r),hc(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!at)return zt(a),null}else 2*on()-c.renderingStartTime>Uf&&l!==536870912&&(a.flags|=128,m=!0,hc(c,!1),a.lanes=4194304);c.isBackwards?(g.sibling=a.child,a.child=g):(r=c.last,r!==null?r.sibling=g:a.child=g,c.last=g)}return c.tail!==null?(r=c.tail,c.rendering=r,c.tail=r.sibling,c.renderingStartTime=on(),r.sibling=null,l=hn.current,ce(hn,m?l&1|2:l&1),at&&vs(a,c.treeForkCount),r):(zt(a),null);case 22:case 23:return xi(a),Jm(),c=a.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(l&536870912)!==0&&(a.flags&128)===0&&(zt(a),a.subtreeFlags&6&&(a.flags|=8192)):zt(a),l=a.updateQueue,l!==null&&xf(a,l.retryQueue),l=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==l&&(a.flags|=2048),r!==null&&Z(Ao),null;case 24:return l=null,r!==null&&(l=r.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Es(_n),zt(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function ED(r,a){switch(Vm(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return Es(_n),yt(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return Lt(a),null;case 31:if(a.memoizedState!==null){if(xi(a),a.alternate===null)throw Error(i(340));wo()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 13:if(xi(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(i(340));wo()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return Z(hn),null;case 4:return yt(),null;case 10:return Es(a.type),null;case 22:case 23:return xi(a),Jm(),r!==null&&Z(Ao),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return Es(_n),null;case 25:return null;default:return null}}function UE(r,a){switch(Vm(a),a.tag){case 3:Es(_n),yt();break;case 26:case 27:case 5:Lt(a);break;case 4:yt();break;case 31:a.memoizedState!==null&&xi(a);break;case 13:xi(a);break;case 19:Z(hn);break;case 10:Es(a.type);break;case 22:case 23:xi(a),Jm(),r!==null&&Z(Ao);break;case 24:Es(_n)}}function fc(r,a){try{var l=a.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var m=c.next;l=m;do{if((l.tag&r)===r){c=void 0;var g=l.create,b=l.inst;c=g(),b.destroy=c}l=l.next}while(l!==m)}}catch(R){It(a,a.return,R)}}function Ta(r,a,l){try{var c=a.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var g=m.next;c=g;do{if((c.tag&r)===r){var b=c.inst,R=b.destroy;if(R!==void 0){b.destroy=void 0,m=a;var F=l,X=R;try{X()}catch(se){It(m,F,se)}}}c=c.next}while(c!==g)}}catch(se){It(a,a.return,se)}}function zE(r){var a=r.updateQueue;if(a!==null){var l=r.stateNode;try{Ob(a,l)}catch(c){It(r,r.return,c)}}}function FE(r,a,l){l.props=Mo(r.type,r.memoizedProps),l.state=r.memoizedState;try{l.componentWillUnmount()}catch(c){It(r,a,c)}}function dc(r,a){try{var l=r.ref;if(l!==null){switch(r.tag){case 26:case 27:case 5:var c=r.stateNode;break;case 30:c=r.stateNode;break;default:c=r.stateNode}typeof l=="function"?r.refCleanup=l(c):l.current=c}}catch(m){It(r,a,m)}}function Fr(r,a){var l=r.ref,c=r.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(m){It(r,a,m)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){It(r,a,m)}else l.current=null}function BE(r){var a=r.type,l=r.memoizedProps,c=r.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(m){It(r,r.return,m)}}function Dg(r,a,l){try{var c=r.stateNode;jD(c,r.type,l,a),c[be]=a}catch(m){It(r,r.return,m)}}function HE(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Oa(r.type)||r.tag===4}function Ng(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||HE(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Oa(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Mg(r,a,l){var c=r.tag;if(c===5||c===6)r=r.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(r,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(r),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=pr));else if(c!==4&&(c===27&&Oa(r.type)&&(l=r.stateNode,a=null),r=r.child,r!==null))for(Mg(r,a,l),r=r.sibling;r!==null;)Mg(r,a,l),r=r.sibling}function Pf(r,a,l){var c=r.tag;if(c===5||c===6)r=r.stateNode,a?l.insertBefore(r,a):l.appendChild(r);else if(c!==4&&(c===27&&Oa(r.type)&&(l=r.stateNode),r=r.child,r!==null))for(Pf(r,a,l),r=r.sibling;r!==null;)Pf(r,a,l),r=r.sibling}function jE(r){var a=r.stateNode,l=r.memoizedProps;try{for(var c=r.type,m=a.attributes;m.length;)a.removeAttributeNode(m[0]);jn(a,c,l),a[Te]=r,a[be]=l}catch(g){It(r,r.return,g)}}var Rs=!1,En=!1,xg=!1,qE=typeof WeakSet=="function"?WeakSet:Set,Pn=null;function TD(r,a){if(r=r.containerInfo,ey=td,r=nb(r),Rm(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var m=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var b=0,R=-1,F=-1,X=0,se=0,oe=r,J=null;t:for(;;){for(var ne;oe!==l||m!==0&&oe.nodeType!==3||(R=b+m),oe!==g||c!==0&&oe.nodeType!==3||(F=b+c),oe.nodeType===3&&(b+=oe.nodeValue.length),(ne=oe.firstChild)!==null;)J=oe,oe=ne;for(;;){if(oe===r)break t;if(J===l&&++X===m&&(R=b),J===g&&++se===c&&(F=b),(ne=oe.nextSibling)!==null)break;oe=J,J=oe.parentNode}oe=ne}l=R===-1||F===-1?null:{start:R,end:F}}else l=null}l=l||{start:0,end:0}}else l=null;for(ty={focusedElem:r,selectionRange:l},td=!1,Pn=a;Pn!==null;)if(a=Pn,r=a.child,(a.subtreeFlags&1028)!==0&&r!==null)r.return=a,Pn=r;else for(;Pn!==null;){switch(a=Pn,g=a.alternate,r=a.flags,a.tag){case 0:if((r&4)!==0&&(r=a.updateQueue,r=r!==null?r.events:null,r!==null))for(l=0;l<r.length;l++)m=r[l],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&g!==null){r=void 0,l=a,m=g.memoizedProps,g=g.memoizedState,c=l.stateNode;try{var Ae=Mo(l.type,m);r=c.getSnapshotBeforeUpdate(Ae,g),c.__reactInternalSnapshotBeforeUpdate=r}catch(Ue){It(l,l.return,Ue)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,l=r.nodeType,l===9)ry(r);else if(l===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":ry(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=a.sibling,r!==null){r.return=a.return,Pn=r;break}Pn=a.return}}function $E(r,a,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:Is(r,l),c&4&&fc(5,l);break;case 1:if(Is(r,l),c&4)if(r=l.stateNode,a===null)try{r.componentDidMount()}catch(b){It(l,l.return,b)}else{var m=Mo(l.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(m,a,r.__reactInternalSnapshotBeforeUpdate)}catch(b){It(l,l.return,b)}}c&64&&zE(l),c&512&&dc(l,l.return);break;case 3:if(Is(r,l),c&64&&(r=l.updateQueue,r!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{Ob(r,a)}catch(b){It(l,l.return,b)}}break;case 27:a===null&&c&4&&jE(l);case 26:case 5:Is(r,l),a===null&&c&4&&BE(l),c&512&&dc(l,l.return);break;case 12:Is(r,l);break;case 31:Is(r,l),c&4&&YE(r,l);break;case 13:Is(r,l),c&4&&QE(r,l),c&64&&(r=l.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(l=ND.bind(null,l),XD(r,l))));break;case 22:if(c=l.memoizedState!==null||Rs,!c){a=a!==null&&a.memoizedState!==null||En,m=Rs;var g=En;Rs=c,(En=a)&&!g?Os(r,l,(l.subtreeFlags&8772)!==0):Is(r,l),Rs=m,En=g}break;case 30:break;default:Is(r,l)}}function GE(r){var a=r.alternate;a!==null&&(r.alternate=null,GE(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&dt(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Yt=null,_i=!1;function As(r,a,l){for(l=l.child;l!==null;)KE(r,a,l),l=l.sibling}function KE(r,a,l){if(mn&&typeof mn.onCommitFiberUnmount=="function")try{mn.onCommitFiberUnmount(ln,l)}catch{}switch(l.tag){case 26:En||Fr(l,a),As(r,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:En||Fr(l,a);var c=Yt,m=_i;Oa(l.type)&&(Yt=l.stateNode,_i=!1),As(r,a,l),Tc(l.stateNode),Yt=c,_i=m;break;case 5:En||Fr(l,a);case 6:if(c=Yt,m=_i,Yt=null,As(r,a,l),Yt=c,_i=m,Yt!==null)if(_i)try{(Yt.nodeType===9?Yt.body:Yt.nodeName==="HTML"?Yt.ownerDocument.body:Yt).removeChild(l.stateNode)}catch(g){It(l,a,g)}else try{Yt.removeChild(l.stateNode)}catch(g){It(l,a,g)}break;case 18:Yt!==null&&(_i?(r=Yt,zT(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,l.stateNode),$l(r)):zT(Yt,l.stateNode));break;case 4:c=Yt,m=_i,Yt=l.stateNode.containerInfo,_i=!0,As(r,a,l),Yt=c,_i=m;break;case 0:case 11:case 14:case 15:Ta(2,l,a),En||Ta(4,l,a),As(r,a,l);break;case 1:En||(Fr(l,a),c=l.stateNode,typeof c.componentWillUnmount=="function"&&FE(l,a,c)),As(r,a,l);break;case 21:As(r,a,l);break;case 22:En=(c=En)||l.memoizedState!==null,As(r,a,l),En=c;break;default:As(r,a,l)}}function YE(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{$l(r)}catch(l){It(a,a.return,l)}}}function QE(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{$l(r)}catch(l){It(a,a.return,l)}}function SD(r){switch(r.tag){case 31:case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new qE),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new qE),a;default:throw Error(i(435,r.tag))}}function kf(r,a){var l=SD(r);a.forEach(function(c){if(!l.has(c)){l.add(c);var m=MD.bind(null,r,c);c.then(m,m)}})}function vi(r,a){var l=a.deletions;if(l!==null)for(var c=0;c<l.length;c++){var m=l[c],g=r,b=a,R=b;e:for(;R!==null;){switch(R.tag){case 27:if(Oa(R.type)){Yt=R.stateNode,_i=!1;break e}break;case 5:Yt=R.stateNode,_i=!1;break e;case 3:case 4:Yt=R.stateNode.containerInfo,_i=!0;break e}R=R.return}if(Yt===null)throw Error(i(160));KE(g,b,m),Yt=null,_i=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)WE(a,r),a=a.sibling}var br=null;function WE(r,a){var l=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:vi(a,r),bi(r),c&4&&(Ta(3,r,r.return),fc(3,r),Ta(5,r,r.return));break;case 1:vi(a,r),bi(r),c&512&&(En||l===null||Fr(l,l.return)),c&64&&Rs&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(l=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var m=br;if(vi(a,r),bi(r),c&512&&(En||l===null||Fr(l,l.return)),c&4){var g=l!==null?l.memoizedState:null;if(c=r.memoizedState,l===null)if(c===null)if(r.stateNode===null){e:{c=r.type,l=r.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":g=m.getElementsByTagName("title")[0],(!g||g[lt]||g[Te]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(c),m.head.insertBefore(g,m.querySelector("head > title"))),jn(g,c,l),g[Te]=r,Gt(g),c=g;break e;case"link":var b=WT("link","href",m).get(c+(l.href||""));if(b){for(var R=0;R<b.length;R++)if(g=b[R],g.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&g.getAttribute("rel")===(l.rel==null?null:l.rel)&&g.getAttribute("title")===(l.title==null?null:l.title)&&g.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){b.splice(R,1);break t}}g=m.createElement(c),jn(g,c,l),m.head.appendChild(g);break;case"meta":if(b=WT("meta","content",m).get(c+(l.content||""))){for(R=0;R<b.length;R++)if(g=b[R],g.getAttribute("content")===(l.content==null?null:""+l.content)&&g.getAttribute("name")===(l.name==null?null:l.name)&&g.getAttribute("property")===(l.property==null?null:l.property)&&g.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&g.getAttribute("charset")===(l.charSet==null?null:l.charSet)){b.splice(R,1);break t}}g=m.createElement(c),jn(g,c,l),m.head.appendChild(g);break;default:throw Error(i(468,c))}g[Te]=r,Gt(g),c=g}r.stateNode=c}else XT(m,r.type,r.stateNode);else r.stateNode=QT(m,c,r.memoizedProps);else g!==c?(g===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):g.count--,c===null?XT(m,r.type,r.stateNode):QT(m,c,r.memoizedProps)):c===null&&r.stateNode!==null&&Dg(r,r.memoizedProps,l.memoizedProps)}break;case 27:vi(a,r),bi(r),c&512&&(En||l===null||Fr(l,l.return)),l!==null&&c&4&&Dg(r,r.memoizedProps,l.memoizedProps);break;case 5:if(vi(a,r),bi(r),c&512&&(En||l===null||Fr(l,l.return)),r.flags&32){m=r.stateNode;try{yi(m,"")}catch(Ae){It(r,r.return,Ae)}}c&4&&r.stateNode!=null&&(m=r.memoizedProps,Dg(r,m,l!==null?l.memoizedProps:m)),c&1024&&(xg=!0);break;case 6:if(vi(a,r),bi(r),c&4){if(r.stateNode===null)throw Error(i(162));c=r.memoizedProps,l=r.stateNode;try{l.nodeValue=c}catch(Ae){It(r,r.return,Ae)}}break;case 3:if(Xf=null,m=br,br=Qf(a.containerInfo),vi(a,r),br=m,bi(r),c&4&&l!==null&&l.memoizedState.isDehydrated)try{$l(a.containerInfo)}catch(Ae){It(r,r.return,Ae)}xg&&(xg=!1,XE(r));break;case 4:c=br,br=Qf(r.stateNode.containerInfo),vi(a,r),bi(r),br=c;break;case 12:vi(a,r),bi(r);break;case 31:vi(a,r),bi(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,kf(r,c)));break;case 13:vi(a,r),bi(r),r.child.flags&8192&&r.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Vf=on()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,kf(r,c)));break;case 22:m=r.memoizedState!==null;var F=l!==null&&l.memoizedState!==null,X=Rs,se=En;if(Rs=X||m,En=se||F,vi(a,r),En=se,Rs=X,bi(r),c&8192)e:for(a=r.stateNode,a._visibility=m?a._visibility&-2:a._visibility|1,m&&(l===null||F||Rs||En||xo(r)),l=null,a=r;;){if(a.tag===5||a.tag===26){if(l===null){F=l=a;try{if(g=F.stateNode,m)b=g.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{R=F.stateNode;var oe=F.memoizedProps.style,J=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;R.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(Ae){It(F,F.return,Ae)}}}else if(a.tag===6){if(l===null){F=a;try{F.stateNode.nodeValue=m?"":F.memoizedProps}catch(Ae){It(F,F.return,Ae)}}}else if(a.tag===18){if(l===null){F=a;try{var ne=F.stateNode;m?FT(ne,!0):FT(F.stateNode,!1)}catch(Ae){It(F,F.return,Ae)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=r.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,kf(r,l))));break;case 19:vi(a,r),bi(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,kf(r,c)));break;case 30:break;case 21:break;default:vi(a,r),bi(r)}}function bi(r){var a=r.flags;if(a&2){try{for(var l,c=r.return;c!==null;){if(HE(c)){l=c;break}c=c.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var m=l.stateNode,g=Ng(r);Pf(r,g,m);break;case 5:var b=l.stateNode;l.flags&32&&(yi(b,""),l.flags&=-33);var R=Ng(r);Pf(r,R,b);break;case 3:case 4:var F=l.stateNode.containerInfo,X=Ng(r);Mg(r,X,F);break;default:throw Error(i(161))}}catch(se){It(r,r.return,se)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function XE(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;XE(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function Is(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)$E(r,a.alternate,a),a=a.sibling}function xo(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:Ta(4,a,a.return),xo(a);break;case 1:Fr(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&FE(a,a.return,l),xo(a);break;case 27:Tc(a.stateNode);case 26:case 5:Fr(a,a.return),xo(a);break;case 22:a.memoizedState===null&&xo(a);break;case 30:xo(a);break;default:xo(a)}r=r.sibling}}function Os(r,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,m=r,g=a,b=g.flags;switch(g.tag){case 0:case 11:case 15:Os(m,g,l),fc(4,g);break;case 1:if(Os(m,g,l),c=g,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(X){It(c,c.return,X)}if(c=g,m=c.updateQueue,m!==null){var R=c.stateNode;try{var F=m.shared.hiddenCallbacks;if(F!==null)for(m.shared.hiddenCallbacks=null,m=0;m<F.length;m++)Ib(F[m],R)}catch(X){It(c,c.return,X)}}l&&b&64&&zE(g),dc(g,g.return);break;case 27:jE(g);case 26:case 5:Os(m,g,l),l&&c===null&&b&4&&BE(g),dc(g,g.return);break;case 12:Os(m,g,l);break;case 31:Os(m,g,l),l&&b&4&&YE(m,g);break;case 13:Os(m,g,l),l&&b&4&&QE(m,g);break;case 22:g.memoizedState===null&&Os(m,g,l),dc(g,g.return);break;case 30:break;default:Os(m,g,l)}a=a.sibling}}function Pg(r,a){var l=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==l&&(r!=null&&r.refCount++,l!=null&&Zu(l))}function kg(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&Zu(r))}function Er(r,a,l,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)JE(r,a,l,c),a=a.sibling}function JE(r,a,l,c){var m=a.flags;switch(a.tag){case 0:case 11:case 15:Er(r,a,l,c),m&2048&&fc(9,a);break;case 1:Er(r,a,l,c);break;case 3:Er(r,a,l,c),m&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&Zu(r)));break;case 12:if(m&2048){Er(r,a,l,c),r=a.stateNode;try{var g=a.memoizedProps,b=g.id,R=g.onPostCommit;typeof R=="function"&&R(b,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(F){It(a,a.return,F)}}else Er(r,a,l,c);break;case 31:Er(r,a,l,c);break;case 13:Er(r,a,l,c);break;case 23:break;case 22:g=a.stateNode,b=a.alternate,a.memoizedState!==null?g._visibility&2?Er(r,a,l,c):pc(r,a):g._visibility&2?Er(r,a,l,c):(g._visibility|=2,Pl(r,a,l,c,(a.subtreeFlags&10256)!==0||!1)),m&2048&&Pg(b,a);break;case 24:Er(r,a,l,c),m&2048&&kg(a.alternate,a);break;default:Er(r,a,l,c)}}function Pl(r,a,l,c,m){for(m=m&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var g=r,b=a,R=l,F=c,X=b.flags;switch(b.tag){case 0:case 11:case 15:Pl(g,b,R,F,m),fc(8,b);break;case 23:break;case 22:var se=b.stateNode;b.memoizedState!==null?se._visibility&2?Pl(g,b,R,F,m):pc(g,b):(se._visibility|=2,Pl(g,b,R,F,m)),m&&X&2048&&Pg(b.alternate,b);break;case 24:Pl(g,b,R,F,m),m&&X&2048&&kg(b.alternate,b);break;default:Pl(g,b,R,F,m)}a=a.sibling}}function pc(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=r,c=a,m=c.flags;switch(c.tag){case 22:pc(l,c),m&2048&&Pg(c.alternate,c);break;case 24:pc(l,c),m&2048&&kg(c.alternate,c);break;default:pc(l,c)}a=a.sibling}}var mc=8192;function kl(r,a,l){if(r.subtreeFlags&mc)for(r=r.child;r!==null;)ZE(r,a,l),r=r.sibling}function ZE(r,a,l){switch(r.tag){case 26:kl(r,a,l),r.flags&mc&&r.memoizedState!==null&&uN(l,br,r.memoizedState,r.memoizedProps);break;case 5:kl(r,a,l);break;case 3:case 4:var c=br;br=Qf(r.stateNode.containerInfo),kl(r,a,l),br=c;break;case 22:r.memoizedState===null&&(c=r.alternate,c!==null&&c.memoizedState!==null?(c=mc,mc=16777216,kl(r,a,l),mc=c):kl(r,a,l));break;default:kl(r,a,l)}}function eT(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function gc(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];Pn=c,nT(c,r)}eT(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)tT(r),r=r.sibling}function tT(r){switch(r.tag){case 0:case 11:case 15:gc(r),r.flags&2048&&Ta(9,r,r.return);break;case 3:gc(r);break;case 12:gc(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&2&&(r.return===null||r.return.tag!==13)?(a._visibility&=-3,Lf(r)):gc(r);break;default:gc(r)}}function Lf(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];Pn=c,nT(c,r)}eT(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:Ta(8,a,a.return),Lf(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,Lf(a));break;default:Lf(a)}r=r.sibling}}function nT(r,a){for(;Pn!==null;){var l=Pn;switch(l.tag){case 0:case 11:case 15:Ta(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Zu(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,Pn=c;else e:for(l=r;Pn!==null;){c=Pn;var m=c.sibling,g=c.return;if(GE(c),c===l){Pn=null;break e}if(m!==null){m.return=g,Pn=m;break e}Pn=g}}}var wD={getCacheForType:function(r){var a=Bn(_n),l=a.data.get(r);return l===void 0&&(l=r(),a.data.set(r,l)),l},cacheSignal:function(){return Bn(_n).controller.signal}},CD=typeof WeakMap=="function"?WeakMap:Map,vt=0,kt=null,Ze=null,nt=0,At=0,Pi=null,Sa=!1,Ll=!1,Lg=!1,Ds=0,nn=0,wa=0,Po=0,Vg=0,ki=0,Vl=0,yc=null,Ei=null,Ug=!1,Vf=0,iT=0,Uf=1/0,zf=null,Ca=null,An=0,Ra=null,Ul=null,Ns=0,zg=0,Fg=null,rT=null,_c=0,Bg=null;function Li(){return(vt&2)!==0&&nt!==0?nt&-nt:K.T!==null?Kg():Ne()}function sT(){if(ki===0)if((nt&536870912)===0||at){var r=fr;fr<<=1,(fr&3932160)===0&&(fr=262144),ki=r}else ki=536870912;return r=Mi.current,r!==null&&(r.flags|=32),ki}function Ti(r,a,l){(r===kt&&(At===2||At===9)||r.cancelPendingCommit!==null)&&(zl(r,0),Aa(r,nt,ki,!1)),ps(r,l),((vt&2)===0||r!==kt)&&(r===kt&&((vt&2)===0&&(Po|=l),nn===4&&Aa(r,nt,ki,!1)),Br(r))}function aT(r,a,l){if((vt&6)!==0)throw Error(i(327));var c=!l&&(a&127)===0&&(a&r.expiredLanes)===0||mi(r,a),m=c?ID(r,a):jg(r,a,!0),g=c;do{if(m===0){Ll&&!c&&Aa(r,a,0,!1);break}else{if(l=r.current.alternate,g&&!RD(l)){m=jg(r,a,!1),g=!1;continue}if(m===2){if(g=a,r.errorRecoveryDisabledLanes&g)var b=0;else b=r.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){a=b;e:{var R=r;m=yc;var F=R.current.memoizedState.isDehydrated;if(F&&(zl(R,b).flags|=256),b=jg(R,b,!1),b!==2){if(Lg&&!F){R.errorRecoveryDisabledLanes|=g,Po|=g,m=4;break e}g=Ei,Ei=m,g!==null&&(Ei===null?Ei=g:Ei.push.apply(Ei,g))}m=b}if(g=!1,m!==2)continue}}if(m===1){zl(r,0),Aa(r,a,0,!0);break}e:{switch(c=r,g=m,g){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:Aa(c,a,ki,!Sa);break e;case 2:Ei=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(m=Vf+300-on(),10<m)){if(Aa(c,a,ki,!Sa),ji(c,0,!0)!==0)break e;Ns=a,c.timeoutHandle=VT(oT.bind(null,c,l,Ei,zf,Ug,a,ki,Po,Vl,Sa,g,"Throttled",-0,0),m);break e}oT(c,l,Ei,zf,Ug,a,ki,Po,Vl,Sa,g,null,-0,0)}}break}while(!0);Br(r)}function oT(r,a,l,c,m,g,b,R,F,X,se,oe,J,ne){if(r.timeoutHandle=-1,oe=a.subtreeFlags,oe&8192||(oe&16785408)===16785408){oe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:pr},ZE(a,g,oe);var Ae=(g&62914560)===g?Vf-on():(g&4194048)===g?iT-on():0;if(Ae=cN(oe,Ae),Ae!==null){Ns=g,r.cancelPendingCommit=Ae(mT.bind(null,r,a,g,l,c,m,b,R,F,se,oe,null,J,ne)),Aa(r,g,b,!X);return}}mT(r,a,g,l,c,m,b,R,F)}function RD(r){for(var a=r;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var m=l[c],g=m.getSnapshot;m=m.value;try{if(!Di(g(),m))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Aa(r,a,l,c){a&=~Vg,a&=~Po,r.suspendedLanes|=a,r.pingedLanes&=~a,c&&(r.warmLanes|=a),c=r.expirationTimes;for(var m=a;0<m;){var g=31-$t(m),b=1<<g;c[g]=-1,m&=~b}l!==0&&G(r,l,a)}function Ff(){return(vt&6)===0?(vc(0),!1):!0}function Hg(){if(Ze!==null){if(At===0)var r=Ze.return;else r=Ze,bs=Co=null,rg(r),Ol=null,tc=0,r=Ze;for(;r!==null;)UE(r.alternate,r),r=r.return;Ze=null}}function zl(r,a){var l=r.timeoutHandle;l!==-1&&(r.timeoutHandle=-1,GD(l)),l=r.cancelPendingCommit,l!==null&&(r.cancelPendingCommit=null,l()),Ns=0,Hg(),kt=r,Ze=l=_s(r.current,null),nt=a,At=0,Pi=null,Sa=!1,Ll=mi(r,a),Lg=!1,Vl=ki=Vg=Po=wa=nn=0,Ei=yc=null,Ug=!1,(a&8)!==0&&(a|=a&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=a;0<c;){var m=31-$t(c),g=1<<m;a|=r[m],c&=~g}return Ds=a,of(),l}function lT(r,a){Ye=null,K.H=uc,a===Il||a===mf?(a=wb(),At=3):a===Gm?(a=wb(),At=4):At=a===bg?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Pi=a,Ze===null&&(nn=1,Of(r,Xi(a,r.current)))}function uT(){var r=Mi.current;return r===null?!0:(nt&4194048)===nt?tr===null:(nt&62914560)===nt||(nt&536870912)!==0?r===tr:!1}function cT(){var r=K.H;return K.H=uc,r===null?uc:r}function hT(){var r=K.A;return K.A=wD,r}function Bf(){nn=4,Sa||(nt&4194048)!==nt&&Mi.current!==null||(Ll=!0),(wa&134217727)===0&&(Po&134217727)===0||kt===null||Aa(kt,nt,ki,!1)}function jg(r,a,l){var c=vt;vt|=2;var m=cT(),g=hT();(kt!==r||nt!==a)&&(zf=null,zl(r,a)),a=!1;var b=nn;e:do try{if(At!==0&&Ze!==null){var R=Ze,F=Pi;switch(At){case 8:Hg(),b=6;break e;case 3:case 2:case 9:case 6:Mi.current===null&&(a=!0);var X=At;if(At=0,Pi=null,Fl(r,R,F,X),l&&Ll){b=0;break e}break;default:X=At,At=0,Pi=null,Fl(r,R,F,X)}}AD(),b=nn;break}catch(se){lT(r,se)}while(!0);return a&&r.shellSuspendCounter++,bs=Co=null,vt=c,K.H=m,K.A=g,Ze===null&&(kt=null,nt=0,of()),b}function AD(){for(;Ze!==null;)fT(Ze)}function ID(r,a){var l=vt;vt|=2;var c=cT(),m=hT();kt!==r||nt!==a?(zf=null,Uf=on()+500,zl(r,a)):Ll=mi(r,a);e:do try{if(At!==0&&Ze!==null){a=Ze;var g=Pi;t:switch(At){case 1:At=0,Pi=null,Fl(r,a,g,1);break;case 2:case 9:if(Tb(g)){At=0,Pi=null,dT(a);break}a=function(){At!==2&&At!==9||kt!==r||(At=7),Br(r)},g.then(a,a);break e;case 3:At=7;break e;case 4:At=5;break e;case 7:Tb(g)?(At=0,Pi=null,dT(a)):(At=0,Pi=null,Fl(r,a,g,7));break;case 5:var b=null;switch(Ze.tag){case 26:b=Ze.memoizedState;case 5:case 27:var R=Ze;if(b?JT(b):R.stateNode.complete){At=0,Pi=null;var F=R.sibling;if(F!==null)Ze=F;else{var X=R.return;X!==null?(Ze=X,Hf(X)):Ze=null}break t}}At=0,Pi=null,Fl(r,a,g,5);break;case 6:At=0,Pi=null,Fl(r,a,g,6);break;case 8:Hg(),nn=6;break e;default:throw Error(i(462))}}OD();break}catch(se){lT(r,se)}while(!0);return bs=Co=null,K.H=c,K.A=m,vt=l,Ze!==null?0:(kt=null,nt=0,of(),nn)}function OD(){for(;Ze!==null&&!Lu();)fT(Ze)}function fT(r){var a=LE(r.alternate,r,Ds);r.memoizedProps=r.pendingProps,a===null?Hf(r):Ze=a}function dT(r){var a=r,l=a.alternate;switch(a.tag){case 15:case 0:a=DE(l,a,a.pendingProps,a.type,void 0,nt);break;case 11:a=DE(l,a,a.pendingProps,a.type.render,a.ref,nt);break;case 5:rg(a);default:UE(l,a),a=Ze=hb(a,Ds),a=LE(l,a,Ds)}r.memoizedProps=r.pendingProps,a===null?Hf(r):Ze=a}function Fl(r,a,l,c){bs=Co=null,rg(a),Ol=null,tc=0;var m=a.return;try{if(yD(r,m,a,l,nt)){nn=1,Of(r,Xi(l,r.current)),Ze=null;return}}catch(g){if(m!==null)throw Ze=m,g;nn=1,Of(r,Xi(l,r.current)),Ze=null;return}a.flags&32768?(at||c===1?r=!0:Ll||(nt&536870912)!==0?r=!1:(Sa=r=!0,(c===2||c===9||c===3||c===6)&&(c=Mi.current,c!==null&&c.tag===13&&(c.flags|=16384))),pT(a,r)):Hf(a)}function Hf(r){var a=r;do{if((a.flags&32768)!==0){pT(a,Sa);return}r=a.return;var l=bD(a.alternate,a,Ds);if(l!==null){Ze=l;return}if(a=a.sibling,a!==null){Ze=a;return}Ze=a=r}while(a!==null);nn===0&&(nn=5)}function pT(r,a){do{var l=ED(r.alternate,r);if(l!==null){l.flags&=32767,Ze=l;return}if(l=r.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(r=r.sibling,r!==null)){Ze=r;return}Ze=r=l}while(r!==null);nn=6,Ze=null}function mT(r,a,l,c,m,g,b,R,F){r.cancelPendingCommit=null;do jf();while(An!==0);if((vt&6)!==0)throw Error(i(327));if(a!==null){if(a===r.current)throw Error(i(177));if(g=a.lanes|a.childLanes,g|=Nm,B(r,l,g,b,R,F),r===kt&&(Ze=kt=null,nt=0),Ul=a,Ra=r,Ns=l,zg=g,Fg=m,rT=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,xD(Dn,function(){return bT(),null})):(r.callbackNode=null,r.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=K.T,K.T=null,m=re.p,re.p=2,b=vt,vt|=4;try{TD(r,a,l)}finally{vt=b,re.p=m,K.T=c}}An=1,gT(),yT(),_T()}}function gT(){if(An===1){An=0;var r=Ra,a=Ul,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=K.T,K.T=null;var c=re.p;re.p=2;var m=vt;vt|=4;try{WE(a,r);var g=ty,b=nb(r.containerInfo),R=g.focusedElem,F=g.selectionRange;if(b!==R&&R&&R.ownerDocument&&tb(R.ownerDocument.documentElement,R)){if(F!==null&&Rm(R)){var X=F.start,se=F.end;if(se===void 0&&(se=X),"selectionStart"in R)R.selectionStart=X,R.selectionEnd=Math.min(se,R.value.length);else{var oe=R.ownerDocument||document,J=oe&&oe.defaultView||window;if(J.getSelection){var ne=J.getSelection(),Ae=R.textContent.length,Ue=Math.min(F.start,Ae),xt=F.end===void 0?Ue:Math.min(F.end,Ae);!ne.extend&&Ue>xt&&(b=xt,xt=Ue,Ue=b);var $=eb(R,Ue),q=eb(R,xt);if($&&q&&(ne.rangeCount!==1||ne.anchorNode!==$.node||ne.anchorOffset!==$.offset||ne.focusNode!==q.node||ne.focusOffset!==q.offset)){var W=oe.createRange();W.setStart($.node,$.offset),ne.removeAllRanges(),Ue>xt?(ne.addRange(W),ne.extend(q.node,q.offset)):(W.setEnd(q.node,q.offset),ne.addRange(W))}}}}for(oe=[],ne=R;ne=ne.parentNode;)ne.nodeType===1&&oe.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<oe.length;R++){var ae=oe[R];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}td=!!ey,ty=ey=null}finally{vt=m,re.p=c,K.T=l}}r.current=a,An=2}}function yT(){if(An===2){An=0;var r=Ra,a=Ul,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=K.T,K.T=null;var c=re.p;re.p=2;var m=vt;vt|=4;try{$E(r,a.alternate,a)}finally{vt=m,re.p=c,K.T=l}}An=3}}function _T(){if(An===4||An===3){An=0,Hi();var r=Ra,a=Ul,l=Ns,c=rT;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?An=5:(An=0,Ul=Ra=null,vT(r,r.pendingLanes));var m=r.pendingLanes;if(m===0&&(Ca=null),Ce(l),a=a.stateNode,mn&&typeof mn.onCommitFiberRoot=="function")try{mn.onCommitFiberRoot(ln,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=K.T,m=re.p,re.p=2,K.T=null;try{for(var g=r.onRecoverableError,b=0;b<c.length;b++){var R=c[b];g(R.value,{componentStack:R.stack})}}finally{K.T=a,re.p=m}}(Ns&3)!==0&&jf(),Br(r),m=r.pendingLanes,(l&261930)!==0&&(m&42)!==0?r===Bg?_c++:(_c=0,Bg=r):_c=0,vc(0)}}function vT(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,Zu(a)))}function jf(){return gT(),yT(),_T(),bT()}function bT(){if(An!==5)return!1;var r=Ra,a=zg;zg=0;var l=Ce(Ns),c=K.T,m=re.p;try{re.p=32>l?32:l,K.T=null,l=Fg,Fg=null;var g=Ra,b=Ns;if(An=0,Ul=Ra=null,Ns=0,(vt&6)!==0)throw Error(i(331));var R=vt;if(vt|=4,tT(g.current),JE(g,g.current,b,l),vt=R,vc(0,!1),mn&&typeof mn.onPostCommitFiberRoot=="function")try{mn.onPostCommitFiberRoot(ln,g)}catch{}return!0}finally{re.p=m,K.T=c,vT(r,a)}}function ET(r,a,l){a=Xi(l,a),a=vg(r.stateNode,a,2),r=va(r,a,2),r!==null&&(ps(r,2),Br(r))}function It(r,a,l){if(r.tag===3)ET(r,r,l);else for(;a!==null;){if(a.tag===3){ET(a,r,l);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ca===null||!Ca.has(c))){r=Xi(l,r),l=TE(2),c=va(a,l,2),c!==null&&(SE(l,c,a,r),ps(c,2),Br(c));break}}a=a.return}}function qg(r,a,l){var c=r.pingCache;if(c===null){c=r.pingCache=new CD;var m=new Set;c.set(a,m)}else m=c.get(a),m===void 0&&(m=new Set,c.set(a,m));m.has(l)||(Lg=!0,m.add(l),r=DD.bind(null,r,a,l),a.then(r,r))}function DD(r,a,l){var c=r.pingCache;c!==null&&c.delete(a),r.pingedLanes|=r.suspendedLanes&l,r.warmLanes&=~l,kt===r&&(nt&l)===l&&(nn===4||nn===3&&(nt&62914560)===nt&&300>on()-Vf?(vt&2)===0&&zl(r,0):Vg|=l,Vl===nt&&(Vl=0)),Br(r)}function TT(r,a){a===0&&(a=ds()),r=To(r,a),r!==null&&(ps(r,a),Br(r))}function ND(r){var a=r.memoizedState,l=0;a!==null&&(l=a.retryLane),TT(r,l)}function MD(r,a){var l=0;switch(r.tag){case 31:case 13:var c=r.stateNode,m=r.memoizedState;m!==null&&(l=m.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(a),TT(r,l)}function xD(r,a){return an(r,a)}var qf=null,Bl=null,$g=!1,$f=!1,Gg=!1,Ia=0;function Br(r){r!==Bl&&r.next===null&&(Bl===null?qf=Bl=r:Bl=Bl.next=r),$f=!0,$g||($g=!0,kD())}function vc(r,a){if(!Gg&&$f){Gg=!0;do for(var l=!1,c=qf;c!==null;){if(r!==0){var m=c.pendingLanes;if(m===0)var g=0;else{var b=c.suspendedLanes,R=c.pingedLanes;g=(1<<31-$t(42|r)+1)-1,g&=m&~(b&~R),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(l=!0,RT(c,g))}else g=nt,g=ji(c,c===kt?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||mi(c,g)||(l=!0,RT(c,g));c=c.next}while(l);Gg=!1}}function PD(){ST()}function ST(){$f=$g=!1;var r=0;Ia!==0&&$D()&&(r=Ia);for(var a=on(),l=null,c=qf;c!==null;){var m=c.next,g=wT(c,a);g===0?(c.next=null,l===null?qf=m:l.next=m,m===null&&(Bl=l)):(l=c,(r!==0||(g&3)!==0)&&($f=!0)),c=m}An!==0&&An!==5||vc(r),Ia!==0&&(Ia=0)}function wT(r,a){for(var l=r.suspendedLanes,c=r.pingedLanes,m=r.expirationTimes,g=r.pendingLanes&-62914561;0<g;){var b=31-$t(g),R=1<<b,F=m[b];F===-1?((R&l)===0||(R&c)!==0)&&(m[b]=ia(R,a)):F<=a&&(r.expiredLanes|=R),g&=~R}if(a=kt,l=nt,l=ji(r,r===a?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c=r.callbackNode,l===0||r===a&&(At===2||At===9)||r.cancelPendingCommit!==null)return c!==null&&c!==null&&Or(c),r.callbackNode=null,r.callbackPriority=0;if((l&3)===0||mi(r,l)){if(a=l&-l,a===r.callbackPriority)return a;switch(c!==null&&Or(c),Ce(l)){case 2:case 8:l=oi;break;case 32:l=Dn;break;case 268435456:l=al;break;default:l=Dn}return c=CT.bind(null,r),l=an(l,c),r.callbackPriority=a,r.callbackNode=l,a}return c!==null&&c!==null&&Or(c),r.callbackPriority=2,r.callbackNode=null,2}function CT(r,a){if(An!==0&&An!==5)return r.callbackNode=null,r.callbackPriority=0,null;var l=r.callbackNode;if(jf()&&r.callbackNode!==l)return null;var c=nt;return c=ji(r,r===kt?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c===0?null:(aT(r,c,a),wT(r,on()),r.callbackNode!=null&&r.callbackNode===l?CT.bind(null,r):null)}function RT(r,a){if(jf())return null;aT(r,a,!0)}function kD(){KD(function(){(vt&6)!==0?an(cs,PD):ST()})}function Kg(){if(Ia===0){var r=Rl;r===0&&(r=Ai,Ai<<=1,(Ai&261888)===0&&(Ai=256)),Ia=r}return Ia}function AT(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:hl(""+r)}function IT(r,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,r.id&&l.setAttribute("form",r.id),a.parentNode.insertBefore(l,a),r=new FormData(r),l.parentNode.removeChild(l),r}function LD(r,a,l,c,m){if(a==="submit"&&l&&l.stateNode===m){var g=AT((m[be]||null).action),b=c.submitter;b&&(a=(a=b[be]||null)?AT(a.formAction):b.getAttribute("formAction"),a!==null&&(g=a,b=null));var R=new Pr("action","action",null,c,m);r.push({event:R,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ia!==0){var F=b?IT(m,b):new FormData(m);dg(l,{pending:!0,data:F,method:m.method,action:g},null,F)}}else typeof g=="function"&&(R.preventDefault(),F=b?IT(m,b):new FormData(m),dg(l,{pending:!0,data:F,method:m.method,action:g},g,F))},currentTarget:m}]})}}for(var Yg=0;Yg<Dm.length;Yg++){var Qg=Dm[Yg],VD=Qg.toLowerCase(),UD=Qg[0].toUpperCase()+Qg.slice(1);vr(VD,"on"+UD)}vr(sb,"onAnimationEnd"),vr(ab,"onAnimationIteration"),vr(ob,"onAnimationStart"),vr("dblclick","onDoubleClick"),vr("focusin","onFocus"),vr("focusout","onBlur"),vr(eD,"onTransitionRun"),vr(tD,"onTransitionStart"),vr(nD,"onTransitionCancel"),vr(lb,"onTransitionEnd"),ci("onMouseEnter",["mouseout","mouseover"]),ci("onMouseLeave",["mouseout","mouseover"]),ci("onPointerEnter",["pointerout","pointerover"]),ci("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bc));function OT(r,a){a=(a&4)!==0;for(var l=0;l<r.length;l++){var c=r[l],m=c.event;c=c.listeners;e:{var g=void 0;if(a)for(var b=c.length-1;0<=b;b--){var R=c[b],F=R.instance,X=R.currentTarget;if(R=R.listener,F!==g&&m.isPropagationStopped())break e;g=R,m.currentTarget=X;try{g(m)}catch(se){af(se)}m.currentTarget=null,g=F}else for(b=0;b<c.length;b++){if(R=c[b],F=R.instance,X=R.currentTarget,R=R.listener,F!==g&&m.isPropagationStopped())break e;g=R,m.currentTarget=X;try{g(m)}catch(se){af(se)}m.currentTarget=null,g=F}}}}function et(r,a){var l=a[We];l===void 0&&(l=a[We]=new Set);var c=r+"__bubble";l.has(c)||(DT(a,r,2,!1),l.add(c))}function Wg(r,a,l){var c=0;a&&(c|=4),DT(l,r,c,a)}var Gf="_reactListening"+Math.random().toString(36).slice(2);function Xg(r){if(!r[Gf]){r[Gf]=!0,dr.forEach(function(l){l!=="selectionchange"&&(zD.has(l)||Wg(l,!1,r),Wg(l,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[Gf]||(a[Gf]=!0,Wg("selectionchange",!1,a))}}function DT(r,a,l,c){switch(sS(a)){case 2:var m=dN;break;case 8:m=pN;break;default:m=fy}l=m.bind(null,a,l,r),m=void 0,!po||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),c?m!==void 0?r.addEventListener(a,l,{capture:!0,passive:m}):r.addEventListener(a,l,!0):m!==void 0?r.addEventListener(a,l,{passive:m}):r.addEventListener(a,l,!1)}function Jg(r,a,l,c,m){var g=c;if((a&1)===0&&(a&2)===0&&c!==null)e:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var R=c.stateNode.containerInfo;if(R===m)break;if(b===4)for(b=c.return;b!==null;){var F=b.tag;if((F===3||F===4)&&b.stateNode.containerInfo===m)return;b=b.return}for(;R!==null;){if(b=Nn(R),b===null)return;if(F=b.tag,F===5||F===6||F===26||F===27){c=g=b;continue e}R=R.parentNode}}c=c.return}ua(function(){var X=g,se=Ki(l),oe=[];e:{var J=ub.get(r);if(J!==void 0){var ne=Pr,Ae=r;switch(r){case"keypress":if(go(l)===0)break e;case"keydown":case"keyup":ne=nf;break;case"focusin":Ae="focus",ne=_o;break;case"focusout":Ae="blur",ne=_o;break;case"beforeblur":case"afterblur":ne=_o;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=$u;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=Kh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=v;break;case sb:case ab:case ob:ne=Qh;break;case lb:ne=D;break;case"scroll":case"scrollend":ne=qu;break;case"wheel":ne=te;break;case"copy":case"cut":case"paste":ne=Wh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=ys;break;case"toggle":case"beforetoggle":ne=Ke}var Ue=(a&4)!==0,xt=!Ue&&(r==="scroll"||r==="scrollend"),$=Ue?J!==null?J+"Capture":null:J;Ue=[];for(var q=X,W;q!==null;){var ae=q;if(W=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||W===null||$===null||(ae=mr(q,$),ae!=null&&Ue.push(Ec(q,ae,W))),xt)break;q=q.return}0<Ue.length&&(J=new ne(J,Ae,null,l,se),oe.push({event:J,listeners:Ue}))}}if((a&7)===0){e:{if(J=r==="mouseover"||r==="pointerover",ne=r==="mouseout"||r==="pointerout",J&&l!==Bu&&(Ae=l.relatedTarget||l.fromElement)&&(Nn(Ae)||Ae[we]))break e;if((ne||J)&&(J=se.window===se?se:(J=se.ownerDocument)?J.defaultView||J.parentWindow:window,ne?(Ae=l.relatedTarget||l.toElement,ne=X,Ae=Ae?Nn(Ae):null,Ae!==null&&(xt=o(Ae),Ue=Ae.tag,Ae!==xt||Ue!==5&&Ue!==27&&Ue!==6)&&(Ae=null)):(ne=null,Ae=X),ne!==Ae)){if(Ue=$u,ae="onMouseLeave",$="onMouseEnter",q="mouse",(r==="pointerout"||r==="pointerover")&&(Ue=ys,ae="onPointerLeave",$="onPointerEnter",q="pointer"),xt=ne==null?J:Zt(ne),W=Ae==null?J:Zt(Ae),J=new Ue(ae,q+"leave",ne,l,se),J.target=xt,J.relatedTarget=W,ae=null,Nn(se)===X&&(Ue=new Ue($,q+"enter",Ae,l,se),Ue.target=W,Ue.relatedTarget=xt,ae=Ue),xt=ae,ne&&Ae)t:{for(Ue=FD,$=ne,q=Ae,W=0,ae=$;ae;ae=Ue(ae))W++;ae=0;for(var Pe=q;Pe;Pe=Ue(Pe))ae++;for(;0<W-ae;)$=Ue($),W--;for(;0<ae-W;)q=Ue(q),ae--;for(;W--;){if($===q||q!==null&&$===q.alternate){Ue=$;break t}$=Ue($),q=Ue(q)}Ue=null}else Ue=null;ne!==null&&NT(oe,J,ne,Ue,!1),Ae!==null&&xt!==null&&NT(oe,xt,Ae,Ue,!0)}}e:{if(J=X?Zt(X):window,ne=J.nodeName&&J.nodeName.toLowerCase(),ne==="select"||ne==="input"&&J.type==="file")var pt=Y0;else if(G0(J))if(Q0)pt=XO;else{pt=QO;var De=YO}else ne=J.nodeName,!ne||ne.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?X&&cl(X.elementType)&&(pt=Y0):pt=WO;if(pt&&(pt=pt(r,X))){K0(oe,pt,l,se);break e}De&&De(r,J,X),r==="focusout"&&X&&J.type==="number"&&X.memoizedProps.value!=null&&Uu(J,"number",J.value)}switch(De=X?Zt(X):window,r){case"focusin":(G0(De)||De.contentEditable==="true")&&(_l=De,Am=X,Wu=null);break;case"focusout":Wu=Am=_l=null;break;case"mousedown":Im=!0;break;case"contextmenu":case"mouseup":case"dragend":Im=!1,ib(oe,l,se);break;case"selectionchange":if(ZO)break;case"keydown":case"keyup":ib(oe,l,se)}var Qe;if(_t)e:{switch(r){case"compositionstart":var it="onCompositionStart";break e;case"compositionend":it="onCompositionEnd";break e;case"compositionupdate":it="onCompositionUpdate";break e}it=void 0}else yl?vo(r,l)&&(it="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(it="onCompositionStart");it&&(Vr&&l.locale!=="ko"&&(yl||it!=="onCompositionStart"?it==="onCompositionEnd"&&yl&&(Qe=ju()):(xr=se,Hu="value"in xr?xr.value:xr.textContent,yl=!0)),De=Kf(X,it),0<De.length&&(it=new Lr(it,r,null,l,se),oe.push({event:it,listeners:De}),Qe?it.data=Qe:(Qe=gl(l),Qe!==null&&(it.data=Qe)))),(Qe=Qi?qO(r,l):$O(r,l))&&(it=Kf(X,"onBeforeInput"),0<it.length&&(De=new Lr("onBeforeInput","beforeinput",null,l,se),oe.push({event:De,listeners:it}),De.data=Qe)),LD(oe,r,X,l,se)}OT(oe,a)})}function Ec(r,a,l){return{instance:r,listener:a,currentTarget:l}}function Kf(r,a){for(var l=a+"Capture",c=[];r!==null;){var m=r,g=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=mr(r,l),m!=null&&c.unshift(Ec(r,m,g)),m=mr(r,a),m!=null&&c.push(Ec(r,m,g))),r.tag===3)return c;r=r.return}return[]}function FD(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function NT(r,a,l,c,m){for(var g=a._reactName,b=[];l!==null&&l!==c;){var R=l,F=R.alternate,X=R.stateNode;if(R=R.tag,F!==null&&F===c)break;R!==5&&R!==26&&R!==27||X===null||(F=X,m?(X=mr(l,g),X!=null&&b.unshift(Ec(l,X,F))):m||(X=mr(l,g),X!=null&&b.push(Ec(l,X,F)))),l=l.return}b.length!==0&&r.push({event:a,listeners:b})}var BD=/\r\n?/g,HD=/\u0000|\uFFFD/g;function MT(r){return(typeof r=="string"?r:""+r).replace(BD,`
`).replace(HD,"")}function xT(r,a){return a=MT(a),MT(r)===a}function Mt(r,a,l,c,m,g){switch(l){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||yi(r,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&yi(r,""+c);break;case"className":xn(r,"class",c);break;case"tabIndex":xn(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":xn(r,l,c);break;case"style":Fu(r,c,g);break;case"data":if(a!=="object"){xn(r,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||l!=="href")){r.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(l);break}c=hl(""+c),r.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(l==="formAction"?(a!=="input"&&Mt(r,a,"name",m.name,m,null),Mt(r,a,"formEncType",m.formEncType,m,null),Mt(r,a,"formMethod",m.formMethod,m,null),Mt(r,a,"formTarget",m.formTarget,m,null)):(Mt(r,a,"encType",m.encType,m,null),Mt(r,a,"method",m.method,m,null),Mt(r,a,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(l);break}c=hl(""+c),r.setAttribute(l,c);break;case"onClick":c!=null&&(r.onclick=pr);break;case"onScroll":c!=null&&et("scroll",r);break;case"onScrollEnd":c!=null&&et("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(i(60));r.innerHTML=l}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}l=hl(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,""+c):r.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,""):r.removeAttribute(l);break;case"capture":case"download":c===!0?r.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,c):r.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(l,c):r.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(l):r.setAttribute(l,c);break;case"popover":et("beforetoggle",r),et("toggle",r),Vt(r,"popover",c);break;case"xlinkActuate":Wt(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Wt(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Wt(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Wt(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Wt(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Wt(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Wt(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Wt(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Wt(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Vt(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Gh.get(l)||l,Vt(r,l,c))}}function Zg(r,a,l,c,m,g){switch(l){case"style":Fu(r,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(i(60));r.innerHTML=l}}break;case"children":typeof c=="string"?yi(r,c):(typeof c=="number"||typeof c=="bigint")&&yi(r,""+c);break;case"onScroll":c!=null&&et("scroll",r);break;case"onScrollEnd":c!=null&&et("scrollend",r);break;case"onClick":c!=null&&(r.onclick=pr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Oi.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),a=l.slice(2,m?l.length-7:void 0),g=r[be]||null,g=g!=null?g[l]:null,typeof g=="function"&&r.removeEventListener(a,g,m),typeof c=="function")){typeof g!="function"&&g!==null&&(l in r?r[l]=null:r.hasAttribute(l)&&r.removeAttribute(l)),r.addEventListener(a,c,m);break e}l in r?r[l]=c:c===!0?r.setAttribute(l,""):Vt(r,l,c)}}}function jn(r,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":et("error",r),et("load",r);var c=!1,m=!1,g;for(g in l)if(l.hasOwnProperty(g)){var b=l[g];if(b!=null)switch(g){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Mt(r,a,g,b,l,null)}}m&&Mt(r,a,"srcSet",l.srcSet,l,null),c&&Mt(r,a,"src",l.src,l,null);return;case"input":et("invalid",r);var R=g=b=m=null,F=null,X=null;for(c in l)if(l.hasOwnProperty(c)){var se=l[c];if(se!=null)switch(c){case"name":m=se;break;case"type":b=se;break;case"checked":F=se;break;case"defaultChecked":X=se;break;case"value":g=se;break;case"defaultValue":R=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(i(137,a));break;default:Mt(r,a,c,se,l,null)}}jh(r,g,R,F,X,b,m,!1);return;case"select":et("invalid",r),c=b=g=null;for(m in l)if(l.hasOwnProperty(m)&&(R=l[m],R!=null))switch(m){case"value":g=R;break;case"defaultValue":b=R;break;case"multiple":c=R;default:Mt(r,a,m,R,l,null)}a=g,l=b,r.multiple=!!c,a!=null?sa(r,!!c,a,!1):l!=null&&sa(r,!!c,l,!0);return;case"textarea":et("invalid",r),g=m=c=null;for(b in l)if(l.hasOwnProperty(b)&&(R=l[b],R!=null))switch(b){case"value":c=R;break;case"defaultValue":m=R;break;case"children":g=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(i(91));break;default:Mt(r,a,b,R,l,null)}aa(r,c,m,g);return;case"option":for(F in l)if(l.hasOwnProperty(F)&&(c=l[F],c!=null))switch(F){case"selected":r.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Mt(r,a,F,c,l,null)}return;case"dialog":et("beforetoggle",r),et("toggle",r),et("cancel",r),et("close",r);break;case"iframe":case"object":et("load",r);break;case"video":case"audio":for(c=0;c<bc.length;c++)et(bc[c],r);break;case"image":et("error",r),et("load",r);break;case"details":et("toggle",r);break;case"embed":case"source":case"link":et("error",r),et("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in l)if(l.hasOwnProperty(X)&&(c=l[X],c!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Mt(r,a,X,c,l,null)}return;default:if(cl(a)){for(se in l)l.hasOwnProperty(se)&&(c=l[se],c!==void 0&&Zg(r,a,se,c,l,void 0));return}}for(R in l)l.hasOwnProperty(R)&&(c=l[R],c!=null&&Mt(r,a,R,c,l,null))}function jD(r,a,l,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,b=null,R=null,F=null,X=null,se=null;for(ne in l){var oe=l[ne];if(l.hasOwnProperty(ne)&&oe!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":F=oe;default:c.hasOwnProperty(ne)||Mt(r,a,ne,null,c,oe)}}for(var J in c){var ne=c[J];if(oe=l[J],c.hasOwnProperty(J)&&(ne!=null||oe!=null))switch(J){case"type":g=ne;break;case"name":m=ne;break;case"checked":X=ne;break;case"defaultChecked":se=ne;break;case"value":b=ne;break;case"defaultValue":R=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,a));break;default:ne!==oe&&Mt(r,a,J,ne,c,oe)}}ul(r,b,R,F,X,se,g,m);return;case"select":ne=b=R=J=null;for(g in l)if(F=l[g],l.hasOwnProperty(g)&&F!=null)switch(g){case"value":break;case"multiple":ne=F;default:c.hasOwnProperty(g)||Mt(r,a,g,null,c,F)}for(m in c)if(g=c[m],F=l[m],c.hasOwnProperty(m)&&(g!=null||F!=null))switch(m){case"value":J=g;break;case"defaultValue":R=g;break;case"multiple":b=g;default:g!==F&&Mt(r,a,m,g,c,F)}a=R,l=b,c=ne,J!=null?sa(r,!!l,J,!1):!!c!=!!l&&(a!=null?sa(r,!!l,a,!0):sa(r,!!l,l?[]:"",!1));return;case"textarea":ne=J=null;for(R in l)if(m=l[R],l.hasOwnProperty(R)&&m!=null&&!c.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:Mt(r,a,R,null,c,m)}for(b in c)if(m=c[b],g=l[b],c.hasOwnProperty(b)&&(m!=null||g!=null))switch(b){case"value":J=m;break;case"defaultValue":ne=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==g&&Mt(r,a,b,m,c,g)}qh(r,J,ne);return;case"option":for(var Ae in l)if(J=l[Ae],l.hasOwnProperty(Ae)&&J!=null&&!c.hasOwnProperty(Ae))switch(Ae){case"selected":r.selected=!1;break;default:Mt(r,a,Ae,null,c,J)}for(F in c)if(J=c[F],ne=l[F],c.hasOwnProperty(F)&&J!==ne&&(J!=null||ne!=null))switch(F){case"selected":r.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:Mt(r,a,F,J,c,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ue in l)J=l[Ue],l.hasOwnProperty(Ue)&&J!=null&&!c.hasOwnProperty(Ue)&&Mt(r,a,Ue,null,c,J);for(X in c)if(J=c[X],ne=l[X],c.hasOwnProperty(X)&&J!==ne&&(J!=null||ne!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,a));break;default:Mt(r,a,X,J,c,ne)}return;default:if(cl(a)){for(var xt in l)J=l[xt],l.hasOwnProperty(xt)&&J!==void 0&&!c.hasOwnProperty(xt)&&Zg(r,a,xt,void 0,c,J);for(se in c)J=c[se],ne=l[se],!c.hasOwnProperty(se)||J===ne||J===void 0&&ne===void 0||Zg(r,a,se,J,c,ne);return}}for(var $ in l)J=l[$],l.hasOwnProperty($)&&J!=null&&!c.hasOwnProperty($)&&Mt(r,a,$,null,c,J);for(oe in c)J=c[oe],ne=l[oe],!c.hasOwnProperty(oe)||J===ne||J==null&&ne==null||Mt(r,a,oe,J,c,ne)}function PT(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function qD(){if(typeof performance.getEntriesByType=="function"){for(var r=0,a=0,l=performance.getEntriesByType("resource"),c=0;c<l.length;c++){var m=l[c],g=m.transferSize,b=m.initiatorType,R=m.duration;if(g&&R&&PT(b)){for(b=0,R=m.responseEnd,c+=1;c<l.length;c++){var F=l[c],X=F.startTime;if(X>R)break;var se=F.transferSize,oe=F.initiatorType;se&&PT(oe)&&(F=F.responseEnd,b+=se*(F<R?1:(R-X)/(F-X)))}if(--c,a+=8*(g+b)/(m.duration/1e3),r++,10<r)break}}if(0<r)return a/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var ey=null,ty=null;function Yf(r){return r.nodeType===9?r:r.ownerDocument}function kT(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function LT(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function ny(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var iy=null;function $D(){var r=window.event;return r&&r.type==="popstate"?r===iy?!1:(iy=r,!0):(iy=null,!1)}var VT=typeof setTimeout=="function"?setTimeout:void 0,GD=typeof clearTimeout=="function"?clearTimeout:void 0,UT=typeof Promise=="function"?Promise:void 0,KD=typeof queueMicrotask=="function"?queueMicrotask:typeof UT<"u"?function(r){return UT.resolve(null).then(r).catch(YD)}:VT;function YD(r){setTimeout(function(){throw r})}function Oa(r){return r==="head"}function zT(r,a){var l=a,c=0;do{var m=l.nextSibling;if(r.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"||l==="/&"){if(c===0){r.removeChild(m),$l(a);return}c--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")c++;else if(l==="html")Tc(r.ownerDocument.documentElement);else if(l==="head"){l=r.ownerDocument.head,Tc(l);for(var g=l.firstChild;g;){var b=g.nextSibling,R=g.nodeName;g[lt]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&g.rel.toLowerCase()==="stylesheet"||l.removeChild(g),g=b}}else l==="body"&&Tc(r.ownerDocument.body);l=m}while(l);$l(a)}function FT(r,a){var l=r;r=0;do{var c=l.nextSibling;if(l.nodeType===1?a?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(a?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),c&&c.nodeType===8)if(l=c.data,l==="/$"){if(r===0)break;r--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||r++;l=c}while(l)}function ry(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":ry(l),dt(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}r.removeChild(l)}}function QD(r,a,l,c){for(;r.nodeType===1;){var m=l;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[lt])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(g=r.getAttribute("rel"),g==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(g!==m.rel||r.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||r.getAttribute("title")!==(m.title==null?null:m.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(g=r.getAttribute("src"),(g!==(m.src==null?null:m.src)||r.getAttribute("type")!==(m.type==null?null:m.type)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&r.getAttribute("name")===g)return r}else return r;if(r=nr(r.nextSibling),r===null)break}return null}function WD(r,a,l){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=nr(r.nextSibling),r===null))return null;return r}function BT(r,a){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!a||(r=nr(r.nextSibling),r===null))return null;return r}function sy(r){return r.data==="$?"||r.data==="$~"}function ay(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function XD(r,a){var l=r.ownerDocument;if(r.data==="$~")r._reactRetry=a;else if(r.data!=="$?"||l.readyState!=="loading")a();else{var c=function(){a(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),r._reactRetry=c}}function nr(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return r}var oy=null;function HT(r){r=r.nextSibling;for(var a=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"||l==="/&"){if(a===0)return nr(r.nextSibling);a--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||a++}r=r.nextSibling}return null}function jT(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(a===0)return r;a--}else l!=="/$"&&l!=="/&"||a++}r=r.previousSibling}return null}function qT(r,a,l){switch(a=Yf(l),r){case"html":if(r=a.documentElement,!r)throw Error(i(452));return r;case"head":if(r=a.head,!r)throw Error(i(453));return r;case"body":if(r=a.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Tc(r){for(var a=r.attributes;a.length;)r.removeAttributeNode(a[0]);dt(r)}var ir=new Map,$T=new Set;function Qf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Ms=re.d;re.d={f:JD,r:ZD,D:eN,C:tN,L:nN,m:iN,X:sN,S:rN,M:aN};function JD(){var r=Ms.f(),a=Ff();return r||a}function ZD(r){var a=Mn(r);a!==null&&a.tag===5&&a.type==="form"?lE(a):Ms.r(r)}var Hl=typeof document>"u"?null:document;function GT(r,a,l){var c=Hl;if(c&&typeof a=="string"&&a){var m=gi(a);m='link[rel="'+r+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),$T.has(m)||($T.add(m),r={rel:r,crossOrigin:l,href:a},c.querySelector(m)===null&&(a=c.createElement("link"),jn(a,"link",r),Gt(a),c.head.appendChild(a)))}}function eN(r){Ms.D(r),GT("dns-prefetch",r,null)}function tN(r,a){Ms.C(r,a),GT("preconnect",r,a)}function nN(r,a,l){Ms.L(r,a,l);var c=Hl;if(c&&r&&a){var m='link[rel="preload"][as="'+gi(a)+'"]';a==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+gi(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+gi(l.imageSizes)+'"]')):m+='[href="'+gi(r)+'"]';var g=m;switch(a){case"style":g=jl(r);break;case"script":g=ql(r)}ir.has(g)||(r=_({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:r,as:a},l),ir.set(g,r),c.querySelector(m)!==null||a==="style"&&c.querySelector(Sc(g))||a==="script"&&c.querySelector(wc(g))||(a=c.createElement("link"),jn(a,"link",r),Gt(a),c.head.appendChild(a)))}}function iN(r,a){Ms.m(r,a);var l=Hl;if(l&&r){var c=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+gi(c)+'"][href="'+gi(r)+'"]',g=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=ql(r)}if(!ir.has(g)&&(r=_({rel:"modulepreload",href:r},a),ir.set(g,r),l.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(wc(g)))return}c=l.createElement("link"),jn(c,"link",r),Gt(c),l.head.appendChild(c)}}}function rN(r,a,l){Ms.S(r,a,l);var c=Hl;if(c&&r){var m=un(c).hoistableStyles,g=jl(r);a=a||"default";var b=m.get(g);if(!b){var R={loading:0,preload:null};if(b=c.querySelector(Sc(g)))R.loading=5;else{r=_({rel:"stylesheet",href:r,"data-precedence":a},l),(l=ir.get(g))&&ly(r,l);var F=b=c.createElement("link");Gt(F),jn(F,"link",r),F._p=new Promise(function(X,se){F.onload=X,F.onerror=se}),F.addEventListener("load",function(){R.loading|=1}),F.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Wf(b,a,c)}b={type:"stylesheet",instance:b,count:1,state:R},m.set(g,b)}}}function sN(r,a){Ms.X(r,a);var l=Hl;if(l&&r){var c=un(l).hoistableScripts,m=ql(r),g=c.get(m);g||(g=l.querySelector(wc(m)),g||(r=_({src:r,async:!0},a),(a=ir.get(m))&&uy(r,a),g=l.createElement("script"),Gt(g),jn(g,"link",r),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function aN(r,a){Ms.M(r,a);var l=Hl;if(l&&r){var c=un(l).hoistableScripts,m=ql(r),g=c.get(m);g||(g=l.querySelector(wc(m)),g||(r=_({src:r,async:!0,type:"module"},a),(a=ir.get(m))&&uy(r,a),g=l.createElement("script"),Gt(g),jn(g,"link",r),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function KT(r,a,l,c){var m=(m=Me.current)?Qf(m):null;if(!m)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=jl(l.href),l=un(m).hoistableStyles,c=l.get(a),c||(c={type:"style",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){r=jl(l.href);var g=un(m).hoistableStyles,b=g.get(r);if(b||(m=m.ownerDocument||m,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(r,b),(g=m.querySelector(Sc(r)))&&!g._p&&(b.instance=g,b.state.loading=5),ir.has(r)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},ir.set(r,l),g||oN(m,r,l,b.state))),a&&c===null)throw Error(i(528,""));return b}if(a&&c!==null)throw Error(i(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=ql(l),l=un(m).hoistableScripts,c=l.get(a),c||(c={type:"script",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function jl(r){return'href="'+gi(r)+'"'}function Sc(r){return'link[rel="stylesheet"]['+r+"]"}function YT(r){return _({},r,{"data-precedence":r.precedence,precedence:null})}function oN(r,a,l,c){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=r.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),jn(a,"link",l),Gt(a),r.head.appendChild(a))}function ql(r){return'[src="'+gi(r)+'"]'}function wc(r){return"script[async]"+r}function QT(r,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var c=r.querySelector('style[data-href~="'+gi(l.href)+'"]');if(c)return a.instance=c,Gt(c),c;var m=_({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),Gt(c),jn(c,"style",m),Wf(c,l.precedence,r),a.instance=c;case"stylesheet":m=jl(l.href);var g=r.querySelector(Sc(m));if(g)return a.state.loading|=4,a.instance=g,Gt(g),g;c=YT(l),(m=ir.get(m))&&ly(c,m),g=(r.ownerDocument||r).createElement("link"),Gt(g);var b=g;return b._p=new Promise(function(R,F){b.onload=R,b.onerror=F}),jn(g,"link",c),a.state.loading|=4,Wf(g,l.precedence,r),a.instance=g;case"script":return g=ql(l.src),(m=r.querySelector(wc(g)))?(a.instance=m,Gt(m),m):(c=l,(m=ir.get(g))&&(c=_({},l),uy(c,m)),r=r.ownerDocument||r,m=r.createElement("script"),Gt(m),jn(m,"link",c),r.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,Wf(c,l.precedence,r));return a.instance}function Wf(r,a,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,g=m,b=0;b<c.length;b++){var R=c[b];if(R.dataset.precedence===a)g=R;else if(g!==m)break}g?g.parentNode.insertBefore(r,g.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(r,a.firstChild))}function ly(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function uy(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var Xf=null;function WT(r,a,l){if(Xf===null){var c=new Map,m=Xf=new Map;m.set(l,c)}else m=Xf,c=m.get(l),c||(c=new Map,m.set(l,c));if(c.has(r))return c;for(c.set(r,null),l=l.getElementsByTagName(r),m=0;m<l.length;m++){var g=l[m];if(!(g[lt]||g[Te]||r==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var b=g.getAttribute(a)||"";b=r+b;var R=c.get(b);R?R.push(g):c.set(b,[g])}}return c}function XT(r,a,l){r=r.ownerDocument||r,r.head.insertBefore(l,a==="title"?r.querySelector("head > title"):null)}function lN(r,a,l){if(l===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return r=a.disabled,typeof a.precedence=="string"&&r==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function JT(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function uN(r,a,l,c){if(l.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var m=jl(c.href),g=a.querySelector(Sc(m));if(g){a=g._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(r.count++,r=Jf.bind(r),a.then(r,r)),l.state.loading|=4,l.instance=g,Gt(g);return}g=a.ownerDocument||a,c=YT(c),(m=ir.get(m))&&ly(c,m),g=g.createElement("link"),Gt(g);var b=g;b._p=new Promise(function(R,F){b.onload=R,b.onerror=F}),jn(g,"link",c),l.instance=g}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(r.count++,l=Jf.bind(r),a.addEventListener("load",l),a.addEventListener("error",l))}}var cy=0;function cN(r,a){return r.stylesheets&&r.count===0&&ed(r,r.stylesheets),0<r.count||0<r.imgCount?function(l){var c=setTimeout(function(){if(r.stylesheets&&ed(r,r.stylesheets),r.unsuspend){var g=r.unsuspend;r.unsuspend=null,g()}},6e4+a);0<r.imgBytes&&cy===0&&(cy=62500*qD());var m=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&ed(r,r.stylesheets),r.unsuspend)){var g=r.unsuspend;r.unsuspend=null,g()}},(r.imgBytes>cy?50:800)+a);return r.unsuspend=l,function(){r.unsuspend=null,clearTimeout(c),clearTimeout(m)}}:null}function Jf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ed(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Zf=null;function ed(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Zf=new Map,a.forEach(hN,r),Zf=null,Jf.call(r))}function hN(r,a){if(!(a.state.loading&4)){var l=Zf.get(r);if(l)var c=l.get(null);else{l=new Map,Zf.set(r,l);for(var m=r.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var b=m[g];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(l.set(b.dataset.precedence,b),c=b)}c&&l.set(null,c)}m=a.instance,b=m.getAttribute("data-precedence"),g=l.get(b)||c,g===c&&l.set(null,m),l.set(b,m),this.count++,c=Jf.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),g?g.parentNode.insertBefore(m,g.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(m,r.firstChild)),a.state.loading|=4}}var Cc={$$typeof:z,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function fN(r,a,l,c,m,g,b,R,F){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qi(0),this.hiddenUpdates=qi(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=F,this.incompleteTransitions=new Map}function ZT(r,a,l,c,m,g,b,R,F,X,se,oe){return r=new fN(r,a,l,b,F,X,se,oe,R),a=1,g===!0&&(a|=24),g=Ni(3,null,null,a),r.current=g,g.stateNode=r,a=jm(),a.refCount++,r.pooledCache=a,a.refCount++,g.memoizedState={element:c,isDehydrated:l,cache:a},Km(g),r}function eS(r){return r?(r=El,r):El}function tS(r,a,l,c,m,g){m=eS(m),c.context===null?c.context=m:c.pendingContext=m,c=_a(a),c.payload={element:l},g=g===void 0?null:g,g!==null&&(c.callback=g),l=va(r,c,a),l!==null&&(Ti(l,r,a),ic(l,r,a))}function nS(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<a?l:a}}function hy(r,a){nS(r,a),(r=r.alternate)&&nS(r,a)}function iS(r){if(r.tag===13||r.tag===31){var a=To(r,67108864);a!==null&&Ti(a,r,67108864),hy(r,67108864)}}function rS(r){if(r.tag===13||r.tag===31){var a=Li();a=de(a);var l=To(r,a);l!==null&&Ti(l,r,a),hy(r,a)}}var td=!0;function dN(r,a,l,c){var m=K.T;K.T=null;var g=re.p;try{re.p=2,fy(r,a,l,c)}finally{re.p=g,K.T=m}}function pN(r,a,l,c){var m=K.T;K.T=null;var g=re.p;try{re.p=8,fy(r,a,l,c)}finally{re.p=g,K.T=m}}function fy(r,a,l,c){if(td){var m=dy(c);if(m===null)Jg(r,a,c,nd,l),aS(r,c);else if(gN(m,r,a,l,c))c.stopPropagation();else if(aS(r,c),a&4&&-1<mN.indexOf(r)){for(;m!==null;){var g=Mn(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var b=Ii(g.pendingLanes);if(b!==0){var R=g;for(R.pendingLanes|=2,R.entangledLanes|=2;b;){var F=1<<31-$t(b);R.entanglements[1]|=F,b&=~F}Br(g),(vt&6)===0&&(Uf=on()+500,vc(0))}}break;case 31:case 13:R=To(g,2),R!==null&&Ti(R,g,2),Ff(),hy(g,2)}if(g=dy(c),g===null&&Jg(r,a,c,nd,l),g===m)break;m=g}m!==null&&c.stopPropagation()}else Jg(r,a,c,null,l)}}function dy(r){return r=Ki(r),py(r)}var nd=null;function py(r){if(nd=null,r=Nn(r),r!==null){var a=o(r);if(a===null)r=null;else{var l=a.tag;if(l===13){if(r=u(a),r!==null)return r;r=null}else if(l===31){if(r=h(a),r!==null)return r;r=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return nd=r,null}function sS(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Dr()){case cs:return 2;case oi:return 8;case Dn:case sl:return 32;case al:return 268435456;default:return 32}default:return 32}}var my=!1,Da=null,Na=null,Ma=null,Rc=new Map,Ac=new Map,xa=[],mN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function aS(r,a){switch(r){case"focusin":case"focusout":Da=null;break;case"dragenter":case"dragleave":Na=null;break;case"mouseover":case"mouseout":Ma=null;break;case"pointerover":case"pointerout":Rc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ac.delete(a.pointerId)}}function Ic(r,a,l,c,m,g){return r===null||r.nativeEvent!==g?(r={blockedOn:a,domEventName:l,eventSystemFlags:c,nativeEvent:g,targetContainers:[m]},a!==null&&(a=Mn(a),a!==null&&iS(a)),r):(r.eventSystemFlags|=c,a=r.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),r)}function gN(r,a,l,c,m){switch(a){case"focusin":return Da=Ic(Da,r,a,l,c,m),!0;case"dragenter":return Na=Ic(Na,r,a,l,c,m),!0;case"mouseover":return Ma=Ic(Ma,r,a,l,c,m),!0;case"pointerover":var g=m.pointerId;return Rc.set(g,Ic(Rc.get(g)||null,r,a,l,c,m)),!0;case"gotpointercapture":return g=m.pointerId,Ac.set(g,Ic(Ac.get(g)||null,r,a,l,c,m)),!0}return!1}function oS(r){var a=Nn(r.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=u(l),a!==null){r.blockedOn=a,Ee(r.priority,function(){rS(l)});return}}else if(a===31){if(a=h(l),a!==null){r.blockedOn=a,Ee(r.priority,function(){rS(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function id(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var l=dy(r.nativeEvent);if(l===null){l=r.nativeEvent;var c=new l.constructor(l.type,l);Bu=c,l.target.dispatchEvent(c),Bu=null}else return a=Mn(l),a!==null&&iS(a),r.blockedOn=l,!1;a.shift()}return!0}function lS(r,a,l){id(r)&&l.delete(a)}function yN(){my=!1,Da!==null&&id(Da)&&(Da=null),Na!==null&&id(Na)&&(Na=null),Ma!==null&&id(Ma)&&(Ma=null),Rc.forEach(lS),Ac.forEach(lS)}function rd(r,a){r.blockedOn===a&&(r.blockedOn=null,my||(my=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,yN)))}var sd=null;function uS(r){sd!==r&&(sd=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){sd===r&&(sd=null);for(var a=0;a<r.length;a+=3){var l=r[a],c=r[a+1],m=r[a+2];if(typeof c!="function"){if(py(c||l)===null)continue;break}var g=Mn(l);g!==null&&(r.splice(a,3),a-=3,dg(g,{pending:!0,data:m,method:l.method,action:c},c,m))}}))}function $l(r){function a(F){return rd(F,r)}Da!==null&&rd(Da,r),Na!==null&&rd(Na,r),Ma!==null&&rd(Ma,r),Rc.forEach(a),Ac.forEach(a);for(var l=0;l<xa.length;l++){var c=xa[l];c.blockedOn===r&&(c.blockedOn=null)}for(;0<xa.length&&(l=xa[0],l.blockedOn===null);)oS(l),l.blockedOn===null&&xa.shift();if(l=(r.ownerDocument||r).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var m=l[c],g=l[c+1],b=m[be]||null;if(typeof g=="function")b||uS(l);else if(b){var R=null;if(g&&g.hasAttribute("formAction")){if(m=g,b=g[be]||null)R=b.formAction;else if(py(m)!==null)continue}else R=b.action;typeof R=="function"?l[c+1]=R:(l.splice(c,3),c-=3),uS(l)}}}function cS(){function r(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(b){return m=b})},focusReset:"manual",scroll:"manual"})}function a(){m!==null&&(m(),m=null),c||setTimeout(l,20)}function l(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,m=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(l,100),function(){c=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),m!==null&&(m(),m=null)}}}function gy(r){this._internalRoot=r}ad.prototype.render=gy.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(i(409));var l=a.current,c=Li();tS(l,c,r,a,null,null)},ad.prototype.unmount=gy.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;tS(r.current,2,null,r,null,null),Ff(),a[we]=null}};function ad(r){this._internalRoot=r}ad.prototype.unstable_scheduleHydration=function(r){if(r){var a=Ne();r={blockedOn:null,target:r,priority:a};for(var l=0;l<xa.length&&a!==0&&a<xa[l].priority;l++);xa.splice(l,0,r),l===0&&oS(r)}};var hS=e.version;if(hS!=="19.2.0")throw Error(i(527,hS,"19.2.0"));re.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=d(a),r=r!==null?y(r):null,r=r===null?null:r.stateNode,r};var _N={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var od=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!od.isDisabled&&od.supportsFiber)try{ln=od.inject(_N),mn=od}catch{}}return Dc.createRoot=function(r,a){if(!s(r))throw Error(i(299));var l=!1,c="",m=_E,g=vE,b=bE;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError)),a=ZT(r,1,!1,null,null,l,c,null,m,g,b,cS),r[we]=a.current,Xg(r),new gy(a)},Dc.hydrateRoot=function(r,a,l){if(!s(r))throw Error(i(299));var c=!1,m="",g=_E,b=vE,R=bE,F=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(b=l.onCaughtError),l.onRecoverableError!==void 0&&(R=l.onRecoverableError),l.formState!==void 0&&(F=l.formState)),a=ZT(r,1,!0,a,l??null,c,m,F,g,b,R,cS),a.context=eS(null),l=a.current,c=Li(),c=de(c),m=_a(c),m.callback=null,va(l,m,c),l=c,a.current.lanes=l,ps(a,l),Br(a),r[we]=a.current,Xg(r),new ad(a)},Dc.version="19.2.0",Dc}var TS;function ON(){if(TS)return vy.exports;TS=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),vy.exports=IN(),vy.exports}var DN=ON();var UC=n=>{throw TypeError(n)},NN=(n,e,t)=>e.has(n)||UC("Cannot "+t),Sy=(n,e,t)=>(NN(n,e,"read from private field"),t?t.call(n):e.get(n)),MN=(n,e,t)=>e.has(n)?UC("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),SS="popstate";function xN(n={}){function e(i,s){let{pathname:o,search:u,hash:h}=i.location;return nh("",{pathname:o,search:u,hash:h},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){return typeof s=="string"?s:es(s)}return kN(e,t,null,n)}function Je(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function pn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function PN(){return Math.random().toString(36).substring(2,10)}function wS(n,e){return{usr:n.state,key:n.key,idx:e}}function nh(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ro(e):e,state:t,key:e&&e.key||i||PN()}}function es({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function ro(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function kN(n,e,t,i={}){let{window:s=document.defaultView,v5Compat:o=!1}=i,u=s.history,h="POP",f=null,d=y();d==null&&(d=0,u.replaceState({...u.state,idx:d},""));function y(){return(u.state||{idx:null}).idx}function _(){h="POP";let A=y(),U=A==null?null:A-d;d=A,f&&f({action:h,location:O.location,delta:U})}function E(A,U){h="PUSH";let V=nh(O.location,A,U);d=y()+1;let z=wS(V,d),Q=O.createHref(V);try{u.pushState(z,"",Q)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(Q)}o&&f&&f({action:h,location:O.location,delta:1})}function w(A,U){h="REPLACE";let V=nh(O.location,A,U);d=y();let z=wS(V,d),Q=O.createHref(V);u.replaceState(z,"",Q),o&&f&&f({action:h,location:O.location,delta:0})}function I(A){return zC(A)}let O={get action(){return h},get location(){return n(s,u)},listen(A){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(SS,_),f=A,()=>{s.removeEventListener(SS,_),f=null}},createHref(A){return e(s,A)},createURL:I,encodeLocation(A){let U=I(A);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:E,replace:w,go(A){return u.go(A)}};return O}function zC(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Je(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:es(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}var Fc,CS=class{constructor(n){if(MN(this,Fc,new Map),n)for(let[e,t]of n)this.set(e,t)}get(n){if(Sy(this,Fc).has(n))return Sy(this,Fc).get(n);if(n.defaultValue!==void 0)return n.defaultValue;throw new Error("No value found for context")}set(n,e){Sy(this,Fc).set(n,e)}};Fc=new WeakMap;var LN=new Set(["lazy","caseSensitive","path","id","index","children"]);function VN(n){return LN.has(n)}var UN=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function zN(n){return UN.has(n)}function FN(n){return n.index===!0}function ih(n,e,t=[],i={},s=!1){return n.map((o,u)=>{let h=[...t,String(u)],f=typeof o.id=="string"?o.id:h.join("-");if(Je(o.index!==!0||!o.children,"Cannot specify children on an index route"),Je(s||!i[f],`Found a route id collision on id "${f}".  Route id's must be globally unique within Data Router usages`),FN(o)){let d={...o,id:f};return i[f]=RS(d,e(d)),d}else{let d={...o,id:f,children:void 0};return i[f]=RS(d,e(d)),o.children&&(d.children=ih(o.children,e,h,i,s)),d}})}function RS(n,e){return Object.assign(n,{...e,...typeof e.lazy=="object"&&e.lazy!=null?{lazy:{...n.lazy,...e.lazy}}:{}})}function Va(n,e,t="/"){return Rd(n,e,t,!1)}function Rd(n,e,t,i){let s=typeof e=="string"?ro(e):e,o=lr(s.pathname||"/",t);if(o==null)return null;let u=FC(n);HN(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let d=ZN(o);h=XN(u[f],d,i)}return h}function BN(n,e){let{route:t,pathname:i,params:s}=n;return{id:t.id,pathname:i,params:s,data:e[t.id],loaderData:e[t.id],handle:t.handle}}function FC(n,e=[],t=[],i="",s=!1){let o=(u,h,f=s,d)=>{let y={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(i)&&f)return;Je(y.relativePath.startsWith(i),`Absolute route path "${y.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(i.length)}let _=Gr([i,y.relativePath]),E=t.concat(y);u.children&&u.children.length>0&&(Je(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),FC(u.children,e,E,_,f)),!(u.path==null&&!u.index)&&e.push({path:_,score:QN(_,u.index),routesMeta:E})};return n.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))o(u,h);else for(let f of BC(u.path))o(u,h,!0,f)}),e}function BC(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,s=t.endsWith("?"),o=t.replace(/\?$/,"");if(i.length===0)return s?[o,""]:[o];let u=BC(i.join("/")),h=[];return h.push(...u.map(f=>f===""?o:[o,f].join("/"))),s&&h.push(...u),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function HN(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:WN(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var jN=/^:[\w-]+$/,qN=3,$N=2,GN=1,KN=10,YN=-2,AS=n=>n==="*";function QN(n,e){let t=n.split("/"),i=t.length;return t.some(AS)&&(i+=YN),e&&(i+=$N),t.filter(s=>!AS(s)).reduce((s,o)=>s+(jN.test(o)?qN:o===""?GN:KN),i)}function WN(n,e){return n.length===e.length&&n.slice(0,-1).every((i,s)=>i===e[s])?n[n.length-1]-e[e.length-1]:0}function XN(n,e,t=!1){let{routesMeta:i}=n,s={},o="/",u=[];for(let h=0;h<i.length;++h){let f=i[h],d=h===i.length-1,y=o==="/"?e:e.slice(o.length)||"/",_=Gd({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},y),E=f.route;if(!_&&d&&t&&!i[i.length-1].route.index&&(_=Gd({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},y)),!_)return null;Object.assign(s,_.params),u.push({params:s,pathname:Gr([o,_.pathname]),pathnameBase:iM(Gr([o,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(o=Gr([o,_.pathnameBase]))}return u}function Gd(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=JN(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let o=s[0],u=o.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:i.reduce((d,{paramName:y,isOptional:_},E)=>{if(y==="*"){let I=h[E]||"";u=o.slice(0,o.length-I.length).replace(/(.)\/+$/,"$1")}const w=h[E];return _&&!w?d[y]=void 0:d[y]=(w||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:u,pattern:n}}function JN(n,e=!1,t=!0){pn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(i.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function ZN(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return pn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function lr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function eM({basename:n,pathname:e}){return e==="/"?n:Gr([n,e])}function tM(n,e="/"){let{pathname:t,search:i="",hash:s=""}=typeof n=="string"?ro(n):n;return{pathname:t?t.startsWith("/")?t:nM(t,e):e,search:rM(i),hash:sM(s)}}function nM(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function wy(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function HC(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function uv(n){let e=HC(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function cv(n,e,t,i=!1){let s;typeof n=="string"?s=ro(n):(s={...n},Je(!s.pathname||!s.pathname.includes("?"),wy("?","pathname","search",s)),Je(!s.pathname||!s.pathname.includes("#"),wy("#","pathname","hash",s)),Je(!s.search||!s.search.includes("#"),wy("#","search","hash",s)));let o=n===""||s.pathname==="",u=o?"/":s.pathname,h;if(u==null)h=t;else{let _=e.length-1;if(!i&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),_-=1;s.pathname=E.join("/")}h=_>=0?e[_]:"/"}let f=tM(s,h),d=u&&u!=="/"&&u.endsWith("/"),y=(o||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(d||y)&&(f.pathname+="/"),f}var Gr=n=>n.join("/").replace(/\/\/+/g,"/"),iM=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),rM=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,sM=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,Kd=class{constructor(n,e,t,i=!1){this.status=n,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function rh(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function hv(n){return n.filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Ha=Symbol("Uninstrumented");function aM(n,e){let t={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};n.forEach(s=>s({id:e.id,index:e.index,path:e.path,instrument(o){let u=Object.keys(t);for(let h of u)o[h]&&t[h].push(o[h])}}));let i={};if(typeof e.lazy=="function"&&t.lazy.length>0){let s=Zl(t.lazy,e.lazy,()=>{});s&&(i.lazy=s)}if(typeof e.lazy=="object"){let s=e.lazy;["middleware","loader","action"].forEach(o=>{let u=s[o],h=t[`lazy.${o}`];if(typeof u=="function"&&h.length>0){let f=Zl(h,u,()=>{});f&&(i.lazy=Object.assign(i.lazy||{},{[o]:f}))}})}return["loader","action"].forEach(s=>{let o=e[s];if(typeof o=="function"&&t[s].length>0){let u=o[Ha]??o,h=Zl(t[s],u,(...f)=>IS(f[0]));h&&(h[Ha]=u,i[s]=h)}}),e.middleware&&e.middleware.length>0&&t.middleware.length>0&&(i.middleware=e.middleware.map(s=>{let o=s[Ha]??s,u=Zl(t.middleware,o,(...h)=>IS(h[0]));return u?(u[Ha]=o,u):s})),i}function oM(n,e){let t={navigate:[],fetch:[]};if(e.forEach(i=>i({instrument(s){let o=Object.keys(s);for(let u of o)s[u]&&t[u].push(s[u])}})),t.navigate.length>0){let i=n.navigate[Ha]??n.navigate,s=Zl(t.navigate,i,(...o)=>{let[u,h]=o;return{to:typeof u=="number"||typeof u=="string"?u:u?es(u):".",...OS(n,h??{})}});s&&(s[Ha]=i,n.navigate=s)}if(t.fetch.length>0){let i=n.fetch[Ha]??n.fetch,s=Zl(t.fetch,i,(...o)=>{let[u,,h,f]=o;return{href:h??".",fetcherKey:u,...OS(n,f??{})}});s&&(s[Ha]=i,n.fetch=s)}return n}function Zl(n,e,t){return n.length===0?null:async(...i)=>{let s=await jC(n,t(...i),()=>e(...i),n.length-1);if(s.type==="error")throw s.value;return s.value}}async function jC(n,e,t,i){let s=n[i],o;if(s){let u,h=async()=>(u?console.error("You cannot call instrumented handlers more than once"):u=jC(n,e,t,i-1),o=await u,Je(o,"Expected a result"),o.type==="error"&&o.value instanceof Error?{status:"error",error:o.value}:{status:"success",error:void 0});try{await s(h,e)}catch(f){console.error("An instrumentation function threw an error:",f)}u||await h(),await u}else try{o={type:"success",value:await t()}}catch(u){o={type:"error",value:u}}return o||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function IS(n){let{request:e,context:t,params:i,unstable_pattern:s}=n;return{request:lM(e),params:{...i},unstable_pattern:s,context:uM(t)}}function OS(n,e){return{currentUrl:es(n.state.location),..."formMethod"in e?{formMethod:e.formMethod}:{},..."formEncType"in e?{formEncType:e.formEncType}:{},..."formData"in e?{formData:e.formData}:{},..."body"in e?{body:e.body}:{}}}function lM(n){return{method:n.method,url:n.url,headers:{get:(...e)=>n.headers.get(...e)}}}function uM(n){if(hM(n)){let e={...n};return Object.freeze(e),e}else return{get:e=>n.get(e)}}var cM=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function hM(n){if(n===null||typeof n!="object")return!1;const e=Object.getPrototypeOf(n);return e===Object.prototype||e===null||Object.getOwnPropertyNames(e).sort().join("\0")===cM}var qC=["POST","PUT","PATCH","DELETE"],fM=new Set(qC),dM=["GET",...qC],pM=new Set(dM),mM=new Set([301,302,303,307,308]),gM=new Set([307,308]),Cy={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},yM={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Nc={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},_M=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fv=n=>_M.test(n),vM=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),$C="remix-router-transitions",GC=Symbol("ResetLoaderData");function bM(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Je(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let i=n.hydrationRouteProperties||[],s=n.mapRouteProperties||vM,o=s;if(n.unstable_instrumentations){let B=n.unstable_instrumentations;o=G=>({...s(G),...aM(B.map(ee=>ee.route).filter(Boolean),G)})}let u={},h=ih(n.routes,o,void 0,u),f,d=n.basename||"/";d.startsWith("/")||(d=`/${d}`);let y=n.dataStrategy||CM,_={...n.future},E=null,w=new Set,I=null,O=null,A=null,U=n.hydrationData!=null,V=Va(h,n.history.location,d),z=!1,Q=null,j;if(V==null&&!n.patchRoutesOnNavigation){let B=rr(404,{pathname:n.history.location.pathname}),{matches:G,route:ee}=ld(h);j=!0,V=G,Q={[ee.id]:B}}else if(V&&!n.hydrationData&&ia(V,h,n.history.location.pathname).active&&(V=null),V)if(V.some(B=>B.route.lazy))j=!1;else if(!V.some(B=>dv(B.route)))j=!0;else{let B=n.hydrationData?n.hydrationData.loaderData:null,G=n.hydrationData?n.hydrationData.errors:null;if(G){let ee=V.findIndex(he=>G[he.route.id]!==void 0);j=V.slice(0,ee+1).every(he=>!r_(he.route,B,G))}else j=V.every(ee=>!r_(ee.route,B,G))}else{j=!1,V=[];let B=ia(null,h,n.history.location.pathname);B.active&&B.matches&&(z=!0,V=B.matches)}let ie,S={historyAction:n.history.action,location:n.history.location,matches:V,initialized:j,navigation:Cy,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||Q,fetchers:new Map,blockers:new Map},C="POP",x=!1,N,k=!1,P=new Map,M=null,pe=!1,ge=!1,K=new Set,re=new Map,me=0,xe=-1,ze=new Map,H=new Set,Z=new Map,ce=new Map,fe=new Set,Ie=new Map,Me,Be=null;function gt(){if(E=n.history.listen(({action:B,location:G,delta:ee})=>{if(Me){Me(),Me=void 0;return}pn(Ie.size===0||ee!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let he=Ai({currentLocation:S.location,nextLocation:G,historyAction:B});if(he&&ee!=null){let de=new Promise(Ce=>{Me=Ce});n.history.go(ee*-1),fs(he,{state:"blocked",location:G,proceed(){fs(he,{state:"proceeding",proceed:void 0,reset:void 0,location:G}),de.then(()=>n.history.go(ee))},reset(){let Ce=new Map(S.blockers);Ce.set(he,Nc),Lt({blockers:Ce})}});return}return ai(B,G)}),t){FM(e,P);let B=()=>BM(e,P);e.addEventListener("pagehide",B),M=()=>e.removeEventListener("pagehide",B)}return S.initialized||ai("POP",S.location,{initialHydration:!0}),ie}function yt(){E&&E(),M&&M(),w.clear(),N&&N.abort(),S.fetchers.forEach((B,G)=>na(G)),S.blockers.forEach((B,G)=>hs(G))}function cr(B){return w.add(B),()=>w.delete(B)}function Lt(B,G={}){B.matches&&(B.matches=B.matches.map(de=>{let Ce=u[de.route.id],Ne=de.route;return Ne.element!==Ce.element||Ne.errorElement!==Ce.errorElement||Ne.hydrateFallbackElement!==Ce.hydrateFallbackElement?{...de,route:Ce}:de})),S={...S,...B};let ee=[],he=[];S.fetchers.forEach((de,Ce)=>{de.state==="idle"&&(fe.has(Ce)?ee.push(Ce):he.push(Ce))}),fe.forEach(de=>{!S.fetchers.has(de)&&!re.has(de)&&ee.push(de)}),[...w].forEach(de=>de(S,{deletedFetchers:ee,viewTransitionOpts:G.viewTransitionOpts,flushSync:G.flushSync===!0})),ee.forEach(de=>na(de)),he.forEach(de=>S.fetchers.delete(de))}function Qn(B,G,{flushSync:ee}={}){let he=S.actionData!=null&&S.navigation.formMethod!=null&&di(S.navigation.formMethod)&&S.navigation.state==="loading"&&B.state?._isRedirect!==!0,de;G.actionData?Object.keys(G.actionData).length>0?de=G.actionData:de=null:he?de=S.actionData:de=null;let Ce=G.loaderData?zS(S.loaderData,G.loaderData,G.matches||[],G.errors):S.loaderData,Ne=S.blockers;Ne.size>0&&(Ne=new Map(Ne),Ne.forEach((be,we)=>Ne.set(we,Nc)));let Ee=pe?!1:mi(B,G.matches||S.matches),Re=x===!0||S.navigation.formMethod!=null&&di(S.navigation.formMethod)&&B.state?._isRedirect!==!0;f&&(h=f,f=void 0),pe||C==="POP"||(C==="PUSH"?n.history.push(B,B.state):C==="REPLACE"&&n.history.replace(B,B.state));let Te;if(C==="POP"){let be=P.get(S.location.pathname);be&&be.has(B.pathname)?Te={currentLocation:S.location,nextLocation:B}:P.has(B.pathname)&&(Te={currentLocation:B,nextLocation:S.location})}else if(k){let be=P.get(S.location.pathname);be?be.add(B.pathname):(be=new Set([B.pathname]),P.set(S.location.pathname,be)),Te={currentLocation:S.location,nextLocation:B}}Lt({...G,actionData:de,loaderData:Ce,historyAction:C,location:B,initialized:!0,navigation:Cy,revalidation:"idle",restoreScrollPosition:Ee,preventScrollReset:Re,blockers:Ne},{viewTransitionOpts:Te,flushSync:ee===!0}),C="POP",x=!1,k=!1,pe=!1,ge=!1,Be?.resolve(),Be=null}async function hr(B,G){if(typeof B=="number"){n.history.go(B);return}let ee=i_(S.location,S.matches,d,B,G?.fromRouteId,G?.relative),{path:he,submission:de,error:Ce}=DS(!1,ee,G),Ne=S.location,Ee=nh(S.location,he,G&&G.state);Ee={...Ee,...n.history.encodeLocation(Ee)};let Re=G&&G.replace!=null?G.replace:void 0,Te="PUSH";Re===!0?Te="REPLACE":Re===!1||de!=null&&di(de.formMethod)&&de.formAction===S.location.pathname+S.location.search&&(Te="REPLACE");let be=G&&"preventScrollReset"in G?G.preventScrollReset===!0:void 0,we=(G&&G.flushSync)===!0,We=Ai({currentLocation:Ne,nextLocation:Ee,historyAction:Te});if(We){fs(We,{state:"blocked",location:Ee,proceed(){fs(We,{state:"proceeding",proceed:void 0,reset:void 0,location:Ee}),hr(B,G)},reset(){let Ot=new Map(S.blockers);Ot.set(We,Nc),Lt({blockers:Ot})}});return}await ai(Te,Ee,{submission:de,pendingError:Ce,preventScrollReset:be,replace:G&&G.replace,enableViewTransition:G&&G.viewTransition,flushSync:we})}function si(){Be||(Be=HM()),cs(),Lt({revalidation:"loading"});let B=Be.promise;return S.navigation.state==="submitting"?B:S.navigation.state==="idle"?(ai(S.historyAction,S.location,{startUninterruptedRevalidation:!0}),B):(ai(C||S.historyAction,S.navigation.location,{overrideNavigation:S.navigation,enableViewTransition:k===!0}),B)}async function ai(B,G,ee){N&&N.abort(),N=null,C=B,pe=(ee&&ee.startUninterruptedRevalidation)===!0,ji(S.location,S.matches),x=(ee&&ee.preventScrollReset)===!0,k=(ee&&ee.enableViewTransition)===!0;let he=f||h,de=ee&&ee.overrideNavigation,Ce=ee?.initialHydration&&S.matches&&S.matches.length>0&&!z?S.matches:Va(he,G,d),Ne=(ee&&ee.flushSync)===!0;if(Ce&&S.initialized&&!ge&&xM(S.location,G)&&!(ee&&ee.submission&&di(ee.submission.formMethod))){Qn(G,{matches:Ce},{flushSync:Ne});return}let Ee=ia(Ce,he,G.pathname);if(Ee.active&&Ee.matches&&(Ce=Ee.matches),!Ce){let{error:gn,notFoundMatches:lt,route:dt}=fr(G.pathname);Qn(G,{matches:lt,loaderData:{},errors:{[dt.id]:gn}},{flushSync:Ne});return}N=new AbortController;let Re=Yl(n.history,G,N.signal,ee&&ee.submission),Te=n.getContext?await n.getContext():new CS,be;if(ee&&ee.pendingError)be=[Ua(Ce).route.id,{type:"error",error:ee.pendingError}];else if(ee&&ee.submission&&di(ee.submission.formMethod)){let gn=await us(Re,G,ee.submission,Ce,Te,Ee.active,ee&&ee.initialHydration===!0,{replace:ee.replace,flushSync:Ne});if(gn.shortCircuited)return;if(gn.pendingActionResult){let[lt,dt]=gn.pendingActionResult;if(Vi(dt)&&rh(dt.error)&&dt.error.status===404){N=null,Qn(G,{matches:gn.matches,loaderData:{},errors:{[lt]:dt.error}});return}}Ce=gn.matches||Ce,be=gn.pendingActionResult,de=Ry(G,ee.submission),Ne=!1,Ee.active=!1,Re=Yl(n.history,Re.url,Re.signal)}let{shortCircuited:we,matches:We,loaderData:Ot,errors:Qt}=await uo(Re,G,Ce,Te,Ee.active,de,ee&&ee.submission,ee&&ee.fetcherSubmission,ee&&ee.replace,ee&&ee.initialHydration===!0,Ne,be);we||(N=null,Qn(G,{matches:We||Ce,...FS(be),loaderData:Ot,errors:Qt}))}async function us(B,G,ee,he,de,Ce,Ne,Ee={}){cs();let Re=UM(G,ee);if(Lt({navigation:Re},{flushSync:Ee.flushSync===!0}),Ce){let we=await ds(he,G.pathname,B.signal);if(we.type==="aborted")return{shortCircuited:!0};if(we.type==="error"){if(we.partialMatches.length===0){let{matches:Ot,route:Qt}=ld(h);return{matches:Ot,pendingActionResult:[Qt.id,{type:"error",error:we.error}]}}let We=Ua(we.partialMatches).route.id;return{matches:we.partialMatches,pendingActionResult:[We,{type:"error",error:we.error}]}}else if(we.matches)he=we.matches;else{let{notFoundMatches:We,error:Ot,route:Qt}=fr(G.pathname);return{matches:We,pendingActionResult:[Qt.id,{type:"error",error:Ot}]}}}let Te,be=Ad(he,G);if(!be.route.action&&!be.route.lazy)Te={type:"error",error:rr(405,{method:B.method,pathname:G.pathname,routeId:be.route.id})};else{let we=nu(o,u,B,he,be,Ne?[]:i,de),We=await on(B,we,de,null);if(Te=We[be.route.id],!Te){for(let Ot of he)if(We[Ot.route.id]){Te=We[Ot.route.id];break}}if(B.signal.aborted)return{shortCircuited:!0}}if(Vo(Te)){let we;return Ee&&Ee.replace!=null?we=Ee.replace:we=LS(Te.response.headers.get("Location"),new URL(B.url),d)===S.location.pathname+S.location.search,await Hi(B,Te,!0,{submission:ee,replace:we}),{shortCircuited:!0}}if(Vi(Te)){let we=Ua(he,be.route.id);return(Ee&&Ee.replace)!==!0&&(C="PUSH"),{matches:he,pendingActionResult:[we.route.id,Te,be.route.id]}}return{matches:he,pendingActionResult:[be.route.id,Te]}}async function uo(B,G,ee,he,de,Ce,Ne,Ee,Re,Te,be,we){let We=Ce||Ry(G,Ne),Ot=Ne||Ee||HS(We),Qt=!pe&&!Te;if(de){if(Qt){let en=ta(we);Lt({navigation:We,...en!==void 0?{actionData:en}:{}},{flushSync:be})}let Xe=await ds(ee,G.pathname,B.signal);if(Xe.type==="aborted")return{shortCircuited:!0};if(Xe.type==="error"){if(Xe.partialMatches.length===0){let{matches:$i,route:Gi}=ld(h);return{matches:$i,loaderData:{},errors:{[Gi.id]:Xe.error}}}let en=Ua(Xe.partialMatches).route.id;return{matches:Xe.partialMatches,loaderData:{},errors:{[en]:Xe.error}}}else if(Xe.matches)ee=Xe.matches;else{let{error:en,notFoundMatches:$i,route:Gi}=fr(G.pathname);return{matches:$i,loaderData:{},errors:{[Gi.id]:en}}}}let gn=f||h,{dsMatches:lt,revalidatingFetchers:dt}=NS(B,he,o,u,n.history,S,ee,Ot,G,Te?[]:i,Te===!0,ge,K,fe,Z,H,gn,d,n.patchRoutesOnNavigation!=null,we);if(xe=++me,!n.dataStrategy&&!lt.some(Xe=>Xe.shouldLoad)&&!lt.some(Xe=>Xe.route.middleware&&Xe.route.middleware.length>0)&&dt.length===0){let Xe=li();return Qn(G,{matches:ee,loaderData:{},errors:we&&Vi(we[1])?{[we[0]]:we[1].error}:null,...FS(we),...Xe?{fetchers:new Map(S.fetchers)}:{}},{flushSync:be}),{shortCircuited:!0}}if(Qt){let Xe={};if(!de){Xe.navigation=We;let en=ta(we);en!==void 0&&(Xe.actionData=en)}dt.length>0&&(Xe.fetchers=Xt(dt)),Lt(Xe,{flushSync:be})}dt.forEach(Xe=>{ln(Xe.key),Xe.controller&&re.set(Xe.key,Xe.controller)});let Nn=()=>dt.forEach(Xe=>ln(Xe.key));N&&N.signal.addEventListener("abort",Nn);let{loaderResults:Mn,fetcherResults:Zt}=await Dr(lt,dt,B,he);if(B.signal.aborted)return{shortCircuited:!0};N&&N.signal.removeEventListener("abort",Nn),dt.forEach(Xe=>re.delete(Xe.key));let un=ud(Mn);if(un)return await Hi(B,un.result,!0,{replace:Re}),{shortCircuited:!0};if(un=ud(Zt),un)return H.add(un.key),await Hi(B,un.result,!0,{replace:Re}),{shortCircuited:!0};let{loaderData:Gt,errors:dr}=US(S,ee,Mn,we,dt,Zt);Te&&S.errors&&(dr={...S.errors,...dr});let Oi=li(),ui=$t(xe),ci=Oi||ui||dt.length>0;return{matches:ee,loaderData:Gt,errors:dr,...ci?{fetchers:new Map(S.fetchers)}:{}}}function ta(B){if(B&&!Vi(B[1]))return{[B[0]]:B[1].data};if(S.actionData)return Object.keys(S.actionData).length===0?null:S.actionData}function Xt(B){return B.forEach(G=>{let ee=S.fetchers.get(G.key),he=Mc(void 0,ee?ee.data:void 0);S.fetchers.set(G.key,he)}),new Map(S.fetchers)}async function an(B,G,ee,he){ln(B);let de=(he&&he.flushSync)===!0,Ce=f||h,Ne=i_(S.location,S.matches,d,ee,G,he?.relative),Ee=Va(Ce,Ne,d),Re=ia(Ee,Ce,Ne);if(Re.active&&Re.matches&&(Ee=Re.matches),!Ee){Dn(B,G,rr(404,{pathname:Ne}),{flushSync:de});return}let{path:Te,submission:be,error:we}=DS(!0,Ne,he);if(we){Dn(B,G,we,{flushSync:de});return}let We=n.getContext?await n.getContext():new CS,Ot=(he&&he.preventScrollReset)===!0;if(be&&di(be.formMethod)){await Or(B,G,Te,Ee,We,Re.active,de,Ot,be);return}Z.set(B,{routeId:G,path:Te}),await Lu(B,G,Te,Ee,We,Re.active,de,Ot,be)}async function Or(B,G,ee,he,de,Ce,Ne,Ee,Re){cs(),Z.delete(B);let Te=S.fetchers.get(B);oi(B,zM(Re,Te),{flushSync:Ne});let be=new AbortController,we=Yl(n.history,ee,be.signal,Re);if(Ce){let Vt=await ds(he,new URL(we.url).pathname,we.signal,B);if(Vt.type==="aborted")return;if(Vt.type==="error"){Dn(B,G,Vt.error,{flushSync:Ne});return}else if(Vt.matches)he=Vt.matches;else{Dn(B,G,rr(404,{pathname:ee}),{flushSync:Ne});return}}let We=Ad(he,ee);if(!We.route.action&&!We.route.lazy){let Vt=rr(405,{method:Re.formMethod,pathname:ee,routeId:G});Dn(B,G,Vt,{flushSync:Ne});return}re.set(B,be);let Ot=me,Qt=nu(o,u,we,he,We,i,de),lt=(await on(we,Qt,de,B))[We.route.id];if(we.signal.aborted){re.get(B)===be&&re.delete(B);return}if(fe.has(B)){if(Vo(lt)||Vi(lt)){oi(B,xs(void 0));return}}else{if(Vo(lt))if(re.delete(B),xe>Ot){oi(B,xs(void 0));return}else return H.add(B),oi(B,Mc(Re)),Hi(we,lt,!1,{fetcherSubmission:Re,preventScrollReset:Ee});if(Vi(lt)){Dn(B,G,lt.error);return}}let dt=S.navigation.location||S.location,Nn=Yl(n.history,dt,be.signal),Mn=f||h,Zt=S.navigation.state!=="idle"?Va(Mn,S.navigation.location,d):S.matches;Je(Zt,"Didn't find any matches after fetcher action");let un=++me;ze.set(B,un);let Gt=Mc(Re,lt.data);S.fetchers.set(B,Gt);let{dsMatches:dr,revalidatingFetchers:Oi}=NS(Nn,de,o,u,n.history,S,Zt,Re,dt,i,!1,ge,K,fe,Z,H,Mn,d,n.patchRoutesOnNavigation!=null,[We.route.id,lt]);Oi.filter(Vt=>Vt.key!==B).forEach(Vt=>{let xn=Vt.key,Wt=S.fetchers.get(xn),yn=Mc(void 0,Wt?Wt.data:void 0);S.fetchers.set(xn,yn),ln(xn),Vt.controller&&re.set(xn,Vt.controller)}),Lt({fetchers:new Map(S.fetchers)});let ui=()=>Oi.forEach(Vt=>ln(Vt.key));be.signal.addEventListener("abort",ui);let{loaderResults:ci,fetcherResults:Xe}=await Dr(dr,Oi,Nn,de);if(be.signal.aborted)return;if(be.signal.removeEventListener("abort",ui),ze.delete(B),re.delete(B),Oi.forEach(Vt=>re.delete(Vt.key)),S.fetchers.has(B)){let Vt=xs(lt.data);S.fetchers.set(B,Vt)}let en=ud(ci);if(en)return Hi(Nn,en.result,!1,{preventScrollReset:Ee});if(en=ud(Xe),en)return H.add(en.key),Hi(Nn,en.result,!1,{preventScrollReset:Ee});let{loaderData:$i,errors:Gi}=US(S,Zt,ci,void 0,Oi,Xe);$t(un),S.navigation.state==="loading"&&un>xe?(Je(C,"Expected pending action"),N&&N.abort(),Qn(S.navigation.location,{matches:Zt,loaderData:$i,errors:Gi,fetchers:new Map(S.fetchers)})):(Lt({errors:Gi,loaderData:zS(S.loaderData,$i,Zt,Gi),fetchers:new Map(S.fetchers)}),ge=!1)}async function Lu(B,G,ee,he,de,Ce,Ne,Ee,Re){let Te=S.fetchers.get(B);oi(B,Mc(Re,Te?Te.data:void 0),{flushSync:Ne});let be=new AbortController,we=Yl(n.history,ee,be.signal);if(Ce){let dt=await ds(he,new URL(we.url).pathname,we.signal,B);if(dt.type==="aborted")return;if(dt.type==="error"){Dn(B,G,dt.error,{flushSync:Ne});return}else if(dt.matches)he=dt.matches;else{Dn(B,G,rr(404,{pathname:ee}),{flushSync:Ne});return}}let We=Ad(he,ee);re.set(B,be);let Ot=me,Qt=nu(o,u,we,he,We,i,de),lt=(await on(we,Qt,de,B))[We.route.id];if(re.get(B)===be&&re.delete(B),!we.signal.aborted){if(fe.has(B)){oi(B,xs(void 0));return}if(Vo(lt))if(xe>Ot){oi(B,xs(void 0));return}else{H.add(B),await Hi(we,lt,!1,{preventScrollReset:Ee});return}if(Vi(lt)){Dn(B,G,lt.error);return}oi(B,xs(lt.data))}}async function Hi(B,G,ee,{submission:he,fetcherSubmission:de,preventScrollReset:Ce,replace:Ne}={}){G.response.headers.has("X-Remix-Revalidate")&&(ge=!0);let Ee=G.response.headers.get("Location");Je(Ee,"Expected a Location header on the redirect Response"),Ee=LS(Ee,new URL(B.url),d);let Re=nh(S.location,Ee,{_isRedirect:!0});if(t){let Qt=!1;if(G.response.headers.has("X-Remix-Reload-Document"))Qt=!0;else if(fv(Ee)){const gn=zC(Ee,!0);Qt=gn.origin!==e.location.origin||lr(gn.pathname,d)==null}if(Qt){Ne?e.location.replace(Ee):e.location.assign(Ee);return}}N=null;let Te=Ne===!0||G.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:be,formAction:we,formEncType:We}=S.navigation;!he&&!de&&be&&we&&We&&(he=HS(S.navigation));let Ot=he||de;if(gM.has(G.response.status)&&Ot&&di(Ot.formMethod))await ai(Te,Re,{submission:{...Ot,formAction:Ee},preventScrollReset:Ce||x,enableViewTransition:ee?k:void 0});else{let Qt=Ry(Re,he);await ai(Te,Re,{overrideNavigation:Qt,fetcherSubmission:de,preventScrollReset:Ce||x,enableViewTransition:ee?k:void 0})}}async function on(B,G,ee,he){let de,Ce={};try{de=await AM(y,B,G,he,ee,!1)}catch(Ne){return G.filter(Ee=>Ee.shouldLoad).forEach(Ee=>{Ce[Ee.route.id]={type:"error",error:Ne}}),Ce}if(B.signal.aborted)return Ce;for(let[Ne,Ee]of Object.entries(de))if(LM(Ee)){let Re=Ee.result;Ce[Ne]={type:"redirect",response:NM(Re,B,Ne,G,d)}}else Ce[Ne]=await DM(Ee);return Ce}async function Dr(B,G,ee,he){let de=on(ee,B,he,null),Ce=Promise.all(G.map(async Re=>{if(Re.matches&&Re.match&&Re.request&&Re.controller){let be=(await on(Re.request,Re.matches,he,Re.key))[Re.match.route.id];return{[Re.key]:be}}else return Promise.resolve({[Re.key]:{type:"error",error:rr(404,{pathname:Re.path})}})})),Ne=await de,Ee=(await Ce).reduce((Re,Te)=>Object.assign(Re,Te),{});return{loaderResults:Ne,fetcherResults:Ee}}function cs(){ge=!0,Z.forEach((B,G)=>{re.has(G)&&K.add(G),ln(G)})}function oi(B,G,ee={}){S.fetchers.set(B,G),Lt({fetchers:new Map(S.fetchers)},{flushSync:(ee&&ee.flushSync)===!0})}function Dn(B,G,ee,he={}){let de=Ua(S.matches,G);na(B),Lt({errors:{[de.route.id]:ee},fetchers:new Map(S.fetchers)},{flushSync:(he&&he.flushSync)===!0})}function sl(B){return ce.set(B,(ce.get(B)||0)+1),fe.has(B)&&fe.delete(B),S.fetchers.get(B)||yM}function al(B,G){ln(B,G?.reason),oi(B,xs(null))}function na(B){let G=S.fetchers.get(B);re.has(B)&&!(G&&G.state==="loading"&&ze.has(B))&&ln(B),Z.delete(B),ze.delete(B),H.delete(B),fe.delete(B),K.delete(B),S.fetchers.delete(B)}function ol(B){let G=(ce.get(B)||0)-1;G<=0?(ce.delete(B),fe.add(B)):ce.set(B,G),Lt({fetchers:new Map(S.fetchers)})}function ln(B,G){let ee=re.get(B);ee&&(ee.abort(G),re.delete(B))}function mn(B){for(let G of B){let ee=sl(G),he=xs(ee.data);S.fetchers.set(G,he)}}function li(){let B=[],G=!1;for(let ee of H){let he=S.fetchers.get(ee);Je(he,`Expected fetcher: ${ee}`),he.state==="loading"&&(H.delete(ee),B.push(ee),G=!0)}return mn(B),G}function $t(B){let G=[];for(let[ee,he]of ze)if(he<B){let de=S.fetchers.get(ee);Je(de,`Expected fetcher: ${ee}`),de.state==="loading"&&(ln(ee),ze.delete(ee),G.push(ee))}return mn(G),G.length>0}function ll(B,G){let ee=S.blockers.get(B)||Nc;return Ie.get(B)!==G&&Ie.set(B,G),ee}function hs(B){S.blockers.delete(B),Ie.delete(B)}function fs(B,G){let ee=S.blockers.get(B)||Nc;Je(ee.state==="unblocked"&&G.state==="blocked"||ee.state==="blocked"&&G.state==="blocked"||ee.state==="blocked"&&G.state==="proceeding"||ee.state==="blocked"&&G.state==="unblocked"||ee.state==="proceeding"&&G.state==="unblocked",`Invalid blocker state transition: ${ee.state} -> ${G.state}`);let he=new Map(S.blockers);he.set(B,G),Lt({blockers:he})}function Ai({currentLocation:B,nextLocation:G,historyAction:ee}){if(Ie.size===0)return;Ie.size>1&&pn(!1,"A router only supports one blocker at a time");let he=Array.from(Ie.entries()),[de,Ce]=he[he.length-1],Ne=S.blockers.get(de);if(!(Ne&&Ne.state==="proceeding")&&Ce({currentLocation:B,nextLocation:G,historyAction:ee}))return de}function fr(B){let G=rr(404,{pathname:B}),ee=f||h,{matches:he,route:de}=ld(ee);return{notFoundMatches:he,route:de,error:G}}function Jt(B,G,ee){if(I=B,A=G,O=ee||null,!U&&S.navigation===Cy){U=!0;let he=mi(S.location,S.matches);he!=null&&Lt({restoreScrollPosition:he})}return()=>{I=null,A=null,O=null}}function Ii(B,G){return O&&O(B,G.map(he=>BN(he,S.loaderData)))||B.key}function ji(B,G){if(I&&A){let ee=Ii(B,G);I[ee]=A()}}function mi(B,G){if(I){let ee=Ii(B,G),he=I[ee];if(typeof he=="number")return he}return null}function ia(B,G,ee){if(n.patchRoutesOnNavigation)if(B){if(Object.keys(B[0].params).length>0)return{active:!0,matches:Rd(G,ee,d,!0)}}else return{active:!0,matches:Rd(G,ee,d,!0)||[]};return{active:!1,matches:null}}async function ds(B,G,ee,he){if(!n.patchRoutesOnNavigation)return{type:"success",matches:B};let de=B;for(;;){let Ce=f==null,Ne=f||h,Ee=u;try{await n.patchRoutesOnNavigation({signal:ee,path:G,matches:de,fetcherKey:he,patch:(be,we)=>{ee.aborted||MS(be,we,Ne,Ee,o,!1)}})}catch(be){return{type:"error",error:be,partialMatches:de}}finally{Ce&&!ee.aborted&&(h=[...h])}if(ee.aborted)return{type:"aborted"};let Re=Va(Ne,G,d);if(Re)return{type:"success",matches:Re};let Te=Rd(Ne,G,d,!0);if(!Te||de.length===Te.length&&de.every((be,we)=>be.route.id===Te[we].route.id))return{type:"success",matches:null};de=Te}}function qi(B){u={},f=ih(B,o,void 0,u)}function ps(B,G,ee=!1){let he=f==null;MS(B,G,f||h,u,o,ee),he&&(h=[...h],Lt({}))}return ie={get basename(){return d},get future(){return _},get state(){return S},get routes(){return h},get window(){return e},initialize:gt,subscribe:cr,enableScrollRestoration:Jt,navigate:hr,fetch:an,revalidate:si,createHref:B=>n.history.createHref(B),encodeLocation:B=>n.history.encodeLocation(B),getFetcher:sl,resetFetcher:al,deleteFetcher:ol,dispose:yt,getBlocker:ll,deleteBlocker:hs,patchRoutes:ps,_internalFetchControllers:re,_internalSetRoutes:qi,_internalSetStateDoNotUseOrYouWillBreakYourApp(B){Lt(B)}},n.unstable_instrumentations&&(ie=oM(ie,n.unstable_instrumentations.map(B=>B.router).filter(Boolean))),ie}function EM(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function i_(n,e,t,i,s,o){let u,h;if(s){u=[];for(let d of e)if(u.push(d),d.route.id===s){h=d;break}}else u=e,h=e[e.length-1];let f=cv(i||".",uv(u),lr(n.pathname,t)||n.pathname,o==="path");if(i==null&&(f.search=n.search,f.hash=n.hash),(i==null||i===""||i===".")&&h){let d=pv(f.search);if(h.route.index&&!d)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!h.route.index&&d){let y=new URLSearchParams(f.search),_=y.getAll("index");y.delete("index"),_.filter(w=>w).forEach(w=>y.append("index",w));let E=y.toString();f.search=E?`?${E}`:""}}return t!=="/"&&(f.pathname=eM({basename:t,pathname:f.pathname})),es(f)}function DS(n,e,t){if(!t||!EM(t))return{path:e};if(t.formMethod&&!VM(t.formMethod))return{path:e,error:rr(405,{method:t.formMethod})};let i=()=>({path:e,error:rr(400,{type:"invalid-body"})}),o=(t.formMethod||"get").toUpperCase(),u=JC(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!di(o))return i();let _=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((E,[w,I])=>`${E}${w}=${I}
`,""):String(t.body);return{path:e,submission:{formMethod:o,formAction:u,formEncType:t.formEncType,formData:void 0,json:void 0,text:_}}}else if(t.formEncType==="application/json"){if(!di(o))return i();try{let _=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:o,formAction:u,formEncType:t.formEncType,formData:void 0,json:_,text:void 0}}}catch{return i()}}}Je(typeof FormData=="function","FormData is not available in this environment");let h,f;if(t.formData)h=a_(t.formData),f=t.formData;else if(t.body instanceof FormData)h=a_(t.body),f=t.body;else if(t.body instanceof URLSearchParams)h=t.body,f=VS(h);else if(t.body==null)h=new URLSearchParams,f=new FormData;else try{h=new URLSearchParams(t.body),f=VS(h)}catch{return i()}let d={formMethod:o,formAction:u,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(di(d.formMethod))return{path:e,submission:d};let y=ro(e);return n&&y.search&&pv(y.search)&&h.append("index",""),y.search=`?${h}`,{path:es(y),submission:d}}function NS(n,e,t,i,s,o,u,h,f,d,y,_,E,w,I,O,A,U,V,z){let Q=z?Vi(z[1])?z[1].error:z[1].data:void 0,j=s.createURL(o.location),ie=s.createURL(f),S;if(y&&o.errors){let pe=Object.keys(o.errors)[0];S=u.findIndex(ge=>ge.route.id===pe)}else if(z&&Vi(z[1])){let pe=z[0];S=u.findIndex(ge=>ge.route.id===pe)-1}let C=z?z[1].statusCode:void 0,x=C&&C>=400,N={currentUrl:j,currentParams:o.matches[0]?.params||{},nextUrl:ie,nextParams:u[0].params,...h,actionResult:Q,actionStatus:C},k=hv(u.map(pe=>pe.route.path)),P=u.map((pe,ge)=>{let{route:K}=pe,re=null;if(S!=null&&ge>S?re=!1:K.lazy?re=!0:dv(K)?y?re=r_(K,o.loaderData,o.errors):TM(o.loaderData,o.matches[ge],pe)&&(re=!0):re=!1,re!==null)return s_(t,i,n,k,pe,d,e,re);let me=x?!1:_||j.pathname+j.search===ie.pathname+ie.search||j.search!==ie.search||SM(o.matches[ge],pe),xe={...N,defaultShouldRevalidate:me},ze=Yd(pe,xe);return s_(t,i,n,k,pe,d,e,ze,xe)}),M=[];return I.forEach((pe,ge)=>{if(y||!u.some(ce=>ce.route.id===pe.routeId)||w.has(ge))return;let K=o.fetchers.get(ge),re=K&&K.state!=="idle"&&K.data===void 0,me=Va(A,pe.path,U);if(!me){if(V&&re)return;M.push({key:ge,routeId:pe.routeId,path:pe.path,matches:null,match:null,request:null,controller:null});return}if(O.has(ge))return;let xe=Ad(me,pe.path),ze=new AbortController,H=Yl(s,pe.path,ze.signal),Z=null;if(E.has(ge))E.delete(ge),Z=nu(t,i,H,me,xe,d,e);else if(re)_&&(Z=nu(t,i,H,me,xe,d,e));else{let ce={...N,defaultShouldRevalidate:x?!1:_};Yd(xe,ce)&&(Z=nu(t,i,H,me,xe,d,e,ce))}Z&&M.push({key:ge,routeId:pe.routeId,path:pe.path,matches:Z,match:xe,request:H,controller:ze})}),{dsMatches:P,revalidatingFetchers:M}}function dv(n){return n.loader!=null||n.middleware!=null&&n.middleware.length>0}function r_(n,e,t){if(n.lazy)return!0;if(!dv(n))return!1;let i=e!=null&&n.id in e,s=t!=null&&t[n.id]!==void 0;return!i&&s?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!i&&!s}function TM(n,e,t){let i=!e||t.route.id!==e.route.id,s=!n.hasOwnProperty(t.route.id);return i||s}function SM(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function Yd(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function MS(n,e,t,i,s,o){let u;if(n){let d=i[n];Je(d,`No route found to patch children into: routeId = ${n}`),d.children||(d.children=[]),u=d.children}else u=t;let h=[],f=[];if(e.forEach(d=>{let y=u.find(_=>KC(d,_));y?f.push({existingRoute:y,newRoute:d}):h.push(d)}),h.length>0){let d=ih(h,s,[n||"_","patch",String(u?.length||"0")],i);u.push(...d)}if(o&&f.length>0)for(let d=0;d<f.length;d++){let{existingRoute:y,newRoute:_}=f[d],E=y,[w]=ih([_],s,[],{},!0);Object.assign(E,{element:w.element?w.element:E.element,errorElement:w.errorElement?w.errorElement:E.errorElement,hydrateFallbackElement:w.hydrateFallbackElement?w.hydrateFallbackElement:E.hydrateFallbackElement})}}function KC(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,i)=>e.children?.some(s=>KC(t,s))):!1}var xS=new WeakMap,YC=({key:n,route:e,manifest:t,mapRouteProperties:i})=>{let s=t[e.id];if(Je(s,"No route found in manifest"),!s.lazy||typeof s.lazy!="object")return;let o=s.lazy[n];if(!o)return;let u=xS.get(s);u||(u={},xS.set(s,u));let h=u[n];if(h)return h;let f=(async()=>{let d=VN(n),_=s[n]!==void 0&&n!=="hasErrorBoundary";if(d)pn(!d,"Route property "+n+" is not a supported lazy route property. This property will be ignored."),u[n]=Promise.resolve();else if(_)pn(!1,`Route "${s.id}" has a static property "${n}" defined. The lazy property will be ignored.`);else{let E=await o();E!=null&&(Object.assign(s,{[n]:E}),Object.assign(s,i(s)))}typeof s.lazy=="object"&&(s.lazy[n]=void 0,Object.values(s.lazy).every(E=>E===void 0)&&(s.lazy=void 0))})();return u[n]=f,f},PS=new WeakMap;function wM(n,e,t,i,s){let o=t[n.id];if(Je(o,"No route found in manifest"),!n.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof n.lazy=="function"){let y=PS.get(o);if(y)return{lazyRoutePromise:y,lazyHandlerPromise:y};let _=(async()=>{Je(typeof n.lazy=="function","No lazy route function found");let E=await n.lazy(),w={};for(let I in E){let O=E[I];if(O===void 0)continue;let A=zN(I),V=o[I]!==void 0&&I!=="hasErrorBoundary";A?pn(!A,"Route property "+I+" is not a supported property to be returned from a lazy route function. This property will be ignored."):V?pn(!V,`Route "${o.id}" has a static property "${I}" defined but its lazy function is also returning a value for this property. The lazy route property "${I}" will be ignored.`):w[I]=O}Object.assign(o,w),Object.assign(o,{...i(o),lazy:void 0})})();return PS.set(o,_),_.catch(()=>{}),{lazyRoutePromise:_,lazyHandlerPromise:_}}let u=Object.keys(n.lazy),h=[],f;for(let y of u){if(s&&s.includes(y))continue;let _=YC({key:y,route:n,manifest:t,mapRouteProperties:i});_&&(h.push(_),y===e&&(f=_))}let d=h.length>0?Promise.all(h).then(()=>{}):void 0;return d?.catch(()=>{}),f?.catch(()=>{}),{lazyRoutePromise:d,lazyHandlerPromise:f}}async function kS(n){let e=n.matches.filter(s=>s.shouldLoad),t={};return(await Promise.all(e.map(s=>s.resolve()))).forEach((s,o)=>{t[e[o].route.id]=s}),t}async function CM(n){return n.matches.some(e=>e.route.middleware)?QC(n,()=>kS(n)):kS(n)}function QC(n,e){return RM(n,e,i=>i,PM,t);function t(i,s,o){if(o)return Promise.resolve(Object.assign(o.value,{[s]:{type:"error",result:i}}));{let{matches:u}=n,h=Math.min(Math.max(u.findIndex(d=>d.route.id===s),0),Math.max(u.findIndex(d=>d.unstable_shouldCallHandler()),0)),f=Ua(u,u[h].route.id).route.id;return Promise.resolve({[f]:{type:"error",result:i}})}}}async function RM(n,e,t,i,s){let{matches:o,request:u,params:h,context:f,unstable_pattern:d}=n,y=o.flatMap(E=>E.route.middleware?E.route.middleware.map(w=>[E.route.id,w]):[]);return await WC({request:u,params:h,context:f,unstable_pattern:d},y,e,t,i,s)}async function WC(n,e,t,i,s,o,u=0){let{request:h}=n;if(h.signal.aborted)throw h.signal.reason??new Error(`Request aborted: ${h.method} ${h.url}`);let f=e[u];if(!f)return await t();let[d,y]=f,_,E=async()=>{if(_)throw new Error("You may only call `next()` once per middleware");try{return _={value:await WC(n,e,t,i,s,o,u+1)},_.value}catch(w){return _={value:await o(w,d,_)},_.value}};try{let w=await y(n,E),I=w!=null?i(w):void 0;return s(I)?I:_?I??_.value:(_={value:await E()},_.value)}catch(w){return await o(w,d,_)}}function XC(n,e,t,i,s){let o=YC({key:"middleware",route:i.route,manifest:e,mapRouteProperties:n}),u=wM(i.route,di(t.method)?"action":"loader",e,n,s);return{middleware:o,route:u.lazyRoutePromise,handler:u.lazyHandlerPromise}}function s_(n,e,t,i,s,o,u,h,f=null){let d=!1,y=XC(n,e,t,s,o);return{...s,_lazyPromises:y,shouldLoad:h,unstable_shouldRevalidateArgs:f,unstable_shouldCallHandler(_){return d=!0,f?typeof _=="boolean"?Yd(s,{...f,defaultShouldRevalidate:_}):Yd(s,f):h},resolve(_){let{lazy:E,loader:w,middleware:I}=s.route,O=d||h||_&&!di(t.method)&&(E||w),A=I&&I.length>0&&!w&&!E;return O&&(di(t.method)||!A)?IM({request:t,unstable_pattern:i,match:s,lazyHandlerPromise:y?.handler,lazyRoutePromise:y?.route,handlerOverride:_,scopedContext:u}):Promise.resolve({type:"data",result:void 0})}}}function nu(n,e,t,i,s,o,u,h=null){return i.map(f=>f.route.id!==s.route.id?{...f,shouldLoad:!1,unstable_shouldRevalidateArgs:h,unstable_shouldCallHandler:()=>!1,_lazyPromises:XC(n,e,t,f,o),resolve:()=>Promise.resolve({type:"data",result:void 0})}:s_(n,e,t,hv(i.map(d=>d.route.path)),f,o,u,!0,h))}async function AM(n,e,t,i,s,o){t.some(d=>d._lazyPromises?.middleware)&&await Promise.all(t.map(d=>d._lazyPromises?.middleware));let u={request:e,unstable_pattern:hv(t.map(d=>d.route.path)),params:t[0].params,context:s,matches:t},f=await n({...u,fetcherKey:i,runClientMiddleware:d=>{let y=u;return QC(y,()=>d({...y,fetcherKey:i,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(t.flatMap(d=>[d._lazyPromises?.handler,d._lazyPromises?.route]))}catch{}return f}async function IM({request:n,unstable_pattern:e,match:t,lazyHandlerPromise:i,lazyRoutePromise:s,handlerOverride:o,scopedContext:u}){let h,f,d=di(n.method),y=d?"action":"loader",_=E=>{let w,I=new Promise((U,V)=>w=V);f=()=>w(),n.signal.addEventListener("abort",f);let O=U=>typeof E!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${y}" [routeId: ${t.route.id}]`)):E({request:n,unstable_pattern:e,params:t.params,context:u},...U!==void 0?[U]:[]),A=(async()=>{try{return{type:"data",result:await(o?o(V=>O(V)):O())}}catch(U){return{type:"error",result:U}}})();return Promise.race([A,I])};try{let E=d?t.route.action:t.route.loader;if(i||s)if(E){let w,[I]=await Promise.all([_(E).catch(O=>{w=O}),i,s]);if(w!==void 0)throw w;h=I}else{await i;let w=d?t.route.action:t.route.loader;if(w)[h]=await Promise.all([_(w),s]);else if(y==="action"){let I=new URL(n.url),O=I.pathname+I.search;throw rr(405,{method:n.method,pathname:O,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(E)h=await _(E);else{let w=new URL(n.url),I=w.pathname+w.search;throw rr(404,{pathname:I})}}catch(E){return{type:"error",result:E}}finally{f&&n.signal.removeEventListener("abort",f)}return h}async function OM(n){let e=n.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?n.body==null?null:n.json():n.text()}async function DM(n){let{result:e,type:t}=n;if(ZC(e)){let i;try{i=await OM(e)}catch(s){return{type:"error",error:s}}return t==="error"?{type:"error",error:new Kd(e.status,e.statusText,i),statusCode:e.status,headers:e.headers}:{type:"data",data:i,statusCode:e.status,headers:e.headers}}return t==="error"?BS(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Kd(e.init?.status||500,void 0,e.data),statusCode:rh(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:rh(e)?e.status:void 0}:BS(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function NM(n,e,t,i,s){let o=n.headers.get("Location");if(Je(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!fv(o)){let u=i.slice(0,i.findIndex(h=>h.route.id===t)+1);o=i_(new URL(e.url),u,s,o),n.headers.set("Location",o)}return n}function LS(n,e,t){if(fv(n)){let i=n,s=i.startsWith("//")?new URL(e.protocol+i):new URL(i),o=lr(s.pathname,t)!=null;if(s.origin===e.origin&&o)return s.pathname+s.search+s.hash}return n}function Yl(n,e,t,i){let s=n.createURL(JC(e)).toString(),o={signal:t};if(i&&di(i.formMethod)){let{formMethod:u,formEncType:h}=i;o.method=u.toUpperCase(),h==="application/json"?(o.headers=new Headers({"Content-Type":h}),o.body=JSON.stringify(i.json)):h==="text/plain"?o.body=i.text:h==="application/x-www-form-urlencoded"&&i.formData?o.body=a_(i.formData):o.body=i.formData}return new Request(s,o)}function a_(n){let e=new URLSearchParams;for(let[t,i]of n.entries())e.append(t,typeof i=="string"?i:i.name);return e}function VS(n){let e=new FormData;for(let[t,i]of n.entries())e.append(t,i);return e}function MM(n,e,t,i=!1,s=!1){let o={},u=null,h,f=!1,d={},y=t&&Vi(t[1])?t[1].error:void 0;return n.forEach(_=>{if(!(_.route.id in e))return;let E=_.route.id,w=e[E];if(Je(!Vo(w),"Cannot handle redirect results in processLoaderData"),Vi(w)){let I=w.error;if(y!==void 0&&(I=y,y=void 0),u=u||{},s)u[E]=I;else{let O=Ua(n,E);u[O.route.id]==null&&(u[O.route.id]=I)}i||(o[E]=GC),f||(f=!0,h=rh(w.error)?w.error.status:500),w.headers&&(d[E]=w.headers)}else o[E]=w.data,w.statusCode&&w.statusCode!==200&&!f&&(h=w.statusCode),w.headers&&(d[E]=w.headers)}),y!==void 0&&t&&(u={[t[0]]:y},t[2]&&(o[t[2]]=void 0)),{loaderData:o,errors:u,statusCode:h||200,loaderHeaders:d}}function US(n,e,t,i,s,o){let{loaderData:u,errors:h}=MM(e,t,i);return s.filter(f=>!f.matches||f.matches.some(d=>d.shouldLoad)).forEach(f=>{let{key:d,match:y,controller:_}=f;if(_&&_.signal.aborted)return;let E=o[d];if(Je(E,"Did not find corresponding fetcher result"),Vi(E)){let w=Ua(n.matches,y?.route.id);h&&h[w.route.id]||(h={...h,[w.route.id]:E.error}),n.fetchers.delete(d)}else if(Vo(E))Je(!1,"Unhandled fetcher revalidation redirect");else{let w=xs(E.data);n.fetchers.set(d,w)}}),{loaderData:u,errors:h}}function zS(n,e,t,i){let s=Object.entries(e).filter(([,o])=>o!==GC).reduce((o,[u,h])=>(o[u]=h,o),{});for(let o of t){let u=o.route.id;if(!e.hasOwnProperty(u)&&n.hasOwnProperty(u)&&o.route.loader&&(s[u]=n[u]),i&&i.hasOwnProperty(u))break}return s}function FS(n){return n?Vi(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function Ua(n,e){return(e?n.slice(0,n.findIndex(i=>i.route.id===e)+1):[...n]).reverse().find(i=>i.route.hasErrorBoundary===!0)||n[0]}function ld(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function rr(n,{pathname:e,routeId:t,method:i,type:s,message:o}={}){let u="Unknown Server Error",h="Unknown @remix-run/router error";return n===400?(u="Bad Request",i&&e&&t?h=`You made a ${i} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:s==="invalid-body"&&(h="Unable to encode submission body")):n===403?(u="Forbidden",h=`Route "${t}" does not match URL "${e}"`):n===404?(u="Not Found",h=`No route matches URL "${e}"`):n===405&&(u="Method Not Allowed",i&&e&&t?h=`You made a ${i.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:i&&(h=`Invalid request method "${i.toUpperCase()}"`)),new Kd(n||500,u,new Error(h),!0)}function ud(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[i,s]=e[t];if(Vo(s))return{key:i,result:s}}}function JC(n){let e=typeof n=="string"?ro(n):n;return es({...e,hash:""})}function xM(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function PM(n){return n!=null&&typeof n=="object"&&Object.entries(n).every(([e,t])=>typeof e=="string"&&kM(t))}function kM(n){return n!=null&&typeof n=="object"&&"type"in n&&"result"in n&&(n.type==="data"||n.type==="error")}function LM(n){return ZC(n.result)&&mM.has(n.result.status)}function Vi(n){return n.type==="error"}function Vo(n){return(n&&n.type)==="redirect"}function BS(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function ZC(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function VM(n){return pM.has(n.toUpperCase())}function di(n){return fM.has(n.toUpperCase())}function pv(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Ad(n,e){let t=typeof e=="string"?ro(e).search:e.search;if(n[n.length-1].route.index&&pv(t||""))return n[n.length-1];let i=HC(n);return i[i.length-1]}function HS(n){let{formMethod:e,formAction:t,formEncType:i,text:s,formData:o,json:u}=n;if(!(!e||!t||!i)){if(s!=null)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:void 0,text:s};if(o!=null)return{formMethod:e,formAction:t,formEncType:i,formData:o,json:void 0,text:void 0};if(u!==void 0)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:u,text:void 0}}}function Ry(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function UM(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Mc(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function zM(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function xs(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function FM(n,e){try{let t=n.sessionStorage.getItem($C);if(t){let i=JSON.parse(t);for(let[s,o]of Object.entries(i||{}))o&&Array.isArray(o)&&e.set(s,new Set(o||[]))}}catch{}}function BM(n,e){if(e.size>0){let t={};for(let[i,s]of e)t[i]=[...s];try{n.sessionStorage.setItem($C,JSON.stringify(t))}catch(i){pn(!1,`Failed to save applied view transitions in sessionStorage (${i}).`)}}}function HM(){let n,e,t=new Promise((i,s)=>{n=async o=>{i(o);try{await t}catch{}},e=async o=>{s(o);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var el=L.createContext(null);el.displayName="DataRouter";var bh=L.createContext(null);bh.displayName="DataRouterState";L.createContext(!1);var mv=L.createContext({isTransitioning:!1});mv.displayName="ViewTransition";var eR=L.createContext(new Map);eR.displayName="Fetchers";var jM=L.createContext(null);jM.displayName="Await";var ss=L.createContext(null);ss.displayName="Navigation";var kp=L.createContext(null);kp.displayName="Location";var as=L.createContext({outlet:null,matches:[],isDataRoute:!1});as.displayName="Route";var gv=L.createContext(null);gv.displayName="RouteError";function qM(n,{relative:e}={}){Je(Eh(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=L.useContext(ss),{hash:s,pathname:o,search:u}=Th(n,{relative:e}),h=o;return t!=="/"&&(h=o==="/"?t:Gr([t,o])),i.createHref({pathname:h,search:u,hash:s})}function Eh(){return L.useContext(kp)!=null}function so(){return Je(Eh(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(kp).location}var tR="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function nR(n){L.useContext(ss).static||L.useLayoutEffect(n)}function yv(){let{isDataRoute:n}=L.useContext(as);return n?sx():$M()}function $M(){Je(Eh(),"useNavigate() may be used only in the context of a <Router> component.");let n=L.useContext(el),{basename:e,navigator:t}=L.useContext(ss),{matches:i}=L.useContext(as),{pathname:s}=so(),o=JSON.stringify(uv(i)),u=L.useRef(!1);return nR(()=>{u.current=!0}),L.useCallback((f,d={})=>{if(pn(u.current,tR),!u.current)return;if(typeof f=="number"){t.go(f);return}let y=cv(f,JSON.parse(o),s,d.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Gr([e,y.pathname])),(d.replace?t.replace:t.push)(y,d.state,d)},[e,t,o,s,n])}var GM=L.createContext(null);function KM(n){let e=L.useContext(as).outlet;return L.useMemo(()=>e&&L.createElement(GM.Provider,{value:n},e),[e,n])}function Th(n,{relative:e}={}){let{matches:t}=L.useContext(as),{pathname:i}=so(),s=JSON.stringify(uv(t));return L.useMemo(()=>cv(n,JSON.parse(s),i,e==="path"),[n,s,i,e])}function YM(n,e,t,i,s){Je(Eh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=L.useContext(ss),{matches:u}=L.useContext(as),h=u[u.length-1],f=h?h.params:{},d=h?h.pathname:"/",y=h?h.pathnameBase:"/",_=h&&h.route;{let V=_&&_.path||"";iR(d,!_||V.endsWith("*")||V.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${V}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${V}"> to <Route path="${V==="/"?"*":`${V}/*`}">.`)}let E=so(),w;w=E;let I=w.pathname||"/",O=I;if(y!=="/"){let V=y.replace(/^\//,"").split("/");O="/"+I.replace(/^\//,"").split("/").slice(V.length).join("/")}let A=Va(n,{pathname:O});return pn(_||A!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),pn(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),ZM(A&&A.map(V=>Object.assign({},V,{params:Object.assign({},f,V.params),pathname:Gr([y,o.encodeLocation?o.encodeLocation(V.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:V.pathname]),pathnameBase:V.pathnameBase==="/"?y:Gr([y,o.encodeLocation?o.encodeLocation(V.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:V.pathnameBase])})),u,t,i,s)}function QM(){let n=rx(),e=rh(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:o},"ErrorBoundary")," or"," ",L.createElement("code",{style:o},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),t?L.createElement("pre",{style:s},t):null,u)}var WM=L.createElement(QM,null),XM=class extends L.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.unstable_onError?this.props.unstable_onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?L.createElement(as.Provider,{value:this.props.routeContext},L.createElement(gv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function JM({routeContext:n,match:e,children:t}){let i=L.useContext(el);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(as.Provider,{value:n},t)}function ZM(n,e=[],t=null,i=null,s=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,u=t?.errors;if(u!=null){let d=o.findIndex(y=>y.route.id&&u?.[y.route.id]!==void 0);Je(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,d+1))}let h=!1,f=-1;if(t)for(let d=0;d<o.length;d++){let y=o[d];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(f=d),y.route.id){let{loaderData:_,errors:E}=t,w=y.route.loader&&!_.hasOwnProperty(y.route.id)&&(!E||E[y.route.id]===void 0);if(y.route.lazy||w){h=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((d,y,_)=>{let E,w=!1,I=null,O=null;t&&(E=u&&y.route.id?u[y.route.id]:void 0,I=y.route.errorElement||WM,h&&(f<0&&_===0?(iR("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,O=null):f===_&&(w=!0,O=y.route.hydrateFallbackElement||null)));let A=e.concat(o.slice(0,_+1)),U=()=>{let V;return E?V=I:w?V=O:y.route.Component?V=L.createElement(y.route.Component,null):y.route.element?V=y.route.element:V=d,L.createElement(JM,{match:y,routeContext:{outlet:d,matches:A,isDataRoute:t!=null},children:V})};return t&&(y.route.ErrorBoundary||y.route.errorElement||_===0)?L.createElement(XM,{location:t.location,revalidation:t.revalidation,component:I,error:E,children:U(),routeContext:{outlet:null,matches:A,isDataRoute:!0},unstable_onError:i}):U()},null)}function _v(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ex(n){let e=L.useContext(el);return Je(e,_v(n)),e}function tx(n){let e=L.useContext(bh);return Je(e,_v(n)),e}function nx(n){let e=L.useContext(as);return Je(e,_v(n)),e}function vv(n){let e=nx(n),t=e.matches[e.matches.length-1];return Je(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function ix(){return vv("useRouteId")}function rx(){let n=L.useContext(gv),e=tx("useRouteError"),t=vv("useRouteError");return n!==void 0?n:e.errors?.[t]}function sx(){let{router:n}=ex("useNavigate"),e=vv("useNavigate"),t=L.useRef(!1);return nR(()=>{t.current=!0}),L.useCallback(async(s,o={})=>{pn(t.current,tR),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...o}))},[n,e])}var jS={};function iR(n,e,t){!e&&!jS[n]&&(jS[n]=!0,pn(!1,t))}var qS={};function $S(n,e){!n&&!qS[e]&&(qS[e]=!0,console.warn(e))}function ax(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&pn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:L.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&pn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:L.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&pn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:L.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var ox=["HydrateFallback","hydrateFallbackElement"],lx=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",t(i))}})}};function ux({router:n,flushSync:e,unstable_onError:t}){let[i,s]=L.useState(n.state),[o,u]=L.useState(),[h,f]=L.useState({isTransitioning:!1}),[d,y]=L.useState(),[_,E]=L.useState(),[w,I]=L.useState(),O=L.useRef(new Map),A=L.useCallback(j=>{s(ie=>(j.errors&&t&&Object.entries(j.errors).forEach(([S,C])=>{ie.errors?.[S]!==C&&t(C)}),j))},[t]),U=L.useCallback((j,{deletedFetchers:ie,flushSync:S,viewTransitionOpts:C})=>{j.fetchers.forEach((N,k)=>{N.data!==void 0&&O.current.set(k,N.data)}),ie.forEach(N=>O.current.delete(N)),$S(S===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let x=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if($S(C==null||x,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!C||!x){e&&S?e(()=>A(j)):L.startTransition(()=>A(j));return}if(e&&S){e(()=>{_&&(d&&d.resolve(),_.skipTransition()),f({isTransitioning:!0,flushSync:!0,currentLocation:C.currentLocation,nextLocation:C.nextLocation})});let N=n.window.document.startViewTransition(()=>{e(()=>A(j))});N.finished.finally(()=>{e(()=>{y(void 0),E(void 0),u(void 0),f({isTransitioning:!1})})}),e(()=>E(N));return}_?(d&&d.resolve(),_.skipTransition(),I({state:j,currentLocation:C.currentLocation,nextLocation:C.nextLocation})):(u(j),f({isTransitioning:!0,flushSync:!1,currentLocation:C.currentLocation,nextLocation:C.nextLocation}))},[n.window,e,_,d,A]);L.useLayoutEffect(()=>n.subscribe(U),[n,U]),L.useEffect(()=>{h.isTransitioning&&!h.flushSync&&y(new lx)},[h]),L.useEffect(()=>{if(d&&o&&n.window){let j=o,ie=d.promise,S=n.window.document.startViewTransition(async()=>{L.startTransition(()=>A(j)),await ie});S.finished.finally(()=>{y(void 0),E(void 0),u(void 0),f({isTransitioning:!1})}),E(S)}},[o,d,n.window,A]),L.useEffect(()=>{d&&o&&i.location.key===o.location.key&&d.resolve()},[d,_,i.location,o]),L.useEffect(()=>{!h.isTransitioning&&w&&(u(w.state),f({isTransitioning:!0,flushSync:!1,currentLocation:w.currentLocation,nextLocation:w.nextLocation}),I(void 0))},[h.isTransitioning,w]);let V=L.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:j=>n.navigate(j),push:(j,ie,S)=>n.navigate(j,{state:ie,preventScrollReset:S?.preventScrollReset}),replace:(j,ie,S)=>n.navigate(j,{replace:!0,state:ie,preventScrollReset:S?.preventScrollReset})}),[n]),z=n.basename||"/",Q=L.useMemo(()=>({router:n,navigator:V,static:!1,basename:z,unstable_onError:t}),[n,V,z,t]);return L.createElement(L.Fragment,null,L.createElement(el.Provider,{value:Q},L.createElement(bh.Provider,{value:i},L.createElement(eR.Provider,{value:O.current},L.createElement(mv.Provider,{value:h},L.createElement(dx,{basename:z,location:i.location,navigationType:i.historyAction,navigator:V},L.createElement(cx,{routes:n.routes,future:n.future,state:i,unstable_onError:t})))))),null)}var cx=L.memo(hx);function hx({routes:n,future:e,state:t,unstable_onError:i}){return YM(n,void 0,t,i,e)}function fx(n){return KM(n.context)}function dx({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:s,static:o=!1}){Je(!Eh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=L.useMemo(()=>({basename:u,navigator:s,static:o,future:{}}),[u,s,o]);typeof t=="string"&&(t=ro(t));let{pathname:f="/",search:d="",hash:y="",state:_=null,key:E="default"}=t,w=L.useMemo(()=>{let I=lr(f,u);return I==null?null:{location:{pathname:I,search:d,hash:y,state:_,key:E},navigationType:i}},[u,f,d,y,_,E,i]);return pn(w!=null,`<Router basename="${u}"> is not able to match the URL "${f}${d}${y}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:L.createElement(ss.Provider,{value:h},L.createElement(kp.Provider,{children:e,value:w}))}var Id="get",Od="application/x-www-form-urlencoded";function Lp(n){return n!=null&&typeof n.tagName=="string"}function px(n){return Lp(n)&&n.tagName.toLowerCase()==="button"}function mx(n){return Lp(n)&&n.tagName.toLowerCase()==="form"}function gx(n){return Lp(n)&&n.tagName.toLowerCase()==="input"}function yx(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function _x(n,e){return n.button===0&&(!e||e==="_self")&&!yx(n)}function o_(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let i=n[t];return e.concat(Array.isArray(i)?i.map(s=>[t,s]):[[t,i]])},[]))}function vx(n,e){let t=o_(n);return e&&e.forEach((i,s)=>{t.has(s)||e.getAll(s).forEach(o=>{t.append(s,o)})}),t}var cd=null;function bx(){if(cd===null)try{new FormData(document.createElement("form"),0),cd=!1}catch{cd=!0}return cd}var Ex=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ay(n){return n!=null&&!Ex.has(n)?(pn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Od}"`),null):n}function Tx(n,e){let t,i,s,o,u;if(mx(n)){let h=n.getAttribute("action");i=h?lr(h,e):null,t=n.getAttribute("method")||Id,s=Ay(n.getAttribute("enctype"))||Od,o=new FormData(n)}else if(px(n)||gx(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(i=f?lr(f,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||Id,s=Ay(n.getAttribute("formenctype"))||Ay(h.getAttribute("enctype"))||Od,o=new FormData(h,n),!bx()){let{name:d,type:y,value:_}=n;if(y==="image"){let E=d?`${d}.`:"";o.append(`${E}x`,"0"),o.append(`${E}y`,"0")}else d&&o.append(d,_)}}else{if(Lp(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Id,i=null,s=Od,u=n}return o&&s==="text/plain"&&(u=o,o=void 0),{action:i,method:t.toLowerCase(),encType:s,formData:o,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function bv(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Sx(n,e,t){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&lr(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function wx(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Cx(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Rx(n,e,t){let i=await Promise.all(n.map(async s=>{let o=e.routes[s.route.id];if(o){let u=await wx(o,t);return u.links?u.links():[]}return[]}));return Dx(i.flat(1).filter(Cx).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function GS(n,e,t,i,s,o){let u=(f,d)=>t[d]?f.route.id!==t[d].route.id:!0,h=(f,d)=>t[d].pathname!==f.pathname||t[d].route.path?.endsWith("*")&&t[d].params["*"]!==f.params["*"];return o==="assets"?e.filter((f,d)=>u(f,d)||h(f,d)):o==="data"?e.filter((f,d)=>{let y=i.routes[f.route.id];if(!y||!y.hasLoader)return!1;if(u(f,d)||h(f,d))return!0;if(f.route.shouldRevalidate){let _=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function Ax(n,e,{includeHydrateFallback:t}={}){return Ix(n.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function Ix(n){return[...new Set(n)]}function Ox(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function Dx(n,e){let t=new Set;return new Set(e),n.reduce((i,s)=>{let o=JSON.stringify(Ox(s));return t.has(o)||(t.add(o),i.push({key:o,link:s})),i},[])}function rR(){let n=L.useContext(el);return bv(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Nx(){let n=L.useContext(bh);return bv(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Ev=L.createContext(void 0);Ev.displayName="FrameworkContext";function sR(){let n=L.useContext(Ev);return bv(n,"You must render this element inside a <HydratedRouter> element"),n}function Mx(n,e){let t=L.useContext(Ev),[i,s]=L.useState(!1),[o,u]=L.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:d,onMouseLeave:y,onTouchStart:_}=e,E=L.useRef(null);L.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let O=U=>{U.forEach(V=>{u(V.isIntersecting)})},A=new IntersectionObserver(O,{threshold:.5});return E.current&&A.observe(E.current),()=>{A.disconnect()}}},[n]),L.useEffect(()=>{if(i){let O=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(O)}}},[i]);let w=()=>{s(!0)},I=()=>{s(!1),u(!1)};return t?n!=="intent"?[o,E,{}]:[o,E,{onFocus:xc(h,w),onBlur:xc(f,I),onMouseEnter:xc(d,w),onMouseLeave:xc(y,I),onTouchStart:xc(_,w)}]:[!1,E,{}]}function xc(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function xx({page:n,...e}){let{router:t}=rR(),i=L.useMemo(()=>Va(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?L.createElement(kx,{page:n,matches:i,...e}):null}function Px(n){let{manifest:e,routeModules:t}=sR(),[i,s]=L.useState([]);return L.useEffect(()=>{let o=!1;return Rx(n,e,t).then(u=>{o||s(u)}),()=>{o=!0}},[n,e,t]),i}function kx({page:n,matches:e,...t}){let i=so(),{manifest:s,routeModules:o}=sR(),{basename:u}=rR(),{loaderData:h,matches:f}=Nx(),d=L.useMemo(()=>GS(n,e,f,s,i,"data"),[n,e,f,s,i]),y=L.useMemo(()=>GS(n,e,f,s,i,"assets"),[n,e,f,s,i]),_=L.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let I=new Set,O=!1;if(e.forEach(U=>{let V=s.routes[U.route.id];!V||!V.hasLoader||(!d.some(z=>z.route.id===U.route.id)&&U.route.id in h&&o[U.route.id]?.shouldRevalidate||V.hasClientLoader?O=!0:I.add(U.route.id))}),I.size===0)return[];let A=Sx(n,u,"data");return O&&I.size>0&&A.searchParams.set("_routes",e.filter(U=>I.has(U.route.id)).map(U=>U.route.id).join(",")),[A.pathname+A.search]},[u,h,i,s,d,e,n,o]),E=L.useMemo(()=>Ax(y,s),[y,s]),w=Px(y);return L.createElement(L.Fragment,null,_.map(I=>L.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...t})),E.map(I=>L.createElement("link",{key:I,rel:"modulepreload",href:I,...t})),w.map(({key:I,link:O})=>L.createElement("link",{key:I,nonce:t.nonce,...O})))}function Lx(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var aR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{aR&&(window.__reactRouterVersion="7.9.5")}catch{}function Vx(n,e){return bM({basename:e?.basename,getContext:e?.getContext,future:e?.future,history:xN({window:e?.window}),hydrationData:Ux(),routes:n,mapRouteProperties:ax,hydrationRouteProperties:ox,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window,unstable_instrumentations:e?.unstable_instrumentations}).initialize()}function Ux(){let n=window?.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:zx(n.errors)}),n}function zx(n){if(!n)return null;let e=Object.entries(n),t={};for(let[i,s]of e)if(s&&s.__type==="RouteErrorResponse")t[i]=new Kd(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let o=window[s.__subType];if(typeof o=="function")try{let u=new o(s.message);u.stack="",t[i]=u}catch{}}if(t[i]==null){let o=new Error(s.message);o.stack="",t[i]=o}}else t[i]=s;return t}var oR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lR=L.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:s,reloadDocument:o,replace:u,state:h,target:f,to:d,preventScrollReset:y,viewTransition:_,...E},w){let{basename:I}=L.useContext(ss),O=typeof d=="string"&&oR.test(d),A,U=!1;if(typeof d=="string"&&O&&(A=d,aR))try{let x=new URL(window.location.href),N=d.startsWith("//")?new URL(x.protocol+d):new URL(d),k=lr(N.pathname,I);N.origin===x.origin&&k!=null?d=k+N.search+N.hash:U=!0}catch{pn(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let V=qM(d,{relative:s}),[z,Q,j]=Mx(i,E),ie=jx(d,{replace:u,state:h,target:f,preventScrollReset:y,relative:s,viewTransition:_});function S(x){e&&e(x),x.defaultPrevented||ie(x)}let C=L.createElement("a",{...E,...j,href:A||V,onClick:U||o?e:S,ref:Lx(w,Q),target:f,"data-discover":!O&&t==="render"?"true":void 0});return z&&!O?L.createElement(L.Fragment,null,C,L.createElement(xx,{page:V})):C});lR.displayName="Link";var Fx=L.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:s=!1,style:o,to:u,viewTransition:h,children:f,...d},y){let _=Th(u,{relative:d.relative}),E=so(),w=L.useContext(bh),{navigator:I,basename:O}=L.useContext(ss),A=w!=null&&Qx(_)&&h===!0,U=I.encodeLocation?I.encodeLocation(_).pathname:_.pathname,V=E.pathname,z=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;t||(V=V.toLowerCase(),z=z?z.toLowerCase():null,U=U.toLowerCase()),z&&O&&(z=lr(z,O)||z);const Q=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let j=V===U||!s&&V.startsWith(U)&&V.charAt(Q)==="/",ie=z!=null&&(z===U||!s&&z.startsWith(U)&&z.charAt(U.length)==="/"),S={isActive:j,isPending:ie,isTransitioning:A},C=j?e:void 0,x;typeof i=="function"?x=i(S):x=[i,j?"active":null,ie?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let N=typeof o=="function"?o(S):o;return L.createElement(lR,{...d,"aria-current":C,className:x,ref:y,style:N,to:u,viewTransition:h},typeof f=="function"?f(S):f)});Fx.displayName="NavLink";var Bx=L.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:s,state:o,method:u=Id,action:h,onSubmit:f,relative:d,preventScrollReset:y,viewTransition:_,...E},w)=>{let I=Kx(),O=Yx(h,{relative:d}),A=u.toLowerCase()==="get"?"get":"post",U=typeof h=="string"&&oR.test(h),V=z=>{if(f&&f(z),z.defaultPrevented)return;z.preventDefault();let Q=z.nativeEvent.submitter,j=Q?.getAttribute("formmethod")||u;I(Q||z.currentTarget,{fetcherKey:e,method:j,navigate:t,replace:s,state:o,relative:d,preventScrollReset:y,viewTransition:_})};return L.createElement("form",{ref:w,method:A,action:O,onSubmit:i?f:V,...E,"data-discover":!U&&n==="render"?"true":void 0})});Bx.displayName="Form";function Hx(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uR(n){let e=L.useContext(el);return Je(e,Hx(n)),e}function jx(n,{target:e,replace:t,state:i,preventScrollReset:s,relative:o,viewTransition:u}={}){let h=yv(),f=so(),d=Th(n,{relative:o});return L.useCallback(y=>{if(_x(y,e)){y.preventDefault();let _=t!==void 0?t:es(f)===es(d);h(n,{replace:_,state:i,preventScrollReset:s,relative:o,viewTransition:u})}},[f,h,d,t,i,e,n,s,o,u])}function qx(n){pn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=L.useRef(o_(n)),t=L.useRef(!1),i=so(),s=L.useMemo(()=>vx(i.search,t.current?null:e.current),[i.search]),o=yv(),u=L.useCallback((h,f)=>{const d=o_(typeof h=="function"?h(new URLSearchParams(s)):h);t.current=!0,o("?"+d,f)},[o,s]);return[s,u]}var $x=0,Gx=()=>`__${String(++$x)}__`;function Kx(){let{router:n}=uR("useSubmit"),{basename:e}=L.useContext(ss),t=ix();return L.useCallback(async(i,s={})=>{let{action:o,method:u,encType:h,formData:f,body:d}=Tx(i,e);if(s.navigate===!1){let y=s.fetcherKey||Gx();await n.fetch(y,t,s.action||o,{preventScrollReset:s.preventScrollReset,formData:f,body:d,formMethod:s.method||u,formEncType:s.encType||h,flushSync:s.flushSync})}else await n.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:f,body:d,formMethod:s.method||u,formEncType:s.encType||h,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function Yx(n,{relative:e}={}){let{basename:t}=L.useContext(ss),i=L.useContext(as);Je(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),o={...Th(n||".",{relative:e})},u=so();if(n==null){o.search=u.search;let h=new URLSearchParams(o.search),f=h.getAll("index");if(f.some(y=>y==="")){h.delete("index"),f.filter(_=>_).forEach(_=>h.append("index",_));let y=h.toString();o.search=y?`?${y}`:""}}return(!n||n===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Gr([t,o.pathname])),es(o)}function Qx(n,{relative:e}={}){let t=L.useContext(mv);Je(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=uR("useViewTransitionState"),s=Th(n,{relative:e});if(!t.isTransitioning)return!1;let o=lr(t.currentLocation.pathname,i)||t.currentLocation.pathname,u=lr(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Gd(s.pathname,u)!=null||Gd(s.pathname,o)!=null}var cR=VC();function Wx(n){return L.createElement(ux,{flushSync:cR.flushSync,...n})}function hR(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=hR(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function Ho(){for(var n,e,t=0,i="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=hR(n))&&(i&&(i+=" "),i+=e);return i}function Xx(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}Xx(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Sh=n=>typeof n=="number"&&!isNaN(n),Go=n=>typeof n=="string",Hs=n=>typeof n=="function",Jx=n=>Go(n)||Sh(n),l_=n=>Go(n)||Hs(n)?n:null,Zx=(n,e)=>n===!1||Sh(n)&&n>0?n:e,u_=n=>L.isValidElement(n)||Go(n)||Hs(n)||Sh(n);function eP(n,e,t=300){let{scrollHeight:i,style:s}=n;requestAnimationFrame(()=>{s.minHeight="initial",s.height=i+"px",s.transition=`all ${t}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(e,t)})})}function tP({enter:n,exit:e,appendPosition:t=!1,collapse:i=!0,collapseDuration:s=300}){return function({children:o,position:u,preventExitTransition:h,done:f,nodeRef:d,isIn:y,playToast:_}){let E=t?`${n}--${u}`:n,w=t?`${e}--${u}`:e,I=L.useRef(0);return L.useLayoutEffect(()=>{let O=d.current,A=E.split(" "),U=V=>{V.target===d.current&&(_(),O.removeEventListener("animationend",U),O.removeEventListener("animationcancel",U),I.current===0&&V.type!=="animationcancel"&&O.classList.remove(...A))};O.classList.add(...A),O.addEventListener("animationend",U),O.addEventListener("animationcancel",U)},[]),L.useEffect(()=>{let O=d.current,A=()=>{O.removeEventListener("animationend",A),i?eP(O,f,s):f()};y||(h?A():(I.current=1,O.className+=` ${w}`,O.addEventListener("animationend",A)))},[y]),wt.createElement(wt.Fragment,null,o)}}function KS(n,e){return{content:fR(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:e}}function fR(n,e,t=!1){return L.isValidElement(n)&&!Go(n.type)?L.cloneElement(n,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):Hs(n)?n({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):n}function nP({closeToast:n,theme:e,ariaLabel:t="close"}){return wt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:i=>{i.stopPropagation(),n(!0)},"aria-label":t},wt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},wt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function iP({delay:n,isRunning:e,closeToast:t,type:i="default",hide:s,className:o,controlledProgress:u,progress:h,rtl:f,isIn:d,theme:y}){let _=s||u&&h===0,E={animationDuration:`${n}ms`,animationPlayState:e?"running":"paused"};u&&(E.transform=`scaleX(${h})`);let w=Ho("Toastify__progress-bar",u?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${y}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":f}),I=Hs(o)?o({rtl:f,type:i,defaultClassName:w}):Ho(w,o),O={[u&&h>=1?"onTransitionEnd":"onAnimationEnd"]:u&&h<1?null:()=>{d&&t()}};return wt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":_},wt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${y} Toastify__progress-bar--${i}`}),wt.createElement("div",{role:"progressbar","aria-hidden":_?"true":"false","aria-label":"notification timer",className:I,style:E,...O}))}var rP=1,dR=()=>`${rP++}`;function sP(n,e,t){let i=1,s=0,o=[],u=[],h=e,f=new Map,d=new Set,y=V=>(d.add(V),()=>d.delete(V)),_=()=>{u=Array.from(f.values()),d.forEach(V=>V())},E=({containerId:V,toastId:z,updateId:Q})=>{let j=V?V!==n:n!==1,ie=f.has(z)&&Q==null;return j||ie},w=(V,z)=>{f.forEach(Q=>{var j;(z==null||z===Q.props.toastId)&&((j=Q.toggle)==null||j.call(Q,V))})},I=V=>{var z,Q;(Q=(z=V.props)==null?void 0:z.onClose)==null||Q.call(z,V.removalReason),V.isActive=!1},O=V=>{if(V==null)f.forEach(I);else{let z=f.get(V);z&&I(z)}_()},A=()=>{s-=o.length,o=[]},U=V=>{var z,Q;let{toastId:j,updateId:ie}=V.props,S=ie==null;V.staleId&&f.delete(V.staleId),V.isActive=!0,f.set(j,V),_(),t(KS(V,S?"added":"updated")),S&&((Q=(z=V.props).onOpen)==null||Q.call(z))};return{id:n,props:h,observe:y,toggle:w,removeToast:O,toasts:f,clearQueue:A,buildToast:(V,z)=>{if(E(z))return;let{toastId:Q,updateId:j,data:ie,staleId:S,delay:C}=z,x=j==null;x&&s++;let N={...h,style:h.toastStyle,key:i++,...Object.fromEntries(Object.entries(z).filter(([P,M])=>M!=null)),toastId:Q,updateId:j,data:ie,isIn:!1,className:l_(z.className||h.toastClassName),progressClassName:l_(z.progressClassName||h.progressClassName),autoClose:z.isLoading?!1:Zx(z.autoClose,h.autoClose),closeToast(P){f.get(Q).removalReason=P,O(Q)},deleteToast(){let P=f.get(Q);if(P!=null){if(t(KS(P,"removed")),f.delete(Q),s--,s<0&&(s=0),o.length>0){U(o.shift());return}_()}}};N.closeButton=h.closeButton,z.closeButton===!1||u_(z.closeButton)?N.closeButton=z.closeButton:z.closeButton===!0&&(N.closeButton=u_(h.closeButton)?h.closeButton:!0);let k={content:V,props:N,staleId:S};h.limit&&h.limit>0&&s>h.limit&&x?o.push(k):Sh(C)?setTimeout(()=>{U(k)},C):U(k)},setProps(V){h=V},setToggle:(V,z)=>{let Q=f.get(V);Q&&(Q.toggle=z)},isToastActive:V=>{var z;return(z=f.get(V))==null?void 0:z.isActive},getSnapshot:()=>u}}var pi=new Map,sh=[],c_=new Set,aP=n=>c_.forEach(e=>e(n)),pR=()=>pi.size>0;function oP(){sh.forEach(n=>gR(n.content,n.options)),sh=[]}var lP=(n,{containerId:e})=>{var t;return(t=pi.get(e||1))==null?void 0:t.toasts.get(n)};function mR(n,e){var t;if(e)return!!((t=pi.get(e))!=null&&t.isToastActive(n));let i=!1;return pi.forEach(s=>{s.isToastActive(n)&&(i=!0)}),i}function uP(n){if(!pR()){sh=sh.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||Jx(n))pi.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=pi.get(n.containerId);e?e.removeToast(n.id):pi.forEach(t=>{t.removeToast(n.id)})}}var cP=(n={})=>{pi.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function gR(n,e){u_(n)&&(pR()||sh.push({content:n,options:e}),pi.forEach(t=>{t.buildToast(n,e)}))}function hP(n){var e;(e=pi.get(n.containerId||1))==null||e.setToggle(n.id,n.fn)}function yR(n,e){pi.forEach(t=>{(e==null||!(e!=null&&e.containerId)||e?.containerId===t.id)&&t.toggle(n,e?.id)})}function fP(n){let e=n.containerId||1;return{subscribe(t){let i=sP(e,n,aP);pi.set(e,i);let s=i.observe(t);return oP(),()=>{s(),pi.delete(e)}},setProps(t){var i;(i=pi.get(e))==null||i.setProps(t)},getSnapshot(){var t;return(t=pi.get(e))==null?void 0:t.getSnapshot()}}}function dP(n){return c_.add(n),()=>{c_.delete(n)}}function pP(n){return n&&(Go(n.toastId)||Sh(n.toastId))?n.toastId:dR()}function wh(n,e){return gR(n,e),e.toastId}function Vp(n,e){return{...e,type:e&&e.type||n,toastId:pP(e)}}function Up(n){return(e,t)=>wh(e,Vp(n,t))}function ft(n,e){return wh(n,Vp("default",e))}ft.loading=(n,e)=>wh(n,Vp("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function mP(n,{pending:e,error:t,success:i},s){let o;e&&(o=Go(e)?ft.loading(e,s):ft.loading(e.render,{...s,...e}));let u={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},h=(d,y,_)=>{if(y==null){ft.dismiss(o);return}let E={type:d,...u,...s,data:_},w=Go(y)?{render:y}:y;return o?ft.update(o,{...E,...w}):ft(w.render,{...E,...w}),_},f=Hs(n)?n():n;return f.then(d=>h("success",i,d)).catch(d=>h("error",t,d)),f}ft.promise=mP;ft.success=Up("success");ft.info=Up("info");ft.error=Up("error");ft.warning=Up("warning");ft.warn=ft.warning;ft.dark=(n,e)=>wh(n,Vp("default",{theme:"dark",...e}));function gP(n){uP(n)}ft.dismiss=gP;ft.clearWaitingQueue=cP;ft.isActive=mR;ft.update=(n,e={})=>{let t=lP(n,e);if(t){let{props:i,content:s}=t,o={delay:100,...i,...e,toastId:e.toastId||n,updateId:dR()};o.toastId!==n&&(o.staleId=n);let u=o.render||s;delete o.render,wh(u,o)}};ft.done=n=>{ft.update(n,{progress:1})};ft.onChange=dP;ft.play=n=>yR(!0,n);ft.pause=n=>yR(!1,n);function yP(n){var e;let{subscribe:t,getSnapshot:i,setProps:s}=L.useRef(fP(n)).current;s(n);let o=(e=L.useSyncExternalStore(t,i,i))==null?void 0:e.slice();function u(h){if(!o)return[];let f=new Map;return n.newestOnTop&&o.reverse(),o.forEach(d=>{let{position:y}=d.props;f.has(y)||f.set(y,[]),f.get(y).push(d)}),Array.from(f,d=>h(d[0],d[1]))}return{getToastToRender:u,isToastActive:mR,count:o?.length}}function _P(n){let[e,t]=L.useState(!1),[i,s]=L.useState(!1),o=L.useRef(null),u=L.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:h,pauseOnHover:f,closeToast:d,onClick:y,closeOnClick:_}=n;hP({id:n.toastId,containerId:n.containerId,fn:t}),L.useEffect(()=>{if(n.pauseOnFocusLoss)return E(),()=>{w()}},[n.pauseOnFocusLoss]);function E(){document.hasFocus()||U(),window.addEventListener("focus",A),window.addEventListener("blur",U)}function w(){window.removeEventListener("focus",A),window.removeEventListener("blur",U)}function I(S){if(n.draggable===!0||n.draggable===S.pointerType){V();let C=o.current;u.canCloseOnClick=!0,u.canDrag=!0,C.style.transition="none",n.draggableDirection==="x"?(u.start=S.clientX,u.removalDistance=C.offsetWidth*(n.draggablePercent/100)):(u.start=S.clientY,u.removalDistance=C.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function O(S){let{top:C,bottom:x,left:N,right:k}=o.current.getBoundingClientRect();S.nativeEvent.type!=="touchend"&&n.pauseOnHover&&S.clientX>=N&&S.clientX<=k&&S.clientY>=C&&S.clientY<=x?U():A()}function A(){t(!0)}function U(){t(!1)}function V(){u.didMove=!1,document.addEventListener("pointermove",Q),document.addEventListener("pointerup",j)}function z(){document.removeEventListener("pointermove",Q),document.removeEventListener("pointerup",j)}function Q(S){let C=o.current;if(u.canDrag&&C){u.didMove=!0,e&&U(),n.draggableDirection==="x"?u.delta=S.clientX-u.start:u.delta=S.clientY-u.start,u.start!==S.clientX&&(u.canCloseOnClick=!1);let x=n.draggableDirection==="x"?`${u.delta}px, var(--y)`:`0, calc(${u.delta}px + var(--y))`;C.style.transform=`translate3d(${x},0)`,C.style.opacity=`${1-Math.abs(u.delta/u.removalDistance)}`}}function j(){z();let S=o.current;if(u.canDrag&&u.didMove&&S){if(u.canDrag=!1,Math.abs(u.delta)>u.removalDistance){s(!0),n.closeToast(!0),n.collapseAll();return}S.style.transition="transform 0.2s, opacity 0.2s",S.style.removeProperty("transform"),S.style.removeProperty("opacity")}}let ie={onPointerDown:I,onPointerUp:O};return h&&f&&(ie.onMouseEnter=U,n.stacked||(ie.onMouseLeave=A)),_&&(ie.onClick=S=>{y&&y(S),u.canCloseOnClick&&d(!0)}),{playToast:A,pauseToast:U,isRunning:e,preventExitTransition:i,toastRef:o,eventHandlers:ie}}var vP=typeof window<"u"?L.useLayoutEffect:L.useEffect,zp=({theme:n,type:e,isLoading:t,...i})=>wt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...i});function bP(n){return wt.createElement(zp,{...n},wt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function EP(n){return wt.createElement(zp,{...n},wt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function TP(n){return wt.createElement(zp,{...n},wt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function SP(n){return wt.createElement(zp,{...n},wt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function wP(){return wt.createElement("div",{className:"Toastify__spinner"})}var h_={info:EP,warning:bP,success:TP,error:SP,spinner:wP},CP=n=>n in h_;function RP({theme:n,type:e,isLoading:t,icon:i}){let s=null,o={theme:n,type:e};return i===!1||(Hs(i)?s=i({...o,isLoading:t}):L.isValidElement(i)?s=L.cloneElement(i,o):t?s=h_.spinner():CP(e)&&(s=h_[e](o))),s}var AP=n=>{let{isRunning:e,preventExitTransition:t,toastRef:i,eventHandlers:s,playToast:o}=_P(n),{closeButton:u,children:h,autoClose:f,onClick:d,type:y,hideProgressBar:_,closeToast:E,transition:w,position:I,className:O,style:A,progressClassName:U,updateId:V,role:z,progress:Q,rtl:j,toastId:ie,deleteToast:S,isIn:C,isLoading:x,closeOnClick:N,theme:k,ariaLabel:P}=n,M=Ho("Toastify__toast",`Toastify__toast-theme--${k}`,`Toastify__toast--${y}`,{"Toastify__toast--rtl":j},{"Toastify__toast--close-on-click":N}),pe=Hs(O)?O({rtl:j,position:I,type:y,defaultClassName:M}):Ho(M,O),ge=RP(n),K=!!Q||!f,re={closeToast:E,type:y,theme:k},me=null;return u===!1||(Hs(u)?me=u(re):L.isValidElement(u)?me=L.cloneElement(u,re):me=nP(re)),wt.createElement(w,{isIn:C,done:S,position:I,preventExitTransition:t,nodeRef:i,playToast:o},wt.createElement("div",{id:ie,tabIndex:0,onClick:d,"data-in":C,className:pe,...s,style:A,ref:i,...C&&{role:z,"aria-label":P}},ge!=null&&wt.createElement("div",{className:Ho("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!x})},ge),fR(h,n,!e),me,!n.customProgressBar&&wt.createElement(iP,{...V&&!K?{key:`p-${V}`}:{},rtl:j,theme:k,delay:f,isRunning:e,isIn:C,closeToast:E,hide:_,type:y,className:U,controlledProgress:K,progress:Q||0})))},IP=(n,e=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}),OP=tP(IP("bounce",!0)),DP={position:"top-right",transition:OP,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function NP(n){let e={...DP,...n},t=n.stacked,[i,s]=L.useState(!0),o=L.useRef(null),{getToastToRender:u,isToastActive:h,count:f}=yP(e),{className:d,style:y,rtl:_,containerId:E,hotKeys:w}=e;function I(A){let U=Ho("Toastify__toast-container",`Toastify__toast-container--${A}`,{"Toastify__toast-container--rtl":_});return Hs(d)?d({position:A,rtl:_,defaultClassName:U}):Ho(U,l_(d))}function O(){t&&(s(!0),ft.play())}return vP(()=>{var A;if(t){let U=o.current.querySelectorAll('[data-in="true"]'),V=12,z=(A=e.position)==null?void 0:A.includes("top"),Q=0,j=0;Array.from(U).reverse().forEach((ie,S)=>{let C=ie;C.classList.add("Toastify__toast--stacked"),S>0&&(C.dataset.collapsed=`${i}`),C.dataset.pos||(C.dataset.pos=z?"top":"bot");let x=Q*(i?.2:1)+(i?0:V*S);C.style.setProperty("--y",`${z?x:x*-1}px`),C.style.setProperty("--g",`${V}`),C.style.setProperty("--s",`${1-(i?j:0)}`),Q+=C.offsetHeight,j+=.025})}},[i,f,t]),L.useEffect(()=>{function A(U){var V;let z=o.current;w(U)&&((V=z.querySelector('[tabIndex="0"]'))==null||V.focus(),s(!1),ft.pause()),U.key==="Escape"&&(document.activeElement===z||z!=null&&z.contains(document.activeElement))&&(s(!0),ft.play())}return document.addEventListener("keydown",A),()=>{document.removeEventListener("keydown",A)}},[w]),wt.createElement("section",{ref:o,className:"Toastify",id:E,onMouseEnter:()=>{t&&(s(!1),ft.pause())},onMouseLeave:O,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},u((A,U)=>{let V=U.length?{...y}:{...y,pointerEvents:"none"};return wt.createElement("div",{tabIndex:-1,className:I(A),"data-stacked":t,style:V,key:`c-${A}`},U.map(({content:z,props:Q})=>wt.createElement(AP,{...Q,stacked:t,collapseAll:O,isIn:h(Q.toastId,Q.containerId),key:`t-${Q.key}`},z)))}))}const YS=n=>{let e;const t=new Set,i=(d,y)=>{const _=typeof d=="function"?d(e):d;if(!Object.is(_,e)){const E=e;e=y??(typeof _!="object"||_===null)?_:Object.assign({},e,_),t.forEach(w=>w(e,E))}},s=()=>e,h={setState:i,getState:s,getInitialState:()=>f,subscribe:d=>(t.add(d),()=>t.delete(d))},f=e=n(i,s,h);return h},MP=(n=>n?YS(n):YS),xP=n=>n;function PP(n,e=xP){const t=wt.useSyncExternalStore(n.subscribe,wt.useCallback(()=>e(n.getState()),[n,e]),wt.useCallback(()=>e(n.getInitialState()),[n,e]));return wt.useDebugValue(t),t}const QS=n=>{const e=MP(n),t=i=>PP(e,i);return Object.assign(t,e),t},kP=(n=>n?QS(n):QS);function LP(n,e){let t;try{t=n()}catch{return}return{getItem:s=>{var o;const u=f=>f===null?null:JSON.parse(f,void 0),h=(o=t.getItem(s))!=null?o:null;return h instanceof Promise?h.then(u):u(h)},setItem:(s,o)=>t.setItem(s,JSON.stringify(o,void 0)),removeItem:s=>t.removeItem(s)}}const f_=n=>e=>{try{const t=n(e);return t instanceof Promise?t:{then(i){return f_(i)(t)},catch(i){return this}}}catch(t){return{then(i){return this},catch(i){return f_(i)(t)}}}},VP=(n,e)=>(t,i,s)=>{let o={storage:LP(()=>localStorage),partialize:O=>O,version:0,merge:(O,A)=>({...A,...O}),...e},u=!1;const h=new Set,f=new Set;let d=o.storage;if(!d)return n((...O)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),t(...O)},i,s);const y=()=>{const O=o.partialize({...i()});return d.setItem(o.name,{state:O,version:o.version})},_=s.setState;s.setState=(O,A)=>(_(O,A),y());const E=n((...O)=>(t(...O),y()),i,s);s.getInitialState=()=>E;let w;const I=()=>{var O,A;if(!d)return;u=!1,h.forEach(V=>{var z;return V((z=i())!=null?z:E)});const U=((A=o.onRehydrateStorage)==null?void 0:A.call(o,(O=i())!=null?O:E))||void 0;return f_(d.getItem.bind(d))(o.name).then(V=>{if(V)if(typeof V.version=="number"&&V.version!==o.version){if(o.migrate){const z=o.migrate(V.state,V.version);return z instanceof Promise?z.then(Q=>[!0,Q]):[!0,z]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,V.state];return[!1,void 0]}).then(V=>{var z;const[Q,j]=V;if(w=o.merge(j,(z=i())!=null?z:E),t(w,!0),Q)return y()}).then(()=>{U?.(w,void 0),w=i(),u=!0,f.forEach(V=>V(w))}).catch(V=>{U?.(void 0,V)})};return s.persist={setOptions:O=>{o={...o,...O},O.storage&&(d=O.storage)},clearStorage:()=>{d?.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>I(),hasHydrated:()=>u,onHydrate:O=>(h.add(O),()=>{h.delete(O)}),onFinishHydration:O=>(f.add(O),()=>{f.delete(O)})},o.skipHydration||I(),w||E},UP=VP,fu=kP(UP(n=>({user:void 0,setUser:(e,t=!0)=>{n({user:e}),t||localStorage.removeItem("auth-storage")},clearUser:()=>n({user:null})}),{name:"auth-storage",skipHydration:!1})),zP=()=>{};var WS={};const _R={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};const ve=function(n,e){if(!n)throw Cu(e)},Cu=function(n){return new Error("Firebase Database ("+_R.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};const vR=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},FP=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const s=n[t++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const o=n[t++];e[i++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=n[t++],u=n[t++],h=n[t++],f=((s&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const o=n[t++],u=n[t++];e[i++]=String.fromCharCode((s&15)<<12|(o&63)<<6|u&63)}}return e.join("")},Tv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<n.length;s+=3){const o=n[s],u=s+1<n.length,h=u?n[s+1]:0,f=s+2<n.length,d=f?n[s+2]:0,y=o>>2,_=(o&3)<<4|h>>4;let E=(h&15)<<2|d>>6,w=d&63;f||(w=64,u||(E=64)),i.push(t[y],t[_],t[E],t[w])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(vR(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):FP(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<n.length;){const o=t[n.charAt(s++)],h=s<n.length?t[n.charAt(s)]:0;++s;const d=s<n.length?t[n.charAt(s)]:64;++s;const _=s<n.length?t[n.charAt(s)]:64;if(++s,o==null||h==null||d==null||_==null)throw new BP;const E=o<<2|h>>4;if(i.push(E),d!==64){const w=h<<4&240|d>>2;if(i.push(w),_!==64){const I=d<<6&192|_;i.push(I)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class BP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bR=function(n){const e=vR(n);return Tv.encodeByteArray(e,!0)},Qd=function(n){return bR(n).replace(/\./g,"")},Wd=function(n){try{return Tv.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function HP(n){return ER(void 0,n)}function ER(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!jP(t)||(n[t]=ER(n[t],e[t]));return n}function jP(n){return n!=="__proto__"}function qP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const $P=()=>qP().__FIREBASE_DEFAULTS__,GP=()=>{if(typeof process>"u"||typeof WS>"u")return;const n=WS.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},KP=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Wd(n[1]);return e&&JSON.parse(e)},Fp=()=>{try{return zP()||$P()||GP()||KP()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},TR=n=>Fp()?.emulatorHosts?.[n],Sv=n=>{const e=TR(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},SR=()=>Fp()?.config,wR=n=>Fp()?.[`_${n}`];class wv{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}function Js(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Bp(n){return(await fetch(n,{credentials:"include"})).ok}function Cv(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",s=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Qd(JSON.stringify(t)),Qd(JSON.stringify(u)),""].join(".")}const Gc={};function YP(){const n={prod:[],emulator:[]};for(const e of Object.keys(Gc))Gc[e]?n.emulator.push(e):n.prod.push(e);return n}function QP(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let XS=!1;function Hp(n,e){if(typeof window>"u"||typeof document>"u"||!Js(window.location.host)||Gc[n]===e||Gc[n]||XS)return;Gc[n]=e;function t(E){return`__firebase__banner__${E}`}const i="__firebase__banner",o=YP().prod.length>0;function u(){const E=document.getElementById(i);E&&E.remove()}function h(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function f(E,w){E.setAttribute("width","24"),E.setAttribute("id",w),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function d(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{XS=!0,u()},E}function y(E,w){E.setAttribute("id",w),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function _(){const E=QP(i),w=t("text"),I=document.getElementById(w)||document.createElement("span"),O=t("learnmore"),A=document.getElementById(O)||document.createElement("a"),U=t("preprendIcon"),V=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const z=E.element;h(z),y(A,O);const Q=d();f(V,U),z.append(V,I,A,Q),document.body.appendChild(z)}o?(I.innerText="Preview backend disconnected.",V.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(V.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function ri(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Rv(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ri())}function WP(){const n=Fp()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function XP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function JP(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function CR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ZP(){const n=ri();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function ek(){return _R.NODE_ADMIN===!0}function tk(){return!WP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nk(){try{return typeof indexedDB=="object"}catch{return!1}}function ik(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(t){e(t)}})}const rk="FirebaseError";class os extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=rk,Object.setPrototypeOf(this,os.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ch.prototype.create)}}class Ch{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},s=`${this.service}/${e}`,o=this.errors[e],u=o?sk(o,i):"Error",h=`${this.serviceName}: ${u} (${s}).`;return new os(s,h,i)}}function sk(n,e){return n.replace(ak,(t,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const ak=/\{\$([^}]+)}/g;function ah(n){return JSON.parse(n)}function $n(n){return JSON.stringify(n)}const RR=function(n){let e={},t={},i={},s="";try{const o=n.split(".");e=ah(Wd(o[0])||""),t=ah(Wd(o[1])||""),s=o[2],i=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:i,signature:s}},ok=function(n){const e=RR(n),t=e.claims;return!!t&&typeof t=="object"&&t.hasOwnProperty("iat")},lk=function(n){const e=RR(n).claims;return typeof e=="object"&&e.admin===!0};function Zs(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function du(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function d_(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Xd(n,e,t){const i={};for(const s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=e.call(t,n[s],s,n));return i}function js(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const s of t){if(!i.includes(s))return!1;const o=n[s],u=e[s];if(JS(o)&&JS(u)){if(!js(o,u))return!1}else if(o!==u)return!1}for(const s of i)if(!t.includes(s))return!1;return!0}function JS(n){return n!==null&&typeof n=="object"}function Ru(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}class uk{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const i=this.W_;if(typeof e=="string")for(let _=0;_<16;_++)i[_]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let _=0;_<16;_++)i[_]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let _=16;_<80;_++){const E=i[_-3]^i[_-8]^i[_-14]^i[_-16];i[_]=(E<<1|E>>>31)&4294967295}let s=this.chain_[0],o=this.chain_[1],u=this.chain_[2],h=this.chain_[3],f=this.chain_[4],d,y;for(let _=0;_<80;_++){_<40?_<20?(d=h^o&(u^h),y=1518500249):(d=o^u^h,y=1859775393):_<60?(d=o&u|h&(o|u),y=2400959708):(d=o^u^h,y=3395469782);const E=(s<<5|s>>>27)+d+f+y+i[_]&4294967295;f=h,h=u,u=(o<<30|o>>>2)&4294967295,o=s,s=E}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295}update(e,t){if(e==null)return;t===void 0&&(t=e.length);const i=t-this.blockSize;let s=0;const o=this.buf_;let u=this.inbuf_;for(;s<t;){if(u===0)for(;s<=i;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<t;)if(o[u]=e.charCodeAt(s),++u,++s,u===this.blockSize){this.compress_(o),u=0;break}}else for(;s<t;)if(o[u]=e[s],++u,++s,u===this.blockSize){this.compress_(o),u=0;break}}this.inbuf_=u,this.total_+=t}digest(){const e=[];let t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=t&255,t/=256;this.compress_(this.buf_);let i=0;for(let s=0;s<5;s++)for(let o=24;o>=0;o-=8)e[i]=this.chain_[s]>>o&255,++i;return e}}function ck(n,e){const t=new hk(n,e);return t.subscribe.bind(t)}class hk{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let s;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");fk(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:i},s.next===void 0&&(s.next=Iy),s.error===void 0&&(s.error=Iy),s.complete===void 0&&(s.complete=Iy);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fk(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Iy(){}function dk(n,e){return`${n} failed: ${e} argument `}const pk=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);if(s>=55296&&s<=56319){const o=s-55296;i++,ve(i<n.length,"Surrogate pair missing trail surrogate.");const u=n.charCodeAt(i)-56320;s=65536+(o<<10)+u}s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):s<65536?(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},jp=function(n){let e=0;for(let t=0;t<n.length;t++){const i=n.charCodeAt(t);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,t++):e+=3}return e};function Kn(n){return n&&n._delegate?n._delegate:n}class qs{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ko="[DEFAULT]";class mk{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new wv;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yk(e))try{this.getOrInitializeService({instanceIdentifier:ko})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:s});i.resolve(o)}catch{}}}}clearInstance(e=ko){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ko){return this.instances.has(e)}getOptions(e=ko){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&u.resolve(s)}return s}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(i)??new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const s of i)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:gk(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ko){return this.component?this.component.multipleInstances?e:ko:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gk(n){return n===ko?void 0:n}function yk(n){return n.instantiationMode==="EAGER"}class _k{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new mk(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var tt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(tt||(tt={}));const vk={debug:tt.DEBUG,verbose:tt.VERBOSE,info:tt.INFO,warn:tt.WARN,error:tt.ERROR,silent:tt.SILENT},bk=tt.INFO,Ek={[tt.DEBUG]:"log",[tt.VERBOSE]:"log",[tt.INFO]:"info",[tt.WARN]:"warn",[tt.ERROR]:"error"},Tk=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),s=Ek[e];if(s)console[s](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class qp{constructor(e){this.name=e,this._logLevel=bk,this._logHandler=Tk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in tt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,tt.DEBUG,...e),this._logHandler(this,tt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,tt.VERBOSE,...e),this._logHandler(this,tt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,tt.INFO,...e),this._logHandler(this,tt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,tt.WARN,...e),this._logHandler(this,tt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,tt.ERROR,...e),this._logHandler(this,tt.ERROR,...e)}}const Sk=(n,e)=>e.some(t=>n instanceof t);let ZS,e1;function wk(){return ZS||(ZS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ck(){return e1||(e1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const AR=new WeakMap,p_=new WeakMap,IR=new WeakMap,Oy=new WeakMap,Av=new WeakMap;function Rk(n){const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(qa(n.result)),s()},u=()=>{i(n.error),s()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&AR.set(t,n)}).catch(()=>{}),Av.set(e,n),e}function Ak(n){if(p_.has(n))return;const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),s()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});p_.set(n,e)}let m_={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return p_.get(n);if(e==="objectStoreNames")return n.objectStoreNames||IR.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return qa(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Ik(n){m_=n(m_)}function Ok(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Dy(this),e,...t);return IR.set(i,e.sort?e.sort():[e]),qa(i)}:Ck().includes(n)?function(...e){return n.apply(Dy(this),e),qa(AR.get(this))}:function(...e){return qa(n.apply(Dy(this),e))}}function Dk(n){return typeof n=="function"?Ok(n):(n instanceof IDBTransaction&&Ak(n),Sk(n,wk())?new Proxy(n,m_):n)}function qa(n){if(n instanceof IDBRequest)return Rk(n);if(Oy.has(n))return Oy.get(n);const e=Dk(n);return e!==n&&(Oy.set(n,e),Av.set(e,n)),e}const Dy=n=>Av.get(n);function Nk(n,e,{blocked:t,upgrade:i,blocking:s,terminated:o}={}){const u=indexedDB.open(n,e),h=qa(u);return i&&u.addEventListener("upgradeneeded",f=>{i(qa(u.result),f.oldVersion,f.newVersion,qa(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),s&&f.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),h}const Mk=["get","getKey","getAll","getAllKeys","count"],xk=["put","add","delete","clear"],Ny=new Map;function t1(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Ny.get(e))return Ny.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,s=xk.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(s||Mk.includes(t)))return;const o=async function(u,...h){const f=this.transaction(u,s?"readwrite":"readonly");let d=f.store;return i&&(d=d.index(h.shift())),(await Promise.all([d[t](...h),s&&f.done]))[0]};return Ny.set(e,o),o}Ik(n=>({...n,get:(e,t,i)=>t1(e,t)||n.get(e,t,i),has:(e,t)=>!!t1(e,t)||n.has(e,t)}));class Pk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(kk(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function kk(n){return n.getComponent()?.type==="VERSION"}const g_="@firebase/app",n1="0.14.5";const $s=new qp("@firebase/app"),Lk="@firebase/app-compat",Vk="@firebase/analytics-compat",Uk="@firebase/analytics",zk="@firebase/app-check-compat",Fk="@firebase/app-check",Bk="@firebase/auth",Hk="@firebase/auth-compat",jk="@firebase/database",qk="@firebase/data-connect",$k="@firebase/database-compat",Gk="@firebase/functions",Kk="@firebase/functions-compat",Yk="@firebase/installations",Qk="@firebase/installations-compat",Wk="@firebase/messaging",Xk="@firebase/messaging-compat",Jk="@firebase/performance",Zk="@firebase/performance-compat",eL="@firebase/remote-config",tL="@firebase/remote-config-compat",nL="@firebase/storage",iL="@firebase/storage-compat",rL="@firebase/firestore",sL="@firebase/ai",aL="@firebase/firestore-compat",oL="firebase",lL="12.5.0";const y_="[DEFAULT]",uL={[g_]:"fire-core",[Lk]:"fire-core-compat",[Uk]:"fire-analytics",[Vk]:"fire-analytics-compat",[Fk]:"fire-app-check",[zk]:"fire-app-check-compat",[Bk]:"fire-auth",[Hk]:"fire-auth-compat",[jk]:"fire-rtdb",[qk]:"fire-data-connect",[$k]:"fire-rtdb-compat",[Gk]:"fire-fn",[Kk]:"fire-fn-compat",[Yk]:"fire-iid",[Qk]:"fire-iid-compat",[Wk]:"fire-fcm",[Xk]:"fire-fcm-compat",[Jk]:"fire-perf",[Zk]:"fire-perf-compat",[eL]:"fire-rc",[tL]:"fire-rc-compat",[nL]:"fire-gcs",[iL]:"fire-gcs-compat",[rL]:"fire-fst",[aL]:"fire-fst-compat",[sL]:"fire-vertex","fire-js":"fire-js",[oL]:"fire-js-all"};const Jd=new Map,cL=new Map,__=new Map;function i1(n,e){try{n.container.addComponent(e)}catch(t){$s.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Wa(n){const e=n.name;if(__.has(e))return $s.debug(`There were multiple attempts to register component ${e}.`),!1;__.set(e,n);for(const t of Jd.values())i1(t,n);for(const t of cL.values())i1(t,n);return!0}function Rh(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Ui(n){return n==null?!1:n.settings!==void 0}const hL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$a=new Ch("app","Firebase",hL);class fL{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new qs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $a.create("app-deleted",{appName:this._name})}}const ao=lL;function OR(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i={name:y_,automaticDataCollectionEnabled:!0,...e},s=i.name;if(typeof s!="string"||!s)throw $a.create("bad-app-name",{appName:String(s)});if(t||(t=SR()),!t)throw $a.create("no-options");const o=Jd.get(s);if(o){if(js(t,o.options)&&js(i,o.config))return o;throw $a.create("duplicate-app",{appName:s})}const u=new _k(s);for(const f of __.values())u.addComponent(f);const h=new fL(t,i,u);return Jd.set(s,h),h}function $p(n=y_){const e=Jd.get(n);if(!e&&n===y_&&SR())return OR();if(!e)throw $a.create("no-app",{appName:n});return e}function or(n,e,t){let i=uL[n]??n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const u=[`Unable to register library "${i}" with version "${e}":`];s&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$s.warn(u.join(" "));return}Wa(new qs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const dL="firebase-heartbeat-database",pL=1,oh="firebase-heartbeat-store";let My=null;function DR(){return My||(My=Nk(dL,pL,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(oh)}catch(t){console.warn(t)}}}}).catch(n=>{throw $a.create("idb-open",{originalErrorMessage:n.message})})),My}async function mL(n){try{const t=(await DR()).transaction(oh),i=await t.objectStore(oh).get(NR(n));return await t.done,i}catch(e){if(e instanceof os)$s.warn(e.message);else{const t=$a.create("idb-get",{originalErrorMessage:e?.message});$s.warn(t.message)}}}async function r1(n,e){try{const i=(await DR()).transaction(oh,"readwrite");await i.objectStore(oh).put(e,NR(n)),await i.done}catch(t){if(t instanceof os)$s.warn(t.message);else{const i=$a.create("idb-set",{originalErrorMessage:t?.message});$s.warn(i.message)}}}function NR(n){return`${n.name}!${n.options.appId}`}const gL=1024,yL=30;class _L{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new bL(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=s1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>yL){const s=EL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){$s.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=s1(),{heartbeatsToSend:t,unsentEntries:i}=vL(this._heartbeatsCache.heartbeats),s=Qd(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return $s.warn(e),""}}}function s1(){return new Date().toISOString().substring(0,10)}function vL(n,e=gL){const t=[];let i=n.slice();for(const s of n){const o=t.find(u=>u.agent===s.agent);if(o){if(o.dates.push(s.date),a1(t)>e){o.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),a1(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class bL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nk()?ik().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await mL(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return r1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return r1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function a1(n){return Qd(JSON.stringify({version:2,heartbeats:n})).length}function EL(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}function TL(n){Wa(new qs("platform-logger",e=>new Pk(e),"PRIVATE")),Wa(new qs("heartbeat",e=>new _L(e),"PRIVATE")),or(g_,n1,n),or(g_,n1,"esm2020"),or("fire-js","")}TL("");function MR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const SL=MR,xR=new Ch("auth","Firebase",MR());const Zd=new qp("@firebase/auth");function wL(n,...e){Zd.logLevel<=tt.WARN&&Zd.warn(`Auth (${ao}): ${n}`,...e)}function Dd(n,...e){Zd.logLevel<=tt.ERROR&&Zd.error(`Auth (${ao}): ${n}`,...e)}function ts(n,...e){throw Ov(n,...e)}function Ar(n,...e){return Ov(n,...e)}function Iv(n,e,t){const i={...SL(),[e]:t};return new Ch("auth","Firebase",i).create(e,{appName:n.name})}function jo(n){return Iv(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function CL(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&ts(n,"argument-error"),Iv(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ov(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return xR.create(n,...e)}function je(n,e,...t){if(!n)throw Ov(e,...t)}function Ls(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Dd(e),new Error(e)}function Gs(n,e){n||Ls(e)}function v_(){return typeof self<"u"&&self.location?.href||""}function RL(){return o1()==="http:"||o1()==="https:"}function o1(){return typeof self<"u"&&self.location?.protocol||null}function AL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(RL()||JP()||"connection"in navigator)?navigator.onLine:!0}function IL(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Ah{constructor(e,t){this.shortDelay=e,this.longDelay=t,Gs(t>e,"Short delay should be less than long delay!"),this.isMobile=Rv()||CR()}get(){return AL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Dv(n,e){Gs(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class PR{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ls("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ls("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ls("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const OL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const DL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],NL=new Ah(3e4,6e4);function Nv(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Au(n,e,t,i,s={}){return kR(n,s,async()=>{let o={},u={};i&&(e==="GET"?u=i:o={body:JSON.stringify(i)});const h=Ru({key:n.config.apiKey,...u}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const d={method:e,headers:f,...o};return XP()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&Js(n.emulatorConfig.host)&&(d.credentials="include"),PR.fetch()(await LR(n,n.config.apiHost,t,h),d)})}async function kR(n,e,t){n._canInitEmulator=!1;const i={...OL,...e};try{const s=new xL(n),o=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw hd(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const h=o.ok?u.errorMessage:u.error.message,[f,d]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw hd(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw hd(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw hd(n,"user-disabled",u);const y=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Iv(n,y,d);ts(n,y)}}catch(s){if(s instanceof os)throw s;ts(n,"network-request-failed",{message:String(s)})}}async function ML(n,e,t,i,s={}){const o=await Au(n,e,t,i,s);return"mfaPendingCredential"in o&&ts(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function LR(n,e,t,i){const s=`${e}${t}?${i}`,o=n,u=o.config.emulator?Dv(n.config,s):`${n.config.apiScheme}://${s}`;return DL.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}class xL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Ar(this.auth,"network-request-failed")),NL.get())})}}function hd(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const s=Ar(n,e,i);return s.customData._tokenResponse=t,s}async function PL(n,e){return Au(n,"POST","/v1/accounts:delete",e)}async function ep(n,e){return Au(n,"POST","/v1/accounts:lookup",e)}function Kc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function kL(n,e=!1){const t=Kn(n),i=await t.getIdToken(e),s=Mv(i);je(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,u=o?.sign_in_provider;return{claims:s,token:i,authTime:Kc(xy(s.auth_time)),issuedAtTime:Kc(xy(s.iat)),expirationTime:Kc(xy(s.exp)),signInProvider:u||null,signInSecondFactor:o?.sign_in_second_factor||null}}function xy(n){return Number(n)*1e3}function Mv(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Dd("JWT malformed, contained fewer than 3 sections"),null;try{const s=Wd(t);return s?JSON.parse(s):(Dd("Failed to decode base64 JWT payload"),null)}catch(s){return Dd("Caught error parsing JWT payload as JSON",s?.toString()),null}}function l1(n){const e=Mv(n);return je(e,"internal-error"),je(typeof e.exp<"u","internal-error"),je(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function lh(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof os&&LL(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function LL({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class VL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class b_{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kc(this.lastLoginAt),this.creationTime=Kc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function tp(n){const e=n.auth,t=await n.getIdToken(),i=await lh(n,ep(e,{idToken:t}));je(i?.users.length,e,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=s.providerUserInfo?.length?VR(s.providerUserInfo):[],u=zL(n.providerData,o),h=n.isAnonymous,f=!(n.email&&s.passwordHash)&&!u?.length,d=h?f:!1,y={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new b_(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(n,y)}async function UL(n){const e=Kn(n);await tp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function zL(n,e){return[...n.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function VR(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function FL(n,e){const t=await kR(n,{},async()=>{const i=Ru({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=n.config,u=await LR(n,s,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:i};return n.emulatorConfig&&Js(n.emulatorConfig.host)&&(f.credentials="include"),PR.fetch()(u,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function BL(n,e){return Au(n,"POST","/v2/accounts:revokeToken",Nv(n,e))}class iu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){je(e.idToken,"internal-error"),je(typeof e.idToken<"u","internal-error"),je(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):l1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){je(e.length!==0,"internal-error");const t=l1(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(je(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:s,expiresIn:o}=await FL(e,t);this.updateTokensAndExpiration(i,s,Number(o))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:s,expirationTime:o}=t,u=new iu;return i&&(je(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),s&&(je(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),o&&(je(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new iu,this.toJSON())}_performRefresh(){return Ls("not implemented")}}function ka(n,e){je(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class wr{constructor({uid:e,auth:t,stsTokenManager:i,...s}){this.providerId="firebase",this.proactiveRefresh=new VL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new b_(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await lh(this,this.stsTokenManager.getToken(this.auth,e));return je(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return kL(this,e)}reload(){return UL(this)}_assign(e){this!==e&&(je(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new wr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await tp(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ui(this.auth.app))return Promise.reject(jo(this.auth));const e=await this.getIdToken();return await lh(this,PL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,s=t.email??void 0,o=t.phoneNumber??void 0,u=t.photoURL??void 0,h=t.tenantId??void 0,f=t._redirectEventId??void 0,d=t.createdAt??void 0,y=t.lastLoginAt??void 0,{uid:_,emailVerified:E,isAnonymous:w,providerData:I,stsTokenManager:O}=t;je(_&&O,e,"internal-error");const A=iu.fromJSON(this.name,O);je(typeof _=="string",e,"internal-error"),ka(i,e.name),ka(s,e.name),je(typeof E=="boolean",e,"internal-error"),je(typeof w=="boolean",e,"internal-error"),ka(o,e.name),ka(u,e.name),ka(h,e.name),ka(f,e.name),ka(d,e.name),ka(y,e.name);const U=new wr({uid:_,auth:e,email:s,emailVerified:E,displayName:i,isAnonymous:w,photoURL:u,phoneNumber:o,tenantId:h,stsTokenManager:A,createdAt:d,lastLoginAt:y});return I&&Array.isArray(I)&&(U.providerData=I.map(V=>({...V}))),f&&(U._redirectEventId=f),U}static async _fromIdTokenResponse(e,t,i=!1){const s=new iu;s.updateFromServerResponse(t);const o=new wr({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await tp(o),o}static async _fromGetAccountInfoResponse(e,t,i){const s=t.users[0];je(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?VR(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!o?.length,h=new iu;h.updateFromIdToken(i);const f=new wr({uid:s.localId,auth:e,stsTokenManager:h,isAnonymous:u}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new b_(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!o?.length};return Object.assign(f,d),f}}const u1=new Map;function Vs(n){Gs(n instanceof Function,"Expected a class definition");let e=u1.get(n);return e?(Gs(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,u1.set(n,e),e)}class UR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}UR.type="NONE";const c1=UR;function Nd(n,e,t){return`firebase:${n}:${e}:${t}`}class ru{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:s,name:o}=this.auth;this.fullUserKey=Nd(this.userKey,s.apiKey,o),this.fullPersistenceKey=Nd("persistence",s.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await ep(this.auth,{idToken:e}).catch(()=>{});return t?wr._fromGetAccountInfoResponse(this.auth,t,e):null}return wr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new ru(Vs(c1),e,i);const s=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=s[0]||Vs(c1);const u=Nd(i,e.config.apiKey,e.name);let h=null;for(const d of t)try{const y=await d._get(u);if(y){let _;if(typeof y=="string"){const E=await ep(e,{idToken:y}).catch(()=>{});if(!E)break;_=await wr._fromGetAccountInfoResponse(e,E,y)}else _=wr._fromJSON(e,y);d!==o&&(h=_),o=d;break}}catch{}const f=s.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new ru(o,e,i):(o=f[0],h&&await o._set(u,h.toJSON()),await Promise.all(t.map(async d=>{if(d!==o)try{await d._remove(u)}catch{}})),new ru(o,e,i))}}function h1(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(HR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(zR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qR(e))return"Blackberry";if($R(e))return"Webos";if(FR(e))return"Safari";if((e.includes("chrome/")||BR(e))&&!e.includes("edge/"))return"Chrome";if(jR(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function zR(n=ri()){return/firefox\//i.test(n)}function FR(n=ri()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function BR(n=ri()){return/crios\//i.test(n)}function HR(n=ri()){return/iemobile/i.test(n)}function jR(n=ri()){return/android/i.test(n)}function qR(n=ri()){return/blackberry/i.test(n)}function $R(n=ri()){return/webos/i.test(n)}function xv(n=ri()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function HL(n=ri()){return xv(n)&&!!window.navigator?.standalone}function jL(){return ZP()&&document.documentMode===10}function GR(n=ri()){return xv(n)||jR(n)||$R(n)||qR(n)||/windows phone/i.test(n)||HR(n)}function KR(n,e=[]){let t;switch(n){case"Browser":t=h1(ri());break;case"Worker":t=`${h1(ri())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ao}/${i}`}class qL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=o=>new Promise((u,h)=>{try{const f=e(o);u(f)}catch(f){h(f)}});i.onAbort=t,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function $L(n,e={}){return Au(n,"GET","/v2/passwordPolicy",Nv(n,e))}const GL=6;class KL{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??GL,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class YL{constructor(e,t,i,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new f1(this),this.idTokenSubscription=new f1(this),this.beforeStateQueue=new qL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Vs(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ru.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await ep(this,{idToken:e}),i=await wr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ui(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,u=i?._redirectEventId,h=await this.tryRedirectSignIn(e);(!o||o===u)&&h?.user&&(i=h.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return je(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await tp(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=IL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ui(this.app))return Promise.reject(jo(this));const t=e?Kn(e):null;return t&&je(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&je(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ui(this.app)?Promise.reject(jo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ui(this.app)?Promise.reject(jo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Vs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $L(this),t=new KL(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ch("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await BL(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Vs(e)||this._popupRedirectResolver;je(t,this,"argument-error"),this.redirectPersistenceManager=await ru.create(this,[Vs(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,s){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(je(h,this,"internal-error"),h.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,i,s);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=KR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(Ui(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&wL(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Gp(n){return Kn(n)}class f1{constructor(e){this.auth=e,this.observer=null,this.addObserver=ck(t=>this.observer=t)}get next(){return je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Pv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function QL(n){Pv=n}function WL(n){return Pv.loadJS(n)}function XL(){return Pv.gapiScript}function JL(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function ZL(n,e){const t=Rh(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),o=t.getOptions();if(js(o,e??{}))return s;ts(s,"already-initialized")}return t.initialize({options:e})}function eV(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Vs);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function tV(n,e,t){const i=Gp(n);je(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,o=YR(e),{host:u,port:h}=nV(e),f=h===null?"":`:${h}`,d={url:`${o}//${u}${f}/`},y=Object.freeze({host:u,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){je(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),je(js(d,i.config.emulator)&&js(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=d,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,Js(u)?(Bp(`${o}//${u}${f}`),Hp("Auth",!0)):iV()}function YR(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function nV(n){const e=YR(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const o=s[1];return{host:o,port:d1(i.substr(o.length+1))}}else{const[o,u]=i.split(":");return{host:o,port:d1(u)}}}function d1(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function iV(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class QR{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ls("not implemented")}_getIdTokenResponse(e){return Ls("not implemented")}_linkToIdToken(e,t){return Ls("not implemented")}_getReauthenticationResolver(e){return Ls("not implemented")}}async function su(n,e){return ML(n,"POST","/v1/accounts:signInWithIdp",Nv(n,e))}const rV="http://localhost";class Ko extends QR{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ko(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ts("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s,...o}=t;if(!i||!s)return null;const u=new Ko(i,s);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return su(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,su(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,su(e,t)}buildRequest(){const e={requestUri:rV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ru(t)}return e}}class kv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ih extends kv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class za extends Ih{constructor(){super("facebook.com")}static credential(e){return Ko._fromParams({providerId:za.PROVIDER_ID,signInMethod:za.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return za.credentialFromTaggedObject(e)}static credentialFromError(e){return za.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return za.credential(e.oauthAccessToken)}catch{return null}}}za.FACEBOOK_SIGN_IN_METHOD="facebook.com";za.PROVIDER_ID="facebook.com";class ks extends Ih{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ko._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return ks.credential(t,i)}catch{return null}}}ks.GOOGLE_SIGN_IN_METHOD="google.com";ks.PROVIDER_ID="google.com";class Fa extends Ih{constructor(){super("github.com")}static credential(e){return Ko._fromParams({providerId:Fa.PROVIDER_ID,signInMethod:Fa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fa.credentialFromTaggedObject(e)}static credentialFromError(e){return Fa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fa.credential(e.oauthAccessToken)}catch{return null}}}Fa.GITHUB_SIGN_IN_METHOD="github.com";Fa.PROVIDER_ID="github.com";class Ba extends Ih{constructor(){super("twitter.com")}static credential(e,t){return Ko._fromParams({providerId:Ba.PROVIDER_ID,signInMethod:Ba.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ba.credentialFromTaggedObject(e)}static credentialFromError(e){return Ba.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Ba.credential(t,i)}catch{return null}}}Ba.TWITTER_SIGN_IN_METHOD="twitter.com";Ba.PROVIDER_ID="twitter.com";class pu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,s=!1){const o=await wr._fromIdTokenResponse(e,i,s),u=p1(i);return new pu({user:o,providerId:u,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const s=p1(i);return new pu({user:e,providerId:s,_tokenResponse:i,operationType:t})}}function p1(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class np extends os{constructor(e,t,i,s){super(t.code,t.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,np.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,s){return new np(e,t,i,s)}}function WR(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?np._fromErrorAndOperation(n,o,e,i):o})}async function sV(n,e,t=!1){const i=await lh(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return pu._forOperation(n,"link",i)}async function aV(n,e,t=!1){const{auth:i}=n;if(Ui(i.app))return Promise.reject(jo(i));const s="reauthenticate";try{const o=await lh(n,WR(i,s,e,n),t);je(o.idToken,i,"internal-error");const u=Mv(o.idToken);je(u,i,"internal-error");const{sub:h}=u;return je(n.uid===h,i,"user-mismatch"),pu._forOperation(n,s,o)}catch(o){throw o?.code==="auth/user-not-found"&&ts(i,"user-mismatch"),o}}async function oV(n,e,t=!1){if(Ui(n.app))return Promise.reject(jo(n));const i="signIn",s=await WR(n,i,e),o=await pu._fromIdTokenResponse(n,i,s);return t||await n._updateCurrentUser(o.user),o}function lV(n,e,t,i){return Kn(n).onIdTokenChanged(e,t,i)}function uV(n,e,t){return Kn(n).beforeAuthStateChanged(e,t)}const ip="__sak";class XR{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ip,"1"),this.storage.removeItem(ip),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const cV=1e3,hV=10;class JR extends XR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=GR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),s=this.localCache[t];i!==s&&e(t,s,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const i=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(i);!t&&this.localCache[i]===u||this.notifyListeners(i,u)},o=this.storage.getItem(i);jL()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,hV):s()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},cV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}JR.type="LOCAL";const fV=JR;class ZR extends XR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}ZR.type="SESSION";const eA=ZR;function dV(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Kp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const i=new Kp(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:s,data:o}=t.data,u=this.handlersMap[s];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const h=Array.from(u).map(async d=>d(t.origin,o)),f=await dV(h);t.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kp.receivers=[];function Lv(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}class pV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,u;return new Promise((h,f)=>{const d=Lv("",20);s.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},i);u={messageChannel:s,onMessage(_){const E=_;if(E.data.eventId===d)switch(E.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(E.data.response);break;default:clearTimeout(y),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function Kr(){return window}function mV(n){Kr().location.href=n}function tA(){return typeof Kr().WorkerGlobalScope<"u"&&typeof Kr().importScripts=="function"}async function gV(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function yV(){return navigator?.serviceWorker?.controller||null}function _V(){return tA()?self:null}const nA="firebaseLocalStorageDb",vV=1,rp="firebaseLocalStorage",iA="fbase_key";class Oh{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Yp(n,e){return n.transaction([rp],e?"readwrite":"readonly").objectStore(rp)}function bV(){const n=indexedDB.deleteDatabase(nA);return new Oh(n).toPromise()}function E_(){const n=indexedDB.open(nA,vV);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(rp,{keyPath:iA})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(rp)?e(i):(i.close(),await bV(),e(await E_()))})})}async function m1(n,e,t){const i=Yp(n,!0).put({[iA]:e,value:t});return new Oh(i).toPromise()}async function EV(n,e){const t=Yp(n,!1).get(e),i=await new Oh(t).toPromise();return i===void 0?null:i.value}function g1(n,e){const t=Yp(n,!0).delete(e);return new Oh(t).toPromise()}const TV=800,SV=3;class rA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await E_(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>SV)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kp._getInstance(_V()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await gV(),!this.activeServiceWorker)return;this.sender=new pV(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||yV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await E_();return await m1(e,ip,"1"),await g1(e,ip),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>m1(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>EV(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>g1(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=Yp(s,!1).getAll();return new Oh(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),TV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}rA.type="LOCAL";const wV=rA;new Ah(3e4,6e4);function sA(n,e){return e?Vs(e):(je(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class Vv extends QR{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return su(e,this._buildIdpRequest())}_linkToIdToken(e,t){return su(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return su(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function CV(n){return oV(n.auth,new Vv(n),n.bypassAuthState)}function RV(n){const{auth:e,user:t}=n;return je(t,e,"internal-error"),aV(t,new Vv(n),n.bypassAuthState)}async function AV(n){const{auth:e,user:t}=n;return je(t,e,"internal-error"),sV(t,new Vv(n),n.bypassAuthState)}class aA{constructor(e,t,i,s,o=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:s,tenantId:o,error:u,type:h}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return CV;case"linkViaPopup":case"linkViaRedirect":return AV;case"reauthViaPopup":case"reauthViaRedirect":return RV;default:ts(this.auth,"internal-error")}}resolve(e){Gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const IV=new Ah(2e3,1e4);async function OV(n,e,t){if(Ui(n.app))return Promise.reject(Ar(n,"operation-not-supported-in-this-environment"));const i=Gp(n);CL(n,e,kv);const s=sA(i,t);return new Uo(i,"signInViaPopup",e,s).executeNotNull()}class Uo extends aA{constructor(e,t,i,s,o){super(e,t,s,o),this.provider=i,this.authWindow=null,this.pollId=null,Uo.currentPopupAction&&Uo.currentPopupAction.cancel(),Uo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return je(e,this.auth,"internal-error"),e}async onExecution(){Gs(this.filter.length===1,"Popup operations only handle one event");const e=Lv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ar(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ar(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Uo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ar(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,IV.get())};e()}}Uo.currentPopupAction=null;const DV="pendingRedirect",Md=new Map;class NV extends aA{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Md.get(this.auth._key());if(!e){try{const i=await MV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Md.set(this.auth._key(),e)}return this.bypassAuthState||Md.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function MV(n,e){const t=kV(e),i=PV(n);if(!await i._isAvailable())return!1;const s=await i._get(t)==="true";return await i._remove(t),s}function xV(n,e){Md.set(n._key(),e)}function PV(n){return Vs(n._redirectPersistence)}function kV(n){return Nd(DV,n.config.apiKey,n.name)}async function LV(n,e,t=!1){if(Ui(n.app))return Promise.reject(jo(n));const i=Gp(n),s=sA(i,e),u=await new NV(i,s,t).execute();return u&&!t&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}const VV=600*1e3;class UV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!zV(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!oA(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Ar(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=VV&&this.cachedEventUids.clear(),this.cachedEventUids.has(y1(e))}saveEventToCache(e){this.cachedEventUids.add(y1(e)),this.lastProcessedEventTime=Date.now()}}function y1(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function oA({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function zV(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oA(n);default:return!1}}async function FV(n,e={}){return Au(n,"GET","/v1/projects",e)}const BV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HV=/^https?/;async function jV(n){if(n.config.emulator)return;const{authorizedDomains:e}=await FV(n);for(const t of e)try{if(qV(t))return}catch{}ts(n,"unauthorized-domain")}function qV(n){const e=v_(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===i}if(!HV.test(t))return!1;if(BV.test(n))return i===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}const $V=new Ah(3e4,6e4);function _1(){const n=Kr().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function GV(n){return new Promise((e,t)=>{function i(){_1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_1(),t(Ar(n,"network-request-failed"))},timeout:$V.get()})}if(Kr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Kr().gapi?.load)i();else{const s=JL("iframefcb");return Kr()[s]=()=>{gapi.load?i():t(Ar(n,"network-request-failed"))},WL(`${XL()}?onload=${s}`).catch(o=>t(o))}}).catch(e=>{throw xd=null,e})}let xd=null;function KV(n){return xd=xd||GV(n),xd}const YV=new Ah(5e3,15e3),QV="__/auth/iframe",WV="emulator/auth/iframe",XV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},JV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZV(n){const e=n.config;je(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Dv(e,WV):`https://${n.config.authDomain}/${QV}`,i={apiKey:e.apiKey,appName:n.name,v:ao},s=JV.get(n.config.apiHost);s&&(i.eid=s);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${t}?${Ru(i).slice(1)}`}async function e4(n){const e=await KV(n),t=Kr().gapi;return je(t,n,"internal-error"),e.open({where:document.body,url:ZV(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:XV,dontclear:!0},i=>new Promise(async(s,o)=>{await i.restyle({setHideOnLeave:!1});const u=Ar(n,"network-request-failed"),h=Kr().setTimeout(()=>{o(u)},YV.get());function f(){Kr().clearTimeout(h),s(i)}i.ping(f).then(f,()=>{o(u)})}))}const t4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},n4=500,i4=600,r4="_blank",s4="http://localhost";class v1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function a4(n,e,t,i=n4,s=i4){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f={...t4,width:i.toString(),height:s.toString(),top:o,left:u},d=ri().toLowerCase();t&&(h=BR(d)?r4:t),zR(d)&&(e=e||s4,f.scrollbars="yes");const y=Object.entries(f).reduce((E,[w,I])=>`${E}${w}=${I},`,"");if(HL(d)&&h!=="_self")return o4(e||"",h),new v1(null);const _=window.open(e||"",h,y);je(_,n,"popup-blocked");try{_.focus()}catch{}return new v1(_)}function o4(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}const l4="__/auth/handler",u4="emulator/auth/handler",c4=encodeURIComponent("fac");async function b1(n,e,t,i,s,o){je(n.config.authDomain,n,"auth-domain-config-required"),je(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:ao,eventId:s};if(e instanceof kv){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",d_(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))u[y]=_}if(e instanceof Ih){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(u.scopes=y.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const f=await n._getAppCheckToken(),d=f?`#${c4}=${encodeURIComponent(f)}`:"";return`${h4(n)}?${Ru(h).slice(1)}${d}`}function h4({config:n}){return n.emulator?Dv(n,u4):`https://${n.authDomain}/${l4}`}const Py="webStorageSupport";class f4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eA,this._completeRedirectFn=LV,this._overrideRedirectResult=xV}async _openPopup(e,t,i,s){Gs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await b1(e,t,i,v_(),s);return a4(e,o,Lv())}async _openRedirect(e,t,i,s){await this._originValidation(e);const o=await b1(e,t,i,v_(),s);return mV(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:o}=this.eventManagers[t];return s?Promise.resolve(s):(Gs(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await e4(e),i=new UV(e);return t.register("authEvent",s=>(je(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Py,{type:Py},s=>{const o=s?.[0]?.[Py];o!==void 0&&t(!!o),ts(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=jV(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return GR()||FR()||xv()}}const d4=f4;var E1="@firebase/auth",T1="1.11.1";class p4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function m4(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function g4(n){Wa(new qs("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=i.options;je(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:KR(n)},d=new YL(i,s,o,f);return eV(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Wa(new qs("auth-internal",e=>{const t=Gp(e.getProvider("auth").getImmediate());return(i=>new p4(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),or(E1,T1,m4(n)),or(E1,T1,"esm2020")}const y4=300,_4=wR("authIdTokenMaxAge")||y4;let S1=null;const v4=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>_4)return;const s=t?.token;S1!==s&&(S1=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function b4(n=$p()){const e=Rh(n,"auth");if(e.isInitialized())return e.getImmediate();const t=ZL(n,{popupRedirectResolver:d4,persistence:[wV,fV,eA]}),i=wR("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const u=v4(o.toString());uV(t,u,()=>u(t.currentUser)),lV(t,h=>u(h))}}const s=TR("auth");return s&&tV(t,`http://${s}`),t}function E4(){return document.getElementsByTagName("head")?.[0]??document}QL({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=s=>{const o=Ar("internal-error");o.customData=s,t(o)},i.type="text/javascript",i.charset="UTF-8",E4().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});g4("Browser");var w1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ga,lA;(function(){var n;function e(S,C){function x(){}x.prototype=C.prototype,S.F=C.prototype,S.prototype=new x,S.prototype.constructor=S,S.D=function(N,k,P){for(var M=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)M[pe-2]=arguments[pe];return C.prototype[k].apply(N,M)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,t),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(S,C,x){x||(x=0);const N=Array(16);if(typeof C=="string")for(var k=0;k<16;++k)N[k]=C.charCodeAt(x++)|C.charCodeAt(x++)<<8|C.charCodeAt(x++)<<16|C.charCodeAt(x++)<<24;else for(k=0;k<16;++k)N[k]=C[x++]|C[x++]<<8|C[x++]<<16|C[x++]<<24;C=S.g[0],x=S.g[1],k=S.g[2];let P=S.g[3],M;M=C+(P^x&(k^P))+N[0]+3614090360&4294967295,C=x+(M<<7&4294967295|M>>>25),M=P+(k^C&(x^k))+N[1]+3905402710&4294967295,P=C+(M<<12&4294967295|M>>>20),M=k+(x^P&(C^x))+N[2]+606105819&4294967295,k=P+(M<<17&4294967295|M>>>15),M=x+(C^k&(P^C))+N[3]+3250441966&4294967295,x=k+(M<<22&4294967295|M>>>10),M=C+(P^x&(k^P))+N[4]+4118548399&4294967295,C=x+(M<<7&4294967295|M>>>25),M=P+(k^C&(x^k))+N[5]+1200080426&4294967295,P=C+(M<<12&4294967295|M>>>20),M=k+(x^P&(C^x))+N[6]+2821735955&4294967295,k=P+(M<<17&4294967295|M>>>15),M=x+(C^k&(P^C))+N[7]+4249261313&4294967295,x=k+(M<<22&4294967295|M>>>10),M=C+(P^x&(k^P))+N[8]+1770035416&4294967295,C=x+(M<<7&4294967295|M>>>25),M=P+(k^C&(x^k))+N[9]+2336552879&4294967295,P=C+(M<<12&4294967295|M>>>20),M=k+(x^P&(C^x))+N[10]+4294925233&4294967295,k=P+(M<<17&4294967295|M>>>15),M=x+(C^k&(P^C))+N[11]+2304563134&4294967295,x=k+(M<<22&4294967295|M>>>10),M=C+(P^x&(k^P))+N[12]+1804603682&4294967295,C=x+(M<<7&4294967295|M>>>25),M=P+(k^C&(x^k))+N[13]+4254626195&4294967295,P=C+(M<<12&4294967295|M>>>20),M=k+(x^P&(C^x))+N[14]+2792965006&4294967295,k=P+(M<<17&4294967295|M>>>15),M=x+(C^k&(P^C))+N[15]+1236535329&4294967295,x=k+(M<<22&4294967295|M>>>10),M=C+(k^P&(x^k))+N[1]+4129170786&4294967295,C=x+(M<<5&4294967295|M>>>27),M=P+(x^k&(C^x))+N[6]+3225465664&4294967295,P=C+(M<<9&4294967295|M>>>23),M=k+(C^x&(P^C))+N[11]+643717713&4294967295,k=P+(M<<14&4294967295|M>>>18),M=x+(P^C&(k^P))+N[0]+3921069994&4294967295,x=k+(M<<20&4294967295|M>>>12),M=C+(k^P&(x^k))+N[5]+3593408605&4294967295,C=x+(M<<5&4294967295|M>>>27),M=P+(x^k&(C^x))+N[10]+38016083&4294967295,P=C+(M<<9&4294967295|M>>>23),M=k+(C^x&(P^C))+N[15]+3634488961&4294967295,k=P+(M<<14&4294967295|M>>>18),M=x+(P^C&(k^P))+N[4]+3889429448&4294967295,x=k+(M<<20&4294967295|M>>>12),M=C+(k^P&(x^k))+N[9]+568446438&4294967295,C=x+(M<<5&4294967295|M>>>27),M=P+(x^k&(C^x))+N[14]+3275163606&4294967295,P=C+(M<<9&4294967295|M>>>23),M=k+(C^x&(P^C))+N[3]+4107603335&4294967295,k=P+(M<<14&4294967295|M>>>18),M=x+(P^C&(k^P))+N[8]+1163531501&4294967295,x=k+(M<<20&4294967295|M>>>12),M=C+(k^P&(x^k))+N[13]+2850285829&4294967295,C=x+(M<<5&4294967295|M>>>27),M=P+(x^k&(C^x))+N[2]+4243563512&4294967295,P=C+(M<<9&4294967295|M>>>23),M=k+(C^x&(P^C))+N[7]+1735328473&4294967295,k=P+(M<<14&4294967295|M>>>18),M=x+(P^C&(k^P))+N[12]+2368359562&4294967295,x=k+(M<<20&4294967295|M>>>12),M=C+(x^k^P)+N[5]+4294588738&4294967295,C=x+(M<<4&4294967295|M>>>28),M=P+(C^x^k)+N[8]+2272392833&4294967295,P=C+(M<<11&4294967295|M>>>21),M=k+(P^C^x)+N[11]+1839030562&4294967295,k=P+(M<<16&4294967295|M>>>16),M=x+(k^P^C)+N[14]+4259657740&4294967295,x=k+(M<<23&4294967295|M>>>9),M=C+(x^k^P)+N[1]+2763975236&4294967295,C=x+(M<<4&4294967295|M>>>28),M=P+(C^x^k)+N[4]+1272893353&4294967295,P=C+(M<<11&4294967295|M>>>21),M=k+(P^C^x)+N[7]+4139469664&4294967295,k=P+(M<<16&4294967295|M>>>16),M=x+(k^P^C)+N[10]+3200236656&4294967295,x=k+(M<<23&4294967295|M>>>9),M=C+(x^k^P)+N[13]+681279174&4294967295,C=x+(M<<4&4294967295|M>>>28),M=P+(C^x^k)+N[0]+3936430074&4294967295,P=C+(M<<11&4294967295|M>>>21),M=k+(P^C^x)+N[3]+3572445317&4294967295,k=P+(M<<16&4294967295|M>>>16),M=x+(k^P^C)+N[6]+76029189&4294967295,x=k+(M<<23&4294967295|M>>>9),M=C+(x^k^P)+N[9]+3654602809&4294967295,C=x+(M<<4&4294967295|M>>>28),M=P+(C^x^k)+N[12]+3873151461&4294967295,P=C+(M<<11&4294967295|M>>>21),M=k+(P^C^x)+N[15]+530742520&4294967295,k=P+(M<<16&4294967295|M>>>16),M=x+(k^P^C)+N[2]+3299628645&4294967295,x=k+(M<<23&4294967295|M>>>9),M=C+(k^(x|~P))+N[0]+4096336452&4294967295,C=x+(M<<6&4294967295|M>>>26),M=P+(x^(C|~k))+N[7]+1126891415&4294967295,P=C+(M<<10&4294967295|M>>>22),M=k+(C^(P|~x))+N[14]+2878612391&4294967295,k=P+(M<<15&4294967295|M>>>17),M=x+(P^(k|~C))+N[5]+4237533241&4294967295,x=k+(M<<21&4294967295|M>>>11),M=C+(k^(x|~P))+N[12]+1700485571&4294967295,C=x+(M<<6&4294967295|M>>>26),M=P+(x^(C|~k))+N[3]+2399980690&4294967295,P=C+(M<<10&4294967295|M>>>22),M=k+(C^(P|~x))+N[10]+4293915773&4294967295,k=P+(M<<15&4294967295|M>>>17),M=x+(P^(k|~C))+N[1]+2240044497&4294967295,x=k+(M<<21&4294967295|M>>>11),M=C+(k^(x|~P))+N[8]+1873313359&4294967295,C=x+(M<<6&4294967295|M>>>26),M=P+(x^(C|~k))+N[15]+4264355552&4294967295,P=C+(M<<10&4294967295|M>>>22),M=k+(C^(P|~x))+N[6]+2734768916&4294967295,k=P+(M<<15&4294967295|M>>>17),M=x+(P^(k|~C))+N[13]+1309151649&4294967295,x=k+(M<<21&4294967295|M>>>11),M=C+(k^(x|~P))+N[4]+4149444226&4294967295,C=x+(M<<6&4294967295|M>>>26),M=P+(x^(C|~k))+N[11]+3174756917&4294967295,P=C+(M<<10&4294967295|M>>>22),M=k+(C^(P|~x))+N[2]+718787259&4294967295,k=P+(M<<15&4294967295|M>>>17),M=x+(P^(k|~C))+N[9]+3951481745&4294967295,S.g[0]=S.g[0]+C&4294967295,S.g[1]=S.g[1]+(k+(M<<21&4294967295|M>>>11))&4294967295,S.g[2]=S.g[2]+k&4294967295,S.g[3]=S.g[3]+P&4294967295}i.prototype.v=function(S,C){C===void 0&&(C=S.length);const x=C-this.blockSize,N=this.C;let k=this.h,P=0;for(;P<C;){if(k==0)for(;P<=x;)s(this,S,P),P+=this.blockSize;if(typeof S=="string"){for(;P<C;)if(N[k++]=S.charCodeAt(P++),k==this.blockSize){s(this,N),k=0;break}}else for(;P<C;)if(N[k++]=S[P++],k==this.blockSize){s(this,N),k=0;break}}this.h=k,this.o+=C},i.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var C=1;C<S.length-8;++C)S[C]=0;C=this.o*8;for(var x=S.length-8;x<S.length;++x)S[x]=C&255,C/=256;for(this.v(S),S=Array(16),C=0,x=0;x<4;++x)for(let N=0;N<32;N+=8)S[C++]=this.g[x]>>>N&255;return S};function o(S,C){var x=h;return Object.prototype.hasOwnProperty.call(x,S)?x[S]:x[S]=C(S)}function u(S,C){this.h=C;const x=[];let N=!0;for(let k=S.length-1;k>=0;k--){const P=S[k]|0;N&&P==C||(x[k]=P,N=!1)}this.g=x}var h={};function f(S){return-128<=S&&S<128?o(S,function(C){return new u([C|0],C<0?-1:0)}):new u([S|0],S<0?-1:0)}function d(S){if(isNaN(S)||!isFinite(S))return _;if(S<0)return A(d(-S));const C=[];let x=1;for(let N=0;S>=x;N++)C[N]=S/x|0,x*=4294967296;return new u(C,0)}function y(S,C){if(S.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(S.charAt(0)=="-")return A(y(S.substring(1),C));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=d(Math.pow(C,8));let N=_;for(let P=0;P<S.length;P+=8){var k=Math.min(8,S.length-P);const M=parseInt(S.substring(P,P+k),C);k<8?(k=d(Math.pow(C,k)),N=N.j(k).add(d(M))):(N=N.j(x),N=N.add(d(M)))}return N}var _=f(0),E=f(1),w=f(16777216);n=u.prototype,n.m=function(){if(O(this))return-A(this).m();let S=0,C=1;for(let x=0;x<this.g.length;x++){const N=this.i(x);S+=(N>=0?N:4294967296+N)*C,C*=4294967296}return S},n.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(I(this))return"0";if(O(this))return"-"+A(this).toString(S);const C=d(Math.pow(S,6));var x=this;let N="";for(;;){const k=Q(x,C).g;x=U(x,k.j(C));let P=((x.g.length>0?x.g[0]:x.h)>>>0).toString(S);if(x=k,I(x))return P+N;for(;P.length<6;)P="0"+P;N=P+N}},n.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function I(S){if(S.h!=0)return!1;for(let C=0;C<S.g.length;C++)if(S.g[C]!=0)return!1;return!0}function O(S){return S.h==-1}n.l=function(S){return S=U(this,S),O(S)?-1:I(S)?0:1};function A(S){const C=S.g.length,x=[];for(let N=0;N<C;N++)x[N]=~S.g[N];return new u(x,~S.h).add(E)}n.abs=function(){return O(this)?A(this):this},n.add=function(S){const C=Math.max(this.g.length,S.g.length),x=[];let N=0;for(let k=0;k<=C;k++){let P=N+(this.i(k)&65535)+(S.i(k)&65535),M=(P>>>16)+(this.i(k)>>>16)+(S.i(k)>>>16);N=M>>>16,P&=65535,M&=65535,x[k]=M<<16|P}return new u(x,x[x.length-1]&-2147483648?-1:0)};function U(S,C){return S.add(A(C))}n.j=function(S){if(I(this)||I(S))return _;if(O(this))return O(S)?A(this).j(A(S)):A(A(this).j(S));if(O(S))return A(this.j(A(S)));if(this.l(w)<0&&S.l(w)<0)return d(this.m()*S.m());const C=this.g.length+S.g.length,x=[];for(var N=0;N<2*C;N++)x[N]=0;for(N=0;N<this.g.length;N++)for(let k=0;k<S.g.length;k++){const P=this.i(N)>>>16,M=this.i(N)&65535,pe=S.i(k)>>>16,ge=S.i(k)&65535;x[2*N+2*k]+=M*ge,V(x,2*N+2*k),x[2*N+2*k+1]+=P*ge,V(x,2*N+2*k+1),x[2*N+2*k+1]+=M*pe,V(x,2*N+2*k+1),x[2*N+2*k+2]+=P*pe,V(x,2*N+2*k+2)}for(S=0;S<C;S++)x[S]=x[2*S+1]<<16|x[2*S];for(S=C;S<2*C;S++)x[S]=0;return new u(x,0)};function V(S,C){for(;(S[C]&65535)!=S[C];)S[C+1]+=S[C]>>>16,S[C]&=65535,C++}function z(S,C){this.g=S,this.h=C}function Q(S,C){if(I(C))throw Error("division by zero");if(I(S))return new z(_,_);if(O(S))return C=Q(A(S),C),new z(A(C.g),A(C.h));if(O(C))return C=Q(S,A(C)),new z(A(C.g),C.h);if(S.g.length>30){if(O(S)||O(C))throw Error("slowDivide_ only works with positive integers.");for(var x=E,N=C;N.l(S)<=0;)x=j(x),N=j(N);var k=ie(x,1),P=ie(N,1);for(N=ie(N,2),x=ie(x,2);!I(N);){var M=P.add(N);M.l(S)<=0&&(k=k.add(x),P=M),N=ie(N,1),x=ie(x,1)}return C=U(S,k.j(C)),new z(k,C)}for(k=_;S.l(C)>=0;){for(x=Math.max(1,Math.floor(S.m()/C.m())),N=Math.ceil(Math.log(x)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),P=d(x),M=P.j(C);O(M)||M.l(S)>0;)x-=N,P=d(x),M=P.j(C);I(P)&&(P=E),k=k.add(P),S=U(S,M)}return new z(k,S)}n.B=function(S){return Q(this,S).h},n.and=function(S){const C=Math.max(this.g.length,S.g.length),x=[];for(let N=0;N<C;N++)x[N]=this.i(N)&S.i(N);return new u(x,this.h&S.h)},n.or=function(S){const C=Math.max(this.g.length,S.g.length),x=[];for(let N=0;N<C;N++)x[N]=this.i(N)|S.i(N);return new u(x,this.h|S.h)},n.xor=function(S){const C=Math.max(this.g.length,S.g.length),x=[];for(let N=0;N<C;N++)x[N]=this.i(N)^S.i(N);return new u(x,this.h^S.h)};function j(S){const C=S.g.length+1,x=[];for(let N=0;N<C;N++)x[N]=S.i(N)<<1|S.i(N-1)>>>31;return new u(x,S.h)}function ie(S,C){const x=C>>5;C%=32;const N=S.g.length-x,k=[];for(let P=0;P<N;P++)k[P]=C>0?S.i(P+x)>>>C|S.i(P+x+1)<<32-C:S.i(P+x);return new u(k,S.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,lA=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=d,u.fromString=y,Ga=u}).apply(typeof w1<"u"?w1:typeof self<"u"?self:typeof window<"u"?window:{});var fd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var uA,Bc,cA,Pd,T_,hA,fA,dA;(function(){var n,e=Object.defineProperty;function t(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof fd=="object"&&fd];for(var v=0;v<p.length;++v){var T=p[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=t(this);function s(p,v){if(v)e:{var T=i;p=p.split(".");for(var D=0;D<p.length-1;D++){var Y=p[D];if(!(Y in T))break e;T=T[Y]}p=p[p.length-1],D=T[p],v=v(D),v!=D&&v!=null&&e(T,p,{configurable:!0,writable:!0,value:v})}}s("Symbol.dispose",function(p){return p||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(p){return p||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(p){return p||function(v){var T=[],D;for(D in v)Object.prototype.hasOwnProperty.call(v,D)&&T.push([D,v[D]]);return T}});var o=o||{},u=this||self;function h(p){var v=typeof p;return v=="object"&&p!=null||v=="function"}function f(p,v,T){return p.call.apply(p.bind,arguments)}function d(p,v,T){return d=f,d.apply(null,arguments)}function y(p,v){var T=Array.prototype.slice.call(arguments,1);return function(){var D=T.slice();return D.push.apply(D,arguments),p.apply(this,D)}}function _(p,v){function T(){}T.prototype=v.prototype,p.Z=v.prototype,p.prototype=new T,p.prototype.constructor=p,p.Ob=function(D,Y,te){for(var ye=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)ye[Ke-2]=arguments[Ke];return v.prototype[Y].apply(D,ye)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?p=>p&&AsyncContext.Snapshot.wrap(p):p=>p;function w(p){const v=p.length;if(v>0){const T=Array(v);for(let D=0;D<v;D++)T[D]=p[D];return T}return[]}function I(p,v){for(let D=1;D<arguments.length;D++){const Y=arguments[D];var T=typeof Y;if(T=T!="object"?T:Y?Array.isArray(Y)?"array":T:"null",T=="array"||T=="object"&&typeof Y.length=="number"){T=p.length||0;const te=Y.length||0;p.length=T+te;for(let ye=0;ye<te;ye++)p[T+ye]=Y[ye]}else p.push(Y)}}class O{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function A(p){u.setTimeout(()=>{throw p},0)}function U(){var p=S;let v=null;return p.g&&(v=p.g,p.g=p.g.next,p.g||(p.h=null),v.next=null),v}class V{constructor(){this.h=this.g=null}add(v,T){const D=z.get();D.set(v,T),this.h?this.h.next=D:this.g=D,this.h=D}}var z=new O(()=>new Q,p=>p.reset());class Q{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let j,ie=!1,S=new V,C=()=>{const p=Promise.resolve(void 0);j=()=>{p.then(x)}};function x(){for(var p;p=U();){try{p.h.call(p.g)}catch(T){A(T)}var v=z;v.j(p),v.h<100&&(v.h++,p.next=v.g,v.g=p)}ie=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(p,v){this.type=p,this.g=this.target=v,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var p=!1,v=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const T=()=>{};u.addEventListener("test",T,v),u.removeEventListener("test",T,v)}catch{}return p})();function M(p){return/^[\s\xa0]*$/.test(p)}function pe(p,v){k.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p&&this.init(p,v)}_(pe,k),pe.prototype.init=function(p,v){const T=this.type=p.type,D=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;this.target=p.target||p.srcElement,this.g=v,v=p.relatedTarget,v||(T=="mouseover"?v=p.fromElement:T=="mouseout"&&(v=p.toElement)),this.relatedTarget=v,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=p.pointerType,this.state=p.state,this.i=p,p.defaultPrevented&&pe.Z.h.call(this)},pe.prototype.h=function(){pe.Z.h.call(this);const p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var ge="closure_listenable_"+(Math.random()*1e6|0),K=0;function re(p,v,T,D,Y){this.listener=p,this.proxy=null,this.src=v,this.type=T,this.capture=!!D,this.ha=Y,this.key=++K,this.da=this.fa=!1}function me(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function xe(p,v,T){for(const D in p)v.call(T,p[D],D,p)}function ze(p,v){for(const T in p)v.call(void 0,p[T],T,p)}function H(p){const v={};for(const T in p)v[T]=p[T];return v}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(p,v){let T,D;for(let Y=1;Y<arguments.length;Y++){D=arguments[Y];for(T in D)p[T]=D[T];for(let te=0;te<Z.length;te++)T=Z[te],Object.prototype.hasOwnProperty.call(D,T)&&(p[T]=D[T])}}function fe(p){this.src=p,this.g={},this.h=0}fe.prototype.add=function(p,v,T,D,Y){const te=p.toString();p=this.g[te],p||(p=this.g[te]=[],this.h++);const ye=Me(p,v,D,Y);return ye>-1?(v=p[ye],T||(v.fa=!1)):(v=new re(v,this.src,te,!!D,Y),v.fa=T,p.push(v)),v};function Ie(p,v){const T=v.type;if(T in p.g){var D=p.g[T],Y=Array.prototype.indexOf.call(D,v,void 0),te;(te=Y>=0)&&Array.prototype.splice.call(D,Y,1),te&&(me(v),p.g[T].length==0&&(delete p.g[T],p.h--))}}function Me(p,v,T,D){for(let Y=0;Y<p.length;++Y){const te=p[Y];if(!te.da&&te.listener==v&&te.capture==!!T&&te.ha==D)return Y}return-1}var Be="closure_lm_"+(Math.random()*1e6|0),gt={};function yt(p,v,T,D,Y){if(Array.isArray(v)){for(let te=0;te<v.length;te++)yt(p,v[te],T,D,Y);return null}return T=ta(T),p&&p[ge]?p.J(v,T,h(D)?!!D.capture:!1,Y):cr(p,v,T,!1,D,Y)}function cr(p,v,T,D,Y,te){if(!v)throw Error("Invalid event type");const ye=h(Y)?!!Y.capture:!!Y;let Ke=us(p);if(Ke||(p[Be]=Ke=new fe(p)),T=Ke.add(v,T,D,ye,te),T.proxy)return T;if(D=Lt(),T.proxy=D,D.src=p,D.listener=T,p.addEventListener)P||(Y=ye),Y===void 0&&(Y=!1),p.addEventListener(v.toString(),D,Y);else if(p.attachEvent)p.attachEvent(si(v.toString()),D);else if(p.addListener&&p.removeListener)p.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Lt(){function p(T){return v.call(p.src,p.listener,T)}const v=ai;return p}function Qn(p,v,T,D,Y){if(Array.isArray(v))for(var te=0;te<v.length;te++)Qn(p,v[te],T,D,Y);else D=h(D)?!!D.capture:!!D,T=ta(T),p&&p[ge]?(p=p.i,te=String(v).toString(),te in p.g&&(v=p.g[te],T=Me(v,T,D,Y),T>-1&&(me(v[T]),Array.prototype.splice.call(v,T,1),v.length==0&&(delete p.g[te],p.h--)))):p&&(p=us(p))&&(v=p.g[v.toString()],p=-1,v&&(p=Me(v,T,D,Y)),(T=p>-1?v[p]:null)&&hr(T))}function hr(p){if(typeof p!="number"&&p&&!p.da){var v=p.src;if(v&&v[ge])Ie(v.i,p);else{var T=p.type,D=p.proxy;v.removeEventListener?v.removeEventListener(T,D,p.capture):v.detachEvent?v.detachEvent(si(T),D):v.addListener&&v.removeListener&&v.removeListener(D),(T=us(v))?(Ie(T,p),T.h==0&&(T.src=null,v[Be]=null)):me(p)}}}function si(p){return p in gt?gt[p]:gt[p]="on"+p}function ai(p,v){if(p.da)p=!0;else{v=new pe(v,this);const T=p.listener,D=p.ha||p.src;p.fa&&hr(p),p=T.call(D,v)}return p}function us(p){return p=p[Be],p instanceof fe?p:null}var uo="__closure_events_fn_"+(Math.random()*1e9>>>0);function ta(p){return typeof p=="function"?p:(p[uo]||(p[uo]=function(v){return p.handleEvent(v)}),p[uo])}function Xt(){N.call(this),this.i=new fe(this),this.M=this,this.G=null}_(Xt,N),Xt.prototype[ge]=!0,Xt.prototype.removeEventListener=function(p,v,T,D){Qn(this,p,v,T,D)};function an(p,v){var T,D=p.G;if(D)for(T=[];D;D=D.G)T.push(D);if(p=p.M,D=v.type||v,typeof v=="string")v=new k(v,p);else if(v instanceof k)v.target=v.target||p;else{var Y=v;v=new k(D,p),ce(v,Y)}Y=!0;let te,ye;if(T)for(ye=T.length-1;ye>=0;ye--)te=v.g=T[ye],Y=Or(te,D,!0,v)&&Y;if(te=v.g=p,Y=Or(te,D,!0,v)&&Y,Y=Or(te,D,!1,v)&&Y,T)for(ye=0;ye<T.length;ye++)te=v.g=T[ye],Y=Or(te,D,!1,v)&&Y}Xt.prototype.N=function(){if(Xt.Z.N.call(this),this.i){var p=this.i;for(const v in p.g){const T=p.g[v];for(let D=0;D<T.length;D++)me(T[D]);delete p.g[v],p.h--}}this.G=null},Xt.prototype.J=function(p,v,T,D){return this.i.add(String(p),v,!1,T,D)},Xt.prototype.K=function(p,v,T,D){return this.i.add(String(p),v,!0,T,D)};function Or(p,v,T,D){if(v=p.i.g[String(v)],!v)return!0;v=v.concat();let Y=!0;for(let te=0;te<v.length;++te){const ye=v[te];if(ye&&!ye.da&&ye.capture==T){const Ke=ye.listener,cn=ye.ha||ye.src;ye.fa&&Ie(p.i,ye),Y=Ke.call(cn,D)!==!1&&Y}}return Y&&!D.defaultPrevented}function Lu(p,v){if(typeof p!="function")if(p&&typeof p.handleEvent=="function")p=d(p.handleEvent,p);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:u.setTimeout(p,v||0)}function Hi(p){p.g=Lu(()=>{p.g=null,p.i&&(p.i=!1,Hi(p))},p.l);const v=p.h;p.h=null,p.m.apply(null,v)}class on extends N{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Hi(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dr(p){N.call(this),this.h=p,this.g={}}_(Dr,N);var cs=[];function oi(p){xe(p.g,function(v,T){this.g.hasOwnProperty(T)&&hr(v)},p),p.g={}}Dr.prototype.N=function(){Dr.Z.N.call(this),oi(this)},Dr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dn=u.JSON.stringify,sl=u.JSON.parse,al=class{stringify(p){return u.JSON.stringify(p,void 0)}parse(p){return u.JSON.parse(p,void 0)}};function na(){}function ol(){}var ln={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function mn(){k.call(this,"d")}_(mn,k);function li(){k.call(this,"c")}_(li,k);var $t={},ll=null;function hs(){return ll=ll||new Xt}$t.Ia="serverreachability";function fs(p){k.call(this,$t.Ia,p)}_(fs,k);function Ai(p){const v=hs();an(v,new fs(v))}$t.STAT_EVENT="statevent";function fr(p,v){k.call(this,$t.STAT_EVENT,p),this.stat=v}_(fr,k);function Jt(p){const v=hs();an(v,new fr(v,p))}$t.Ja="timingevent";function Ii(p,v){k.call(this,$t.Ja,p),this.size=v}_(Ii,k);function ji(p,v){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){p()},v)}function mi(){this.g=!0}mi.prototype.ua=function(){this.g=!1};function ia(p,v,T,D,Y,te){p.info(function(){if(p.g)if(te){var ye="",Ke=te.split("&");for(let _t=0;_t<Ke.length;_t++){var cn=Ke[_t].split("=");if(cn.length>1){const Kt=cn[0];cn=cn[1];const Qi=Kt.split("_");ye=Qi.length>=2&&Qi[1]=="type"?ye+(Kt+"="+cn+"&"):ye+(Kt+"=redacted&")}}}else ye=null;else ye=te;return"XMLHTTP REQ ("+D+") [attempt "+Y+"]: "+v+`
`+T+`
`+ye})}function ds(p,v,T,D,Y,te,ye){p.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+Y+"]: "+v+`
`+T+`
`+te+" "+ye})}function qi(p,v,T,D){p.info(function(){return"XMLHTTP TEXT ("+v+"): "+B(p,T)+(D?" "+D:"")})}function ps(p,v){p.info(function(){return"TIMEOUT: "+v})}mi.prototype.info=function(){};function B(p,v){if(!p.g)return v;if(!v)return null;try{const te=JSON.parse(v);if(te){for(p=0;p<te.length;p++)if(Array.isArray(te[p])){var T=te[p];if(!(T.length<2)){var D=T[1];if(Array.isArray(D)&&!(D.length<1)){var Y=D[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(let ye=1;ye<D.length;ye++)D[ye]=""}}}}return Dn(te)}catch{return v}}var G={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ee={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},he;function de(){}_(de,na),de.prototype.g=function(){return new XMLHttpRequest},he=new de;function Ce(p){return encodeURIComponent(String(p))}function Ne(p){var v=1;p=p.split(":");const T=[];for(;v>0&&p.length;)T.push(p.shift()),v--;return p.length&&T.push(p.join(":")),T}function Ee(p,v,T,D){this.j=p,this.i=v,this.l=T,this.S=D||1,this.V=new Dr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Re}function Re(){this.i=null,this.g="",this.h=!1}var Te={},be={};function we(p,v,T){p.M=1,p.A=co(Wt(v)),p.u=T,p.R=!0,We(p,null)}function We(p,v){p.F=Date.now(),lt(p),p.B=Wt(p.A);var T=p.B,D=p.S;Array.isArray(D)||(D=[String(D)]),cl(T.i,"t",D),p.C=0,T=p.j.L,p.h=new Re,p.g=ef(p.j,T?v:null,!p.u),p.P>0&&(p.O=new on(d(p.Y,p,p.g),p.P)),v=p.V,T=p.g,D=p.ba;var Y="readystatechange";Array.isArray(Y)||(Y&&(cs[0]=Y.toString()),Y=cs);for(let te=0;te<Y.length;te++){const ye=yt(T,Y[te],D||v.handleEvent,!1,v.h||v);if(!ye)break;v.g[ye.key]=ye}v=p.J?H(p.J):{},p.u?(p.v||(p.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.B,p.v,p.u,v)):(p.v="GET",p.g.ea(p.B,p.v,null,v)),Ai(),ia(p.i,p.v,p.B,p.l,p.S,p.u)}Ee.prototype.ba=function(p){p=p.target;const v=this.O;v&&gr(p)==3?v.j():this.Y(p)},Ee.prototype.Y=function(p){try{if(p==this.g)e:{const Ke=gr(this.g),cn=this.g.ya(),_t=this.g.ca();if(!(Ke<3)&&(Ke!=3||this.g&&(this.h.h||this.g.la()||zn(this.g)))){this.K||Ke!=4||cn==7||(cn==8||_t<=0?Ai(3):Ai(2)),Nn(this);var v=this.g.ca();this.X=v;var T=Ot(this);if(this.o=v==200,ds(this.i,this.v,this.B,this.l,this.S,Ke,v),this.o){if(this.U&&!this.L){t:{if(this.g){var D,Y=this.g;if((D=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(D)){var te=D;break t}}te=null}if(p=te)qi(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,un(this,p);else{this.o=!1,this.m=3,Jt(12),Zt(this),Mn(this);break e}}if(this.R){p=!0;let Kt;for(;!this.K&&this.C<T.length;)if(Kt=gn(this,T),Kt==be){Ke==4&&(this.m=4,Jt(14),p=!1),qi(this.i,this.l,null,"[Incomplete Response]");break}else if(Kt==Te){this.m=4,Jt(15),qi(this.i,this.l,T,"[Invalid Chunk]"),p=!1;break}else qi(this.i,this.l,Kt,null),un(this,Kt);if(Qt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ke!=4||T.length!=0||this.h.h||(this.m=1,Jt(16),p=!1),this.o=this.o&&p,!p)qi(this.i,this.l,T,"[Invalid Chunked Response]"),Zt(this),Mn(this);else if(T.length>0&&!this.W){this.W=!0;var ye=this.j;ye.g==this&&ye.aa&&!ye.P&&(ye.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Gu(ye),ye.P=!0,Jt(11))}}else qi(this.i,this.l,T,null),un(this,T);Ke==4&&Zt(this),this.o&&!this.K&&(Ke==4?Wh(this.j,this):(this.o=!1,lt(this)))}else gs(this.g),v==400&&T.indexOf("Unknown SID")>0?(this.m=3,Jt(12)):(this.m=0,Jt(13)),Zt(this),Mn(this)}}}catch{}finally{}};function Ot(p){if(!Qt(p))return p.g.la();const v=zn(p.g);if(v==="")return"";let T="";const D=v.length,Y=gr(p.g)==4;if(!p.h.i){if(typeof TextDecoder>"u")return Zt(p),Mn(p),"";p.h.i=new u.TextDecoder}for(let te=0;te<D;te++)p.h.h=!0,T+=p.h.i.decode(v[te],{stream:!(Y&&te==D-1)});return v.length=0,p.h.g+=T,p.C=0,p.h.g}function Qt(p){return p.g?p.v=="GET"&&p.M!=2&&p.j.Aa:!1}function gn(p,v){var T=p.C,D=v.indexOf(`
`,T);return D==-1?be:(T=Number(v.substring(T,D)),isNaN(T)?Te:(D+=1,D+T>v.length?be:(v=v.slice(D,D+T),p.C=D+T,v)))}Ee.prototype.cancel=function(){this.K=!0,Zt(this)};function lt(p){p.T=Date.now()+p.H,dt(p,p.H)}function dt(p,v){if(p.D!=null)throw Error("WatchDog timer not null");p.D=ji(d(p.aa,p),v)}function Nn(p){p.D&&(u.clearTimeout(p.D),p.D=null)}Ee.prototype.aa=function(){this.D=null;const p=Date.now();p-this.T>=0?(ps(this.i,this.B),this.M!=2&&(Ai(),Jt(17)),Zt(this),this.m=2,Mn(this)):dt(this,this.T-p)};function Mn(p){p.j.I==0||p.K||Wh(p.j,p)}function Zt(p){Nn(p);var v=p.O;v&&typeof v.dispose=="function"&&v.dispose(),p.O=null,oi(p.V),p.g&&(v=p.g,p.g=null,v.abort(),v.dispose())}function un(p,v){try{var T=p.j;if(T.I!=0&&(T.g==p||ci(T.h,p))){if(!p.L&&ci(T.h,p)&&T.I==3){try{var D=T.Ba.g.parse(v)}catch{D=null}if(Array.isArray(D)&&D.length==3){var Y=D;if(Y[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<p.F)ml(T),ha(T);else break e;_o(T),Jt(18)}}else T.xa=Y[1],0<T.xa-T.K&&Y[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=ji(d(T.Va,T),6e3));ui(T.h)<=1&&T.ta&&(T.ta=void 0)}else Lr(T,11)}else if((p.L||T.g==p)&&ml(T),!M(v))for(Y=T.Ba.g.parse(v),v=0;v<Y.length;v++){let _t=Y[v];const Kt=_t[0];if(!(Kt<=T.K))if(T.K=Kt,_t=_t[1],T.I==2)if(_t[0]=="c"){T.M=_t[1],T.ba=_t[2];const Qi=_t[3];Qi!=null&&(T.ka=Qi,T.j.info("VER="+T.ka));const Vr=_t[4];Vr!=null&&(T.za=Vr,T.j.info("SVER="+T.za));const yr=_t[5];yr!=null&&typeof yr=="number"&&yr>0&&(D=1.5*yr,T.O=D,T.j.info("backChannelRequestTimeoutMs_="+D)),D=T;const _r=p.g;if(_r){const vo=_r.g?_r.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vo){var te=D.h;te.g||vo.indexOf("spdy")==-1&&vo.indexOf("quic")==-1&&vo.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(Xe(te,te.h),te.h=null))}if(D.G){const gl=_r.g?_r.g.getResponseHeader("X-HTTP-Session-Id"):null;gl&&(D.wa=gl,Rt(D.J,D.G,gl))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-p.F,T.j.info("Handshake RTT: "+T.T+"ms")),D=T;var ye=p;if(D.na=Zh(D,D.L?D.ba:null,D.W),ye.L){en(D.h,ye);var Ke=ye,cn=D.O;cn&&(Ke.H=cn),Ke.D&&(Nn(Ke),lt(Ke)),D.g=ye}else Yh(D);T.i.length>0&&kr(T)}else _t[0]!="stop"&&_t[0]!="close"||Lr(T,7);else T.I==3&&(_t[0]=="stop"||_t[0]=="close"?_t[0]=="stop"?Lr(T,7):qu(T):_t[0]!="noop"&&T.l&&T.l.qa(_t),T.A=0)}}Ai(4)}catch{}}var Gt=class{constructor(p,v){this.g=p,this.map=v}};function dr(p){this.l=p||10,u.PerformanceNavigationTiming?(p=u.performance.getEntriesByType("navigation"),p=p.length>0&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Oi(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function ui(p){return p.h?1:p.g?p.g.size:0}function ci(p,v){return p.h?p.h==v:p.g?p.g.has(v):!1}function Xe(p,v){p.g?p.g.add(v):p.h=v}function en(p,v){p.h&&p.h==v?p.h=null:p.g&&p.g.has(v)&&p.g.delete(v)}dr.prototype.cancel=function(){if(this.i=$i(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function $i(p){if(p.h!=null)return p.i.concat(p.h.G);if(p.g!=null&&p.g.size!==0){let v=p.i;for(const T of p.g.values())v=v.concat(T.G);return v}return w(p.i)}var Gi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vt(p,v){if(p){p=p.split("&");for(let T=0;T<p.length;T++){const D=p[T].indexOf("=");let Y,te=null;D>=0?(Y=p[T].substring(0,D),te=p[T].substring(D+1)):Y=p[T],v(Y,te?decodeURIComponent(te.replace(/\+/g," ")):"")}}}function xn(p){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;p instanceof xn?(this.l=p.l,yn(this,p.j),this.o=p.o,this.g=p.g,ra(this,p.u),this.h=p.h,Vu(this,Gh(p.i)),this.m=p.m):p&&(v=String(p).match(Gi))?(this.l=!1,yn(this,v[1]||"",!0),this.o=Nr(v[2]||""),this.g=Nr(v[3]||"",!0),ra(this,v[4]),this.h=Nr(v[5]||"",!0),Vu(this,v[6]||"",!0),this.m=Nr(v[7]||"")):(this.l=!1,this.i=new aa(null,this.l))}xn.prototype.toString=function(){const p=[];var v=this.j;v&&p.push(ho(v,ul,!0),":");var T=this.g;return(T||v=="file")&&(p.push("//"),(v=this.o)&&p.push(ho(v,ul,!0),"@"),p.push(Ce(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&p.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&p.push("/"),p.push(ho(T,T.charAt(0)=="/"?Uu:jh,!0))),(T=this.i.toString())&&p.push("?",T),(T=this.m)&&p.push("#",ho(T,qh)),p.join("")},xn.prototype.resolve=function(p){const v=Wt(this);let T=!!p.j;T?yn(v,p.j):T=!!p.o,T?v.o=p.o:T=!!p.g,T?v.g=p.g:T=p.u!=null;var D=p.h;if(T)ra(v,p.u);else if(T=!!p.h){if(D.charAt(0)!="/")if(this.g&&!this.h)D="/"+D;else{var Y=v.h.lastIndexOf("/");Y!=-1&&(D=v.h.slice(0,Y+1)+D)}if(Y=D,Y==".."||Y==".")D="";else if(Y.indexOf("./")!=-1||Y.indexOf("/.")!=-1){D=Y.lastIndexOf("/",0)==0,Y=Y.split("/");const te=[];for(let ye=0;ye<Y.length;){const Ke=Y[ye++];Ke=="."?D&&ye==Y.length&&te.push(""):Ke==".."?((te.length>1||te.length==1&&te[0]!="")&&te.pop(),D&&ye==Y.length&&te.push("")):(te.push(Ke),D=!0)}D=te.join("/")}else D=Y}return T?v.h=D:T=p.i.toString()!=="",T?Vu(v,Gh(p.i)):T=!!p.m,T&&(v.m=p.m),v};function Wt(p){return new xn(p)}function yn(p,v,T){p.j=T?Nr(v,!0):v,p.j&&(p.j=p.j.replace(/:$/,""))}function ra(p,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);p.u=v}else p.u=null}function Vu(p,v,T){v instanceof aa?(p.i=v,hl(p.i,p.l)):(T||(v=ho(v,sa)),p.i=new aa(v,p.l))}function Rt(p,v,T){p.i.set(v,T)}function co(p){return Rt(p,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),p}function Nr(p,v){return p?v?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function ho(p,v,T){return typeof p=="string"?(p=encodeURI(p).replace(v,gi),T&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function gi(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var ul=/[#\/\?@]/g,jh=/[#\?:]/g,Uu=/[#\?]/g,sa=/[#\?@]/g,qh=/#/g;function aa(p,v){this.h=this.g=null,this.i=p||null,this.j=!!v}function yi(p){p.g||(p.g=new Map,p.h=0,p.i&&Vt(p.i,function(v,T){p.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}n=aa.prototype,n.add=function(p,v){yi(this),this.i=null,p=oa(this,p);let T=this.g.get(p);return T||this.g.set(p,T=[]),T.push(v),this.h+=1,this};function $h(p,v){yi(p),v=oa(p,v),p.g.has(v)&&(p.i=null,p.h-=p.g.get(v).length,p.g.delete(v))}function zu(p,v){return yi(p),v=oa(p,v),p.g.has(v)}n.forEach=function(p,v){yi(this),this.g.forEach(function(T,D){T.forEach(function(Y){p.call(v,Y,D,this)},this)},this)};function Fu(p,v){yi(p);let T=[];if(typeof v=="string")zu(p,v)&&(T=T.concat(p.g.get(oa(p,v))));else for(p=Array.from(p.g.values()),v=0;v<p.length;v++)T=T.concat(p[v]);return T}n.set=function(p,v){return yi(this),this.i=null,p=oa(this,p),zu(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[v]),this.h+=1,this},n.get=function(p,v){return p?(p=Fu(this,p),p.length>0?String(p[0]):v):v};function cl(p,v,T){$h(p,v),T.length>0&&(p.i=null,p.g.set(oa(p,v),w(T)),p.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],v=Array.from(this.g.keys());for(let D=0;D<v.length;D++){var T=v[D];const Y=Ce(T);T=Fu(this,T);for(let te=0;te<T.length;te++){let ye=Y;T[te]!==""&&(ye+="="+Ce(T[te])),p.push(ye)}}return this.i=p.join("&")};function Gh(p){const v=new aa;return v.i=p.i,p.g&&(v.g=new Map(p.g),v.h=p.h),v}function oa(p,v){return v=String(v),p.j&&(v=v.toLowerCase()),v}function hl(p,v){v&&!p.j&&(yi(p),p.i=null,p.g.forEach(function(T,D){const Y=D.toLowerCase();D!=Y&&($h(this,D),cl(this,Y,T))},p)),p.j=v}function pr(p,v){const T=new mi;if(u.Image){const D=new Image;D.onload=y(Ki,T,"TestLoadImage: loaded",!0,v,D),D.onerror=y(Ki,T,"TestLoadImage: error",!1,v,D),D.onabort=y(Ki,T,"TestLoadImage: abort",!1,v,D),D.ontimeout=y(Ki,T,"TestLoadImage: timeout",!1,v,D),u.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=p}else v(!1)}function Bu(p,v){const T=new mi,D=new AbortController,Y=setTimeout(()=>{D.abort(),Ki(T,"TestPingServer: timeout",!1,v)},1e4);fetch(p,{signal:D.signal}).then(te=>{clearTimeout(Y),te.ok?Ki(T,"TestPingServer: ok",!0,v):Ki(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(Y),Ki(T,"TestPingServer: error",!1,v)})}function Ki(p,v,T,D,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),D(T)}catch{}}function la(){this.g=new al}function Mr(p){this.i=p.Sb||null,this.h=p.ab||!1}_(Mr,na),Mr.prototype.g=function(){return new fo(this.i,this.h)};function fo(p,v){Xt.call(this),this.H=p,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(fo,Xt),n=fo.prototype,n.open=function(p,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=p,this.D=v,this.readyState=1,mr(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};p&&(v.body=p),(this.H||u).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ua(this)),this.readyState=0},n.Pa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,mr(this)),this.g&&(this.readyState=3,mr(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;fl(this)}else p.text().then(this.Oa.bind(this),this.ga.bind(this))};function fl(p){p.j.read().then(p.Ma.bind(p)).catch(p.ga.bind(p))}n.Ma=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var v=p.value?p.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!p.done}))&&(this.response=this.responseText+=v)}p.done?ua(this):mr(this),this.readyState==3&&fl(this)}},n.Oa=function(p){this.g&&(this.response=this.responseText=p,ua(this))},n.Na=function(p){this.g&&(this.response=p,ua(this))},n.ga=function(){this.g&&ua(this)};function ua(p){p.readyState=4,p.l=null,p.j=null,p.B=null,mr(p)}n.setRequestHeader=function(p,v){this.A.append(p,v)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,p.push(T[0]+": "+T[1]),T=v.next();return p.join(`\r
`)};function mr(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(fo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function Yi(p){let v="";return xe(p,function(T,D){v+=D,v+=":",v+=T,v+=`\r
`}),v}function po(p,v,T){e:{for(D in T){var D=!1;break e}D=!0}D||(T=Yi(T),typeof p=="string"?T!=null&&Ce(T):Rt(p,v,T))}function Dt(p){Xt.call(this),this.headers=new Map,this.L=p||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(Dt,Xt);var xr=/^https?$/i,Hu=["POST","PUT"];n=Dt.prototype,n.Fa=function(p){this.H=p},n.ea=function(p,v,T,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);v=v?v.toUpperCase():"GET",this.D=p,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():he.g(),this.g.onreadystatechange=E(d(this.Ca,this));try{this.B=!0,this.g.open(v,String(p),!0),this.B=!1}catch(te){mo(this,te);return}if(p=T||"",T=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var Y in D)T.set(Y,D[Y]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const te of D.keys())T.set(te,D.get(te));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(T.keys()).find(te=>te.toLowerCase()=="content-type"),Y=u.FormData&&p instanceof u.FormData,!(Array.prototype.indexOf.call(Hu,v,void 0)>=0)||D||Y||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,ye]of T)this.g.setRequestHeader(te,ye);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(p),this.v=!1}catch(te){mo(this,te)}};function mo(p,v){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=v,p.o=5,ju(p),ms(p)}function ju(p){p.A||(p.A=!0,an(p,"complete"),an(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=p||7,an(this,"complete"),an(this,"abort"),ms(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ms(this,!0)),Dt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?go(this):this.Xa())},n.Xa=function(){go(this)};function go(p){if(p.h&&typeof o<"u"){if(p.v&&gr(p)==4)setTimeout(p.Ca.bind(p),0);else if(an(p,"readystatechange"),gr(p)==4){p.h=!1;try{const te=p.ca();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var T;if(!(T=v)){var D;if(D=te===0){let ye=String(p.D).match(Gi)[1]||null;!ye&&u.self&&u.self.location&&(ye=u.self.location.protocol.slice(0,-1)),D=!xr.test(ye?ye.toLowerCase():"")}T=D}if(T)an(p,"complete"),an(p,"success");else{p.o=6;try{var Y=gr(p)>2?p.g.statusText:""}catch{Y=""}p.l=Y+" ["+p.ca()+"]",ju(p)}}finally{ms(p)}}}}function ms(p,v){if(p.g){p.m&&(clearTimeout(p.m),p.m=null);const T=p.g;p.g=null,v||an(p,"ready");try{T.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function gr(p){return p.g?p.g.readyState:0}n.ca=function(){try{return gr(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(p){if(this.g){var v=this.g.responseText;return p&&v.indexOf(p)==0&&(v=v.substring(p.length)),sl(v)}};function zn(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.F){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function gs(p){const v={};p=(p.g&&gr(p)>=2&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<p.length;D++){if(M(p[D]))continue;var T=Ne(p[D]);const Y=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const te=v[Y]||[];v[Y]=te,te.push(T)}ze(v,function(D){return D.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Pr(p,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[p]||v}function ca(p){this.za=0,this.i=[],this.j=new mi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Pr("failFast",!1,p),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Pr("baseRetryDelayMs",5e3,p),this.Za=Pr("retryDelaySeedMs",1e4,p),this.Ta=Pr("forwardChannelMaxRetries",2,p),this.va=Pr("forwardChannelRequestTimeoutMs",2e4,p),this.ma=p&&p.xmlHttpFactory||void 0,this.Ua=p&&p.Rb||void 0,this.Aa=p&&p.useFetchStreams||!1,this.O=void 0,this.L=p&&p.supportsCrossDomainXhr||!1,this.M="",this.h=new dr(p&&p.concurrentRequestLimit),this.Ba=new la,this.S=p&&p.fastHandshake||!1,this.R=p&&p.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=p&&p.Pb||!1,p&&p.ua&&this.j.ua(),p&&p.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&p&&p.detectBufferingProxy||!1,this.ia=void 0,p&&p.longPollingTimeout&&p.longPollingTimeout>0&&(this.ia=p.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=ca.prototype,n.ka=8,n.I=1,n.connect=function(p,v,T,D){Jt(0),this.W=p,this.H=v||{},T&&D!==void 0&&(this.H.OSID=T,this.H.OAID=D),this.F=this.X,this.J=Zh(this,null,this.W),kr(this)};function qu(p){if(dl(p),p.I==3){var v=p.V++,T=Wt(p.J);if(Rt(T,"SID",p.M),Rt(T,"RID",v),Rt(T,"TYPE","terminate"),yo(p,T),v=new Ee(p,p.j,v),v.M=2,v.A=co(Wt(T)),T=!1,u.navigator&&u.navigator.sendBeacon)try{T=u.navigator.sendBeacon(v.A.toString(),"")}catch{}!T&&u.Image&&(new Image().src=v.A,T=!0),T||(v.g=ef(v.j,null),v.g.ea(v.A)),v.F=Date.now(),lt(v)}Jh(p)}function ha(p){p.g&&(Gu(p),p.g.cancel(),p.g=null)}function dl(p){ha(p),p.v&&(u.clearTimeout(p.v),p.v=null),ml(p),p.h.cancel(),p.m&&(typeof p.m=="number"&&u.clearTimeout(p.m),p.m=null)}function kr(p){if(!Oi(p.h)&&!p.m){p.m=!0;var v=p.Ea;j||C(),ie||(j(),ie=!0),S.add(v,p),p.D=0}}function pl(p,v){return ui(p.h)>=p.h.j-(p.m?1:0)?!1:p.m?(p.i=v.G.concat(p.i),!0):p.I==1||p.I==2||p.D>=(p.Sa?0:p.Ta)?!1:(p.m=ji(d(p.Ea,p,v),Xh(p,p.D)),p.D++,!0)}n.Ea=function(p){if(this.m)if(this.m=null,this.I==1){if(!p){this.V=Math.floor(Math.random()*1e5),p=this.V++;const Y=new Ee(this,this.j,p);let te=this.o;if(this.U&&(te?(te=H(te),ce(te,this.U)):te=this.U),this.u!==null||this.R||(Y.J=te,te=null),this.S)e:{for(var v=0,T=0;T<this.i.length;T++){t:{var D=this.i[T];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(v+=D,v>4096){v=T;break e}if(v===4096||T===this.i.length-1){v=T+1;break e}}v=1e3}else v=1e3;v=Kh(this,Y,v),T=Wt(this.J),Rt(T,"RID",p),Rt(T,"CVER",22),this.G&&Rt(T,"X-HTTP-Session-Id",this.G),yo(this,T),te&&(this.R?v="headers="+Ce(Yi(te))+"&"+v:this.u&&po(T,this.u,te)),Xe(this.h,Y),this.Ra&&Rt(T,"TYPE","init"),this.S?(Rt(T,"$req",v),Rt(T,"SID","null"),Y.U=!0,we(Y,T,null)):we(Y,T,v),this.I=2}}else this.I==3&&(p?$u(this,p):this.i.length==0||Oi(this.h)||$u(this))};function $u(p,v){var T;v?T=v.l:T=p.V++;const D=Wt(p.J);Rt(D,"SID",p.M),Rt(D,"RID",T),Rt(D,"AID",p.K),yo(p,D),p.u&&p.o&&po(D,p.u,p.o),T=new Ee(p,p.j,T,p.D+1),p.u===null&&(T.J=p.o),v&&(p.i=v.G.concat(p.i)),v=Kh(p,T,1e3),T.H=Math.round(p.va*.5)+Math.round(p.va*.5*Math.random()),Xe(p.h,T),we(T,D,v)}function yo(p,v){p.H&&xe(p.H,function(T,D){Rt(v,D,T)}),p.l&&xe({},function(T,D){Rt(v,D,T)})}function Kh(p,v,T){T=Math.min(p.i.length,T);const D=p.l?d(p.l.Ka,p.l,p):null;e:{var Y=p.i;let Ke=-1;for(;;){const cn=["count="+T];Ke==-1?T>0?(Ke=Y[0].g,cn.push("ofs="+Ke)):Ke=0:cn.push("ofs="+Ke);let _t=!0;for(let Kt=0;Kt<T;Kt++){var te=Y[Kt].g;const Qi=Y[Kt].map;if(te-=Ke,te<0)Ke=Math.max(0,Y[Kt].g-100),_t=!1;else try{te="req"+te+"_"||"";try{var ye=Qi instanceof Map?Qi:Object.entries(Qi);for(const[Vr,yr]of ye){let _r=yr;h(yr)&&(_r=Dn(yr)),cn.push(te+Vr+"="+encodeURIComponent(_r))}}catch(Vr){throw cn.push(te+"type="+encodeURIComponent("_badmap")),Vr}}catch{D&&D(Qi)}}if(_t){ye=cn.join("&");break e}}ye=void 0}return p=p.i.splice(0,T),v.G=p,ye}function Yh(p){if(!p.g&&!p.v){p.Y=1;var v=p.Da;j||C(),ie||(j(),ie=!0),S.add(v,p),p.A=0}}function _o(p){return p.g||p.v||p.A>=3?!1:(p.Y++,p.v=ji(d(p.Da,p),Xh(p,p.A)),p.A++,!0)}n.Da=function(){if(this.v=null,Qh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var p=4*this.T;this.j.info("BP detection timer enabled: "+p),this.B=ji(d(this.Wa,this),p)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Jt(10),ha(this),Qh(this))};function Gu(p){p.B!=null&&(u.clearTimeout(p.B),p.B=null)}function Qh(p){p.g=new Ee(p,p.j,"rpc",p.Y),p.u===null&&(p.g.J=p.o),p.g.P=0;var v=Wt(p.na);Rt(v,"RID","rpc"),Rt(v,"SID",p.M),Rt(v,"AID",p.K),Rt(v,"CI",p.F?"0":"1"),!p.F&&p.ia&&Rt(v,"TO",p.ia),Rt(v,"TYPE","xmlhttp"),yo(p,v),p.u&&p.o&&po(v,p.u,p.o),p.O&&(p.g.H=p.O);var T=p.g;p=p.ba,T.M=1,T.A=co(Wt(v)),T.u=null,T.R=!0,We(T,p)}n.Va=function(){this.C!=null&&(this.C=null,ha(this),_o(this),Jt(19))};function ml(p){p.C!=null&&(u.clearTimeout(p.C),p.C=null)}function Wh(p,v){var T=null;if(p.g==v){ml(p),Gu(p),p.g=null;var D=2}else if(ci(p.h,v))T=v.G,en(p.h,v),D=1;else return;if(p.I!=0){if(v.o)if(D==1){T=v.u?v.u.length:0,v=Date.now()-v.F;var Y=p.D;D=hs(),an(D,new Ii(D,T)),kr(p)}else Yh(p);else if(Y=v.m,Y==3||Y==0&&v.X>0||!(D==1&&pl(p,v)||D==2&&_o(p)))switch(T&&T.length>0&&(v=p.h,v.i=v.i.concat(T)),Y){case 1:Lr(p,5);break;case 4:Lr(p,10);break;case 3:Lr(p,6);break;default:Lr(p,2)}}}function Xh(p,v){let T=p.Qa+Math.floor(Math.random()*p.Za);return p.isActive()||(T*=2),T*v}function Lr(p,v){if(p.j.info("Error code "+v),v==2){var T=d(p.bb,p),D=p.Ua;const Y=!D;D=new xn(D||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||yn(D,"https"),co(D),Y?pr(D.toString(),T):Bu(D.toString(),T)}else Jt(2);p.I=0,p.l&&p.l.pa(v),Jh(p),dl(p)}n.bb=function(p){p?(this.j.info("Successfully pinged google.com"),Jt(2)):(this.j.info("Failed to ping google.com"),Jt(1))};function Jh(p){if(p.I=0,p.ja=[],p.l){const v=$i(p.h);(v.length!=0||p.i.length!=0)&&(I(p.ja,v),I(p.ja,p.i),p.h.i.length=0,w(p.i),p.i.length=0),p.l.oa()}}function Zh(p,v,T){var D=T instanceof xn?Wt(T):new xn(T);if(D.g!="")v&&(D.g=v+"."+D.g),ra(D,D.u);else{var Y=u.location;D=Y.protocol,v=v?v+"."+Y.hostname:Y.hostname,Y=+Y.port;const te=new xn(null);D&&yn(te,D),v&&(te.g=v),Y&&ra(te,Y),T&&(te.h=T),D=te}return T=p.G,v=p.wa,T&&v&&Rt(D,T,v),Rt(D,"VER",p.ka),yo(p,D),D}function ef(p,v,T){if(v&&!p.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=p.Aa&&!p.ma?new Dt(new Mr({ab:T})):new Dt(p.ma),v.Fa(p.L),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function tf(){}n=tf.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function fa(){}fa.prototype.g=function(p,v){return new hi(p,v)};function hi(p,v){Xt.call(this),this.g=new ca(v),this.l=p,this.h=v&&v.messageUrlParams||null,p=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(p?p["X-WebChannel-Content-Type"]=v.messageContentType:p={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(p?p["X-WebChannel-Client-Profile"]=v.sa:p={"X-WebChannel-Client-Profile":v.sa}),this.g.U=p,(p=v&&v.Qb)&&!M(p)&&(this.g.u=p),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!M(v)&&(this.g.G=v,p=this.h,p!==null&&v in p&&(p=this.h,v in p&&delete p[v])),this.j=new ys(this)}_(hi,Xt),hi.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},hi.prototype.close=function(){qu(this.g)},hi.prototype.o=function(p){var v=this.g;if(typeof p=="string"){var T={};T.__data__=p,p=T}else this.v&&(T={},T.__data__=Dn(p),p=T);v.i.push(new Gt(v.Ya++,p)),v.I==3&&kr(v)},hi.prototype.N=function(){this.g.l=null,delete this.j,qu(this.g),delete this.g,hi.Z.N.call(this)};function nf(p){mn.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var v=p.__sm__;if(v){e:{for(const T in v){p=T;break e}p=void 0}(this.i=p)&&(p=this.i,v=v!==null&&p in v?v[p]:void 0),this.data=v}else this.data=p}_(nf,mn);function rf(){li.call(this),this.status=1}_(rf,li);function ys(p){this.g=p}_(ys,tf),ys.prototype.ra=function(){an(this.g,"a")},ys.prototype.qa=function(p){an(this.g,new nf(p))},ys.prototype.pa=function(p){an(this.g,new rf)},ys.prototype.oa=function(){an(this.g,"b")},fa.prototype.createWebChannel=fa.prototype.g,hi.prototype.send=hi.prototype.o,hi.prototype.open=hi.prototype.m,hi.prototype.close=hi.prototype.close,dA=function(){return new fa},fA=function(){return hs()},hA=$t,T_={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},G.NO_ERROR=0,G.TIMEOUT=8,G.HTTP_ERROR=6,Pd=G,ee.COMPLETE="complete",cA=ee,ol.EventType=ln,ln.OPEN="a",ln.CLOSE="b",ln.ERROR="c",ln.MESSAGE="d",Xt.prototype.listen=Xt.prototype.J,Bc=ol,Dt.prototype.listenOnce=Dt.prototype.K,Dt.prototype.getLastError=Dt.prototype.Ha,Dt.prototype.getLastErrorCode=Dt.prototype.ya,Dt.prototype.getStatus=Dt.prototype.ca,Dt.prototype.getResponseJson=Dt.prototype.La,Dt.prototype.getResponseText=Dt.prototype.la,Dt.prototype.send=Dt.prototype.ea,Dt.prototype.setWithCredentials=Dt.prototype.Fa,uA=Dt}).apply(typeof fd<"u"?fd:typeof self<"u"?self:typeof window<"u"?window:{});const C1="@firebase/firestore",R1="4.9.2";class Zn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zn.UNAUTHENTICATED=new Zn(null),Zn.GOOGLE_CREDENTIALS=new Zn("google-credentials-uid"),Zn.FIRST_PARTY=new Zn("first-party-uid"),Zn.MOCK_USER=new Zn("mock-user");let Iu="12.3.0";const Yo=new qp("@firebase/firestore");function Ql(){return Yo.logLevel}function Se(n,...e){if(Yo.logLevel<=tt.DEBUG){const t=e.map(Uv);Yo.debug(`Firestore (${Iu}): ${n}`,...t)}}function Ks(n,...e){if(Yo.logLevel<=tt.ERROR){const t=e.map(Uv);Yo.error(`Firestore (${Iu}): ${n}`,...t)}}function mu(n,...e){if(Yo.logLevel<=tt.WARN){const t=e.map(Uv);Yo.warn(`Firestore (${Iu}): ${n}`,...t)}}function Uv(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function He(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,pA(n,i,t)}function pA(n,e,t){let i=`FIRESTORE (${Iu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Ks(i),new Error(i)}function Ct(n,e,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,n||pA(e,s,i)}function Ge(n,e){return n}const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends os{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class zs{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class mA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class T4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Zn.UNAUTHENTICATED)))}shutdown(){}}class S4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class w4{constructor(e){this.t=e,this.currentUser=Zn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ct(this.o===void 0,42304);let i=this.i;const s=f=>this.i!==i?(i=this.i,t(f)):Promise.resolve();let o=new zs;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new zs,e.enqueueRetryable((()=>s(this.currentUser)))};const u=()=>{const f=o;e.enqueueRetryable((async()=>{await f.promise,await s(this.currentUser)}))},h=f=>{Se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(Se("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new zs)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(Se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ct(typeof i.accessToken=="string",31837,{l:i}),new mA(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ct(e===null||typeof e=="string",2055,{h:e}),new Zn(e)}}class C4{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=Zn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class R4{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new C4(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Zn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class A1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class A4{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ui(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ct(this.o===void 0,3512);const i=o=>{o.error!=null&&Se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,Se("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>i(o)))};const s=o=>{Se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>s(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):Se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new A1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ct(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new A1(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function I4(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class zv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=I4(40);for(let o=0;o<s.length;++o)i.length<20&&s[o]<t&&(i+=e.charAt(s[o]%62))}return i}}function rt(n,e){return n<e?-1:n>e?1:0}function S_(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++){const s=n.charAt(i),o=e.charAt(i);if(s!==o)return ky(s)===ky(o)?rt(s,o):ky(s)?1:-1}return rt(n.length,e.length)}const O4=55296,D4=57343;function ky(n){const e=n.charCodeAt(0);return e>=O4&&e<=D4}function gu(n,e,t){return n.length===e.length&&n.every(((i,s)=>t(i,e[s])))}const I1="__name__";class Hr{constructor(e,t,i){t===void 0?t=0:t>e.length&&He(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&He(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Hr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Hr?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let s=0;s<i;s++){const o=Hr.compareSegments(e.get(s),t.get(s));if(o!==0)return o}return rt(e.length,t.length)}static compareSegments(e,t){const i=Hr.isNumericId(e),s=Hr.isNumericId(t);return i&&!s?-1:!i&&s?1:i&&s?Hr.extractNumericId(e).compare(Hr.extractNumericId(t)):S_(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ga.fromString(e.substring(4,e.length-2))}}class Ht extends Hr{construct(e,t,i){return new Ht(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Oe(ue.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((s=>s.length>0)))}return new Ht(t)}static emptyPath(){return new Ht([])}}const N4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gn extends Hr{construct(e,t,i){return new Gn(e,t,i)}static isValidIdentifier(e){return N4.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===I1}static keyField(){return new Gn([I1])}static fromServerFormat(e){const t=[];let i="",s=0;const o=()=>{if(i.length===0)throw new Oe(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;s<e.length;){const h=e[s];if(h==="\\"){if(s+1===e.length)throw new Oe(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Oe(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,s+=2}else h==="`"?(u=!u,s++):h!=="."||u?(i+=h,s++):(o(),s++)}if(o(),u)throw new Oe(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gn(t)}static emptyPath(){return new Gn([])}}class Le{constructor(e){this.path=e}static fromPath(e){return new Le(Ht.fromString(e))}static fromName(e){return new Le(Ht.fromString(e).popFirst(5))}static empty(){return new Le(Ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ht.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Le(new Ht(e.slice()))}}function gA(n,e,t){if(!t)throw new Oe(ue.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function M4(n,e,t,i){if(e===!0&&i===!0)throw new Oe(ue.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function O1(n){if(!Le.isDocumentKey(n))throw new Oe(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function D1(n){if(Le.isDocumentKey(n))throw new Oe(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function yA(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Fv(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":He(12329,{type:typeof n})}function Ys(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Oe(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Fv(n);throw new Oe(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function wn(n,e){const t={typeString:n};return e&&(t.value=e),t}function Dh(n,e){if(!yA(n))throw new Oe(ue.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const s=e[i].typeString,o="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const u=n[i];if(s&&typeof u!==s){t=`JSON field '${i}' must be a ${s}.`;break}if(o!==void 0&&u!==o.value){t=`Expected '${i}' field to equal '${o.value}'`;break}}if(t)throw new Oe(ue.INVALID_ARGUMENT,t);return!0}const N1=-62135596800,M1=1e6;class jt{static now(){return jt.fromMillis(Date.now())}static fromDate(e){return jt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*M1);return new jt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Oe(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Oe(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<N1)throw new Oe(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Oe(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/M1}_compareTo(e){return this.seconds===e.seconds?rt(this.nanoseconds,e.nanoseconds):rt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:jt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Dh(e,jt._jsonSchema))return new jt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-N1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}jt._jsonSchemaVersion="firestore/timestamp/1.0",jt._jsonSchema={type:wn("string",jt._jsonSchemaVersion),seconds:wn("number"),nanoseconds:wn("number")};class qe{static fromTimestamp(e){return new qe(e)}static min(){return new qe(new jt(0,0))}static max(){return new qe(new jt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const uh=-1;function x4(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,s=qe.fromTimestamp(i===1e9?new jt(t+1,0):new jt(t,i));return new Xa(s,Le.empty(),e)}function P4(n){return new Xa(n.readTime,n.key,uh)}class Xa{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Xa(qe.min(),Le.empty(),uh)}static max(){return new Xa(qe.max(),Le.empty(),uh)}}function k4(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Le.comparator(n.documentKey,e.documentKey),t!==0?t:rt(n.largestBatchId,e.largestBatchId))}const L4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class V4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ou(n){if(n.code!==ue.FAILED_PRECONDITION||n.message!==L4)throw n;Se("LocalStore","Unexpectedly lost primary lease")}class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&He(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new le(((i,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,s)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof le?t:le.resolve(t)}catch(t){return le.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):le.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):le.reject(t)}static resolve(e){return new le(((t,i)=>{t(e)}))}static reject(e){return new le(((t,i)=>{i(e)}))}static waitFor(e){return new le(((t,i)=>{let s=0,o=0,u=!1;e.forEach((h=>{++s,h.next((()=>{++o,u&&o===s&&t()}),(f=>i(f)))})),u=!0,o===s&&t()}))}static or(e){let t=le.resolve(!1);for(const i of e)t=t.next((s=>s?le.resolve(s):i()));return t}static forEach(e,t){const i=[];return e.forEach(((s,o)=>{i.push(t.call(this,s,o))})),this.waitFor(i)}static mapArray(e,t){return new le(((i,s)=>{const o=e.length,u=new Array(o);let h=0;for(let f=0;f<o;f++){const d=f;t(e[d]).next((y=>{u[d]=y,++h,h===o&&i(u)}),(y=>s(y)))}}))}static doWhile(e,t){return new le(((i,s)=>{const o=()=>{e()===!0?t().next((()=>{o()}),s):i()};o()}))}}function U4(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Du(n){return n.name==="IndexedDbTransactionError"}class Qp{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Qp.ce=-1;const Bv=-1;function Wp(n){return n==null}function sp(n){return n===0&&1/n==-1/0}function z4(n){return typeof n=="number"&&Number.isInteger(n)&&!sp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const _A="";function F4(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=x1(e)),e=B4(n.get(t),e);return x1(e)}function B4(n,e){let t=e;const i=n.length;for(let s=0;s<i;s++){const o=n.charAt(s);switch(o){case"\0":t+="";break;case _A:t+="";break;default:t+=o}}return t}function x1(n){return n+_A+""}function P1(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function oo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function vA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}let Rn=class w_{constructor(e,t){this.comparator=e,this.root=t||Ka.EMPTY}insert(e,t){return new w_(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ka.BLACK,null,null))}remove(e){return new w_(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ka.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return t+i.left.size;s<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new dd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new dd(this.root,e,this.comparator,!1)}getReverseIterator(){return new dd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new dd(this.root,e,this.comparator,!0)}},dd=class{constructor(e,t,i,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Ka=class Ps{constructor(e,t,i,s,o){this.key=e,this.value=t,this.color=i??Ps.RED,this.left=s??Ps.EMPTY,this.right=o??Ps.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,s,o){return new Ps(e??this.key,t??this.value,i??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let s=this;const o=i(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,t,i),null):o===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ps.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Ps.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ps.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ps.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw He(43730,{key:this.key,value:this.value});if(this.right.isRed())throw He(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw He(27949);return e+(this.isRed()?0:1)}};Ka.EMPTY=null,Ka.RED=!0,Ka.BLACK=!1;Ka.EMPTY=new class{constructor(){this.size=0}get key(){throw He(57766)}get value(){throw He(16141)}get color(){throw He(16727)}get left(){throw He(29726)}get right(){throw He(36894)}copy(e,t,i,s,o){return this}insert(e,t,i){return new Ka(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class On{constructor(e){this.comparator=e,this.data=new Rn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new k1(this.data.getIterator())}getIteratorFrom(e){return new k1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof On)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=i.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new On(this.comparator);return t.data=e,t}}class k1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class zi{constructor(e){this.fields=e,e.sort(Gn.comparator)}static empty(){return new zi([])}unionWith(e){let t=new On(Gn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new zi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return gu(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}class bA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Yn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new bA("Invalid base64 string: "+o):o}})(e);return new Yn(t)}static fromUint8Array(e){const t=(function(s){let o="";for(let u=0;u<s.length;++u)o+=String.fromCharCode(s[u]);return o})(e);return new Yn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let s=0;s<t.length;s++)i[s]=t.charCodeAt(s);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return rt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yn.EMPTY_BYTE_STRING=new Yn("");const H4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ja(n){if(Ct(!!n,39018),typeof n=="string"){let e=0;const t=H4.exec(n);if(Ct(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:dn(n.seconds),nanos:dn(n.nanos)}}function dn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Za(n){return typeof n=="string"?Yn.fromBase64String(n):Yn.fromUint8Array(n)}const EA="server_timestamp",TA="__type__",SA="__previous_value__",wA="__local_write_time__";function Hv(n){return(n?.mapValue?.fields||{})[TA]?.stringValue===EA}function Xp(n){const e=n.mapValue.fields[SA];return Hv(e)?Xp(e):e}function ch(n){const e=Ja(n.mapValue.fields[wA].timestampValue);return new jt(e.seconds,e.nanos)}class j4{constructor(e,t,i,s,o,u,h,f,d,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=s,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=y}}const ap="(default)";class hh{constructor(e,t){this.projectId=e,this.database=t||ap}static empty(){return new hh("","")}get isDefaultDatabase(){return this.database===ap}isEqual(e){return e instanceof hh&&e.projectId===this.projectId&&e.database===this.database}}const CA="__type__",q4="__max__",pd={mapValue:{}},RA="__vector__",op="value";function eo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Hv(n)?4:G4(n)?9007199254740991:$4(n)?10:11:He(28295,{value:n})}function ns(n,e){if(n===e)return!0;const t=eo(n);if(t!==eo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ch(n).isEqual(ch(e));case 3:return(function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const u=Ja(s.timestampValue),h=Ja(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(s,o){return Za(s.bytesValue).isEqual(Za(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(s,o){return dn(s.geoPointValue.latitude)===dn(o.geoPointValue.latitude)&&dn(s.geoPointValue.longitude)===dn(o.geoPointValue.longitude)})(n,e);case 2:return(function(s,o){if("integerValue"in s&&"integerValue"in o)return dn(s.integerValue)===dn(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const u=dn(s.doubleValue),h=dn(o.doubleValue);return u===h?sp(u)===sp(h):isNaN(u)&&isNaN(h)}return!1})(n,e);case 9:return gu(n.arrayValue.values||[],e.arrayValue.values||[],ns);case 10:case 11:return(function(s,o){const u=s.mapValue.fields||{},h=o.mapValue.fields||{};if(P1(u)!==P1(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!ns(u[f],h[f])))return!1;return!0})(n,e);default:return He(52216,{left:n})}}function fh(n,e){return(n.values||[]).find((t=>ns(t,e)))!==void 0}function yu(n,e){if(n===e)return 0;const t=eo(n),i=eo(e);if(t!==i)return rt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return rt(n.booleanValue,e.booleanValue);case 2:return(function(o,u){const h=dn(o.integerValue||o.doubleValue),f=dn(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(n,e);case 3:return L1(n.timestampValue,e.timestampValue);case 4:return L1(ch(n),ch(e));case 5:return S_(n.stringValue,e.stringValue);case 6:return(function(o,u){const h=Za(o),f=Za(u);return h.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(o,u){const h=o.split("/"),f=u.split("/");for(let d=0;d<h.length&&d<f.length;d++){const y=rt(h[d],f[d]);if(y!==0)return y}return rt(h.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,u){const h=rt(dn(o.latitude),dn(u.latitude));return h!==0?h:rt(dn(o.longitude),dn(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return V1(n.arrayValue,e.arrayValue);case 10:return(function(o,u){const h=o.fields||{},f=u.fields||{},d=h[op]?.arrayValue,y=f[op]?.arrayValue,_=rt(d?.values?.length||0,y?.values?.length||0);return _!==0?_:V1(d,y)})(n.mapValue,e.mapValue);case 11:return(function(o,u){if(o===pd.mapValue&&u===pd.mapValue)return 0;if(o===pd.mapValue)return 1;if(u===pd.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),d=u.fields||{},y=Object.keys(d);f.sort(),y.sort();for(let _=0;_<f.length&&_<y.length;++_){const E=S_(f[_],y[_]);if(E!==0)return E;const w=yu(h[f[_]],d[y[_]]);if(w!==0)return w}return rt(f.length,y.length)})(n.mapValue,e.mapValue);default:throw He(23264,{he:t})}}function L1(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return rt(n,e);const t=Ja(n),i=Ja(e),s=rt(t.seconds,i.seconds);return s!==0?s:rt(t.nanos,i.nanos)}function V1(n,e){const t=n.values||[],i=e.values||[];for(let s=0;s<t.length&&s<i.length;++s){const o=yu(t[s],i[s]);if(o)return o}return rt(t.length,i.length)}function _u(n){return C_(n)}function C_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const i=Ja(t);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Za(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Le.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let i="[",s=!0;for(const o of t.values||[])s?s=!1:i+=",",i+=C_(o);return i+"]"})(n.arrayValue):"mapValue"in n?(function(t){const i=Object.keys(t.fields||{}).sort();let s="{",o=!0;for(const u of i)o?o=!1:s+=",",s+=`${u}:${C_(t.fields[u])}`;return s+"}"})(n.mapValue):He(61005,{value:n})}function kd(n){switch(eo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Xp(n);return e?16+kd(e):16;case 5:return 2*n.stringValue.length;case 6:return Za(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((s,o)=>s+kd(o)),0)})(n.arrayValue);case 10:case 11:return(function(i){let s=0;return oo(i.fields,((o,u)=>{s+=o.length+kd(u)})),s})(n.mapValue);default:throw He(13486,{value:n})}}function R_(n){return!!n&&"integerValue"in n}function jv(n){return!!n&&"arrayValue"in n}function U1(n){return!!n&&"nullValue"in n}function z1(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ld(n){return!!n&&"mapValue"in n}function $4(n){return(n?.mapValue?.fields||{})[CA]?.stringValue===RA}function Yc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return oo(n.mapValue.fields,((t,i)=>e.mapValue.fields[t]=Yc(i))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Yc(n.arrayValue.values[t]);return e}return{...n}}function G4(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===q4}class wi{constructor(e){this.value=e}static empty(){return new wi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Ld(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yc(t)}setAll(e){let t=Gn.emptyPath(),i={},s=[];e.forEach(((u,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,i,s),i={},s=[],t=h.popLast()}u?i[h.lastSegment()]=Yc(u):s.push(h.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,i,s)}delete(e){const t=this.field(e.popLast());Ld(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ns(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=t.mapValue.fields[e.get(i)];Ld(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,i){oo(t,((s,o)=>e[s]=o));for(const s of i)delete e[s]}clone(){return new wi(Yc(this.value))}}function AA(n){const e=[];return oo(n.fields,((t,i)=>{const s=new Gn([t]);if(Ld(i)){const o=AA(i.mapValue).fields;if(o.length===0)e.push(s);else for(const u of o)e.push(s.child(u))}else e.push(s)})),new zi(e)}class ei{constructor(e,t,i,s,o,u,h){this.key=e,this.documentType=t,this.version=i,this.readTime=s,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(e){return new ei(e,0,qe.min(),qe.min(),qe.min(),wi.empty(),0)}static newFoundDocument(e,t,i,s){return new ei(e,1,t,qe.min(),i,s,0)}static newNoDocument(e,t){return new ei(e,2,t,qe.min(),qe.min(),wi.empty(),0)}static newUnknownDocument(e,t){return new ei(e,3,t,qe.min(),qe.min(),wi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(qe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ei&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ei(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class lp{constructor(e,t){this.position=e,this.inclusive=t}}function F1(n,e,t){let i=0;for(let s=0;s<n.position.length;s++){const o=e[s],u=n.position[s];if(o.field.isKeyField()?i=Le.comparator(Le.fromName(u.referenceValue),t.key):i=yu(u,t.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function B1(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ns(n.position[t],e.position[t]))return!1;return!0}class up{constructor(e,t="asc"){this.field=e,this.dir=t}}function K4(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class IA{}class In extends IA{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new Q4(e,t,i):t==="array-contains"?new J4(e,i):t==="in"?new Z4(e,i):t==="not-in"?new e3(e,i):t==="array-contains-any"?new t3(e,i):new In(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new W4(e,i):new X4(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(yu(t,this.value)):t!==null&&eo(this.value)===eo(t)&&this.matchesComparison(yu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return He(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class is extends IA{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new is(e,t)}matches(e){return OA(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function OA(n){return n.op==="and"}function DA(n){return Y4(n)&&OA(n)}function Y4(n){for(const e of n.filters)if(e instanceof is)return!1;return!0}function A_(n){if(n instanceof In)return n.field.canonicalString()+n.op.toString()+_u(n.value);if(DA(n))return n.filters.map((e=>A_(e))).join(",");{const e=n.filters.map((t=>A_(t))).join(",");return`${n.op}(${e})`}}function NA(n,e){return n instanceof In?(function(i,s){return s instanceof In&&i.op===s.op&&i.field.isEqual(s.field)&&ns(i.value,s.value)})(n,e):n instanceof is?(function(i,s){return s instanceof is&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce(((o,u,h)=>o&&NA(u,s.filters[h])),!0):!1})(n,e):void He(19439)}function MA(n){return n instanceof In?(function(t){return`${t.field.canonicalString()} ${t.op} ${_u(t.value)}`})(n):n instanceof is?(function(t){return t.op.toString()+" {"+t.getFilters().map(MA).join(" ,")+"}"})(n):"Filter"}class Q4 extends In{constructor(e,t,i){super(e,t,i),this.key=Le.fromName(i.referenceValue)}matches(e){const t=Le.comparator(e.key,this.key);return this.matchesComparison(t)}}class W4 extends In{constructor(e,t){super(e,"in",t),this.keys=xA("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class X4 extends In{constructor(e,t){super(e,"not-in",t),this.keys=xA("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function xA(n,e){return(e.arrayValue?.values||[]).map((t=>Le.fromName(t.referenceValue)))}class J4 extends In{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return jv(t)&&fh(t.arrayValue,this.value)}}class Z4 extends In{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&fh(this.value.arrayValue,t)}}class e3 extends In{constructor(e,t){super(e,"not-in",t)}matches(e){if(fh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!fh(this.value.arrayValue,t)}}class t3 extends In{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!jv(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>fh(this.value.arrayValue,i)))}}class n3{constructor(e,t=null,i=[],s=[],o=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=s,this.limit=o,this.startAt=u,this.endAt=h,this.Te=null}}function H1(n,e=null,t=[],i=[],s=null,o=null,u=null){return new n3(n,e,t,i,s,o,u)}function qv(n){const e=Ge(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>A_(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(o){return o.field.canonicalString()+o.dir})(i))).join(","),Wp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>_u(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>_u(i))).join(",")),e.Te=t}return e.Te}function $v(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!K4(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!NA(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!B1(n.startAt,e.startAt)&&B1(n.endAt,e.endAt)}function I_(n){return Le.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class Jp{constructor(e,t=null,i=[],s=[],o=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=s,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function i3(n,e,t,i,s,o,u,h){return new Jp(n,e,t,i,s,o,u,h)}function Gv(n){return new Jp(n)}function j1(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function r3(n){return n.collectionGroup!==null}function Qc(n){const e=Ge(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new On(Gn.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((d=>{d.isInequality()&&(h=h.add(d.field))}))})),h})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new up(o,i))})),t.has(Gn.keyField().canonicalString())||e.Ie.push(new up(Gn.keyField(),i))}return e.Ie}function Yr(n){const e=Ge(n);return e.Ee||(e.Ee=s3(e,Qc(n))),e.Ee}function s3(n,e){if(n.limitType==="F")return H1(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((s=>{const o=s.dir==="desc"?"asc":"desc";return new up(s.field,o)}));const t=n.endAt?new lp(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new lp(n.startAt.position,n.startAt.inclusive):null;return H1(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function O_(n,e,t){return new Jp(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Zp(n,e){return $v(Yr(n),Yr(e))&&n.limitType===e.limitType}function PA(n){return`${qv(Yr(n))}|lt:${n.limitType}`}function Wl(n){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((s=>MA(s))).join(", ")}]`),Wp(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((s=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(s))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((s=>_u(s))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((s=>_u(s))).join(",")),`Target(${i})`})(Yr(n))}; limitType=${n.limitType})`}function em(n,e){return e.isFoundDocument()&&(function(i,s){const o=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Le.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)})(n,e)&&(function(i,s){for(const o of Qc(i))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(i,s){for(const o of i.filters)if(!o.matches(s))return!1;return!0})(n,e)&&(function(i,s){return!(i.startAt&&!(function(u,h,f){const d=F1(u,h,f);return u.inclusive?d<=0:d<0})(i.startAt,Qc(i),s)||i.endAt&&!(function(u,h,f){const d=F1(u,h,f);return u.inclusive?d>=0:d>0})(i.endAt,Qc(i),s))})(n,e)}function a3(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function kA(n){return(e,t)=>{let i=!1;for(const s of Qc(n)){const o=o3(s,e,t);if(o!==0)return o;i=i||s.field.isKeyField()}return 0}}function o3(n,e,t){const i=n.field.isKeyField()?Le.comparator(e.key,t.key):(function(o,u,h){const f=u.data.field(o),d=h.data.field(o);return f!==null&&d!==null?yu(f,d):He(42886)})(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return He(19790,{direction:n.dir})}}class tl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[s,o]of i)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[t]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){oo(this.inner,((t,i)=>{for(const[s,o]of i)e(s,o)}))}isEmpty(){return vA(this.inner)}size(){return this.innerSize}}const l3=new Rn(Le.comparator);function Qs(){return l3}const LA=new Rn(Le.comparator);function Hc(...n){let e=LA;for(const t of n)e=e.insert(t.key,t);return e}function VA(n){let e=LA;return n.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function zo(){return Wc()}function UA(){return Wc()}function Wc(){return new tl((n=>n.toString()),((n,e)=>n.isEqual(e)))}const u3=new Rn(Le.comparator),c3=new On(Le.comparator);function st(...n){let e=c3;for(const t of n)e=e.add(t);return e}const h3=new On(rt);function f3(){return h3}function Kv(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sp(e)?"-0":e}}function zA(n){return{integerValue:""+n}}function d3(n,e){return z4(e)?zA(e):Kv(n,e)}class tm{constructor(){this._=void 0}}function p3(n,e,t){return n instanceof cp?(function(s,o){const u={fields:{[TA]:{stringValue:EA},[wA]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&Hv(o)&&(o=Xp(o)),o&&(u.fields[SA]=o),{mapValue:u}})(t,e):n instanceof vu?BA(n,e):n instanceof dh?HA(n,e):(function(s,o){const u=FA(s,o),h=q1(u)+q1(s.Ae);return R_(u)&&R_(s.Ae)?zA(h):Kv(s.serializer,h)})(n,e)}function m3(n,e,t){return n instanceof vu?BA(n,e):n instanceof dh?HA(n,e):t}function FA(n,e){return n instanceof hp?(function(i){return R_(i)||(function(o){return!!o&&"doubleValue"in o})(i)})(e)?e:{integerValue:0}:null}class cp extends tm{}class vu extends tm{constructor(e){super(),this.elements=e}}function BA(n,e){const t=jA(e);for(const i of n.elements)t.some((s=>ns(s,i)))||t.push(i);return{arrayValue:{values:t}}}class dh extends tm{constructor(e){super(),this.elements=e}}function HA(n,e){let t=jA(e);for(const i of n.elements)t=t.filter((s=>!ns(s,i)));return{arrayValue:{values:t}}}class hp extends tm{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function q1(n){return dn(n.integerValue||n.doubleValue)}function jA(n){return jv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class g3{constructor(e,t){this.field=e,this.transform=t}}function y3(n,e){return n.field.isEqual(e.field)&&(function(i,s){return i instanceof vu&&s instanceof vu||i instanceof dh&&s instanceof dh?gu(i.elements,s.elements,ns):i instanceof hp&&s instanceof hp?ns(i.Ae,s.Ae):i instanceof cp&&s instanceof cp})(n.transform,e.transform)}class _3{constructor(e,t){this.version=e,this.transformResults=t}}class Qr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Qr}static exists(e){return new Qr(void 0,e)}static updateTime(e){return new Qr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class nm{}function qA(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new GA(n.key,Qr.none()):new Nh(n.key,n.data,Qr.none());{const t=n.data,i=wi.empty();let s=new On(Gn.comparator);for(let o of e.fields)if(!s.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?i.delete(o):i.set(o,u),s=s.add(o)}return new lo(n.key,i,new zi(s.toArray()),Qr.none())}}function v3(n,e,t){n instanceof Nh?(function(s,o,u){const h=s.value.clone(),f=G1(s.fieldTransforms,o,u.transformResults);h.setAll(f),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(n,e,t):n instanceof lo?(function(s,o,u){if(!Vd(s.precondition,o))return void o.convertToUnknownDocument(u.version);const h=G1(s.fieldTransforms,o,u.transformResults),f=o.data;f.setAll($A(s)),f.setAll(h),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(n,e,t):(function(s,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function Xc(n,e,t,i){return n instanceof Nh?(function(o,u,h,f){if(!Vd(o.precondition,u))return h;const d=o.value.clone(),y=K1(o.fieldTransforms,f,u);return d.setAll(y),u.convertToFoundDocument(u.version,d).setHasLocalMutations(),null})(n,e,t,i):n instanceof lo?(function(o,u,h,f){if(!Vd(o.precondition,u))return h;const d=K1(o.fieldTransforms,f,u),y=u.data;return y.setAll($A(o)),y.setAll(d),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((_=>_.field)))})(n,e,t,i):(function(o,u,h){return Vd(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(n,e,t)}function b3(n,e){let t=null;for(const i of n.fieldTransforms){const s=e.data.field(i.field),o=FA(i.transform,s||null);o!=null&&(t===null&&(t=wi.empty()),t.set(i.field,o))}return t||null}function $1(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&gu(i,s,((o,u)=>y3(o,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Nh extends nm{constructor(e,t,i,s=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class lo extends nm{constructor(e,t,i,s,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function $A(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}})),e}function G1(n,e,t){const i=new Map;Ct(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let s=0;s<t.length;s++){const o=n[s],u=o.transform,h=e.data.field(o.field);i.set(o.field,m3(u,h,t[s]))}return i}function K1(n,e,t){const i=new Map;for(const s of n){const o=s.transform,u=t.data.field(s.field);i.set(s.field,p3(o,u,e))}return i}class GA extends nm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class E3 extends nm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class T3{constructor(e,t,i,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&v3(o,e,i[s])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Xc(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Xc(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=UA();return this.mutations.forEach((s=>{const o=e.get(s.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=t.has(s.key)?null:h;const f=qA(u,h);f!==null&&i.set(s.key,f),u.isValidDocument()||u.convertToNoDocument(qe.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),st())}isEqual(e){return this.batchId===e.batchId&&gu(this.mutations,e.mutations,((t,i)=>$1(t,i)))&&gu(this.baseMutations,e.baseMutations,((t,i)=>$1(t,i)))}}class Yv{constructor(e,t,i,s){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=s}static from(e,t,i){Ct(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let s=(function(){return u3})();const o=e.mutations;for(let u=0;u<o.length;u++)s=s.insert(o[u].key,i[u].version);return new Yv(e,t,i,s)}}class S3{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class w3{constructor(e,t){this.count=e,this.unchangedNames=t}}var Tn,ut;function C3(n){switch(n){case ue.OK:return He(64938);case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0;default:return He(15467,{code:n})}}function KA(n){if(n===void 0)return Ks("GRPC error has no .code"),ue.UNKNOWN;switch(n){case Tn.OK:return ue.OK;case Tn.CANCELLED:return ue.CANCELLED;case Tn.UNKNOWN:return ue.UNKNOWN;case Tn.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case Tn.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case Tn.INTERNAL:return ue.INTERNAL;case Tn.UNAVAILABLE:return ue.UNAVAILABLE;case Tn.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case Tn.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case Tn.NOT_FOUND:return ue.NOT_FOUND;case Tn.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case Tn.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case Tn.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case Tn.ABORTED:return ue.ABORTED;case Tn.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case Tn.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case Tn.DATA_LOSS:return ue.DATA_LOSS;default:return He(39323,{code:n})}}(ut=Tn||(Tn={}))[ut.OK=0]="OK",ut[ut.CANCELLED=1]="CANCELLED",ut[ut.UNKNOWN=2]="UNKNOWN",ut[ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ut[ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ut[ut.NOT_FOUND=5]="NOT_FOUND",ut[ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",ut[ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",ut[ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",ut[ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ut[ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ut[ut.ABORTED=10]="ABORTED",ut[ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",ut[ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",ut[ut.INTERNAL=13]="INTERNAL",ut[ut.UNAVAILABLE=14]="UNAVAILABLE",ut[ut.DATA_LOSS=15]="DATA_LOSS";function R3(){return new TextEncoder}const A3=new Ga([4294967295,4294967295],0);function Y1(n){const e=R3().encode(n),t=new lA;return t.update(e),new Uint8Array(t.digest())}function Q1(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ga([t,i],0),new Ga([s,o],0)]}class Qv{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new jc(`Invalid padding: ${t}`);if(i<0)throw new jc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new jc(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new jc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Ga.fromNumber(this.ge)}ye(e,t,i){let s=e.add(t.multiply(Ga.fromNumber(i)));return s.compare(A3)===1&&(s=new Ga([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Y1(e),[i,s]=Q1(t);for(let o=0;o<this.hashCount;o++){const u=this.ye(i,s,o);if(!this.we(u))return!1}return!0}static create(e,t,i){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new Qv(o,s,t);return i.forEach((h=>u.insert(h))),u}insert(e){if(this.ge===0)return;const t=Y1(e),[i,s]=Q1(t);for(let o=0;o<this.hashCount;o++){const u=this.ye(i,s,o);this.Se(u)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class jc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class im{constructor(e,t,i,s,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const s=new Map;return s.set(e,Mh.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new im(qe.min(),s,new Rn(rt),Qs(),st())}}class Mh{constructor(e,t,i,s,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Mh(i,t,st(),st(),st())}}class Ud{constructor(e,t,i,s){this.be=e,this.removedTargetIds=t,this.key=i,this.De=s}}class YA{constructor(e,t){this.targetId=e,this.Ce=t}}class QA{constructor(e,t,i=Yn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=s}}class W1{constructor(){this.ve=0,this.Fe=X1(),this.Me=Yn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=st(),t=st(),i=st();return this.Fe.forEach(((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:i=i.add(s);break;default:He(38017,{changeType:o})}})),new Mh(this.Me,this.xe,e,t,i)}qe(){this.Oe=!1,this.Fe=X1()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ct(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class I3{constructor(e){this.Ge=e,this.ze=new Map,this.je=Qs(),this.Je=md(),this.He=md(),this.Ye=new Rn(rt)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:He(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,s)=>{this.rt(s)&&t(s)}))}st(e){const t=e.targetId,i=e.Ce.count,s=this.ot(t);if(s){const o=s.target;if(I_(o))if(i===0){const u=new Le(o.path);this.et(t,u,ei.newNoDocument(u,qe.min()))}else Ct(i===1,20013,{expectedCount:i});else{const u=this._t(t);if(u!==i){const h=this.ut(e),f=h?this.ct(h,e,u):1;if(f!==0){this.it(t);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,d)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:o=0}=t;let u,h;try{u=Za(i).toUint8Array()}catch(f){if(f instanceof bA)return mu("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new Qv(u,s,o)}catch(f){return mu(f instanceof jc?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let s=0;return i.forEach((o=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.et(t,o,null),s++)})),s}Tt(e){const t=new Map;this.ze.forEach(((o,u)=>{const h=this.ot(u);if(h){if(o.current&&I_(h.target)){const f=new Le(h.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,ei.newNoDocument(f,e))}o.Be&&(t.set(u,o.ke()),o.qe())}}));let i=st();this.He.forEach(((o,u)=>{let h=!0;u.forEachWhile((f=>{const d=this.ot(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(o))})),this.je.forEach(((o,u)=>u.setReadTime(e)));const s=new im(e,t,this.Ye,this.je,i);return this.je=Qs(),this.Je=md(),this.He=md(),this.Ye=new Rn(rt),s}Xe(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,i),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.Qe(t,1):s.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new W1,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new On(rt),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new On(rt),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Se("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new W1),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function md(){return new Rn(Le.comparator)}function X1(){return new Rn(Le.comparator)}const O3={asc:"ASCENDING",desc:"DESCENDING"},D3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},N3={and:"AND",or:"OR"};class M3{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function D_(n,e){return n.useProto3Json||Wp(e)?e:{value:e}}function fp(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function WA(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function x3(n,e){return fp(n,e.toTimestamp())}function Wr(n){return Ct(!!n,49232),qe.fromTimestamp((function(t){const i=Ja(t);return new jt(i.seconds,i.nanos)})(n))}function Wv(n,e){return N_(n,e).canonicalString()}function N_(n,e){const t=(function(s){return new Ht(["projects",s.projectId,"databases",s.database])})(n).child("documents");return e===void 0?t:t.child(e)}function XA(n){const e=Ht.fromString(n);return Ct(nI(e),10190,{key:e.toString()}),e}function M_(n,e){return Wv(n.databaseId,e.path)}function Ly(n,e){const t=XA(e);if(t.get(1)!==n.databaseId.projectId)throw new Oe(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Oe(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Le(ZA(t))}function JA(n,e){return Wv(n.databaseId,e)}function P3(n){const e=XA(n);return e.length===4?Ht.emptyPath():ZA(e)}function x_(n){return new Ht(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function ZA(n){return Ct(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function J1(n,e,t){return{name:M_(n,e),fields:t.value.mapValue.fields}}function k3(n,e){let t;if("targetChange"in e){e.targetChange;const i=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:He(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=(function(d,y){return d.useProto3Json?(Ct(y===void 0||typeof y=="string",58123),Yn.fromBase64String(y||"")):(Ct(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Yn.fromUint8Array(y||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(d){const y=d.code===void 0?ue.UNKNOWN:KA(d.code);return new Oe(y,d.message||"")})(u);t=new QA(i,s,o,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=Ly(n,i.document.name),o=Wr(i.document.updateTime),u=i.document.createTime?Wr(i.document.createTime):qe.min(),h=new wi({mapValue:{fields:i.document.fields}}),f=ei.newFoundDocument(s,o,u,h),d=i.targetIds||[],y=i.removedTargetIds||[];t=new Ud(d,y,f.key,f)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=Ly(n,i.document),o=i.readTime?Wr(i.readTime):qe.min(),u=ei.newNoDocument(s,o),h=i.removedTargetIds||[];t=new Ud([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=Ly(n,i.document),o=i.removedTargetIds||[];t=new Ud([],o,s,null)}else{if(!("filter"in e))return He(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:o}=i,u=new w3(s,o),h=i.targetId;t=new YA(h,u)}}return t}function L3(n,e){let t;if(e instanceof Nh)t={update:J1(n,e.key,e.value)};else if(e instanceof GA)t={delete:M_(n,e.key)};else if(e instanceof lo)t={update:J1(n,e.key,e.data),updateMask:$3(e.fieldMask)};else{if(!(e instanceof E3))return He(16599,{Vt:e.type});t={verify:M_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(o,u){const h=u.transform;if(h instanceof cp)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof vu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof dh)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof hp)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw He(20930,{transform:u.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(s,o){return o.updateTime!==void 0?{updateTime:x3(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:He(27497)})(n,e.precondition)),t}function V3(n,e){return n&&n.length>0?(Ct(e!==void 0,14353),n.map((t=>(function(s,o){let u=s.updateTime?Wr(s.updateTime):Wr(o);return u.isEqual(qe.min())&&(u=Wr(o)),new _3(u,s.transformResults||[])})(t,e)))):[]}function U3(n,e){return{documents:[JA(n,e.path)]}}function z3(n,e){const t={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=JA(n,s);const o=(function(d){if(d.length!==0)return tI(is.create(d,"and"))})(e.filters);o&&(t.structuredQuery.where=o);const u=(function(d){if(d.length!==0)return d.map((y=>(function(E){return{field:Xl(E.field),direction:H3(E.dir)}})(y)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=D_(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:t,parent:s}}function F3(n){let e=P3(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let s=null;if(i>0){Ct(i===1,65062);const y=t.from[0];y.allDescendants?s=y.collectionId:e=e.child(y.collectionId)}let o=[];t.where&&(o=(function(_){const E=eI(_);return E instanceof is&&DA(E)?E.getFilters():[E]})(t.where));let u=[];t.orderBy&&(u=(function(_){return _.map((E=>(function(I){return new up(Jl(I.field),(function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(I.direction))})(E)))})(t.orderBy));let h=null;t.limit&&(h=(function(_){let E;return E=typeof _=="object"?_.value:_,Wp(E)?null:E})(t.limit));let f=null;t.startAt&&(f=(function(_){const E=!!_.before,w=_.values||[];return new lp(w,E)})(t.startAt));let d=null;return t.endAt&&(d=(function(_){const E=!_.before,w=_.values||[];return new lp(w,E)})(t.endAt)),i3(e,s,u,o,h,"F",f,d)}function B3(n,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return He(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function eI(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Jl(t.unaryFilter.field);return In.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Jl(t.unaryFilter.field);return In.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Jl(t.unaryFilter.field);return In.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Jl(t.unaryFilter.field);return In.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return He(61313);default:return He(60726)}})(n):n.fieldFilter!==void 0?(function(t){return In.create(Jl(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return He(58110);default:return He(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return is.create(t.compositeFilter.filters.map((i=>eI(i))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return He(1026)}})(t.compositeFilter.op))})(n):He(30097,{filter:n})}function H3(n){return O3[n]}function j3(n){return D3[n]}function q3(n){return N3[n]}function Xl(n){return{fieldPath:n.canonicalString()}}function Jl(n){return Gn.fromServerFormat(n.fieldPath)}function tI(n){return n instanceof In?(function(t){if(t.op==="=="){if(z1(t.value))return{unaryFilter:{field:Xl(t.field),op:"IS_NAN"}};if(U1(t.value))return{unaryFilter:{field:Xl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(z1(t.value))return{unaryFilter:{field:Xl(t.field),op:"IS_NOT_NAN"}};if(U1(t.value))return{unaryFilter:{field:Xl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xl(t.field),op:j3(t.op),value:t.value}}})(n):n instanceof is?(function(t){const i=t.getFilters().map((s=>tI(s)));return i.length===1?i[0]:{compositeFilter:{op:q3(t.op),filters:i}}})(n):He(54877,{filter:n})}function $3(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function nI(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class ja{constructor(e,t,i,s,o=qe.min(),u=qe.min(),h=Yn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new ja(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ja(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ja(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ja(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class G3{constructor(e){this.yt=e}}function K3(n){const e=F3({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?O_(e,e.limit,"L"):e}class Y3{constructor(){this.Cn=new Q3}addToCollectionParentIndex(e,t){return this.Cn.add(t),le.resolve()}getCollectionParents(e,t){return le.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return le.resolve()}deleteFieldIndex(e,t){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,t){return le.resolve()}getDocumentsMatchingTarget(e,t){return le.resolve(null)}getIndexType(e,t){return le.resolve(0)}getFieldIndexes(e,t){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,t){return le.resolve(Xa.min())}getMinOffsetFromCollectionGroup(e,t){return le.resolve(Xa.min())}updateCollectionGroup(e,t,i){return le.resolve()}updateIndexEntries(e,t){return le.resolve()}}class Q3{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t]||new On(Ht.comparator),o=!s.has(i);return this.index[t]=s.add(i),o}has(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t];return s&&s.has(i)}getEntries(e){return(this.index[e]||new On(Ht.comparator)).toArray()}}const Z1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},iI=41943040;class Si{static withCacheSize(e){return new Si(e,Si.DEFAULT_COLLECTION_PERCENTILE,Si.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}Si.DEFAULT_COLLECTION_PERCENTILE=10,Si.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Si.DEFAULT=new Si(iI,Si.DEFAULT_COLLECTION_PERCENTILE,Si.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Si.DISABLED=new Si(-1,0,0);class bu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new bu(0)}static cr(){return new bu(-1)}}const ew="LruGarbageCollector",W3=1048576;function tw([n,e],[t,i]){const s=rt(n,t);return s===0?rt(e,i):s}class X3{constructor(e){this.Ir=e,this.buffer=new On(tw),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();tw(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class J3{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Se(ew,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Du(t)?Se(ew,"Ignoring IndexedDB error during garbage collection: ",t):await Ou(t)}await this.Vr(3e5)}))}}class Z3{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return le.resolve(Qp.ce);const i=new X3(t);return this.mr.forEachTarget(e,(s=>i.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>i.Ar(s))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.mr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Se("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(Z1)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(Se("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Z1):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let i,s,o,u,h,f,d;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(Se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),s=this.params.maximumSequenceNumbersToCollect):s=_,u=Date.now(),this.nthSequenceNumber(e,s)))).next((_=>(i=_,h=Date.now(),this.removeTargets(e,i,t)))).next((_=>(o=_,f=Date.now(),this.removeOrphanedDocuments(e,i)))).next((_=>(d=Date.now(),Ql()<=tt.DEBUG&&Se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${s} in `+(h-u)+`ms
	Removed ${o} targets in `+(f-h)+`ms
	Removed ${_} documents in `+(d-f)+`ms
Total Duration: ${d-y}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:_}))))}}function e6(n,e){return new Z3(n,e)}class t6{constructor(){this.changes=new tl((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ei.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?le.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class n6{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class i6{constructor(e,t,i,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(i=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(i!==null&&Xc(i.mutation,s,zi.empty(),jt.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,st()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=st()){const s=zo();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,i).next((o=>{let u=Hc();return o.forEach(((h,f)=>{u=u.insert(h,f.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const i=zo();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,st())))}populateOverlays(e,t,i){const s=[];return i.forEach((o=>{t.has(o)||s.push(o)})),this.documentOverlayCache.getOverlays(e,s).next((o=>{o.forEach(((u,h)=>{t.set(u,h)}))}))}computeViews(e,t,i,s){let o=Qs();const u=Wc(),h=(function(){return Wc()})();return t.forEach(((f,d)=>{const y=i.get(d.key);s.has(d.key)&&(y===void 0||y.mutation instanceof lo)?o=o.insert(d.key,d):y!==void 0?(u.set(d.key,y.mutation.getFieldMask()),Xc(y.mutation,d,y.mutation.getFieldMask(),jt.now())):u.set(d.key,zi.empty())})),this.recalculateAndSaveOverlays(e,o).next((f=>(f.forEach(((d,y)=>u.set(d,y))),t.forEach(((d,y)=>h.set(d,new n6(y,u.get(d)??null)))),h)))}recalculateAndSaveOverlays(e,t){const i=Wc();let s=new Rn(((u,h)=>u-h)),o=st();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const h of u)h.keys().forEach((f=>{const d=t.get(f);if(d===null)return;let y=i.get(f)||zi.empty();y=h.applyToLocalView(d,y),i.set(f,y);const _=(s.get(h.batchId)||st()).add(f);s=s.insert(h.batchId,_)}))})).next((()=>{const u=[],h=s.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),d=f.key,y=f.value,_=UA();y.forEach((E=>{if(!o.has(E)){const w=qA(t.get(E),i.get(E));w!==null&&_.set(E,w),o=o.add(E)}})),u.push(this.documentOverlayCache.saveOverlays(e,d,_))}return le.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,s){return(function(u){return Le.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):r3(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,s):this.getDocumentsMatchingCollectionQuery(e,t,i,s)}getNextDocuments(e,t,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,s).next((o=>{const u=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,s-o.size):le.resolve(zo());let h=uh,f=o;return u.next((d=>le.forEach(d,((y,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),o.get(y)?le.resolve():this.remoteDocumentCache.getEntry(e,y).next((E=>{f=f.insert(y,E)}))))).next((()=>this.populateOverlays(e,d,o))).next((()=>this.computeViews(e,f,d,st()))).next((y=>({batchId:h,changes:VA(y)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Le(t)).next((i=>{let s=Hc();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,s){const o=t.collectionGroup;let u=Hc();return this.indexManager.getCollectionParents(e,o).next((h=>le.forEach(h,(f=>{const d=(function(_,E){return new Jp(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(t,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,i,s).next((y=>{y.forEach(((_,E)=>{u=u.insert(_,E)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,i,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,o,s)))).next((u=>{o.forEach(((f,d)=>{const y=d.getKey();u.get(y)===null&&(u=u.insert(y,ei.newInvalidDocument(y)))}));let h=Hc();return u.forEach(((f,d)=>{const y=o.get(f);y!==void 0&&Xc(y.mutation,d,zi.empty(),jt.now()),em(t,d)&&(h=h.insert(f,d))})),h}))}}class r6{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return le.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:Wr(s.createTime)}})(t)),le.resolve()}getNamedQuery(e,t){return le.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(s){return{name:s.name,query:K3(s.bundledQuery),readTime:Wr(s.readTime)}})(t)),le.resolve()}}class s6{constructor(){this.overlays=new Rn(Le.comparator),this.qr=new Map}getOverlay(e,t){return le.resolve(this.overlays.get(t))}getOverlays(e,t){const i=zo();return le.forEach(t,(s=>this.getOverlay(e,s).next((o=>{o!==null&&i.set(s,o)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((s,o)=>{this.St(e,t,o)})),le.resolve()}removeOverlaysForBatchId(e,t,i){const s=this.qr.get(i);return s!==void 0&&(s.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(i)),le.resolve()}getOverlaysForCollection(e,t,i){const s=zo(),o=t.length+1,u=new Le(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,d=f.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===o&&f.largestBatchId>i&&s.set(f.getKey(),f)}return le.resolve(s)}getOverlaysForCollectionGroup(e,t,i,s){let o=new Rn(((d,y)=>d-y));const u=this.overlays.getIterator();for(;u.hasNext();){const d=u.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>i){let y=o.get(d.largestBatchId);y===null&&(y=zo(),o=o.insert(d.largestBatchId,y)),y.set(d.getKey(),d)}}const h=zo(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((d,y)=>h.set(d,y))),!(h.size()>=s)););return le.resolve(h)}St(e,t,i){const s=this.overlays.get(i.key);if(s!==null){const u=this.qr.get(s.largestBatchId).delete(i.key);this.qr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new S3(t,i));let o=this.qr.get(t);o===void 0&&(o=st(),this.qr.set(t,o)),this.qr.set(t,o.add(i.key))}}class a6{constructor(){this.sessionToken=Yn.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,le.resolve()}}class Xv{constructor(){this.Qr=new On(Ln.$r),this.Ur=new On(Ln.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const i=new Ln(e,t);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Gr(new Ln(e,t))}zr(e,t){e.forEach((i=>this.removeReference(i,t)))}jr(e){const t=new Le(new Ht([])),i=new Ln(t,e),s=new Ln(t,e+1),o=[];return this.Ur.forEachInRange([i,s],(u=>{this.Gr(u),o.push(u.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Le(new Ht([])),i=new Ln(t,e),s=new Ln(t,e+1);let o=st();return this.Ur.forEachInRange([i,s],(u=>{o=o.add(u.key)})),o}containsKey(e){const t=new Ln(e,0),i=this.Qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Ln{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Le.comparator(e.key,t.key)||rt(e.Yr,t.Yr)}static Kr(e,t){return rt(e.Yr,t.Yr)||Le.comparator(e.key,t.key)}}class o6{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new On(Ln.$r)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,s){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new T3(o,t,i,s);this.mutationQueue.push(u);for(const h of s)this.Zr=this.Zr.add(new Ln(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return le.resolve(u)}lookupMutationBatch(e,t){return le.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,s=this.ei(i),o=s<0?0:s;return le.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?Bv:this.tr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Ln(t,0),s=new Ln(t,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([i,s],(u=>{const h=this.Xr(u.Yr);o.push(h)})),le.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new On(rt);return t.forEach((s=>{const o=new Ln(s,0),u=new Ln(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,u],(h=>{i=i.add(h.Yr)}))})),le.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,s=i.length+1;let o=i;Le.isDocumentKey(o)||(o=o.child(""));const u=new Ln(new Le(o),0);let h=new On(rt);return this.Zr.forEachWhile((f=>{const d=f.key.path;return!!i.isPrefixOf(d)&&(d.length===s&&(h=h.add(f.Yr)),!0)}),u),le.resolve(this.ti(h))}ti(e){const t=[];return e.forEach((i=>{const s=this.Xr(i);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){Ct(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return le.forEach(t.mutations,(s=>{const o=new Ln(s.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,t){const i=new Ln(t,0),s=this.Zr.firstAfterOrEqual(i);return le.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class l6{constructor(e){this.ri=e,this.docs=(function(){return new Rn(Le.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,s=this.docs.get(i),o=s?s.size:0,u=this.ri(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return le.resolve(i?i.document.mutableCopy():ei.newInvalidDocument(t))}getEntries(e,t){let i=Qs();return t.forEach((s=>{const o=this.docs.get(s);i=i.insert(s,o?o.document.mutableCopy():ei.newInvalidDocument(s))})),le.resolve(i)}getDocumentsMatchingQuery(e,t,i,s){let o=Qs();const u=t.path,h=new Le(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:d,value:{document:y}}=f.getNext();if(!u.isPrefixOf(d.path))break;d.path.length>u.length+1||k4(P4(y),i)<=0||(s.has(y.key)||em(t,y))&&(o=o.insert(y.key,y.mutableCopy()))}return le.resolve(o)}getAllFromCollectionGroup(e,t,i,s){He(9500)}ii(e,t){return le.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new u6(this)}getSize(e){return le.resolve(this.size)}}class u6 extends t6{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,s)=>{s.isValidDocument()?t.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(i)})),le.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class c6{constructor(e){this.persistence=e,this.si=new tl((t=>qv(t)),$v),this.lastRemoteSnapshotVersion=qe.min(),this.highestTargetId=0,this.oi=0,this._i=new Xv,this.targetCount=0,this.ai=bu.ur()}forEachTarget(e,t){return this.si.forEach(((i,s)=>t(s))),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.oi&&(this.oi=t),le.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new bu(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,le.resolve()}updateTargetData(e,t){return this.Pr(t),le.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,t,i){let s=0;const o=[];return this.si.forEach(((u,h)=>{h.sequenceNumber<=t&&i.get(h.targetId)===null&&(this.si.delete(u),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),s++)})),le.waitFor(o).next((()=>s))}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,t){const i=this.si.get(t)||null;return le.resolve(i)}addMatchingKeys(e,t,i){return this._i.Wr(t,i),le.resolve()}removeMatchingKeys(e,t,i){this._i.zr(t,i);const s=this.persistence.referenceDelegate,o=[];return s&&t.forEach((u=>{o.push(s.markPotentiallyOrphaned(e,u))})),le.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),le.resolve()}getMatchingKeysForTargetId(e,t){const i=this._i.Hr(t);return le.resolve(i)}containsKey(e,t){return le.resolve(this._i.containsKey(t))}}class rI{constructor(e,t){this.ui={},this.overlays={},this.ci=new Qp(0),this.li=!1,this.li=!0,this.hi=new a6,this.referenceDelegate=e(this),this.Pi=new c6(this),this.indexManager=new Y3,this.remoteDocumentCache=(function(s){return new l6(s)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new G3(t),this.Ii=new r6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new s6,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ui[e.toKey()];return i||(i=new o6(t,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,i){Se("MemoryPersistence","Starting transaction:",e);const s=new h6(this.ci.next());return this.referenceDelegate.Ei(),i(s).next((o=>this.referenceDelegate.di(s).next((()=>o)))).toPromise().then((o=>(s.raiseOnCommittedEvent(),o)))}Ai(e,t){return le.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,t))))}}class h6 extends V4{constructor(e){super(),this.currentSequenceNumber=e}}class Jv{constructor(e){this.persistence=e,this.Ri=new Xv,this.Vi=null}static mi(e){return new Jv(e)}get fi(){if(this.Vi)return this.Vi;throw He(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.fi.delete(i.toString()),le.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.fi.add(i.toString()),le.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),le.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((s=>this.fi.add(s.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((o=>this.fi.add(o.toString())))})).next((()=>i.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.fi,(i=>{const s=Le.fromPath(i);return this.gi(e,s).next((o=>{o||t.removeEntry(s,qe.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((i=>{i?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return le.or([()=>le.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class dp{constructor(e,t){this.persistence=e,this.pi=new tl((i=>F4(i.path)),((i,s)=>i.isEqual(s))),this.garbageCollector=e6(this,t)}static mi(e,t){return new dp(e,t)}Ei(){}di(e){return le.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((s=>i+s))))}wr(e){let t=0;return this.pr(e,(i=>{t++})).next((()=>t))}pr(e,t){return le.forEach(this.pi,((i,s)=>this.br(e,i,s).next((o=>o?le.resolve():t(s)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ii(e,(u=>this.br(e,u,t).next((h=>{h||(i++,o.removeEntry(u,qe.min()))})))).next((()=>o.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),le.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),le.resolve()}removeReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),le.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=kd(e.data.value)),t}br(e,t,i){return le.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.pi.get(t);return le.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Zv{constructor(e,t,i,s){this.targetId=e,this.fromCache=t,this.Es=i,this.ds=s}static As(e,t){let i=st(),s=st();for(const o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new Zv(e,t.fromCache,i,s)}}class f6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class d6{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return tk()?8:U4(ri())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,s){const o={result:null};return this.ys(e,t).next((u=>{o.result=u})).next((()=>{if(!o.result)return this.ws(e,t,s,i).next((u=>{o.result=u}))})).next((()=>{if(o.result)return;const u=new f6;return this.Ss(e,t,u).next((h=>{if(o.result=h,this.Vs)return this.bs(e,t,u,h.size)}))})).next((()=>o.result))}bs(e,t,i,s){return i.documentReadCount<this.fs?(Ql()<=tt.DEBUG&&Se("QueryEngine","SDK will not create cache indexes for query:",Wl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),le.resolve()):(Ql()<=tt.DEBUG&&Se("QueryEngine","Query:",Wl(t),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.gs*s?(Ql()<=tt.DEBUG&&Se("QueryEngine","The SDK decides to create cache indexes for query:",Wl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yr(t))):le.resolve())}ys(e,t){if(j1(t))return le.resolve(null);let i=Yr(t);return this.indexManager.getIndexType(e,i).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=O_(t,null,"F"),i=Yr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((o=>{const u=st(...o);return this.ps.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,i).next((f=>{const d=this.Ds(t,h);return this.Cs(t,d,u,f.readTime)?this.ys(e,O_(t,null,"F")):this.vs(e,d,t,f)}))))})))))}ws(e,t,i,s){return j1(t)||s.isEqual(qe.min())?le.resolve(null):this.ps.getDocuments(e,i).next((o=>{const u=this.Ds(t,o);return this.Cs(t,u,i,s)?le.resolve(null):(Ql()<=tt.DEBUG&&Se("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Wl(t)),this.vs(e,u,t,x4(s,uh)).next((h=>h)))}))}Ds(e,t){let i=new On(kA(e));return t.forEach(((s,o)=>{em(e,o)&&(i=i.add(o))})),i}Cs(e,t,i,s){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Ss(e,t,i){return Ql()<=tt.DEBUG&&Se("QueryEngine","Using full collection scan to execute query:",Wl(t)),this.ps.getDocumentsMatchingQuery(e,t,Xa.min(),i)}vs(e,t,i,s){return this.ps.getDocumentsMatchingQuery(e,i,s).next((o=>(t.forEach((u=>{o=o.insert(u.key,u)})),o)))}}const e0="LocalStore",p6=3e8;class m6{constructor(e,t,i,s){this.persistence=e,this.Fs=t,this.serializer=s,this.Ms=new Rn(rt),this.xs=new tl((o=>qv(o)),$v),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new i6(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function g6(n,e,t,i){return new m6(n,e,t,i)}async function sI(n,e){const t=Ge(n);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let s;return t.mutationQueue.getAllMutationBatches(i).next((o=>(s=o,t.Bs(e),t.mutationQueue.getAllMutationBatches(i)))).next((o=>{const u=[],h=[];let f=st();for(const d of s){u.push(d.batchId);for(const y of d.mutations)f=f.add(y.key)}for(const d of o){h.push(d.batchId);for(const y of d.mutations)f=f.add(y.key)}return t.localDocuments.getDocuments(i,f).next((d=>({Ls:d,removedBatchIds:u,addedBatchIds:h})))}))}))}function y6(n,e){const t=Ge(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const s=e.batch.keys(),o=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,f,d,y){const _=d.batch,E=_.keys();let w=le.resolve();return E.forEach((I=>{w=w.next((()=>y.getEntry(f,I))).next((O=>{const A=d.docVersions.get(I);Ct(A!==null,48541),O.version.compareTo(A)<0&&(_.applyToRemoteDocument(O,d),O.isValidDocument()&&(O.setReadTime(d.commitVersion),y.addEntry(O)))}))})),w.next((()=>h.mutationQueue.removeMutationBatch(f,_)))})(t,i,e,o).next((()=>o.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let f=st();for(let d=0;d<h.mutationResults.length;++d)h.mutationResults[d].transformResults.length>0&&(f=f.add(h.batch.mutations[d].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(i,s)))}))}function aI(n){const e=Ge(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function _6(n,e){const t=Ge(n),i=e.snapshotVersion;let s=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});s=t.Ms;const h=[];e.targetChanges.forEach(((y,_)=>{const E=s.get(_);if(!E)return;h.push(t.Pi.removeMatchingKeys(o,y.removedDocuments,_).next((()=>t.Pi.addMatchingKeys(o,y.addedDocuments,_))));let w=E.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(_)!==null?w=w.withResumeToken(Yn.EMPTY_BYTE_STRING,qe.min()).withLastLimboFreeSnapshotVersion(qe.min()):y.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(y.resumeToken,i)),s=s.insert(_,w),(function(O,A,U){return O.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=p6?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0})(E,w,y)&&h.push(t.Pi.updateTargetData(o,w))}));let f=Qs(),d=st();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,y))})),h.push(v6(o,u,e.documentUpdates).next((y=>{f=y.ks,d=y.qs}))),!i.isEqual(qe.min())){const y=t.Pi.getLastRemoteSnapshotVersion(o).next((_=>t.Pi.setTargetsMetadata(o,o.currentSequenceNumber,i)));h.push(y)}return le.waitFor(h).next((()=>u.apply(o))).next((()=>t.localDocuments.getLocalViewOfDocuments(o,f,d))).next((()=>f))})).then((o=>(t.Ms=s,o)))}function v6(n,e,t){let i=st(),s=st();return t.forEach((o=>i=i.add(o))),e.getEntries(n,i).next((o=>{let u=Qs();return t.forEach(((h,f)=>{const d=o.get(h);f.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(h)),f.isNoDocument()&&f.version.isEqual(qe.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):Se(e0,"Ignoring outdated watch update for ",h,". Current version:",d.version," Watch version:",f.version)})),{ks:u,qs:s}}))}function b6(n,e){const t=Ge(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=Bv),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function E6(n,e){const t=Ge(n);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let s;return t.Pi.getTargetData(i,e).next((o=>o?(s=o,le.resolve(s)):t.Pi.allocateTargetId(i).next((u=>(s=new ja(e,u,"TargetPurposeListen",i.currentSequenceNumber),t.Pi.addTargetData(i,s).next((()=>s)))))))})).then((i=>{const s=t.Ms.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(i.targetId,i),t.xs.set(e,i.targetId)),i}))}async function P_(n,e,t){const i=Ge(n),s=i.Ms.get(e),o=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",o,(u=>i.persistence.referenceDelegate.removeTarget(u,s)))}catch(u){if(!Du(u))throw u;Se(e0,`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ms=i.Ms.remove(e),i.xs.delete(s.target)}function nw(n,e,t){const i=Ge(n);let s=qe.min(),o=st();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,d,y){const _=Ge(f),E=_.xs.get(y);return E!==void 0?le.resolve(_.Ms.get(E)):_.Pi.getTargetData(d,y)})(i,u,Yr(e)).next((h=>{if(h)return s=h.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(u,h.targetId).next((f=>{o=f}))})).next((()=>i.Fs.getDocumentsMatchingQuery(u,e,t?s:qe.min(),t?o:st()))).next((h=>(T6(i,a3(e),h),{documents:h,Qs:o})))))}function T6(n,e,t){let i=n.Os.get(e)||qe.min();t.forEach(((s,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)})),n.Os.set(e,i)}class iw{constructor(){this.activeTargetIds=f3()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class S6{constructor(){this.Mo=new iw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,i){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new iw,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class w6{Oo(e){}shutdown(){}}const rw="ConnectivityMonitor";class sw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Se(rw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Se(rw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let gd=null;function k_(){return gd===null?gd=(function(){return 268435456+Math.round(2147483648*Math.random())})():gd++,"0x"+gd.toString(16)}const Vy="RestConnection",C6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class R6{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${i}/databases/${s}`,this.Wo=this.databaseId.database===ap?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Go(e,t,i,s,o){const u=k_(),h=this.zo(e,t.toUriEncodedString());Se(Vy,`Sending RPC '${e}' ${u}:`,h,i);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,s,o);const{host:d}=new URL(h),y=Js(d);return this.Jo(e,h,f,i,y).then((_=>(Se(Vy,`Received RPC '${e}' ${u}: `,_),_)),(_=>{throw mu(Vy,`RPC '${e}' ${u} failed with error: `,_,"url: ",h,"request:",i),_}))}Ho(e,t,i,s,o,u){return this.Go(e,t,i,s,o)}jo(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Iu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,o)=>e[o]=s)),i&&i.headers.forEach(((s,o)=>e[o]=s))}zo(e,t){const i=C6[e];return`${this.Uo}/v1/${t}:${i}`}terminate(){}}class A6{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Xn="WebChannelConnection";class I6 extends R6{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,s,o){const u=k_();return new Promise(((h,f)=>{const d=new uA;d.setWithCredentials(!0),d.listenOnce(cA.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case Pd.NO_ERROR:const _=d.getResponseJson();Se(Xn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_)),h(_);break;case Pd.TIMEOUT:Se(Xn,`RPC '${e}' ${u} timed out`),f(new Oe(ue.DEADLINE_EXCEEDED,"Request time out"));break;case Pd.HTTP_ERROR:const E=d.getStatus();if(Se(Xn,`RPC '${e}' ${u} failed with status:`,E,"response text:",d.getResponseText()),E>0){let w=d.getResponseJson();Array.isArray(w)&&(w=w[0]);const I=w?.error;if(I&&I.status&&I.message){const O=(function(U){const V=U.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(V)>=0?V:ue.UNKNOWN})(I.status);f(new Oe(O,I.message))}else f(new Oe(ue.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new Oe(ue.UNAVAILABLE,"Connection failed."));break;default:He(9055,{l_:e,streamId:u,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Se(Xn,`RPC '${e}' ${u} completed.`)}}));const y=JSON.stringify(s);Se(Xn,`RPC '${e}' ${u} sending request:`,s),d.send(t,"POST",y,i,15)}))}T_(e,t,i){const s=k_(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=dA(),h=fA(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(f.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,t,i),f.encodeInitMessageHeaders=!0;const y=o.join("");Se(Xn,`Creating RPC '${e}' stream ${s}: ${y}`,f);const _=u.createWebChannel(y,f);this.I_(_);let E=!1,w=!1;const I=new A6({Yo:A=>{w?Se(Xn,`Not sending because RPC '${e}' stream ${s} is closed:`,A):(E||(Se(Xn,`Opening RPC '${e}' stream ${s} transport.`),_.open(),E=!0),Se(Xn,`RPC '${e}' stream ${s} sending:`,A),_.send(A))},Zo:()=>_.close()}),O=(A,U,V)=>{A.listen(U,(z=>{try{V(z)}catch(Q){setTimeout((()=>{throw Q}),0)}}))};return O(_,Bc.EventType.OPEN,(()=>{w||(Se(Xn,`RPC '${e}' stream ${s} transport opened.`),I.o_())})),O(_,Bc.EventType.CLOSE,(()=>{w||(w=!0,Se(Xn,`RPC '${e}' stream ${s} transport closed`),I.a_(),this.E_(_))})),O(_,Bc.EventType.ERROR,(A=>{w||(w=!0,mu(Xn,`RPC '${e}' stream ${s} transport errored. Name:`,A.name,"Message:",A.message),I.a_(new Oe(ue.UNAVAILABLE,"The operation could not be completed")))})),O(_,Bc.EventType.MESSAGE,(A=>{if(!w){const U=A.data[0];Ct(!!U,16349);const V=U,z=V?.error||V[0]?.error;if(z){Se(Xn,`RPC '${e}' stream ${s} received error:`,z);const Q=z.status;let j=(function(C){const x=Tn[C];if(x!==void 0)return KA(x)})(Q),ie=z.message;j===void 0&&(j=ue.INTERNAL,ie="Unknown error status: "+Q+" with message "+z.message),w=!0,I.a_(new Oe(j,ie)),_.close()}else Se(Xn,`RPC '${e}' stream ${s} received:`,U),I.u_(U)}})),O(h,hA.STAT_EVENT,(A=>{A.stat===T_.PROXY?Se(Xn,`RPC '${e}' stream ${s} detected buffering proxy`):A.stat===T_.NOPROXY&&Se(Xn,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{I.__()}),0),I}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Uy(){return typeof document<"u"?document:null}function rm(n){return new M3(n,!0)}class oI{constructor(e,t,i=1e3,s=1.5,o=6e4){this.Mi=e,this.timerId=t,this.d_=i,this.A_=s,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-i);s>0&&Se("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const aw="PersistentStream";class lI{constructor(e,t,i,s,o,u,h,f){this.Mi=e,this.S_=i,this.b_=s,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new oI(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ue.RESOURCE_EXHAUSTED?(Ks(t.toString()),Ks("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,s])=>{this.D_===t&&this.G_(i,s)}),(i=>{e((()=>{const s=new Oe(ue.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(s)}))}))}G_(e,t){const i=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{i((()=>this.z_(s)))})),this.stream.onMessage((s=>{i((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Se(aw,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(Se(aw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class O6 extends lI{constructor(e,t,i,s,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,s,u),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=k3(this.serializer,e),i=(function(o){if(!("targetChange"in o))return qe.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?qe.min():u.readTime?Wr(u.readTime):qe.min()})(e);return this.listener.H_(t,i)}Y_(e){const t={};t.database=x_(this.serializer),t.addTarget=(function(o,u){let h;const f=u.target;if(h=I_(f)?{documents:U3(o,f)}:{query:z3(o,f).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=WA(o,u.resumeToken);const d=D_(o,u.expectedCount);d!==null&&(h.expectedCount=d)}else if(u.snapshotVersion.compareTo(qe.min())>0){h.readTime=fp(o,u.snapshotVersion.toTimestamp());const d=D_(o,u.expectedCount);d!==null&&(h.expectedCount=d)}return h})(this.serializer,e);const i=B3(this.serializer,e);i&&(t.labels=i),this.q_(t)}Z_(e){const t={};t.database=x_(this.serializer),t.removeTarget=e,this.q_(t)}}class D6 extends lI{constructor(e,t,i,s,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,s,u),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ct(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ct(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ct(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=V3(e.writeResults,e.commitTime),i=Wr(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=x_(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>L3(this.serializer,i)))};this.q_(t)}}class N6{}class M6 extends N6{constructor(e,t,i,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Oe(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Go(e,N_(t,i),s,o,u))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Oe(ue.UNKNOWN,o.toString())}))}Ho(e,t,i,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Ho(e,N_(t,i),s,u,h,o))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Oe(ue.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class x6{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ks(t),this.aa=!1):Se("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Qo="RemoteStore";class P6{constructor(e,t,i,s,o){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((u=>{i.enqueueAndForget((async()=>{nl(this)&&(Se(Qo,"Restarting streams for network reachability change."),await(async function(f){const d=Ge(f);d.Ea.add(4),await xh(d),d.Ra.set("Unknown"),d.Ea.delete(4),await sm(d)})(this))}))})),this.Ra=new x6(i,s)}}async function sm(n){if(nl(n))for(const e of n.da)await e(!0)}async function xh(n){for(const e of n.da)await e(!1)}function uI(n,e){const t=Ge(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),r0(t)?i0(t):Nu(t).O_()&&n0(t,e))}function t0(n,e){const t=Ge(n),i=Nu(t);t.Ia.delete(e),i.O_()&&cI(t,e),t.Ia.size===0&&(i.O_()?i.L_():nl(t)&&t.Ra.set("Unknown"))}function n0(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(qe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Nu(n).Y_(e)}function cI(n,e){n.Va.Ue(e),Nu(n).Z_(e)}function i0(n){n.Va=new I3({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Nu(n).start(),n.Ra.ua()}function r0(n){return nl(n)&&!Nu(n).x_()&&n.Ia.size>0}function nl(n){return Ge(n).Ea.size===0}function hI(n){n.Va=void 0}async function k6(n){n.Ra.set("Online")}async function L6(n){n.Ia.forEach(((e,t)=>{n0(n,e)}))}async function V6(n,e){hI(n),r0(n)?(n.Ra.ha(e),i0(n)):n.Ra.set("Unknown")}async function U6(n,e,t){if(n.Ra.set("Online"),e instanceof QA&&e.state===2&&e.cause)try{await(async function(s,o){const u=o.cause;for(const h of o.targetIds)s.Ia.has(h)&&(await s.remoteSyncer.rejectListen(h,u),s.Ia.delete(h),s.Va.removeTarget(h))})(n,e)}catch(i){Se(Qo,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await pp(n,i)}else if(e instanceof Ud?n.Va.Ze(e):e instanceof YA?n.Va.st(e):n.Va.tt(e),!t.isEqual(qe.min()))try{const i=await aI(n.localStore);t.compareTo(i)>=0&&await(function(o,u){const h=o.Va.Tt(u);return h.targetChanges.forEach(((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const y=o.Ia.get(d);y&&o.Ia.set(d,y.withResumeToken(f.resumeToken,u))}})),h.targetMismatches.forEach(((f,d)=>{const y=o.Ia.get(f);if(!y)return;o.Ia.set(f,y.withResumeToken(Yn.EMPTY_BYTE_STRING,y.snapshotVersion)),cI(o,f);const _=new ja(y.target,f,d,y.sequenceNumber);n0(o,_)})),o.remoteSyncer.applyRemoteEvent(h)})(n,t)}catch(i){Se(Qo,"Failed to raise snapshot:",i),await pp(n,i)}}async function pp(n,e,t){if(!Du(e))throw e;n.Ea.add(1),await xh(n),n.Ra.set("Offline"),t||(t=()=>aI(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Se(Qo,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await sm(n)}))}function fI(n,e){return e().catch((t=>pp(n,t,e)))}async function am(n){const e=Ge(n),t=to(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Bv;for(;z6(e);)try{const s=await b6(e.localStore,i);if(s===null){e.Ta.length===0&&t.L_();break}i=s.batchId,F6(e,s)}catch(s){await pp(e,s)}dI(e)&&pI(e)}function z6(n){return nl(n)&&n.Ta.length<10}function F6(n,e){n.Ta.push(e);const t=to(n);t.O_()&&t.X_&&t.ea(e.mutations)}function dI(n){return nl(n)&&!to(n).x_()&&n.Ta.length>0}function pI(n){to(n).start()}async function B6(n){to(n).ra()}async function H6(n){const e=to(n);for(const t of n.Ta)e.ea(t.mutations)}async function j6(n,e,t){const i=n.Ta.shift(),s=Yv.from(i,e,t);await fI(n,(()=>n.remoteSyncer.applySuccessfulWrite(s))),await am(n)}async function q6(n,e){e&&to(n).X_&&await(async function(i,s){if((function(u){return C3(u)&&u!==ue.ABORTED})(s.code)){const o=i.Ta.shift();to(i).B_(),await fI(i,(()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s))),await am(i)}})(n,e),dI(n)&&pI(n)}async function ow(n,e){const t=Ge(n);t.asyncQueue.verifyOperationInProgress(),Se(Qo,"RemoteStore received new credentials");const i=nl(t);t.Ea.add(3),await xh(t),i&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await sm(t)}async function $6(n,e){const t=Ge(n);e?(t.Ea.delete(2),await sm(t)):e||(t.Ea.add(2),await xh(t),t.Ra.set("Unknown"))}function Nu(n){return n.ma||(n.ma=(function(t,i,s){const o=Ge(t);return o.sa(),new O6(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(n.datastore,n.asyncQueue,{Xo:k6.bind(null,n),t_:L6.bind(null,n),r_:V6.bind(null,n),H_:U6.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),r0(n)?i0(n):n.Ra.set("Unknown")):(await n.ma.stop(),hI(n))}))),n.ma}function to(n){return n.fa||(n.fa=(function(t,i,s){const o=Ge(t);return o.sa(),new D6(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:B6.bind(null,n),r_:q6.bind(null,n),ta:H6.bind(null,n),na:j6.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await am(n)):(await n.fa.stop(),n.Ta.length>0&&(Se(Qo,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class s0{constructor(e,t,i,s,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=s,this.removalCallback=o,this.deferred=new zs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,s,o){const u=Date.now()+i,h=new s0(e,t,u,s,o);return h.start(i),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Oe(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function a0(n,e){if(Ks("AsyncQueue",`${e}: ${n}`),Du(n))return new Oe(ue.UNAVAILABLE,`${e}: ${n}`);throw n}class au{static emptySet(e){return new au(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Le.comparator(t.key,i.key):(t,i)=>Le.comparator(t.key,i.key),this.keyedMap=Hc(),this.sortedSet=new Rn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof au)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=i.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new au;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class lw{constructor(){this.ga=new Rn(Le.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):He(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class Eu{constructor(e,t,i,s,o,u,h,f,d){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(e,t,i,s,o){const u=[];return t.forEach((h=>{u.push({type:0,doc:h})})),new Eu(e,t,au.emptySet(t),u,i,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==i[s].type||!t[s].doc.isEqual(i[s].doc))return!1;return!0}}class G6{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class K6{constructor(){this.queries=uw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const s=Ge(t),o=s.queries;s.queries=uw(),o.forEach(((u,h)=>{for(const f of h.Sa)f.onError(i)}))})(this,new Oe(ue.ABORTED,"Firestore shutting down"))}}function uw(){return new tl((n=>PA(n)),Zp)}async function mI(n,e){const t=Ge(n);let i=3;const s=e.query;let o=t.queries.get(s);o?!o.ba()&&e.Da()&&(i=2):(o=new G6,i=e.Da()?0:1);try{switch(i){case 0:o.wa=await t.onListen(s,!0);break;case 1:o.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(u){const h=a0(u,`Initialization of query '${Wl(e.query)}' failed`);return void e.onError(h)}t.queries.set(s,o),o.Sa.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&o0(t)}async function gI(n,e){const t=Ge(n),i=e.query;let s=3;const o=t.queries.get(i);if(o){const u=o.Sa.indexOf(e);u>=0&&(o.Sa.splice(u,1),o.Sa.length===0?s=e.Da()?0:1:!o.ba()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function Y6(n,e){const t=Ge(n);let i=!1;for(const s of e){const o=s.query,u=t.queries.get(o);if(u){for(const h of u.Sa)h.Fa(s)&&(i=!0);u.wa=s}}i&&o0(t)}function Q6(n,e,t){const i=Ge(n),s=i.queries.get(e);if(s)for(const o of s.Sa)o.onError(t);i.queries.delete(e)}function o0(n){n.Ca.forEach((e=>{e.next()}))}var L_,cw;(cw=L_||(L_={})).Ma="default",cw.Cache="cache";class yI{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new Eu(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Eu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==L_.Cache}}class _I{constructor(e){this.key=e}}class vI{constructor(e){this.key=e}}class W6{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=st(),this.mutatedKeys=st(),this.eu=kA(e),this.tu=new au(this.eu)}get nu(){return this.Ya}ru(e,t){const i=t?t.iu:new lw,s=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,u=s,h=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((y,_)=>{const E=s.get(y),w=em(this.query,_)?_:null,I=!!E&&this.mutatedKeys.has(E.key),O=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let A=!1;E&&w?E.data.isEqual(w.data)?I!==O&&(i.track({type:3,doc:w}),A=!0):this.su(E,w)||(i.track({type:2,doc:w}),A=!0,(f&&this.eu(w,f)>0||d&&this.eu(w,d)<0)&&(h=!0)):!E&&w?(i.track({type:0,doc:w}),A=!0):E&&!w&&(i.track({type:1,doc:E}),A=!0,(f||d)&&(h=!0)),A&&(w?(u=u.add(w),o=O?o.add(y):o.delete(y)):(u=u.delete(y),o=o.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),o=o.delete(y.key),i.track({type:1,doc:y})}return{tu:u,iu:i,Cs:h,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,s){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((y,_)=>(function(w,I){const O=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return He(20277,{Rt:A})}};return O(w)-O(I)})(y.type,_.type)||this.eu(y.doc,_.doc))),this.ou(i),s=s??!1;const h=t&&!s?this._u():[],f=this.Xa.size===0&&this.current&&!s?1:0,d=f!==this.Za;return this.Za=f,u.length!==0||d?{snapshot:new Eu(this.query,e.tu,o,u,e.mutatedKeys,f===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new lw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=st(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const t=[];return e.forEach((i=>{this.Xa.has(i)||t.push(new vI(i))})),this.Xa.forEach((i=>{e.has(i)||t.push(new _I(i))})),t}cu(e){this.Ya=e.Qs,this.Xa=st();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Eu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const l0="SyncEngine";class X6{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class J6{constructor(e){this.key=e,this.hu=!1}}class Z6{constructor(e,t,i,s,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new tl((h=>PA(h)),Zp),this.Iu=new Map,this.Eu=new Set,this.du=new Rn(Le.comparator),this.Au=new Map,this.Ru=new Xv,this.Vu={},this.mu=new Map,this.fu=bu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function eU(n,e,t=!0){const i=CI(n);let s;const o=i.Tu.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.lu()):s=await bI(i,e,t,!0),s}async function tU(n,e){const t=CI(n);await bI(t,e,!0,!1)}async function bI(n,e,t,i){const s=await E6(n.localStore,Yr(e)),o=s.targetId,u=n.sharedClientState.addLocalQueryTarget(o,t);let h;return i&&(h=await nU(n,e,o,u==="current",s.resumeToken)),n.isPrimaryClient&&t&&uI(n.remoteStore,s),h}async function nU(n,e,t,i,s){n.pu=(_,E,w)=>(async function(O,A,U,V){let z=A.view.ru(U);z.Cs&&(z=await nw(O.localStore,A.query,!1).then((({documents:S})=>A.view.ru(S,z))));const Q=V&&V.targetChanges.get(A.targetId),j=V&&V.targetMismatches.get(A.targetId)!=null,ie=A.view.applyChanges(z,O.isPrimaryClient,Q,j);return fw(O,A.targetId,ie.au),ie.snapshot})(n,_,E,w);const o=await nw(n.localStore,e,!0),u=new W6(e,o.Qs),h=u.ru(o.documents),f=Mh.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",s),d=u.applyChanges(h,n.isPrimaryClient,f);fw(n,t,d.au);const y=new X6(e,t,u);return n.Tu.set(e,y),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),d.snapshot}async function iU(n,e,t){const i=Ge(n),s=i.Tu.get(e),o=i.Iu.get(s.targetId);if(o.length>1)return i.Iu.set(s.targetId,o.filter((u=>!Zp(u,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await P_(i.localStore,s.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(s.targetId),t&&t0(i.remoteStore,s.targetId),V_(i,s.targetId)})).catch(Ou)):(V_(i,s.targetId),await P_(i.localStore,s.targetId,!0))}async function rU(n,e){const t=Ge(n),i=t.Tu.get(e),s=t.Iu.get(i.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),t0(t.remoteStore,i.targetId))}async function sU(n,e,t){const i=fU(n);try{const s=await(function(u,h){const f=Ge(u),d=jt.now(),y=h.reduce(((w,I)=>w.add(I.key)),st());let _,E;return f.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let I=Qs(),O=st();return f.Ns.getEntries(w,y).next((A=>{I=A,I.forEach(((U,V)=>{V.isValidDocument()||(O=O.add(U))}))})).next((()=>f.localDocuments.getOverlayedDocuments(w,I))).next((A=>{_=A;const U=[];for(const V of h){const z=b3(V,_.get(V.key).overlayedDocument);z!=null&&U.push(new lo(V.key,z,AA(z.value.mapValue),Qr.exists(!0)))}return f.mutationQueue.addMutationBatch(w,d,U,h)})).next((A=>{E=A;const U=A.applyToLocalDocumentSet(_,O);return f.documentOverlayCache.saveOverlays(w,A.batchId,U)}))})).then((()=>({batchId:E.batchId,changes:VA(_)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),(function(u,h,f){let d=u.Vu[u.currentUser.toKey()];d||(d=new Rn(rt)),d=d.insert(h,f),u.Vu[u.currentUser.toKey()]=d})(i,s.batchId,t),await Ph(i,s.changes),await am(i.remoteStore)}catch(s){const o=a0(s,"Failed to persist write");t.reject(o)}}async function EI(n,e){const t=Ge(n);try{const i=await _6(t.localStore,e);e.targetChanges.forEach(((s,o)=>{const u=t.Au.get(o);u&&(Ct(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u.hu=!0:s.modifiedDocuments.size>0?Ct(u.hu,14607):s.removedDocuments.size>0&&(Ct(u.hu,42227),u.hu=!1))})),await Ph(t,i,e)}catch(i){await Ou(i)}}function hw(n,e,t){const i=Ge(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const s=[];i.Tu.forEach(((o,u)=>{const h=u.view.va(e);h.snapshot&&s.push(h.snapshot)})),(function(u,h){const f=Ge(u);f.onlineState=h;let d=!1;f.queries.forEach(((y,_)=>{for(const E of _.Sa)E.va(h)&&(d=!0)})),d&&o0(f)})(i.eventManager,e),s.length&&i.Pu.H_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function aU(n,e,t){const i=Ge(n);i.sharedClientState.updateQueryState(e,"rejected",t);const s=i.Au.get(e),o=s&&s.key;if(o){let u=new Rn(Le.comparator);u=u.insert(o,ei.newNoDocument(o,qe.min()));const h=st().add(o),f=new im(qe.min(),new Map,new Rn(rt),u,h);await EI(i,f),i.du=i.du.remove(o),i.Au.delete(e),u0(i)}else await P_(i.localStore,e,!1).then((()=>V_(i,e,t))).catch(Ou)}async function oU(n,e){const t=Ge(n),i=e.batch.batchId;try{const s=await y6(t.localStore,e);SI(t,i,null),TI(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Ph(t,s)}catch(s){await Ou(s)}}async function lU(n,e,t){const i=Ge(n);try{const s=await(function(u,h){const f=Ge(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let y;return f.mutationQueue.lookupMutationBatch(d,h).next((_=>(Ct(_!==null,37113),y=_.keys(),f.mutationQueue.removeMutationBatch(d,_)))).next((()=>f.mutationQueue.performConsistencyCheck(d))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(d,y,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,y))).next((()=>f.localDocuments.getDocuments(d,y)))}))})(i.localStore,e);SI(i,e,t),TI(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Ph(i,s)}catch(s){await Ou(s)}}function TI(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function SI(n,e,t){const i=Ge(n);let s=i.Vu[i.currentUser.toKey()];if(s){const o=s.get(e);o&&(t?o.reject(t):o.resolve(),s=s.remove(e)),i.Vu[i.currentUser.toKey()]=s}}function V_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Iu.get(e))n.Tu.delete(i),t&&n.Pu.yu(i,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((i=>{n.Ru.containsKey(i)||wI(n,i)}))}function wI(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(t0(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),u0(n))}function fw(n,e,t){for(const i of t)i instanceof _I?(n.Ru.addReference(i.key,e),uU(n,i)):i instanceof vI?(Se(l0,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,e),n.Ru.containsKey(i.key)||wI(n,i.key)):He(19791,{wu:i})}function uU(n,e){const t=e.key,i=t.path.canonicalString();n.du.get(t)||n.Eu.has(i)||(Se(l0,"New document in limbo: "+t),n.Eu.add(i),u0(n))}function u0(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Le(Ht.fromString(e)),i=n.fu.next();n.Au.set(i,new J6(t)),n.du=n.du.insert(t,i),uI(n.remoteStore,new ja(Yr(Gv(t.path)),i,"TargetPurposeLimboResolution",Qp.ce))}}async function Ph(n,e,t){const i=Ge(n),s=[],o=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach(((h,f)=>{u.push(i.pu(f,e,t).then((d=>{if((d||t)&&i.isPrimaryClient){const y=d?!d.fromCache:t?.targetChanges.get(f.targetId)?.current;i.sharedClientState.updateQueryState(f.targetId,y?"current":"not-current")}if(d){s.push(d);const y=Zv.As(f.targetId,d);o.push(y)}})))})),await Promise.all(u),i.Pu.H_(s),await(async function(f,d){const y=Ge(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>le.forEach(d,(E=>le.forEach(E.Es,(w=>y.persistence.referenceDelegate.addReference(_,E.targetId,w))).next((()=>le.forEach(E.ds,(w=>y.persistence.referenceDelegate.removeReference(_,E.targetId,w)))))))))}catch(_){if(!Du(_))throw _;Se(e0,"Failed to update sequence numbers: "+_)}for(const _ of d){const E=_.targetId;if(!_.fromCache){const w=y.Ms.get(E),I=w.snapshotVersion,O=w.withLastLimboFreeSnapshotVersion(I);y.Ms=y.Ms.insert(E,O)}}})(i.localStore,o))}async function cU(n,e){const t=Ge(n);if(!t.currentUser.isEqual(e)){Se(l0,"User change. New user:",e.toKey());const i=await sI(t.localStore,e);t.currentUser=e,(function(o,u){o.mu.forEach((h=>{h.forEach((f=>{f.reject(new Oe(ue.CANCELLED,u))}))})),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Ph(t,i.Ls)}}function hU(n,e){const t=Ge(n),i=t.Au.get(e);if(i&&i.hu)return st().add(i.key);{let s=st();const o=t.Iu.get(e);if(!o)return s;for(const u of o){const h=t.Tu.get(u);s=s.unionWith(h.view.nu)}return s}}function CI(n){const e=Ge(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=EI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=aU.bind(null,e),e.Pu.H_=Y6.bind(null,e.eventManager),e.Pu.yu=Q6.bind(null,e.eventManager),e}function fU(n){const e=Ge(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=oU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=lU.bind(null,e),e}class mp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=rm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return g6(this.persistence,new d6,e.initialUser,this.serializer)}Cu(e){return new rI(Jv.mi,this.serializer)}Du(e){return new S6}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mp.provider={build:()=>new mp};class dU extends mp{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ct(this.persistence.referenceDelegate instanceof dp,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new J3(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Si.withCacheSize(this.cacheSizeBytes):Si.DEFAULT;return new rI((i=>dp.mi(i,t)),this.serializer)}}class U_{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>hw(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=cU.bind(null,this.syncEngine),await $6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new K6})()}createDatastore(e){const t=rm(e.databaseInfo.databaseId),i=(function(o){return new I6(o)})(e.databaseInfo);return(function(o,u,h,f){return new M6(o,u,h,f)})(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,s,o,u,h){return new P6(i,s,o,u,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>hw(this.syncEngine,t,0)),(function(){return sw.v()?new sw:new w6})())}createSyncEngine(e,t){return(function(s,o,u,h,f,d,y){const _=new Z6(s,o,u,h,f,d);return y&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const i=Ge(t);Se(Qo,"RemoteStore shutting down."),i.Ea.add(5),await xh(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}U_.provider={build:()=>new U_};class RI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ks("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const no="FirestoreClient";class pU{constructor(e,t,i,s,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=s,this.user=Zn.UNAUTHENTICATED,this.clientId=zv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,(async u=>{Se(no,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(Se(no,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new zs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=a0(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function zy(n,e){n.asyncQueue.verifyOperationInProgress(),Se(no,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener((async s=>{i.isEqual(s)||(await sI(e.localStore,s),i=s)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function dw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await mU(n);Se(no,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((i=>ow(e.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,s)=>ow(e.remoteStore,s))),n._onlineComponents=e}async function mU(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Se(no,"Using user provided OfflineComponentProvider");try{await zy(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===ue.FAILED_PRECONDITION||s.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;mu("Error using user provided cache. Falling back to memory cache: "+t),await zy(n,new mp)}}else Se(no,"Using default OfflineComponentProvider"),await zy(n,new dU(void 0));return n._offlineComponents}async function AI(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Se(no,"Using user provided OnlineComponentProvider"),await dw(n,n._uninitializedComponentsProvider._online)):(Se(no,"Using default OnlineComponentProvider"),await dw(n,new U_))),n._onlineComponents}function gU(n){return AI(n).then((e=>e.syncEngine))}async function II(n){const e=await AI(n),t=e.eventManager;return t.onListen=eU.bind(null,e.syncEngine),t.onUnlisten=iU.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=tU.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=rU.bind(null,e.syncEngine),t}function yU(n,e,t={}){const i=new zs;return n.asyncQueue.enqueueAndForget((async()=>(function(o,u,h,f,d){const y=new RI({next:E=>{y.Nu(),u.enqueueAndForget((()=>gI(o,_)));const w=E.docs.has(h);!w&&E.fromCache?d.reject(new Oe(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&E.fromCache&&f&&f.source==="server"?d.reject(new Oe(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(E)},error:E=>d.reject(E)}),_=new yI(Gv(h.path),y,{includeMetadataChanges:!0,qa:!0});return mI(o,_)})(await II(n),n.asyncQueue,e,t,i))),i.promise}function _U(n,e,t={}){const i=new zs;return n.asyncQueue.enqueueAndForget((async()=>(function(o,u,h,f,d){const y=new RI({next:E=>{y.Nu(),u.enqueueAndForget((()=>gI(o,_))),E.fromCache&&f.source==="server"?d.reject(new Oe(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(E)},error:E=>d.reject(E)}),_=new yI(h,y,{includeMetadataChanges:!0,qa:!0});return mI(o,_)})(await II(n),n.asyncQueue,e,t,i))),i.promise}function OI(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const pw=new Map;const DI="firestore.googleapis.com",mw=!0;class gw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Oe(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=DI,this.ssl=mw}else this.host=e.host,this.ssl=e.ssl??mw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=iI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<W3)throw new Oe(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}M4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=OI(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Oe(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Oe(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Oe(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,s){return i.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class om{constructor(e,t,i,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Oe(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Oe(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new T4;switch(i.type){case"firstParty":return new R4(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Oe(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=pw.get(t);i&&(Se("ComponentProvider","Removing Datastore"),pw.delete(t),i.terminate())})(this),Promise.resolve()}}function vU(n,e,t,i={}){n=Ys(n,om);const s=Js(e),o=n._getSettings(),u={...o,emulatorOptions:n._getEmulatorOptions()},h=`${e}:${t}`;s&&(Bp(`https://${h}`),Hp("Firestore",!0)),o.host!==DI&&o.host!==h&&mu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...o,host:h,ssl:s,emulatorOptions:i};if(!js(f,u)&&(n._setSettings(f),i.mockUserToken)){let d,y;if(typeof i.mockUserToken=="string")d=i.mockUserToken,y=Zn.MOCK_USER;else{d=Cv(i.mockUserToken,n._app?.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new Oe(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Zn(_)}n._authCredentials=new S4(new mA(d,y))}}class lm{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new lm(this.firestore,e,this._query)}}class Cn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ya(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Cn(this.firestore,e,this._key)}toJSON(){return{type:Cn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(Dh(t,Cn._jsonSchema))return new Cn(e,i||null,new Le(Ht.fromString(t.referencePath)))}}Cn._jsonSchemaVersion="firestore/documentReference/1.0",Cn._jsonSchema={type:wn("string",Cn._jsonSchemaVersion),referencePath:wn("string")};class Ya extends lm{constructor(e,t,i){super(e,t,Gv(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Cn(this.firestore,null,new Le(e))}withConverter(e){return new Ya(this.firestore,e,this._path)}}function bU(n,e,...t){if(n=Kn(n),gA("collection","path",e),n instanceof om){const i=Ht.fromString(e,...t);return D1(i),new Ya(n,null,i)}{if(!(n instanceof Cn||n instanceof Ya))throw new Oe(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Ht.fromString(e,...t));return D1(i),new Ya(n.firestore,null,i)}}function ou(n,e,...t){if(n=Kn(n),arguments.length===1&&(e=zv.newId()),gA("doc","path",e),n instanceof om){const i=Ht.fromString(e,...t);return O1(i),new Cn(n,null,new Le(i))}{if(!(n instanceof Cn||n instanceof Ya))throw new Oe(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Ht.fromString(e,...t));return O1(i),new Cn(n.firestore,n instanceof Ya?n.converter:null,new Le(i))}}const yw="AsyncQueue";class _w{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new oI(this,"async_queue_retry"),this._c=()=>{const i=Uy();i&&Se(yw,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=Uy();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Uy();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new zs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Du(e))throw e;Se(yw,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Ks("INTERNAL UNHANDLED ERROR: ",vw(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=s0.createAndSchedule(this,e,t,i,(o=>this.hc(o)));return this.tc.push(s),s}uc(){this.nc&&He(47125,{Pc:vw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function vw(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class kh extends om{constructor(e,t,i,s){super(e,t,i,s),this.type="firestore",this._queue=new _w,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _w(e),this._firestoreClient=void 0,await e}}}function EU(n,e){const t=typeof n=="object"?n:$p(),i=typeof n=="string"?n:ap,s=Rh(t,"firestore").getImmediate({identifier:i});if(!s._initialized){const o=Sv("firestore");o&&vU(s,...o)}return s}function c0(n){if(n._terminated)throw new Oe(ue.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||TU(n),n._firestoreClient}function TU(n){const e=n._freezeSettings(),t=(function(s,o,u,h){return new j4(s,o,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,OI(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new pU(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(s){const o=s?._online.build();return{_offline:s?._offline.build(o),_online:o}})(n._componentsProvider))}class sr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new sr(Yn.fromBase64String(e))}catch(t){throw new Oe(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new sr(Yn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:sr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Dh(e,sr._jsonSchema))return sr.fromBase64String(e.bytes)}}sr._jsonSchemaVersion="firestore/bytes/1.0",sr._jsonSchema={type:wn("string",sr._jsonSchemaVersion),bytes:wn("string")};class um{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Oe(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class cm{constructor(e){this._methodName=e}}class Xr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Oe(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Oe(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return rt(this._lat,e._lat)||rt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xr._jsonSchemaVersion}}static fromJSON(e){if(Dh(e,Xr._jsonSchema))return new Xr(e.latitude,e.longitude)}}Xr._jsonSchemaVersion="firestore/geoPoint/1.0",Xr._jsonSchema={type:wn("string",Xr._jsonSchemaVersion),latitude:wn("number"),longitude:wn("number")};class Jr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,s){if(i.length!==s.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==s[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Jr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Dh(e,Jr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Jr(e.vectorValues);throw new Oe(ue.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Jr._jsonSchemaVersion="firestore/vectorValue/1.0",Jr._jsonSchema={type:wn("string",Jr._jsonSchemaVersion),vectorValues:wn("object")};const SU=/^__.*__$/;class wU{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new lo(e,this.data,this.fieldMask,t,this.fieldTransforms):new Nh(e,this.data,t,this.fieldTransforms)}}class NI{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new lo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function MI(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw He(40011,{Ac:n})}}class hm{constructor(e,t,i,s,o,u){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=s,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new hm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.gc(e),i}yc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return gp(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(MI(this.Ac)&&SU.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class CU{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||rm(e)}Cc(e,t,i,s=!1){return new hm({Ac:e,methodName:t,Dc:i,path:Gn.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xI(n){const e=n._freezeSettings(),t=rm(n._databaseId);return new CU(n._databaseId,!!e.ignoreUndefinedProperties,t)}function RU(n,e,t,i,s,o={}){const u=n.Cc(o.merge||o.mergeFields?2:0,e,t,s);f0("Data must be an object, but it was:",u,i);const h=PI(i,u);let f,d;if(o.merge)f=new zi(u.fieldMask),d=u.fieldTransforms;else if(o.mergeFields){const y=[];for(const _ of o.mergeFields){const E=z_(e,_,t);if(!u.contains(E))throw new Oe(ue.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);LI(y,E)||y.push(E)}f=new zi(y),d=u.fieldTransforms.filter((_=>f.covers(_.field)))}else f=null,d=u.fieldTransforms;return new wU(new wi(h),f,d)}class fm extends cm{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof fm}}function AU(n,e,t){return new hm({Ac:3,Dc:e.settings.Dc,methodName:n._methodName,fc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class h0 extends cm{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=AU(this,e,!0),i=this.vc.map((o=>Lh(o,t))),s=new vu(i);return new g3(e.path,s)}isEqual(e){return e instanceof h0&&js(this.vc,e.vc)}}function IU(n,e,t,i){const s=n.Cc(1,e,t);f0("Data must be an object, but it was:",s,i);const o=[],u=wi.empty();oo(i,((f,d)=>{const y=d0(e,f,t);d=Kn(d);const _=s.yc(y);if(d instanceof fm)o.push(y);else{const E=Lh(d,_);E!=null&&(o.push(y),u.set(y,E))}}));const h=new zi(o);return new NI(u,h,s.fieldTransforms)}function OU(n,e,t,i,s,o){const u=n.Cc(1,e,t),h=[z_(e,i,t)],f=[s];if(o.length%2!=0)throw new Oe(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<o.length;E+=2)h.push(z_(e,o[E])),f.push(o[E+1]);const d=[],y=wi.empty();for(let E=h.length-1;E>=0;--E)if(!LI(d,h[E])){const w=h[E];let I=f[E];I=Kn(I);const O=u.yc(w);if(I instanceof fm)d.push(w);else{const A=Lh(I,O);A!=null&&(d.push(w),y.set(w,A))}}const _=new zi(d);return new NI(y,_,u.fieldTransforms)}function Lh(n,e){if(kI(n=Kn(n)))return f0("Unsupported field value:",e,n),PI(n,e);if(n instanceof cm)return(function(i,s){if(!MI(s.Ac))throw s.Sc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(s);o&&s.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,s){const o=[];let u=0;for(const h of i){let f=Lh(h,s.wc(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}})(n,e)}return(function(i,s){if((i=Kn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return d3(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=jt.fromDate(i);return{timestampValue:fp(s.serializer,o)}}if(i instanceof jt){const o=new jt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:fp(s.serializer,o)}}if(i instanceof Xr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof sr)return{bytesValue:WA(s.serializer,i._byteString)};if(i instanceof Cn){const o=s.databaseId,u=i.firestore._databaseId;if(!u.isEqual(o))throw s.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Wv(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof Jr)return(function(u,h){return{mapValue:{fields:{[CA]:{stringValue:RA},[op]:{arrayValue:{values:u.toArray().map((d=>{if(typeof d!="number")throw h.Sc("VectorValues must only contain numeric values.");return Kv(h.serializer,d)}))}}}}}})(i,s);throw s.Sc(`Unsupported field value: ${Fv(i)}`)})(n,e)}function PI(n,e){const t={};return vA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):oo(n,((i,s)=>{const o=Lh(s,e.mc(i));o!=null&&(t[i]=o)})),{mapValue:{fields:t}}}function kI(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof jt||n instanceof Xr||n instanceof sr||n instanceof Cn||n instanceof cm||n instanceof Jr)}function f0(n,e,t){if(!kI(t)||!yA(t)){const i=Fv(t);throw i==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+i)}}function z_(n,e,t){if((e=Kn(e))instanceof um)return e._internalPath;if(typeof e=="string")return d0(n,e);throw gp("Field path arguments must be of type string or ",n,!1,void 0,t)}const DU=new RegExp("[~\\*/\\[\\]]");function d0(n,e,t){if(e.search(DU)>=0)throw gp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new um(...e.split("."))._internalPath}catch{throw gp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function gp(n,e,t,i,s){const o=i&&!i.isEmpty(),u=s!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||u)&&(f+=" (found",o&&(f+=` in field ${i}`),u&&(f+=` in document ${s}`),f+=")"),new Oe(ue.INVALID_ARGUMENT,h+n+f)}function LI(n,e){return n.some((t=>t.isEqual(e)))}class VI{constructor(e,t,i,s,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new NU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(UI("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class NU extends VI{data(){return super.data()}}function UI(n,e){return typeof e=="string"?d0(n,e):e instanceof um?e._internalPath:e._delegate._internalPath}function MU(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Oe(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xU{convertValue(e,t="none"){switch(eo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Za(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw He(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return oo(e,((s,o)=>{i[s]=this.convertValue(o,t)})),i}convertVectorValue(e){const t=e.fields?.[op].arrayValue?.values?.map((i=>dn(i.doubleValue)));return new Jr(t)}convertGeoPoint(e){return new Xr(dn(e.latitude),dn(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Xp(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(ch(e));default:return null}}convertTimestamp(e){const t=Ja(e);return new jt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Ht.fromString(e);Ct(nI(i),9688,{name:e});const s=new hh(i.get(1),i.get(3)),o=new Le(i.popFirst(5));return s.isEqual(t)||Ks(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}function PU(n,e,t){let i;return i=n?n.toFirestore(e):e,i}class qc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qo extends VI{constructor(e,t,i,s,o,u){super(e,t,i,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new zd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(UI("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Oe(ue.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=qo._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}qo._jsonSchemaVersion="firestore/documentSnapshot/1.0",qo._jsonSchema={type:wn("string",qo._jsonSchemaVersion),bundleSource:wn("string","DocumentSnapshot"),bundleName:wn("string"),bundle:wn("string")};class zd extends qo{data(e={}){return super.data(e)}}class lu{constructor(e,t,i,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new qc(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new zd(this._firestore,this._userDataWriter,i.key,i,new qc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Oe(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,o){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map((h=>{const f=new zd(s._firestore,s._userDataWriter,h.doc.key,h.doc,new qc(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const f=new zd(s._firestore,s._userDataWriter,h.doc.key,h.doc,new qc(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,y=-1;return h.type!==0&&(d=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),y=u.indexOf(h.doc.key)),{type:kU(h.type),doc:f,oldIndex:d,newIndex:y}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Oe(ue.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=lu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=zv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],s=[];return this.docs.forEach((o=>{o._document!==null&&(t.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function kU(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return He(61501,{type:n})}}function Fd(n){n=Ys(n,Cn);const e=Ys(n.firestore,kh);return yU(c0(e),n._key).then((t=>VU(e,n,t)))}lu._jsonSchemaVersion="firestore/querySnapshot/1.0",lu._jsonSchema={type:wn("string",lu._jsonSchemaVersion),bundleSource:wn("string","QuerySnapshot"),bundleName:wn("string"),bundle:wn("string")};class zI extends xU{constructor(e){super(),this.firestore=e}convertBytes(e){return new sr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Cn(this.firestore,null,t)}}function LU(n){n=Ys(n,lm);const e=Ys(n.firestore,kh),t=c0(e),i=new zI(e);return MU(n._query),_U(t,n._query).then((s=>new lu(e,i,n,s)))}function ph(n,e,t){n=Ys(n,Cn);const i=Ys(n.firestore,kh),s=PU(n.converter,e);return FI(i,[RU(xI(i),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,Qr.none())])}function F_(n,e,t,...i){n=Ys(n,Cn);const s=Ys(n.firestore,kh),o=xI(s);let u;return u=typeof(e=Kn(e))=="string"||e instanceof um?OU(o,"updateDoc",n._key,e,t,i):IU(o,"updateDoc",n._key,e),FI(s,[u.toMutation(n._key,Qr.exists(!0))])}function FI(n,e){return(function(i,s){const o=new zs;return i.asyncQueue.enqueueAndForget((async()=>sU(await gU(i),s,o))),o.promise})(c0(n),e)}function VU(n,e,t){const i=t.docs.get(e._key),s=new zI(n);return new qo(n,s,e._key,i,new qc(t.hasPendingWrites,t.fromCache),e.converter)}function B_(...n){return new h0("arrayUnion",n)}(function(e,t=!0){(function(s){Iu=s})(ao),Wa(new qs("firestore",((i,{instanceIdentifier:s,options:o})=>{const u=i.getProvider("app").getImmediate(),h=new kh(new w4(i.getProvider("auth-internal")),new A4(u,i.getProvider("app-check-internal")),(function(d,y){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Oe(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hh(d.options.projectId,y)})(u,s),u);return o={useFetchStreams:t,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),or(C1,R1,e),or(C1,R1,"esm2020")})();var UU="firebase",zU="12.5.0";or(UU,zU,"app");const BI="firebasestorage.googleapis.com",FU="storageBucket",BU=120*1e3,HU=600*1e3;class ls extends os{constructor(e,t,i=0){super(Fy(e),`Firebase Storage: ${t} (${Fy(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ls.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Fy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var rs;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(rs||(rs={}));function Fy(n){return"storage/"+n}function jU(){const n="An unknown error occurred, please check the error payload for server response.";return new ls(rs.UNKNOWN,n)}function qU(){return new ls(rs.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function $U(){return new ls(rs.CANCELED,"User canceled the upload/download.")}function GU(n){return new ls(rs.INVALID_URL,"Invalid URL '"+n+"'.")}function KU(n){return new ls(rs.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function bw(n){return new ls(rs.INVALID_ARGUMENT,n)}function HI(){return new ls(rs.APP_DELETED,"The Firebase app was deleted.")}function YU(n){return new ls(rs.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class Cr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=Cr.makeFromUrl(e,t)}catch{return new Cr(e,"")}if(i.path==="")return i;throw KU(e)}static makeFromUrl(e,t){let i=null;const s="([A-Za-z0-9.\\-_]+)";function o(Q){Q.path.charAt(Q.path.length-1)==="/"&&(Q.path_=Q.path_.slice(0,-1))}const u="(/(.*))?$",h=new RegExp("^gs://"+s+u,"i"),f={bucket:1,path:3};function d(Q){Q.path_=decodeURIComponent(Q.path)}const y="v[A-Za-z0-9_]+",_=t.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",w=new RegExp(`^https?://${_}/${y}/b/${s}/o${E}`,"i"),I={bucket:1,path:3},O=t===BI?"(?:storage.googleapis.com|storage.cloud.google.com)":t,A="([^?#]*)",U=new RegExp(`^https?://${O}/${s}/${A}`,"i"),z=[{regex:h,indices:f,postModify:o},{regex:w,indices:I,postModify:d},{regex:U,indices:{bucket:1,path:2},postModify:d}];for(let Q=0;Q<z.length;Q++){const j=z[Q],ie=j.regex.exec(e);if(ie){const S=ie[j.indices.bucket];let C=ie[j.indices.path];C||(C=""),i=new Cr(S,C),j.postModify(i);break}}if(i==null)throw GU(e);return i}}class QU{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function WU(n,e,t){let i=1,s=null,o=null,u=!1,h=0;function f(){return h===2}let d=!1;function y(...A){d||(d=!0,e.apply(null,A))}function _(A){s=setTimeout(()=>{s=null,n(w,f())},A)}function E(){o&&clearTimeout(o)}function w(A,...U){if(d){E();return}if(A){E(),y.call(null,A,...U);return}if(f()||u){E(),y.call(null,A,...U);return}i<64&&(i*=2);let z;h===1?(h=2,z=0):z=(i+Math.random())*1e3,_(z)}let I=!1;function O(A){I||(I=!0,E(),!d&&(s!==null?(A||(h=2),clearTimeout(s),_(0)):A||(h=1)))}return _(0),o=setTimeout(()=>{u=!0,O(!0)},t),O}function XU(n){n(!1)}function JU(n){return n!==void 0}function Ew(n,e,t,i){if(i<e)throw bw(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw bw(`Invalid value for '${n}'. Expected ${t} or less.`)}function ZU(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const s=e(i)+"="+e(n[i]);t=t+s+"&"}return t=t.slice(0,-1),t}var yp;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(yp||(yp={}));function e5(n,e){const t=n>=500&&n<600,s=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||s||o}class t5{constructor(e,t,i,s,o,u,h,f,d,y,_,E=!0,w=!1){this.url_=e,this.method_=t,this.headers_=i,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=f,this.timeout_=d,this.progressCallback_=y,this.connectionFactory_=_,this.retry=E,this.isUsingEmulator=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,O)=>{this.resolve_=I,this.reject_=O,this.start_()})}start_(){const e=(i,s)=>{if(s){i(!1,new yd(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const u=h=>{const f=h.loaded,d=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,d)};this.progressCallback_!==null&&o.addUploadProgressListener(u),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(u),this.pendingConnection_=null;const h=o.getErrorCode()===yp.NO_ERROR,f=o.getStatus();if(!h||e5(f,this.additionalRetryCodes_)&&this.retry){const y=o.getErrorCode()===yp.ABORT;i(!1,new yd(!1,null,y));return}const d=this.successCodes_.indexOf(f)!==-1;i(!0,new yd(d,o))})},t=(i,s)=>{const o=this.resolve_,u=this.reject_,h=s.connection;if(s.wasSuccessCode)try{const f=this.callback_(h,h.getResponse());JU(f)?o(f):o()}catch(f){u(f)}else if(h!==null){const f=jU();f.serverResponse=h.getErrorText(),this.errorCallback_?u(this.errorCallback_(h,f)):u(f)}else if(s.canceled){const f=this.appDelete_?HI():$U();u(f)}else{const f=qU();u(f)}};this.canceled_?t(!1,new yd(!1,null,!0)):this.backoffId_=WU(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&XU(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class yd{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function n5(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function i5(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function r5(n,e){e&&(n["X-Firebase-GMPID"]=e)}function s5(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function a5(n,e,t,i,s,o,u=!0,h=!1){const f=ZU(n.urlParams),d=n.url+f,y=Object.assign({},n.headers);return r5(y,e),n5(y,t),i5(y,o),s5(y,i),new t5(d,n.method,y,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s,u,h)}function o5(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function l5(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}class _p{constructor(e,t){this._service=e,t instanceof Cr?this._location=t:this._location=Cr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new _p(e,t)}get root(){const e=new Cr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return l5(this._location.path)}get storage(){return this._service}get parent(){const e=o5(this._location.path);if(e===null)return null;const t=new Cr(this._location.bucket,e);return new _p(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw YU(e)}}function Tw(n,e){const t=e?.[FU];return t==null?null:Cr.makeFromBucketSpec(t,n)}function u5(n,e,t,i={}){n.host=`${e}:${t}`;const s=Js(e);s&&(Bp(`https://${n.host}/b`),Hp("Storage",!0)),n._isUsingEmulator=!0,n._protocol=s?"https":"http";const{mockUserToken:o}=i;o&&(n._overrideAuthToken=typeof o=="string"?o:Cv(o,n.app.options.projectId))}class c5{constructor(e,t,i,s,o,u=!1){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=s,this._firebaseVersion=o,this._isUsingEmulator=u,this._bucket=null,this._host=BI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=BU,this._maxUploadRetryTime=HU,this._requests=new Set,s!=null?this._bucket=Cr.makeFromBucketSpec(s,this._host):this._bucket=Tw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Cr.makeFromBucketSpec(this._url,e):this._bucket=Tw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Ew("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Ew("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Ui(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new _p(this,e)}_makeRequest(e,t,i,s,o=!0){if(this._deleted)return new QU(HI());{const u=a5(e,this._appId,i,s,t,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[i,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,s).getPromise()}}const Sw="@firebase/storage",ww="0.14.0";const jI="storage";function h5(n=$p(),e){n=Kn(n);const i=Rh(n,jI).getImmediate({identifier:e}),s=Sv("storage");return s&&f5(i,...s),i}function f5(n,e,t,i={}){u5(n,e,t,i)}function d5(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new c5(t,i,s,e,ao)}function p5(){Wa(new qs(jI,d5,"PUBLIC").setMultipleInstances(!0)),or(Sw,ww,""),or(Sw,ww,"esm2020")}p5();var Cw={};const Rw="@firebase/database",Aw="1.1.0";let qI="";function m5(n){qI=n}class g5{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),$n(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:ah(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class y5{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return Zs(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const $I=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new g5(e)}}catch{}return new y5},Fo=$I("localStorage"),_5=$I("sessionStorage");const uu=new qp("@firebase/database"),v5=(function(){let n=1;return function(){return n++}})(),GI=function(n){const e=pk(n),t=new uk;t.update(e);const i=t.digest();return Tv.encodeByteArray(i)},Vh=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=Vh.apply(null,i):typeof i=="object"?e+=$n(i):e+=i,e+=" "}return e};let Jc=null,Iw=!0;const b5=function(n,e){ve(!0,"Can't turn on custom loggers persistently."),uu.logLevel=tt.VERBOSE,Jc=uu.log.bind(uu)},ti=function(...n){if(Iw===!0&&(Iw=!1,Jc===null&&_5.get("logging_enabled")===!0&&b5()),Jc){const e=Vh.apply(null,n);Jc(e)}},Uh=function(n){return function(...e){ti(n,...e)}},H_=function(...n){const e="FIREBASE INTERNAL ERROR: "+Vh(...n);uu.error(e)},Ws=function(...n){const e=`FIREBASE FATAL ERROR: ${Vh(...n)}`;throw uu.error(e),new Error(e)},Fi=function(...n){const e="FIREBASE WARNING: "+Vh(...n);uu.warn(e)},E5=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Fi("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},KI=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},T5=function(n){if(document.readyState==="complete")n();else{let e=!1;const t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},Tu="[MIN_NAME]",Wo="[MAX_NAME]",Mu=function(n,e){if(n===e)return 0;if(n===Tu||e===Wo)return-1;if(e===Tu||n===Wo)return 1;{const t=Ow(n),i=Ow(e);return t!==null?i!==null?t-i===0?n.length-e.length:t-i:-1:i!==null?1:n<e?-1:1}},S5=function(n,e){return n===e?0:n<e?-1:1},Pc=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+$n(e))},p0=function(n){if(typeof n!="object"||n===null)return $n(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)i!==0&&(t+=","),t+=$n(e[i]),t+=":",t+=p0(n[e[i]]);return t+="}",t},YI=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let s=0;s<t;s+=e)s+e>t?i.push(n.substring(s,t)):i.push(n.substring(s,s+e));return i};function ur(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const QI=function(n){ve(!KI(n),"Invalid JSON number");const e=11,t=52,i=(1<<e-1)-1;let s,o,u,h,f;n===0?(o=0,u=0,s=1/n===-1/0?1:0):(s=n<0,n=Math.abs(n),n>=Math.pow(2,1-i)?(h=Math.min(Math.floor(Math.log(n)/Math.LN2),i),o=h+i,u=Math.round(n*Math.pow(2,t-h)-Math.pow(2,t))):(o=0,u=Math.round(n/Math.pow(2,1-i-t))));const d=[];for(f=t;f;f-=1)d.push(u%2?1:0),u=Math.floor(u/2);for(f=e;f;f-=1)d.push(o%2?1:0),o=Math.floor(o/2);d.push(s?1:0),d.reverse();const y=d.join("");let _="";for(f=0;f<64;f+=8){let E=parseInt(y.substr(f,8),2).toString(16);E.length===1&&(E="0"+E),_=_+E}return _.toLowerCase()},w5=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},C5=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},R5=new RegExp("^-?(0*)\\d{1,10}$"),A5=-2147483648,I5=2147483647,Ow=function(n){if(R5.test(n)){const e=Number(n);if(e>=A5&&e<=I5)return e}return null},zh=function(n){try{n()}catch(e){setTimeout(()=>{const t=e.stack||"";throw Fi("Exception was thrown by user callback.",t),e},Math.floor(0))}},O5=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Zc=function(n,e){const t=setTimeout(n,e);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};class D5{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,Ui(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(i=>this.appCheck=i)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.appCheckProvider?.get().then(t=>t.addTokenListener(e))}notifyForInvalidToken(){Fi(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class N5{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?(ti("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Fi(e)}}class Bd{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Bd.OWNER="owner";const m0="5",WI="v",XI="s",JI="r",ZI="f",e2=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,t2="ls",n2="p",j_="ac",i2="websocket",r2="long_polling";class s2{constructor(e,t,i,s,o=!1,u="",h=!1,f=!1,d=null){this.secure=t,this.namespace=i,this.webSocketOnly=s,this.nodeAdmin=o,this.persistenceKey=u,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=f,this.emulatorOptions=d,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Fo.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Fo.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function M5(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function a2(n,e,t){ve(typeof e=="string","typeof type must == string"),ve(typeof t=="object","typeof params must == object");let i;if(e===i2)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===r2)i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);M5(n)&&(t.ns=n.namespace);const s=[];return ur(t,(o,u)=>{s.push(o+"="+u)}),i+s.join("&")}class x5{constructor(){this.counters_={}}incrementCounter(e,t=1){Zs(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return HP(this.counters_)}}const By={},Hy={};function g0(n){const e=n.toString();return By[e]||(By[e]=new x5),By[e]}function P5(n,e){const t=n.toString();return Hy[t]||(Hy[t]=e()),Hy[t]}class k5{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<i.length;++s)i[s]&&zh(()=>{this.onMessage_(i[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const Dw="start",L5="close",V5="pLPCommand",U5="pRTLPCB",o2="id",l2="pw",u2="ser",z5="cb",F5="seg",B5="ts",H5="d",j5="dframe",c2=1870,h2=30,q5=c2-h2,$5=25e3,G5=3e4;class eu{constructor(e,t,i,s,o,u,h){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.transportSessionId=u,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Uh(e),this.stats_=g0(t),this.urlFn=f=>(this.appCheckToken&&(f[j_]=this.appCheckToken),a2(t,r2,f))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new k5(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(G5)),T5(()=>{if(this.isClosed_)return;this.scriptTagHolder=new y0((...o)=>{const[u,h,f,d,y]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,u===Dw)this.id=h,this.password=f;else if(u===L5)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+u)},(...o)=>{const[u,h]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(u,h)},()=>{this.onClosed_()},this.urlFn);const i={};i[Dw]="t",i[u2]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[z5]=this.scriptTagHolder.uniqueCallbackIdentifier),i[WI]=m0,this.transportSessionId&&(i[XI]=this.transportSessionId),this.lastSessionId&&(i[t2]=this.lastSessionId),this.applicationId&&(i[n2]=this.applicationId),this.appCheckToken&&(i[j_]=this.appCheckToken),typeof location<"u"&&location.hostname&&e2.test(location.hostname)&&(i[JI]=ZI);const s=this.urlFn(i);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){eu.forceAllow_=!0}static forceDisallow(){eu.forceDisallow_=!0}static isAvailable(){return eu.forceAllow_?!0:!eu.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!w5()&&!C5()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=$n(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=bR(t),s=YI(i,q5);for(let o=0;o<s.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[o]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const i={};i[j5]="t",i[o2]=e,i[l2]=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=$n(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class y0{constructor(e,t,i,s){this.onDisconnect=i,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=v5(),window[V5+this.uniqueCallbackIdentifier]=e,window[U5+this.uniqueCallbackIdentifier]=t,this.myIFrame=y0.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const u="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(h){ti("frame writing exception"),h.stack&&ti(h.stack),ti(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||ti("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[o2]=this.myID,e[l2]=this.myPW,e[u2]=this.currentSerial;let t=this.urlFn(e),i="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+h2+i.length<=c2;){const u=this.pendingSegs.shift();i=i+"&"+F5+s+"="+u.seg+"&"+B5+s+"="+u.ts+"&"+H5+s+"="+u.d,s++}return t=t+i,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},s=setTimeout(i,Math.floor($5)),o=()=>{clearTimeout(s),i()};this.addTag(e,o)}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{ti("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}const K5=16384,Y5=45e3;let vp=null;typeof MozWebSocket<"u"?vp=MozWebSocket:typeof WebSocket<"u"&&(vp=WebSocket);class Sr{constructor(e,t,i,s,o,u,h){this.connId=e,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Uh(this.connId),this.stats_=g0(t),this.connURL=Sr.connectionURL_(t,u,h,s,i),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,i,s,o){const u={};return u[WI]=m0,typeof location<"u"&&location.hostname&&e2.test(location.hostname)&&(u[JI]=ZI),t&&(u[XI]=t),i&&(u[t2]=i),s&&(u[j_]=s),o&&(u[n2]=o),a2(e,i2,u)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Fo.set("previous_websocket_failure",!0);try{let i;ek(),this.mySock=new vp(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Sr.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(t);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&vp!==null&&!Sr.forceDisallow_}static previouslyFailed(){return Fo.isInMemoryStorage||Fo.get("previous_websocket_failure")===!0}markConnectionHealthy(){Fo.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const t=this.frames.join("");this.frames=null;const i=ah(t);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ve(this.frames===null,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(t);else{const i=this.extractFrameCount_(t);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const t=$n(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=YI(t,K5);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Y5))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Sr.responsesRequiredToBeHealthy=2;Sr.healthyTimeout=3e4;class mh{static get ALL_TRANSPORTS(){return[eu,Sr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=Sr&&Sr.isAvailable();let i=t&&!Sr.previouslyFailed();if(e.webSocketOnly&&(t||Fi("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Sr];else{const s=this.transports_=[];for(const o of mh.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);mh.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}mh.globalTransportInitialized_=!1;const Q5=6e4,W5=5e3,X5=10*1024,J5=100*1024,jy="t",Nw="d",Z5="s",Mw="r",e9="e",xw="o",Pw="a",kw="n",Lw="p",t9="h";class n9{constructor(e,t,i,s,o,u,h,f,d,y){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=s,this.authToken_=o,this.onMessage_=u,this.onReady_=h,this.onDisconnect_=f,this.onKill_=d,this.lastSessionId=y,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Uh("c:"+this.id+":"),this.transportManager_=new mh(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=Zc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>J5?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>X5?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(jy in e){const t=e[jy];t===Pw?this.upgradeIfSecondaryHealthy_():t===Mw?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===xw&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Pc("t",e),i=Pc("d",e);if(t==="c")this.onSecondaryControl_(i);else if(t==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Lw,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Pw,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:kw,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Pc("t",e),i=Pc("d",e);t==="c"?this.onControl_(i):t==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Pc(jy,e);if(Nw in e){const i=e[Nw];if(t===t9){const s={...i};this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(t===kw){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===Z5?this.onConnectionShutdown_(i):t===Mw?this.onReset_(i):t===e9?H_("Server Error: "+i):t===xw?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):H_("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),m0!==i&&Fi("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),Zc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Q5))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Zc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(W5))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Lw,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Fo.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class f2{put(e,t,i,s){}merge(e,t,i,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}class d2{constructor(e){this.allowedEvents_=e,this.listeners_={},ve(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let s=0;s<i.length;s++)i[s].callback.apply(i[s].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const s=this.getInitialEvent(e);s&&t.apply(i,s)}off(e,t,i){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let o=0;o<s.length;o++)if(s[o].callback===t&&(!i||i===s[o].context)){s.splice(o,1);return}}validateEventType_(e){ve(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class bp extends d2{static getInstance(){return new bp}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Rv()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return ve(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const Vw=32,Uw=768;class qt{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let i=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[i]=this.pieces_[s],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}}function Pt(){return new qt("")}function ct(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function io(n){return n.pieces_.length-n.pieceNum_}function Bt(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new qt(n.pieces_,e)}function p2(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function i9(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)n.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}function m2(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function g2(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new qt(e,0)}function Un(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof qt)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let s=0;s<i.length;s++)i[s].length>0&&t.push(i[s])}return new qt(t,0)}function ot(n){return n.pieceNum_>=n.pieces_.length}function ar(n,e){const t=ct(n),i=ct(e);if(t===null)return e;if(t===i)return ar(Bt(n),Bt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function y2(n,e){if(io(n)!==io(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function Rr(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(io(n)>io(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class r9{constructor(e,t){this.errorPrefix_=t,this.parts_=m2(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=jp(this.parts_[i]);_2(this)}}function s9(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=jp(e),_2(n)}function a9(n){const e=n.parts_.pop();n.byteLength_-=jp(e),n.parts_.length>0&&(n.byteLength_-=1)}function _2(n){if(n.byteLength_>Uw)throw new Error(n.errorPrefix_+"has a key path longer than "+Uw+" bytes ("+n.byteLength_+").");if(n.parts_.length>Vw)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Vw+") or object contains a cycle "+Lo(n))}function Lo(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}class _0 extends d2{static getInstance(){return new _0}constructor(){super(["visible"]);let e,t;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(e){return ve(e==="visible","Unknown event type: "+e),[this.visible_]}}const kc=1e3,o9=300*1e3,zw=30*1e3,l9=1.3,u9=3e4,c9="server_kill",Fw=3;class Fs extends f2{constructor(e,t,i,s,o,u,h,f){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=u,this.appCheckTokenProvider_=h,this.authOverride_=f,this.id=Fs.nextPersistentConnectionId_++,this.log_=Uh("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=kc,this.maxReconnectDelay_=o9,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,f)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");_0.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&bp.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,i){const s=++this.requestNumber_,o={r:s,a:e,b:t};this.log_($n(o)),ve(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(e){this.initConnection_();const t=new wv,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:u=>{const h=u.d;u.s==="ok"?t.resolve(h):t.reject(h)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),t.promise}listen(e,t,i,s){this.initConnection_();const o=e._queryIdentifier,u=e._path.toString();this.log_("Listen called for "+u+" "+o),this.listens.has(u)||this.listens.set(u,new Map),ve(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ve(!this.listens.get(u).has(o),"listen() called twice for same path/queryId.");const h={onComplete:s,hashFn:t,query:e,tag:i};this.listens.get(u).set(o,h),this.connected_&&this.sendListen_(h)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(i)})}sendListen_(e){const t=e.query,i=t._path.toString(),s=t._queryIdentifier;this.log_("Listen on "+i+" for "+s);const o={p:i},u="q";e.tag&&(o.q=t._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(u,o,h=>{const f=h.d,d=h.s;Fs.warnOnListenWarnings_(f,t),(this.listens.get(i)&&this.listens.get(i).get(s))===e&&(this.log_("listen response",h),d!=="ok"&&this.removeListen_(i,s),e.onComplete&&e.onComplete(d,f))})}static warnOnListenWarnings_(e,t){if(e&&typeof e=="object"&&Zs(e,"w")){const i=du(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+t._queryParams.getIndex().toString()+'"',o=t._path.toString();Fi(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||lk(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=zw)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=ok(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(t,i,s=>{const o=s.s,u=s.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,u))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,i=e.d||"error";t==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,i)})}unlisten(e,t){const i=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),ve(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,e._queryObject,t)}sendUnlisten_(e,t,i,s){this.log_("Unlisten on "+e+" for "+t);const o={p:e},u="n";s&&(o.q=i,o.t=s),this.sendRequest(u,o)}onDisconnectPut(e,t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:i})}onDisconnectMerge(e,t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:i})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,i,s){const o={p:t,d:i};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,u=>{s&&setTimeout(()=>{s(u.s,u.d)},Math.floor(0))})}put(e,t,i,s){this.putInternal("p",e,t,i,s)}merge(e,t,i,s){this.putInternal("m",e,t,i,s)}putInternal(e,t,i,s,o){this.initConnection_();const u={p:t,d:i};o!==void 0&&(u.h=o),this.outstandingPuts_.push({action:e,request:u,onComplete:s}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,i,o=>{this.log_(t+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,i=>{if(i.s!=="ok"){const o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+$n(e));const t=e.r,i=this.requestCBHash_[t];i&&(delete this.requestCBHash_[t],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),e==="d"?this.onDataUpdate_(t.p,t.d,!1,t.t):e==="m"?this.onDataUpdate_(t.p,t.d,!0,t.t):e==="c"?this.onListenRevoked_(t.p,t.q):e==="ac"?this.onAuthRevoked_(t.s,t.d):e==="apc"?this.onAppCheckRevoked_(t.s,t.d):e==="sd"?this.onSecurityDebugPacket_(t):H_("Unrecognized action received from server: "+$n(e)+`
Are you using the latest client?`)}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ve(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=kc,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=kc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>u9&&(this.reconnectDelay_=kc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*l9)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+Fs.nextConnectionId_++,o=this.lastSessionId;let u=!1,h=null;const f=function(){h?h.close():(u=!0,i())},d=function(_){ve(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(_)};this.realtime_={close:f,sendRequest:d};const y=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[_,E]=await Promise.all([this.authTokenProvider_.getToken(y),this.appCheckTokenProvider_.getToken(y)]);u?ti("getToken() completed but was canceled"):(ti("getToken() completed. Creating connection."),this.authToken_=_&&_.accessToken,this.appCheckToken_=E&&E.token,h=new n9(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,i,w=>{Fi(w+" ("+this.repoInfo_.toString()+")"),this.interrupt(c9)},o))}catch(_){this.log_("Failed to get token: "+_),u||(this.repoInfo_.nodeAdmin&&Fi(_),f())}}}interrupt(e){ti("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ti("Resuming connection for reason: "+e),delete this.interruptReasons_[e],d_(this.interruptReasons_)&&(this.reconnectDelay_=kc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let i;t?i=t.map(o=>p0(o)).join("$"):i="default";const s=this.removeListen_(e,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,t){const i=new qt(e).toString();let s;if(this.listens.has(i)){const o=this.listens.get(i);s=o.get(t),o.delete(t),o.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(e,t){ti("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Fw&&(this.reconnectDelay_=zw,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){ti("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Fw&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";e["sdk."+t+"."+qI.replace(/\./g,"-")]=1,Rv()?e["framework.cordova"]=1:CR()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=bp.getInstance().currentlyOnline();return d_(this.interruptReasons_)&&e}}Fs.nextPersistentConnectionId_=0;Fs.nextConnectionId_=0;class ht{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new ht(e,t)}}class dm{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new ht(Tu,e),s=new ht(Tu,t);return this.compare(i,s)!==0}minPost(){return ht.MIN}}let _d;class v2 extends dm{static get __EMPTY_NODE(){return _d}static set __EMPTY_NODE(e){_d=e}compare(e,t){return Mu(e.name,t.name)}isDefinedOn(e){throw Cu("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return ht.MIN}maxPost(){return new ht(Wo,_d)}makePost(e,t){return ve(typeof e=="string","KeyIndex indexValue must always be a string."),new ht(e,_d)}toString(){return".key"}}const cu=new v2;class vd{constructor(e,t,i,s,o=null){this.isReverse_=s,this.resultGenerator_=o,this.nodeStack_=[];let u=1;for(;!e.isEmpty();)if(e=e,u=t?i(e.key,t):1,s&&(u*=-1),u<0)this.isReverse_?e=e.left:e=e.right;else if(u===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Vn{constructor(e,t,i,s,o){this.key=e,this.value=t,this.color=i??Vn.RED,this.left=s??Ci.EMPTY_NODE,this.right=o??Ci.EMPTY_NODE}copy(e,t,i,s,o){return new Vn(e??this.key,t??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let s=this;const o=i(e,s.key);return o<0?s=s.copy(null,null,null,s.left.insert(e,t,i),null):o===0?s=s.copy(null,t,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,t,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ci.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let i,s;if(i=this,t(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),t(e,i.key)===0){if(i.right.isEmpty())return Ci.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Vn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Vn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Vn.RED=!0;Vn.BLACK=!1;class h9{copy(e,t,i,s,o){return this}insert(e,t,i){return new Vn(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ci{constructor(e,t=Ci.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Ci(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Vn.BLACK,null,null))}remove(e){return new Ci(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Vn.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),t===0)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,s=null;for(;!i.isEmpty();)if(t=this.comparator_(e,i.key),t===0){if(i.left.isEmpty())return s?s.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else t<0?i=i.left:t>0&&(s=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new vd(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new vd(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new vd(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new vd(this.root_,null,this.comparator_,!0,e)}}Ci.EMPTY_NODE=new h9;function f9(n,e){return Mu(n.name,e.name)}function v0(n,e){return Mu(n,e)}let q_;function d9(n){q_=n}const b2=function(n){return typeof n=="number"?"number:"+QI(n):"string:"+n},E2=function(n){if(n.isLeafNode()){const e=n.val();ve(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Zs(e,".sv"),"Priority must be a string or number.")}else ve(n===q_||n.isEmpty(),"priority of unexpected type.");ve(n===q_||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Bw;class kn{static set __childrenNodeConstructor(e){Bw=e}static get __childrenNodeConstructor(){return Bw}constructor(e,t=kn.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,ve(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),E2(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new kn(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:kn.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ot(e)?this:ct(e)===".priority"?this.priorityNode_:kn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return e===".priority"?this.updatePriority(t):t.isEmpty()&&e!==".priority"?this:kn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const i=ct(e);return i===null?t:t.isEmpty()&&i!==".priority"?this:(ve(i!==".priority"||io(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,kn.__childrenNodeConstructor.EMPTY_NODE.updateChild(Bt(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+b2(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",t==="number"?e+=QI(this.value_):e+=this.value_,this.lazyHash_=GI(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===kn.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof kn.__childrenNodeConstructor?-1:(ve(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,i=typeof this.value_,s=kn.VALUE_TYPE_ORDER.indexOf(t),o=kn.VALUE_TYPE_ORDER.indexOf(i);return ve(s>=0,"Unknown leaf type: "+t),ve(o>=0,"Unknown leaf type: "+i),s===o?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}else return!1}}kn.VALUE_TYPE_ORDER=["object","boolean","number","string"];let T2,S2;function p9(n){T2=n}function m9(n){S2=n}class g9 extends dm{compare(e,t){const i=e.node.getPriority(),s=t.node.getPriority(),o=i.compareTo(s);return o===0?Mu(e.name,t.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return ht.MIN}maxPost(){return new ht(Wo,new kn("[PRIORITY-POST]",S2))}makePost(e,t){const i=T2(e);return new ht(t,new kn("[PRIORITY-POST]",i))}toString(){return".priority"}}const ii=new g9;const y9=Math.log(2);class _9{constructor(e){const t=o=>parseInt(Math.log(o)/y9,10),i=o=>parseInt(Array(o+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;const s=i(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Ep=function(n,e,t,i){n.sort(e);const s=function(f,d){const y=d-f;let _,E;if(y===0)return null;if(y===1)return _=n[f],E=t?t(_):_,new Vn(E,_.node,Vn.BLACK,null,null);{const w=parseInt(y/2,10)+f,I=s(f,w),O=s(w+1,d);return _=n[w],E=t?t(_):_,new Vn(E,_.node,Vn.BLACK,I,O)}},o=function(f){let d=null,y=null,_=n.length;const E=function(I,O){const A=_-I,U=_;_-=I;const V=s(A+1,U),z=n[A],Q=t?t(z):z;w(new Vn(Q,z.node,O,null,V))},w=function(I){d?(d.left=I,d=I):(y=I,d=I)};for(let I=0;I<f.count;++I){const O=f.nextBitIsOne(),A=Math.pow(2,f.count-(I+1));O?E(A,Vn.BLACK):(E(A,Vn.BLACK),E(A,Vn.RED))}return y},u=new _9(n.length),h=o(u);return new Ci(i||e,h)};let qy;const Gl={};class Us{static get Default(){return ve(Gl&&ii,"ChildrenNode.ts has not been loaded"),qy=qy||new Us({".priority":Gl},{".priority":ii}),qy}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=du(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Ci?t:null}hasIndex(e){return Zs(this.indexSet_,e.toString())}addIndex(e,t){ve(e!==cu,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let s=!1;const o=t.getIterator(ht.Wrap);let u=o.getNext();for(;u;)s=s||e.isDefinedOn(u.node),i.push(u),u=o.getNext();let h;s?h=Ep(i,e.getCompare()):h=Gl;const f=e.toString(),d={...this.indexSet_};d[f]=e;const y={...this.indexes_};return y[f]=h,new Us(y,d)}addToIndexes(e,t){const i=Xd(this.indexes_,(s,o)=>{const u=du(this.indexSet_,o);if(ve(u,"Missing index implementation for "+o),s===Gl)if(u.isDefinedOn(e.node)){const h=[],f=t.getIterator(ht.Wrap);let d=f.getNext();for(;d;)d.name!==e.name&&h.push(d),d=f.getNext();return h.push(e),Ep(h,u.getCompare())}else return Gl;else{const h=t.get(e.name);let f=s;return h&&(f=f.remove(new ht(e.name,h))),f.insert(e,e.node)}});return new Us(i,this.indexSet_)}removeFromIndexes(e,t){const i=Xd(this.indexes_,s=>{if(s===Gl)return s;{const o=t.get(e.name);return o?s.remove(new ht(e.name,o)):s}});return new Us(i,this.indexSet_)}}let Lc;class St{static get EMPTY_NODE(){return Lc||(Lc=new St(new Ci(v0),null,Us.Default))}constructor(e,t,i){this.children_=e,this.priorityNode_=t,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&E2(this.priorityNode_),this.children_.isEmpty()&&ve(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Lc}updatePriority(e){return this.children_.isEmpty()?this:new St(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const t=this.children_.get(e);return t===null?Lc:t}}getChild(e){const t=ct(e);return t===null?this:this.getImmediateChild(t).getChild(Bt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,t){if(ve(t,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(t);{const i=new ht(e,t);let s,o;t.isEmpty()?(s=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(e,t),o=this.indexMap_.addToIndexes(i,this.children_));const u=s.isEmpty()?Lc:this.priorityNode_;return new St(s,u,o)}}updateChild(e,t){const i=ct(e);if(i===null)return t;{ve(ct(e)!==".priority"||io(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(Bt(e),t);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let i=0,s=0,o=!0;if(this.forEachChild(ii,(u,h)=>{t[u]=h.val(e),i++,o&&St.INTEGER_REGEXP_.test(u)?s=Math.max(s,Number(u)):o=!1}),!e&&o&&s<2*i){const u=[];for(const h in t)u[h]=t[h];return u}else return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+b2(this.getPriority().val())+":"),this.forEachChild(ii,(t,i)=>{const s=i.hash();s!==""&&(e+=":"+t+":"+s)}),this.lazyHash_=e===""?"":GI(e)}return this.lazyHash_}getPredecessorChildName(e,t,i){const s=this.resolveIndex_(i);if(s){const o=s.getPredecessorKey(new ht(e,t));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const i=t.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new ht(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const i=t.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new ht(t,this.children_.get(t)):null}forEachChild(e,t){const i=this.resolveIndex_(e);return i?i.inorderTraversal(s=>t(s.name,s.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const i=this.resolveIndex_(t);if(i)return i.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,ht.Wrap);let o=s.peek();for(;o!=null&&t.compare(o,e)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const i=this.resolveIndex_(t);if(i)return i.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,ht.Wrap);let o=s.peek();for(;o!=null&&t.compare(o,e)>0;)s.getNext(),o=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Fh?-1:0}withIndex(e){if(e===cu||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new St(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===cu||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority()))if(this.children_.count()===t.children_.count()){const i=this.getIterator(ii),s=t.getIterator(ii);let o=i.getNext(),u=s.getNext();for(;o&&u;){if(o.name!==u.name||!o.node.equals(u.node))return!1;o=i.getNext(),u=s.getNext()}return o===null&&u===null}else return!1;else return!1}}resolveIndex_(e){return e===cu?null:this.indexMap_.get(e.toString())}}St.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class v9 extends St{constructor(){super(new Ci(v0),St.EMPTY_NODE,Us.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return St.EMPTY_NODE}isEmpty(){return!1}}const Fh=new v9;Object.defineProperties(ht,{MIN:{value:new ht(Tu,St.EMPTY_NODE)},MAX:{value:new ht(Wo,Fh)}});v2.__EMPTY_NODE=St.EMPTY_NODE;kn.__childrenNodeConstructor=St;d9(Fh);m9(Fh);const b9=!0;function ni(n,e=null){if(n===null)return St.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),ve(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const t=n;return new kn(t,ni(e))}if(!(n instanceof Array)&&b9){const t=[];let i=!1;if(ur(n,(u,h)=>{if(u.substring(0,1)!=="."){const f=ni(h);f.isEmpty()||(i=i||!f.getPriority().isEmpty(),t.push(new ht(u,f)))}}),t.length===0)return St.EMPTY_NODE;const o=Ep(t,f9,u=>u.name,v0);if(i){const u=Ep(t,ii.getCompare());return new St(o,ni(e),new Us({".priority":u},{".priority":ii}))}else return new St(o,ni(e),Us.Default)}else{let t=St.EMPTY_NODE;return ur(n,(i,s)=>{if(Zs(n,i)&&i.substring(0,1)!=="."){const o=ni(s);(o.isLeafNode()||!o.isEmpty())&&(t=t.updateImmediateChild(i,o))}}),t.updatePriority(ni(e))}}p9(ni);class E9 extends dm{constructor(e){super(),this.indexPath_=e,ve(!ot(e)&&ct(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),s=this.extractChild(t.node),o=i.compareTo(s);return o===0?Mu(e.name,t.name):o}makePost(e,t){const i=ni(e),s=St.EMPTY_NODE.updateChild(this.indexPath_,i);return new ht(t,s)}maxPost(){const e=St.EMPTY_NODE.updateChild(this.indexPath_,Fh);return new ht(Wo,e)}toString(){return m2(this.indexPath_,0).join("/")}}class T9 extends dm{compare(e,t){const i=e.node.compareTo(t.node);return i===0?Mu(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return ht.MIN}maxPost(){return ht.MAX}makePost(e,t){const i=ni(e);return new ht(t,i)}toString(){return".value"}}const S9=new T9;function w9(n){return{type:"value",snapshotNode:n}}function C9(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function R9(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function Hw(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}function A9(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}class b0{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ii}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ve(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ve(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Tu}hasEnd(){return this.endSet_}getIndexEndValue(){return ve(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ve(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Wo}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ve(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ii}copy(){const e=new b0;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function jw(n){const e={};if(n.isDefault())return e;let t;if(n.index_===ii?t="$priority":n.index_===S9?t="$value":n.index_===cu?t="$key":(ve(n.index_ instanceof E9,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=$n(t),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";e[i]=$n(n.indexStartValue_),n.startNameSet_&&(e[i]+=","+$n(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";e[i]=$n(n.indexEndValue_),n.endNameSet_&&(e[i]+=","+$n(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function qw(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;t===""&&(n.isViewFromLeft()?t="l":t="r"),e.vf=t}return n.index_!==ii&&(e.i=n.index_.toString()),e}class Tp extends f2{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:(ve(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,i,s){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=s,this.log_=Uh("p:rest:"),this.listens_={}}listen(e,t,i,s){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const u=Tp.getListenId_(e,i),h={};this.listens_[u]=h;const f=jw(e._queryParams);this.restRequest_(o+".json",f,(d,y)=>{let _=y;if(d===404&&(_=null,d=null),d===null&&this.onDataUpdate_(o,_,!1,i),du(this.listens_,u)===h){let E;d?d===401?E="permission_denied":E="rest_error:"+d:E="ok",s(E,null)}})}unlisten(e,t){const i=Tp.getListenId_(e,t);delete this.listens_[i]}get(e){const t=jw(e._queryParams),i=e._path.toString(),s=new wv;return this.restRequest_(i+".json",t,(o,u)=>{let h=u;o===404&&(h=null,o=null),o===null?(this.onDataUpdate_(i,h,!1,null),s.resolve(h)):s.reject(new Error(h))}),s.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,o])=>{s&&s.accessToken&&(t.auth=s.accessToken),o&&o.token&&(t.ac=o.token);const u=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Ru(t);this.log_("Sending REST request for "+u);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(i&&h.readyState===4){this.log_("REST Response for "+u+" received. status:",h.status,"response:",h.responseText);let f=null;if(h.status>=200&&h.status<300){try{f=ah(h.responseText)}catch{Fi("Failed to parse JSON response for "+u+": "+h.responseText)}i(null,f)}else h.status!==401&&h.status!==404&&Fi("Got unsuccessful REST response for "+u+" Status: "+h.status),i(h.status);i=null}},h.open("GET",u,!0),h.send()})}}class I9{constructor(){this.rootNode_=St.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function Sp(){return{value:null,children:new Map}}function w2(n,e,t){if(ot(e))n.value=t,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,t);else{const i=ct(e);n.children.has(i)||n.children.set(i,Sp());const s=n.children.get(i);e=Bt(e),w2(s,e,t)}}function $_(n,e,t){n.value!==null?t(e,n.value):O9(n,(i,s)=>{const o=new qt(e.toString()+"/"+i);$_(s,o,t)})}function O9(n,e){n.children.forEach((t,i)=>{e(i,t)})}class D9{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t={...e};return this.last_&&ur(this.last_,(i,s)=>{t[i]=t[i]-s}),this.last_=e,t}}const $w=10*1e3,N9=30*1e3,M9=300*1e3;class x9{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new D9(e);const i=$w+(N9-$w)*Math.random();Zc(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;ur(e,(s,o)=>{o>0&&Zs(this.statsToReport_,s)&&(t[s]=o,i=!0)}),i&&this.server_.reportStats(t),Zc(this.reportStats_.bind(this),Math.floor(Math.random()*2*M9))}}var $r;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})($r||($r={}));function C2(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function R2(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function A2(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class wp{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=$r.ACK_USER_WRITE,this.source=C2()}operationForChild(e){if(ot(this.path)){if(this.affectedTree.value!=null)return ve(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new qt(e));return new wp(Pt(),t,this.revert)}}else return ve(ct(this.path)===e,"operationForChild called for unrelated child."),new wp(Bt(this.path),this.affectedTree,this.revert)}}class Xo{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=$r.OVERWRITE}operationForChild(e){return ot(this.path)?new Xo(this.source,Pt(),this.snap.getImmediateChild(e)):new Xo(this.source,Bt(this.path),this.snap)}}class gh{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=$r.MERGE}operationForChild(e){if(ot(this.path)){const t=this.children.subtree(new qt(e));return t.isEmpty()?null:t.value?new Xo(this.source,Pt(),t.value):new gh(this.source,Pt(),t)}else return ve(ct(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new gh(this.source,Bt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class E0{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ot(e))return this.isFullyInitialized()&&!this.filtered_;const t=ct(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function P9(n,e,t,i){const s=[],o=[];return e.forEach(u=>{u.type==="child_changed"&&n.index_.indexedValueChanged(u.oldSnap,u.snapshotNode)&&o.push(A9(u.childName,u.snapshotNode))}),Vc(n,s,"child_removed",e,i,t),Vc(n,s,"child_added",e,i,t),Vc(n,s,"child_moved",o,i,t),Vc(n,s,"child_changed",e,i,t),Vc(n,s,"value",e,i,t),s}function Vc(n,e,t,i,s,o){const u=i.filter(h=>h.type===t);u.sort((h,f)=>L9(n,h,f)),u.forEach(h=>{const f=k9(n,h,o);s.forEach(d=>{d.respondsTo(h.type)&&e.push(d.createEvent(f,n.query_))})})}function k9(n,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function L9(n,e,t){if(e.childName==null||t.childName==null)throw Cu("Should only compare child_ events.");const i=new ht(e.childName,e.snapshotNode),s=new ht(t.childName,t.snapshotNode);return n.index_.compare(i,s)}function I2(n,e){return{eventCache:n,serverCache:e}}function eh(n,e,t,i){return I2(new E0(e,t,i),n.serverCache)}function O2(n,e,t,i){return I2(n.eventCache,new E0(e,t,i))}function G_(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Jo(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let $y;const V9=()=>($y||($y=new Ci(S5)),$y);class Ft{static fromObject(e){let t=new Ft(null);return ur(e,(i,s)=>{t=t.set(new qt(i),s)}),t}constructor(e,t=V9()){this.value=e,this.children=t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:Pt(),value:this.value};if(ot(e))return null;{const i=ct(e),s=this.children.get(i);if(s!==null){const o=s.findRootMostMatchingPathAndValue(Bt(e),t);return o!=null?{path:Un(new qt(i),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ot(e))return this;{const t=ct(e),i=this.children.get(t);return i!==null?i.subtree(Bt(e)):new Ft(null)}}set(e,t){if(ot(e))return new Ft(t,this.children);{const i=ct(e),o=(this.children.get(i)||new Ft(null)).set(Bt(e),t),u=this.children.insert(i,o);return new Ft(this.value,u)}}remove(e){if(ot(e))return this.children.isEmpty()?new Ft(null):new Ft(null,this.children);{const t=ct(e),i=this.children.get(t);if(i){const s=i.remove(Bt(e));let o;return s.isEmpty()?o=this.children.remove(t):o=this.children.insert(t,s),this.value===null&&o.isEmpty()?new Ft(null):new Ft(this.value,o)}else return this}}get(e){if(ot(e))return this.value;{const t=ct(e),i=this.children.get(t);return i?i.get(Bt(e)):null}}setTree(e,t){if(ot(e))return t;{const i=ct(e),o=(this.children.get(i)||new Ft(null)).setTree(Bt(e),t);let u;return o.isEmpty()?u=this.children.remove(i):u=this.children.insert(i,o),new Ft(this.value,u)}}fold(e){return this.fold_(Pt(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((s,o)=>{i[s]=o.fold_(Un(e,s),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,Pt(),t)}findOnPath_(e,t,i){const s=this.value?i(t,this.value):!1;if(s)return s;if(ot(e))return null;{const o=ct(e),u=this.children.get(o);return u?u.findOnPath_(Bt(e),Un(t,o),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Pt(),t)}foreachOnPath_(e,t,i){if(ot(e))return this;{this.value&&i(t,this.value);const s=ct(e),o=this.children.get(s);return o?o.foreachOnPath_(Bt(e),Un(t,s),i):new Ft(null)}}foreach(e){this.foreach_(Pt(),e)}foreach_(e,t){this.children.inorderTraversal((i,s)=>{s.foreach_(Un(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}class Ir{constructor(e){this.writeTree_=e}static empty(){return new Ir(new Ft(null))}}function th(n,e,t){if(ot(e))return new Ir(new Ft(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(i!=null){const s=i.path;let o=i.value;const u=ar(s,e);return o=o.updateChild(u,t),new Ir(n.writeTree_.set(s,o))}else{const s=new Ft(t),o=n.writeTree_.setTree(e,s);return new Ir(o)}}}function Gw(n,e,t){let i=n;return ur(t,(s,o)=>{i=th(i,Un(e,s),o)}),i}function Kw(n,e){if(ot(e))return Ir.empty();{const t=n.writeTree_.setTree(e,new Ft(null));return new Ir(t)}}function K_(n,e){return il(n,e)!=null}function il(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return t!=null?n.writeTree_.get(t.path).getChild(ar(t.path,e)):null}function Yw(n){const e=[],t=n.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(ii,(i,s)=>{e.push(new ht(i,s))}):n.writeTree_.children.inorderTraversal((i,s)=>{s.value!=null&&e.push(new ht(i,s.value))}),e}function Qa(n,e){if(ot(e))return n;{const t=il(n,e);return t!=null?new Ir(new Ft(t)):new Ir(n.writeTree_.subtree(e))}}function Y_(n){return n.writeTree_.isEmpty()}function Su(n,e){return D2(Pt(),n.writeTree_,e)}function D2(n,e,t){if(e.value!=null)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((s,o)=>{s===".priority"?(ve(o.value!==null,"Priority writes must always be leaf nodes"),i=o.value):t=D2(Un(n,s),o,t)}),!t.getChild(n).isEmpty()&&i!==null&&(t=t.updateChild(Un(n,".priority"),i)),t}}function N2(n,e){return L2(e,n)}function U9(n,e,t,i,s){ve(i>n.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:s}),s&&(n.visibleWrites=th(n.visibleWrites,e,t)),n.lastWriteId=i}function z9(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}function F9(n,e){const t=n.allWrites.findIndex(h=>h.writeId===e);ve(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let s=i.visible,o=!1,u=n.allWrites.length-1;for(;s&&u>=0;){const h=n.allWrites[u];h.visible&&(u>=t&&B9(h,i.path)?s=!1:Rr(i.path,h.path)&&(o=!0)),u--}if(s){if(o)return H9(n),!0;if(i.snap)n.visibleWrites=Kw(n.visibleWrites,i.path);else{const h=i.children;ur(h,f=>{n.visibleWrites=Kw(n.visibleWrites,Un(i.path,f))})}return!0}else return!1}function B9(n,e){if(n.snap)return Rr(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&Rr(Un(n.path,t),e))return!0;return!1}function H9(n){n.visibleWrites=M2(n.allWrites,j9,Pt()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function j9(n){return n.visible}function M2(n,e,t){let i=Ir.empty();for(let s=0;s<n.length;++s){const o=n[s];if(e(o)){const u=o.path;let h;if(o.snap)Rr(t,u)?(h=ar(t,u),i=th(i,h,o.snap)):Rr(u,t)&&(h=ar(u,t),i=th(i,Pt(),o.snap.getChild(h)));else if(o.children){if(Rr(t,u))h=ar(t,u),i=Gw(i,h,o.children);else if(Rr(u,t))if(h=ar(u,t),ot(h))i=Gw(i,Pt(),o.children);else{const f=du(o.children,ct(h));if(f){const d=f.getChild(Bt(h));i=th(i,Pt(),d)}}}else throw Cu("WriteRecord should have .snap or .children")}}return i}function x2(n,e,t,i,s){if(!i&&!s){const o=il(n.visibleWrites,e);if(o!=null)return o;{const u=Qa(n.visibleWrites,e);if(Y_(u))return t;if(t==null&&!K_(u,Pt()))return null;{const h=t||St.EMPTY_NODE;return Su(u,h)}}}else{const o=Qa(n.visibleWrites,e);if(!s&&Y_(o))return t;if(!s&&t==null&&!K_(o,Pt()))return null;{const u=function(d){return(d.visible||s)&&(!i||!~i.indexOf(d.writeId))&&(Rr(d.path,e)||Rr(e,d.path))},h=M2(n.allWrites,u,e),f=t||St.EMPTY_NODE;return Su(h,f)}}}function q9(n,e,t){let i=St.EMPTY_NODE;const s=il(n.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(ii,(o,u)=>{i=i.updateImmediateChild(o,u)}),i;if(t){const o=Qa(n.visibleWrites,e);return t.forEachChild(ii,(u,h)=>{const f=Su(Qa(o,new qt(u)),h);i=i.updateImmediateChild(u,f)}),Yw(o).forEach(u=>{i=i.updateImmediateChild(u.name,u.node)}),i}else{const o=Qa(n.visibleWrites,e);return Yw(o).forEach(u=>{i=i.updateImmediateChild(u.name,u.node)}),i}}function $9(n,e,t,i,s){ve(i||s,"Either existingEventSnap or existingServerSnap must exist");const o=Un(e,t);if(K_(n.visibleWrites,o))return null;{const u=Qa(n.visibleWrites,o);return Y_(u)?s.getChild(t):Su(u,s.getChild(t))}}function G9(n,e,t,i){const s=Un(e,t),o=il(n.visibleWrites,s);if(o!=null)return o;if(i.isCompleteForChild(t)){const u=Qa(n.visibleWrites,s);return Su(u,i.getNode().getImmediateChild(t))}else return null}function K9(n,e){return il(n.visibleWrites,e)}function Y9(n,e,t,i,s,o,u){let h;const f=Qa(n.visibleWrites,e),d=il(f,Pt());if(d!=null)h=d;else if(t!=null)h=Su(f,t);else return[];if(h=h.withIndex(u),!h.isEmpty()&&!h.isLeafNode()){const y=[],_=u.getCompare(),E=o?h.getReverseIteratorFrom(i,u):h.getIteratorFrom(i,u);let w=E.getNext();for(;w&&y.length<s;)_(w,i)!==0&&y.push(w),w=E.getNext();return y}else return[]}function Q9(){return{visibleWrites:Ir.empty(),allWrites:[],lastWriteId:-1}}function Q_(n,e,t,i){return x2(n.writeTree,n.treePath,e,t,i)}function P2(n,e){return q9(n.writeTree,n.treePath,e)}function Qw(n,e,t,i){return $9(n.writeTree,n.treePath,e,t,i)}function Cp(n,e){return K9(n.writeTree,Un(n.treePath,e))}function W9(n,e,t,i,s,o){return Y9(n.writeTree,n.treePath,e,t,i,s,o)}function T0(n,e,t){return G9(n.writeTree,n.treePath,e,t)}function k2(n,e){return L2(Un(n.treePath,e),n.writeTree)}function L2(n,e){return{treePath:n,writeTree:e}}class X9{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;ve(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),ve(i!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(i);if(s){const o=s.type;if(t==="child_added"&&o==="child_removed")this.changeMap.set(i,Hw(i,e.snapshotNode,s.snapshotNode));else if(t==="child_removed"&&o==="child_added")this.changeMap.delete(i);else if(t==="child_removed"&&o==="child_changed")this.changeMap.set(i,R9(i,s.oldSnap));else if(t==="child_changed"&&o==="child_added")this.changeMap.set(i,C9(i,e.snapshotNode));else if(t==="child_changed"&&o==="child_changed")this.changeMap.set(i,Hw(i,e.snapshotNode,s.oldSnap));else throw Cu("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}class J9{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}}const V2=new J9;class S0{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new E0(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return T0(this.writes_,e,i)}}getChildAfterChild(e,t,i){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Jo(this.viewCache_),o=W9(this.writes_,s,t,1,i,e);return o.length===0?null:o[0]}}function Z9(n,e){ve(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),ve(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function ez(n,e,t,i,s){const o=new X9;let u,h;if(t.type===$r.OVERWRITE){const d=t;d.source.fromUser?u=W_(n,e,d.path,d.snap,i,s,o):(ve(d.source.fromServer,"Unknown source."),h=d.source.tagged||e.serverCache.isFiltered()&&!ot(d.path),u=Rp(n,e,d.path,d.snap,i,s,h,o))}else if(t.type===$r.MERGE){const d=t;d.source.fromUser?u=nz(n,e,d.path,d.children,i,s,o):(ve(d.source.fromServer,"Unknown source."),h=d.source.tagged||e.serverCache.isFiltered(),u=X_(n,e,d.path,d.children,i,s,h,o))}else if(t.type===$r.ACK_USER_WRITE){const d=t;d.revert?u=sz(n,e,d.path,i,s,o):u=iz(n,e,d.path,d.affectedTree,i,s,o)}else if(t.type===$r.LISTEN_COMPLETE)u=rz(n,e,t.path,i,o);else throw Cu("Unknown operation type: "+t.type);const f=o.getChanges();return tz(e,u,f),{viewCache:u,changes:f}}function tz(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const s=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=G_(n);(t.length>0||!n.eventCache.isFullyInitialized()||s&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&t.push(w9(G_(e)))}}function U2(n,e,t,i,s,o){const u=e.eventCache;if(Cp(i,t)!=null)return e;{let h,f;if(ot(t))if(ve(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const d=Jo(e),y=d instanceof St?d:St.EMPTY_NODE,_=P2(i,y);h=n.filter.updateFullNode(e.eventCache.getNode(),_,o)}else{const d=Q_(i,Jo(e));h=n.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{const d=ct(t);if(d===".priority"){ve(io(t)===1,"Can't have a priority with additional path components");const y=u.getNode();f=e.serverCache.getNode();const _=Qw(i,t,y,f);_!=null?h=n.filter.updatePriority(y,_):h=u.getNode()}else{const y=Bt(t);let _;if(u.isCompleteForChild(d)){f=e.serverCache.getNode();const E=Qw(i,t,u.getNode(),f);E!=null?_=u.getNode().getImmediateChild(d).updateChild(y,E):_=u.getNode().getImmediateChild(d)}else _=T0(i,d,e.serverCache);_!=null?h=n.filter.updateChild(u.getNode(),d,_,y,s,o):h=u.getNode()}}return eh(e,h,u.isFullyInitialized()||ot(t),n.filter.filtersNodes())}}function Rp(n,e,t,i,s,o,u,h){const f=e.serverCache;let d;const y=u?n.filter:n.filter.getIndexedFilter();if(ot(t))d=y.updateFullNode(f.getNode(),i,null);else if(y.filtersNodes()&&!f.isFiltered()){const w=f.getNode().updateChild(t,i);d=y.updateFullNode(f.getNode(),w,null)}else{const w=ct(t);if(!f.isCompleteForPath(t)&&io(t)>1)return e;const I=Bt(t),A=f.getNode().getImmediateChild(w).updateChild(I,i);w===".priority"?d=y.updatePriority(f.getNode(),A):d=y.updateChild(f.getNode(),w,A,I,V2,null)}const _=O2(e,d,f.isFullyInitialized()||ot(t),y.filtersNodes()),E=new S0(s,_,o);return U2(n,_,t,s,E,h)}function W_(n,e,t,i,s,o,u){const h=e.eventCache;let f,d;const y=new S0(s,e,o);if(ot(t))d=n.filter.updateFullNode(e.eventCache.getNode(),i,u),f=eh(e,d,!0,n.filter.filtersNodes());else{const _=ct(t);if(_===".priority")d=n.filter.updatePriority(e.eventCache.getNode(),i),f=eh(e,d,h.isFullyInitialized(),h.isFiltered());else{const E=Bt(t),w=h.getNode().getImmediateChild(_);let I;if(ot(E))I=i;else{const O=y.getCompleteChild(_);O!=null?p2(E)===".priority"&&O.getChild(g2(E)).isEmpty()?I=O:I=O.updateChild(E,i):I=St.EMPTY_NODE}if(w.equals(I))f=e;else{const O=n.filter.updateChild(h.getNode(),_,I,E,y,u);f=eh(e,O,h.isFullyInitialized(),n.filter.filtersNodes())}}}return f}function Ww(n,e){return n.eventCache.isCompleteForChild(e)}function nz(n,e,t,i,s,o,u){let h=e;return i.foreach((f,d)=>{const y=Un(t,f);Ww(e,ct(y))&&(h=W_(n,h,y,d,s,o,u))}),i.foreach((f,d)=>{const y=Un(t,f);Ww(e,ct(y))||(h=W_(n,h,y,d,s,o,u))}),h}function Xw(n,e,t){return t.foreach((i,s)=>{e=e.updateChild(i,s)}),e}function X_(n,e,t,i,s,o,u,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let f=e,d;ot(t)?d=i:d=new Ft(null).setTree(t,i);const y=e.serverCache.getNode();return d.children.inorderTraversal((_,E)=>{if(y.hasChild(_)){const w=e.serverCache.getNode().getImmediateChild(_),I=Xw(n,w,E);f=Rp(n,f,new qt(_),I,s,o,u,h)}}),d.children.inorderTraversal((_,E)=>{const w=!e.serverCache.isCompleteForChild(_)&&E.value===null;if(!y.hasChild(_)&&!w){const I=e.serverCache.getNode().getImmediateChild(_),O=Xw(n,I,E);f=Rp(n,f,new qt(_),O,s,o,u,h)}}),f}function iz(n,e,t,i,s,o,u){if(Cp(s,t)!=null)return e;const h=e.serverCache.isFiltered(),f=e.serverCache;if(i.value!=null){if(ot(t)&&f.isFullyInitialized()||f.isCompleteForPath(t))return Rp(n,e,t,f.getNode().getChild(t),s,o,h,u);if(ot(t)){let d=new Ft(null);return f.getNode().forEachChild(cu,(y,_)=>{d=d.set(new qt(y),_)}),X_(n,e,t,d,s,o,h,u)}else return e}else{let d=new Ft(null);return i.foreach((y,_)=>{const E=Un(t,y);f.isCompleteForPath(E)&&(d=d.set(y,f.getNode().getChild(E)))}),X_(n,e,t,d,s,o,h,u)}}function rz(n,e,t,i,s){const o=e.serverCache,u=O2(e,o.getNode(),o.isFullyInitialized()||ot(t),o.isFiltered());return U2(n,u,t,i,V2,s)}function sz(n,e,t,i,s,o){let u;if(Cp(i,t)!=null)return e;{const h=new S0(i,e,s),f=e.eventCache.getNode();let d;if(ot(t)||ct(t)===".priority"){let y;if(e.serverCache.isFullyInitialized())y=Q_(i,Jo(e));else{const _=e.serverCache.getNode();ve(_ instanceof St,"serverChildren would be complete if leaf node"),y=P2(i,_)}y=y,d=n.filter.updateFullNode(f,y,o)}else{const y=ct(t);let _=T0(i,y,e.serverCache);_==null&&e.serverCache.isCompleteForChild(y)&&(_=f.getImmediateChild(y)),_!=null?d=n.filter.updateChild(f,y,_,Bt(t),h,o):e.eventCache.getNode().hasChild(y)?d=n.filter.updateChild(f,y,St.EMPTY_NODE,Bt(t),h,o):d=f,d.isEmpty()&&e.serverCache.isFullyInitialized()&&(u=Q_(i,Jo(e)),u.isLeafNode()&&(d=n.filter.updateFullNode(d,u,o)))}return u=e.serverCache.isFullyInitialized()||Cp(i,Pt())!=null,eh(e,d,u,n.filter.filtersNodes())}}function az(n,e){const t=Jo(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!ot(e)&&!t.getImmediateChild(ct(e)).isEmpty())?t.getChild(e):null}function Jw(n,e,t,i){e.type===$r.MERGE&&e.source.queryId!==null&&(ve(Jo(n.viewCache_),"We should always have a full cache before handling merges"),ve(G_(n.viewCache_),"Missing event cache, even though we have a server cache"));const s=n.viewCache_,o=ez(n.processor_,s,e,t,i);return Z9(n.processor_,o.viewCache),ve(o.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,oz(n,o.changes,o.viewCache.eventCache.getNode())}function oz(n,e,t,i){const s=n.eventRegistrations_;return P9(n.eventGenerator_,e,t,s)}let Zw;function lz(n){ve(!Zw,"__referenceConstructor has already been defined"),Zw=n}function w0(n,e,t,i){const s=e.source.queryId;if(s!==null){const o=n.views.get(s);return ve(o!=null,"SyncTree gave us an op for an invalid query."),Jw(o,e,t,i)}else{let o=[];for(const u of n.views.values())o=o.concat(Jw(u,e,t,i));return o}}function C0(n,e){let t=null;for(const i of n.views.values())t=t||az(i,e);return t}let eC;function uz(n){ve(!eC,"__referenceConstructor has already been defined"),eC=n}class tC{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ft(null),this.pendingWriteTree_=Q9(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function cz(n,e,t,i,s){return U9(n.pendingWriteTree_,e,t,i,s),s?mm(n,new Xo(C2(),e,t)):[]}function tu(n,e,t=!1){const i=z9(n.pendingWriteTree_,e);if(F9(n.pendingWriteTree_,e)){let o=new Ft(null);return i.snap!=null?o=o.set(Pt(),!0):ur(i.children,u=>{o=o.set(new qt(u),!0)}),mm(n,new wp(i.path,o,t))}else return[]}function pm(n,e,t){return mm(n,new Xo(R2(),e,t))}function hz(n,e,t){const i=Ft.fromObject(t);return mm(n,new gh(R2(),e,i))}function fz(n,e,t,i){const s=H2(n,i);if(s!=null){const o=j2(s),u=o.path,h=o.queryId,f=ar(u,e),d=new Xo(A2(h),f,t);return q2(n,u,d)}else return[]}function dz(n,e,t,i){const s=H2(n,i);if(s){const o=j2(s),u=o.path,h=o.queryId,f=ar(u,e),d=Ft.fromObject(t),y=new gh(A2(h),f,d);return q2(n,u,y)}else return[]}function z2(n,e,t){const s=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(e,(u,h)=>{const f=ar(u,e),d=C0(h,f);if(d)return d});return x2(s,e,o,t,!0)}function mm(n,e){return F2(e,n.syncPointTree_,null,N2(n.pendingWriteTree_,Pt()))}function F2(n,e,t,i){if(ot(n.path))return B2(n,e,t,i);{const s=e.get(Pt());t==null&&s!=null&&(t=C0(s,Pt()));let o=[];const u=ct(n.path),h=n.operationForChild(u),f=e.children.get(u);if(f&&h){const d=t?t.getImmediateChild(u):null,y=k2(i,u);o=o.concat(F2(h,f,d,y))}return s&&(o=o.concat(w0(s,n,i,t))),o}}function B2(n,e,t,i){const s=e.get(Pt());t==null&&s!=null&&(t=C0(s,Pt()));let o=[];return e.children.inorderTraversal((u,h)=>{const f=t?t.getImmediateChild(u):null,d=k2(i,u),y=n.operationForChild(u);y&&(o=o.concat(B2(y,h,f,d)))}),s&&(o=o.concat(w0(s,n,i,t))),o}function H2(n,e){return n.tagToQueryMap.get(e)}function j2(n){const e=n.indexOf("$");return ve(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new qt(n.substr(0,e))}}function q2(n,e,t){const i=n.syncPointTree_.get(e);ve(i,"Missing sync point for query tag that we're tracking");const s=N2(n.pendingWriteTree_,e);return w0(i,t,s,null)}class R0{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new R0(t)}node(){return this.node_}}class A0{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Un(this.path_,e);return new A0(this.syncTree_,t)}node(){return z2(this.syncTree_,this.path_)}}const pz=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},nC=function(n,e,t){if(!n||typeof n!="object")return n;if(ve(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return mz(n[".sv"],e,t);if(typeof n[".sv"]=="object")return gz(n[".sv"],e);ve(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},mz=function(n,e,t){switch(n){case"timestamp":return t.timestamp;default:ve(!1,"Unexpected server value: "+n)}},gz=function(n,e,t){n.hasOwnProperty("increment")||ve(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;typeof i!="number"&&ve(!1,"Unexpected increment value: "+i);const s=e.node();if(ve(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return i;const u=s.getValue();return typeof u!="number"?i:u+i},yz=function(n,e,t,i){return I0(e,new A0(t,n),i)},_z=function(n,e,t){return I0(n,new R0(e),t)};function I0(n,e,t){const i=n.getPriority().val(),s=nC(i,e.getImmediateChild(".priority"),t);let o;if(n.isLeafNode()){const u=n,h=nC(u.getValue(),e,t);return h!==u.getValue()||s!==u.getPriority().val()?new kn(h,ni(s)):n}else{const u=n;return o=u,s!==u.getPriority().val()&&(o=o.updatePriority(new kn(s))),u.forEachChild(ii,(h,f)=>{const d=I0(f,e.getImmediateChild(h),t);d!==f&&(o=o.updateImmediateChild(h,d))}),o}}class O0{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function D0(n,e){let t=e instanceof qt?e:new qt(e),i=n,s=ct(t);for(;s!==null;){const o=du(i.node.children,s)||{children:{},childCount:0};i=new O0(s,i,o),t=Bt(t),s=ct(t)}return i}function xu(n){return n.node.value}function $2(n,e){n.node.value=e,J_(n)}function G2(n){return n.node.childCount>0}function vz(n){return xu(n)===void 0&&!G2(n)}function gm(n,e){ur(n.node.children,(t,i)=>{e(new O0(t,n,i))})}function K2(n,e,t,i){t&&e(n),gm(n,s=>{K2(s,e,!0)})}function bz(n,e,t){let i=n.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function Bh(n){return new qt(n.parent===null?n.name:Bh(n.parent)+"/"+n.name)}function J_(n){n.parent!==null&&Ez(n.parent,n.name,n)}function Ez(n,e,t){const i=vz(t),s=Zs(n.node.children,e);i&&s?(delete n.node.children[e],n.node.childCount--,J_(n)):!i&&!s&&(n.node.children[e]=t.node,n.node.childCount++,J_(n))}const Tz=/[\[\].#$\/\u0000-\u001F\u007F]/,Sz=/[\[\].#$\u0000-\u001F\u007F]/,Gy=10*1024*1024,Y2=function(n){return typeof n=="string"&&n.length!==0&&!Tz.test(n)},wz=function(n){return typeof n=="string"&&n.length!==0&&!Sz.test(n)},Cz=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),wz(n)},Q2=function(n,e,t){const i=t instanceof qt?new r9(t,n):t;if(e===void 0)throw new Error(n+"contains undefined "+Lo(i));if(typeof e=="function")throw new Error(n+"contains a function "+Lo(i)+" with contents = "+e.toString());if(KI(e))throw new Error(n+"contains "+e.toString()+" "+Lo(i));if(typeof e=="string"&&e.length>Gy/3&&jp(e)>Gy)throw new Error(n+"contains a string greater than "+Gy+" utf8 bytes "+Lo(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,o=!1;if(ur(e,(u,h)=>{if(u===".value")s=!0;else if(u!==".priority"&&u!==".sv"&&(o=!0,!Y2(u)))throw new Error(n+" contains an invalid key ("+u+") "+Lo(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);s9(i,u),Q2(n,h,i),a9(i)}),s&&o)throw new Error(n+' contains ".value" child '+Lo(i)+" in addition to actual children.")}},Rz=function(n,e){const t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Y2(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!Cz(t))throw new Error(dk(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};class Az{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Iz(n,e){let t=null;for(let i=0;i<e.length;i++){const s=e[i],o=s.getPath();t!==null&&!y2(o,t.path)&&(n.eventLists_.push(t),t=null),t===null&&(t={events:[],path:o}),t.events.push(s)}t&&n.eventLists_.push(t)}function rl(n,e,t){Iz(n,t),Oz(n,i=>Rr(i,e)||Rr(e,i))}function Oz(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const s=n.eventLists_[i];if(s){const o=s.path;e(o)?(Dz(n.eventLists_[i]),n.eventLists_[i]=null):t=!1}}t&&(n.eventLists_=[]),n.recursionDepth_--}function Dz(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(t!==null){n.events[e]=null;const i=t.getEventRunner();Jc&&ti("event: "+t.toString()),zh(i)}}}const Nz="repo_interrupt",Mz=25;class xz{constructor(e,t,i,s){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Az,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Sp(),this.transactionQueueTree_=new O0,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Pz(n,e,t){if(n.stats_=g0(n.repoInfo_),n.forceRestClient_||O5())n.server_=new Tp(n.repoInfo_,(i,s,o,u)=>{iC(n,i,s,o,u)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>rC(n,!0),0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{$n(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Fs(n.repoInfo_,e,(i,s,o,u)=>{iC(n,i,s,o,u)},i=>{rC(n,i)},i=>{Lz(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=P5(n.repoInfo_,()=>new x9(n.stats_,n.server_)),n.infoData_=new I9,n.infoSyncTree_=new tC({startListening:(i,s,o,u)=>{let h=[];const f=n.infoData_.getNode(i._path);return f.isEmpty()||(h=pm(n.infoSyncTree_,i._path,f),setTimeout(()=>{u("ok")},0)),h},stopListening:()=>{}}),N0(n,"connected",!1),n.serverSyncTree_=new tC({startListening:(i,s,o,u)=>(n.server_.listen(i,o,s,(h,f)=>{const d=u(h,f);rl(n.eventQueue_,i._path,d)}),[]),stopListening:(i,s)=>{n.server_.unlisten(i,s)}})}function kz(n){const t=n.infoData_.getNode(new qt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function W2(n){return pz({timestamp:kz(n)})}function iC(n,e,t,i,s){n.dataUpdateCount++;const o=new qt(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let u=[];if(s)if(i){const f=Xd(t,d=>ni(d));u=dz(n.serverSyncTree_,o,f,s)}else{const f=ni(t);u=fz(n.serverSyncTree_,o,f,s)}else if(i){const f=Xd(t,d=>ni(d));u=hz(n.serverSyncTree_,o,f)}else{const f=ni(t);u=pm(n.serverSyncTree_,o,f)}let h=o;u.length>0&&(h=x0(n,o)),rl(n.eventQueue_,h,u)}function rC(n,e){N0(n,"connected",e),e===!1&&Uz(n)}function Lz(n,e){ur(e,(t,i)=>{N0(n,t,i)})}function N0(n,e,t){const i=new qt("/.info/"+e),s=ni(t);n.infoData_.updateSnapshot(i,s);const o=pm(n.infoSyncTree_,i,s);rl(n.eventQueue_,i,o)}function Vz(n){return n.nextWriteId_++}function Uz(n){X2(n,"onDisconnectEvents");const e=W2(n),t=Sp();$_(n.onDisconnect_,Pt(),(s,o)=>{const u=yz(s,o,n.serverSyncTree_,e);w2(t,s,u)});let i=[];$_(t,Pt(),(s,o)=>{i=i.concat(pm(n.serverSyncTree_,s,o));const u=Hz(n,s);x0(n,u)}),n.onDisconnect_=Sp(),rl(n.eventQueue_,Pt(),i)}function zz(n){n.persistentConnection_&&n.persistentConnection_.interrupt(Nz)}function X2(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),ti(t,...e)}function J2(n,e,t){return z2(n.serverSyncTree_,e,t)||St.EMPTY_NODE}function M0(n,e=n.transactionQueueTree_){if(e||ym(n,e),xu(e)){const t=eO(n,e);ve(t.length>0,"Sending zero length transaction queue"),t.every(s=>s.status===0)&&Fz(n,Bh(e),t)}else G2(e)&&gm(e,t=>{M0(n,t)})}function Fz(n,e,t){const i=t.map(d=>d.currentWriteId),s=J2(n,e,i);let o=s;const u=s.hash();for(let d=0;d<t.length;d++){const y=t[d];ve(y.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),y.status=1,y.retryCount++;const _=ar(e,y.path);o=o.updateChild(_,y.currentOutputSnapshotRaw)}const h=o.val(!0),f=e;n.server_.put(f.toString(),h,d=>{X2(n,"transaction put response",{path:f.toString(),status:d});let y=[];if(d==="ok"){const _=[];for(let E=0;E<t.length;E++)t[E].status=2,y=y.concat(tu(n.serverSyncTree_,t[E].currentWriteId)),t[E].onComplete&&_.push(()=>t[E].onComplete(null,!0,t[E].currentOutputSnapshotResolved)),t[E].unwatcher();ym(n,D0(n.transactionQueueTree_,e)),M0(n,n.transactionQueueTree_),rl(n.eventQueue_,e,y);for(let E=0;E<_.length;E++)zh(_[E])}else{if(d==="datastale")for(let _=0;_<t.length;_++)t[_].status===3?t[_].status=4:t[_].status=0;else{Fi("transaction at "+f.toString()+" failed: "+d);for(let _=0;_<t.length;_++)t[_].status=4,t[_].abortReason=d}x0(n,e)}},u)}function x0(n,e){const t=Z2(n,e),i=Bh(t),s=eO(n,t);return Bz(n,s,i),i}function Bz(n,e,t){if(e.length===0)return;const i=[];let s=[];const u=e.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const f=e[h],d=ar(t,f.path);let y=!1,_;if(ve(d!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),f.status===4)y=!0,_=f.abortReason,s=s.concat(tu(n.serverSyncTree_,f.currentWriteId,!0));else if(f.status===0)if(f.retryCount>=Mz)y=!0,_="maxretry",s=s.concat(tu(n.serverSyncTree_,f.currentWriteId,!0));else{const E=J2(n,f.path,u);f.currentInputSnapshot=E;const w=e[h].update(E.val());if(w!==void 0){Q2("transaction failed: Data returned ",w,f.path);let I=ni(w);typeof w=="object"&&w!=null&&Zs(w,".priority")||(I=I.updatePriority(E.getPriority()));const A=f.currentWriteId,U=W2(n),V=_z(I,E,U);f.currentOutputSnapshotRaw=I,f.currentOutputSnapshotResolved=V,f.currentWriteId=Vz(n),u.splice(u.indexOf(A),1),s=s.concat(cz(n.serverSyncTree_,f.path,V,f.currentWriteId,f.applyLocally)),s=s.concat(tu(n.serverSyncTree_,A,!0))}else y=!0,_="nodata",s=s.concat(tu(n.serverSyncTree_,f.currentWriteId,!0))}rl(n.eventQueue_,t,s),s=[],y&&(e[h].status=2,(function(E){setTimeout(E,Math.floor(0))})(e[h].unwatcher),e[h].onComplete&&(_==="nodata"?i.push(()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot)):i.push(()=>e[h].onComplete(new Error(_),!1,null))))}ym(n,n.transactionQueueTree_);for(let h=0;h<i.length;h++)zh(i[h]);M0(n,n.transactionQueueTree_)}function Z2(n,e){let t,i=n.transactionQueueTree_;for(t=ct(e);t!==null&&xu(i)===void 0;)i=D0(i,t),e=Bt(e),t=ct(e);return i}function eO(n,e){const t=[];return tO(n,e,t),t.sort((i,s)=>i.order-s.order),t}function tO(n,e,t){const i=xu(e);if(i)for(let s=0;s<i.length;s++)t.push(i[s]);gm(e,s=>{tO(n,s,t)})}function ym(n,e){const t=xu(e);if(t){let i=0;for(let s=0;s<t.length;s++)t[s].status!==2&&(t[i]=t[s],i++);t.length=i,$2(e,t.length>0?t:void 0)}gm(e,i=>{ym(n,i)})}function Hz(n,e){const t=Bh(Z2(n,e)),i=D0(n.transactionQueueTree_,e);return bz(i,s=>{Ky(n,s)}),Ky(n,i),K2(i,s=>{Ky(n,s)}),t}function Ky(n,e){const t=xu(e);if(t){const i=[];let s=[],o=-1;for(let u=0;u<t.length;u++)t[u].status===3||(t[u].status===1?(ve(o===u-1,"All SENT items should be at beginning of queue."),o=u,t[u].status=3,t[u].abortReason="set"):(ve(t[u].status===0,"Unexpected transaction status in abort"),t[u].unwatcher(),s=s.concat(tu(n.serverSyncTree_,t[u].currentWriteId,!0)),t[u].onComplete&&i.push(t[u].onComplete.bind(null,new Error("set"),!1,null))));o===-1?$2(e,void 0):t.length=o+1,rl(n.eventQueue_,Bh(e),s);for(let u=0;u<i.length;u++)zh(i[u])}}function jz(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let s=t[i];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function qz(n){const e={};n.charAt(0)==="?"&&(n=n.substring(1));for(const t of n.split("&")){if(t.length===0)continue;const i=t.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Fi(`Invalid query segment '${t}' in query '${n}'`)}return e}const sC=function(n,e){const t=$z(n),i=t.namespace;t.domain==="firebase.com"&&Ws(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&t.domain!=="localhost"&&Ws("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||E5();const s=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new s2(t.host,t.secure,i,s,e,"",i!==t.subdomain),path:new qt(t.pathString)}},$z=function(n){let e="",t="",i="",s="",o="",u=!0,h="https",f=443;if(typeof n=="string"){let d=n.indexOf("//");d>=0&&(h=n.substring(0,d-1),n=n.substring(d+2));let y=n.indexOf("/");y===-1&&(y=n.length);let _=n.indexOf("?");_===-1&&(_=n.length),e=n.substring(0,Math.min(y,_)),y<_&&(s=jz(n.substring(y,_)));const E=qz(n.substring(Math.min(n.length,_)));d=e.indexOf(":"),d>=0?(u=h==="https"||h==="wss",f=parseInt(e.substring(d+1),10)):d=e.length;const w=e.slice(0,d);if(w.toLowerCase()==="localhost")t="localhost";else if(w.split(".").length<=2)t=w;else{const I=e.indexOf(".");i=e.substring(0,I).toLowerCase(),t=e.substring(I+1),o=i}"ns"in E&&(o=E.ns)}return{host:e,port:f,domain:t,subdomain:i,secure:u,scheme:h,pathString:s,namespace:o}};class P0{constructor(e,t,i,s){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=s}get key(){return ot(this._path)?null:p2(this._path)}get ref(){return new Pu(this._repo,this._path)}get _queryIdentifier(){const e=qw(this._queryParams),t=p0(e);return t==="{}"?"default":t}get _queryObject(){return qw(this._queryParams)}isEqual(e){if(e=Kn(e),!(e instanceof P0))return!1;const t=this._repo===e._repo,i=y2(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return t&&i&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+i9(this._path)}}class Pu extends P0{constructor(e,t){super(e,t,new b0,!1)}get parent(){const e=g2(this._path);return e===null?null:new Pu(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}lz(Pu);uz(Pu);const Gz="FIREBASE_DATABASE_EMULATOR_HOST",Z_={};let Kz=!1;function Yz(n,e,t,i){const s=e.lastIndexOf(":"),o=e.substring(0,s),u=Js(o);n.repoInfo_=new s2(e,u,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0,t),i&&(n.authTokenProvider_=i)}function Qz(n,e,t,i,s){let o=i||n.options.databaseURL;o===void 0&&(n.options.projectId||Ws("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ti("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let u=sC(o,s),h=u.repoInfo,f;typeof process<"u"&&Cw&&(f=Cw[Gz]),f?(o=`http://${f}?ns=${h.namespace}`,u=sC(o,s),h=u.repoInfo):u.repoInfo.secure;const d=new N5(n.name,n.options,e);Rz("Invalid Firebase Database URL",u),ot(u.path)||Ws("Database URL must point to the root of a Firebase Database (not including a child path).");const y=Xz(h,n,d,new D5(n,t));return new Jz(y,n)}function Wz(n,e){const t=Z_[e];(!t||t[n.key]!==n)&&Ws(`Database ${e}(${n.repoInfo_}) has already been deleted.`),zz(n),delete t[n.key]}function Xz(n,e,t,i){let s=Z_[e.name];s||(s={},Z_[e.name]=s);let o=s[n.toURLString()];return o&&Ws("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new xz(n,Kz,t,i),s[n.toURLString()]=o,o}class Jz{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Pz(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Pu(this._repo,Pt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Wz(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Ws("Cannot call "+e+" on a deleted database.")}}function Zz(n=$p(),e){const t=Rh(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const i=Sv("database");i&&eF(t,...i)}return t}function eF(n,e,t,i={}){n=Kn(n),n._checkNotDeleted("useEmulator");const s=`${e}:${t}`,o=n._repoInternal;if(n._instanceStarted){if(s===n._repoInternal.repoInfo_.host&&js(i,o.repoInfo_.emulatorOptions))return;Ws("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let u;if(o.repoInfo_.nodeAdmin)i.mockUserToken&&Ws('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),u=new Bd(Bd.OWNER);else if(i.mockUserToken){const h=typeof i.mockUserToken=="string"?i.mockUserToken:Cv(i.mockUserToken,n.app.options.projectId);u=new Bd(h)}Js(e)&&(Bp(e),Hp("Database",!0)),Yz(o,s,i,u)}function tF(n){m5(ao),Wa(new qs("database",(e,{instanceIdentifier:t})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return Qz(i,s,o,t)},"PUBLIC").setMultipleInstances(!0)),or(Rw,Aw,n),or(Rw,Aw,"esm2020")}Fs.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};Fs.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};tF();const nF={apiKey:"AIzaSyBf3h-x62vL8UhFi3x4UpJAP4faAeBpLNE",authDomain:"studytogether-14a65.firebaseapp.com",projectId:"studytogether-14a65",storageBucket:"studytogether-14a65.firebasestorage.app",messagingSenderId:"917416581658",appId:"1:917416581658:web:f8241b3045555660d30fa3"},_m=OR(nF),iF=b4(_m),$o=EU(_m);Zz(_m);h5(_m);const rF="_GoogleButton_8qn3y_1",sF={GoogleButton:rF};function aF(){const n=fu(t=>t.setUser),e=async()=>{const t=new ks;try{const i=await OV(iF,t),s=i.user;if(console.log("Signed in user:",s),n(s),i._tokenResponse?.isNewUser){console.log("new user");const o=ou($o,"userStuff",s.uid);await ph(o,{name:s.displayName,photoURL:s.photoURL||null,chats:[],listings:[]})}}catch(i){console.error("Login error:",i)}};return _e.jsx("button",{onClick:e,className:sF.GoogleButton,children:"Log in"})}function oF(){return fu(n=>n.user),_e.jsx("h1",{children:"Home"})}const lF="_bar_11eg0_1",uF="_authButtonContainer_11eg0_5",cF="_logo_11eg0_9",hF="_homeButton_11eg0_12",fF="_headerButton_11eg0_19",La={bar:lF,authButtonContainer:uF,logo:cF,homeButton:hF,headerButton:fF};function dF(){const n=fu(o=>o.user),e=fu(o=>o.setUser),t=yv(),i=()=>{e(null),t("/")};L.useEffect(()=>{console.log(n),console.log("change in user")},[n]);function s(){n==null?ft.warn("Sorry, you don't seem to be logged in right now"):t("/mysessions")}return _e.jsxs("div",{className:La.bar,children:[_e.jsx("button",{className:La.homeButton,onClick:()=>t("/"),children:_e.jsx("img",{src:"/studyTogetherLogo.png",alt:"home",className:La.logo})}),_e.jsx("button",{className:La.headerButton,onClick:()=>t("/create"),children:"create listing"}),_e.jsx("button",{className:La.headerButton,onClick:()=>t("/browse"),children:"browse listings"}),_e.jsx("button",{className:La.headerButton,onClick:()=>s(),children:"my sessions"}),_e.jsx("div",{className:La.authButtonContainer,children:n?_e.jsx("button",{onClick:i,className:La.homeButton,children:"logout"}):_e.jsx(aF,{})})]})}const pF={};function mF(){return _e.jsx("div",{className:pF.bar,children:_e.jsx("p",{children:"Created by Caleb Craig"})})}const gF="_Header_1suuh_1",yF="_Footer_1suuh_10",_F="_fullContainer_1suuh_19",bd={Header:gF,Footer:yF,fullContainer:_F};function vF(){const n=L.useRef(null);return _e.jsxs("div",{className:bd.fullContainer,children:[_e.jsx("div",{className:bd.Header,children:_e.jsx(dF,{scrollTargetRef:n})}),_e.jsx("main",{ref:n,className:bd.main,children:_e.jsx(fx,{})}),_e.jsx("div",{className:bd.Footer,children:_e.jsx(mF,{scrollTargetRef:n})})]})}function Zo(n){"@babel/helpers - typeof";return Zo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zo(n)}function bF(n,e){if(Zo(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(Zo(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function nO(n){var e=bF(n,"string");return Zo(e)=="symbol"?e:e+""}function $c(n,e,t){return(e=nO(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function aC(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,i)}return t}function Ve(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?aC(Object(t),!0).forEach(function(i){$c(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):aC(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function EF(n){if(Array.isArray(n))return n}function TF(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,s,o,u,h=[],f=!0,d=!1;try{if(o=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;f=!1}else for(;!(f=(i=o.call(t)).done)&&(h.push(i.value),h.length!==e);f=!0);}catch(y){d=!0,s=y}finally{try{if(!f&&t.return!=null&&(u=t.return(),Object(u)!==u))return}finally{if(d)throw s}}return h}}function ev(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=Array(e);t<e;t++)i[t]=n[t];return i}function iO(n,e){if(n){if(typeof n=="string")return ev(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?ev(n,e):void 0}}function SF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bs(n,e){return EF(n)||TF(n,e)||iO(n,e)||SF()}function wF(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function ea(n,e){if(n==null)return{};var t,i,s=wF(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)t=o[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(s[t]=n[t])}return s}var CF=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function RF(n){var e=n.defaultInputValue,t=e===void 0?"":e,i=n.defaultMenuIsOpen,s=i===void 0?!1:i,o=n.defaultValue,u=o===void 0?null:o,h=n.inputValue,f=n.menuIsOpen,d=n.onChange,y=n.onInputChange,_=n.onMenuClose,E=n.onMenuOpen,w=n.value,I=ea(n,CF),O=L.useState(h!==void 0?h:t),A=Bs(O,2),U=A[0],V=A[1],z=L.useState(f!==void 0?f:s),Q=Bs(z,2),j=Q[0],ie=Q[1],S=L.useState(w!==void 0?w:u),C=Bs(S,2),x=C[0],N=C[1],k=L.useCallback(function(me,xe){typeof d=="function"&&d(me,xe),N(me)},[d]),P=L.useCallback(function(me,xe){var ze;typeof y=="function"&&(ze=y(me,xe)),V(ze!==void 0?ze:me)},[y]),M=L.useCallback(function(){typeof E=="function"&&E(),ie(!0)},[E]),pe=L.useCallback(function(){typeof _=="function"&&_(),ie(!1)},[_]),ge=h!==void 0?h:U,K=f!==void 0?f:j,re=w!==void 0?w:x;return Ve(Ve({},I),{},{inputValue:ge,menuIsOpen:K,onChange:k,onInputChange:P,onMenuClose:pe,onMenuOpen:M,value:re})}function Fe(){return Fe=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Fe.apply(null,arguments)}function AF(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function oC(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,nO(i.key),i)}}function IF(n,e,t){return e&&oC(n.prototype,e),t&&oC(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function tv(n,e){return tv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},tv(n,e)}function OF(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&tv(n,e)}function Ap(n){return Ap=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ap(n)}function rO(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rO=function(){return!!n})()}function DF(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function NF(n,e){if(e&&(Zo(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DF(n)}function MF(n){var e=rO();return function(){var t,i=Ap(n);if(e){var s=Ap(this).constructor;t=Reflect.construct(i,arguments,s)}else t=i.apply(this,arguments);return NF(this,t)}}function xF(n){if(Array.isArray(n))return ev(n)}function PF(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function kF(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k0(n){return xF(n)||PF(n)||iO(n)||kF()}function LF(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function VF(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var UF=(function(){function n(t){var i=this;this._insertTag=function(s){var o;i.tags.length===0?i.insertionPoint?o=i.insertionPoint.nextSibling:i.prepend?o=i.container.firstChild:o=i.before:o=i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(s,o),i.tags.push(s)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(i){i.forEach(this._insertTag)},e.insert=function(i){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(VF(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var o=LF(s);try{o.insertRule(i,o.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(i));this.ctr++},e.flush=function(){this.tags.forEach(function(i){var s;return(s=i.parentNode)==null?void 0:s.removeChild(i)}),this.tags=[],this.ctr=0},n})(),Jn="-ms-",Ip="-moz-",bt="-webkit-",sO="comm",L0="rule",V0="decl",zF="@import",aO="@keyframes",FF="@layer",BF=Math.abs,vm=String.fromCharCode,HF=Object.assign;function jF(n,e){return qn(n,0)^45?(((e<<2^qn(n,0))<<2^qn(n,1))<<2^qn(n,2))<<2^qn(n,3):0}function oO(n){return n.trim()}function qF(n,e){return(n=e.exec(n))?n[0]:n}function Et(n,e,t){return n.replace(e,t)}function nv(n,e){return n.indexOf(e)}function qn(n,e){return n.charCodeAt(e)|0}function yh(n,e,t){return n.slice(e,t)}function jr(n){return n.length}function U0(n){return n.length}function Ed(n,e){return e.push(n),n}function $F(n,e){return n.map(e).join("")}var bm=1,wu=1,lO=0,Ri=0,Sn=0,ku="";function Em(n,e,t,i,s,o,u){return{value:n,root:e,parent:t,type:i,props:s,children:o,line:bm,column:wu,length:u,return:""}}function Uc(n,e){return HF(Em("",null,null,"",null,null,0),n,{length:-n.length},e)}function GF(){return Sn}function KF(){return Sn=Ri>0?qn(ku,--Ri):0,wu--,Sn===10&&(wu=1,bm--),Sn}function Bi(){return Sn=Ri<lO?qn(ku,Ri++):0,wu++,Sn===10&&(wu=1,bm++),Sn}function Zr(){return qn(ku,Ri)}function Hd(){return Ri}function Hh(n,e){return yh(ku,n,e)}function _h(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function uO(n){return bm=wu=1,lO=jr(ku=n),Ri=0,[]}function cO(n){return ku="",n}function jd(n){return oO(Hh(Ri-1,iv(n===91?n+2:n===40?n+1:n)))}function YF(n){for(;(Sn=Zr())&&Sn<33;)Bi();return _h(n)>2||_h(Sn)>3?"":" "}function QF(n,e){for(;--e&&Bi()&&!(Sn<48||Sn>102||Sn>57&&Sn<65||Sn>70&&Sn<97););return Hh(n,Hd()+(e<6&&Zr()==32&&Bi()==32))}function iv(n){for(;Bi();)switch(Sn){case n:return Ri;case 34:case 39:n!==34&&n!==39&&iv(Sn);break;case 40:n===41&&iv(n);break;case 92:Bi();break}return Ri}function WF(n,e){for(;Bi()&&n+Sn!==57;)if(n+Sn===84&&Zr()===47)break;return"/*"+Hh(e,Ri-1)+"*"+vm(n===47?n:Bi())}function XF(n){for(;!_h(Zr());)Bi();return Hh(n,Ri)}function JF(n){return cO(qd("",null,null,null,[""],n=uO(n),0,[0],n))}function qd(n,e,t,i,s,o,u,h,f){for(var d=0,y=0,_=u,E=0,w=0,I=0,O=1,A=1,U=1,V=0,z="",Q=s,j=o,ie=i,S=z;A;)switch(I=V,V=Bi()){case 40:if(I!=108&&qn(S,_-1)==58){nv(S+=Et(jd(V),"&","&\f"),"&\f")!=-1&&(U=-1);break}case 34:case 39:case 91:S+=jd(V);break;case 9:case 10:case 13:case 32:S+=YF(I);break;case 92:S+=QF(Hd()-1,7);continue;case 47:switch(Zr()){case 42:case 47:Ed(ZF(WF(Bi(),Hd()),e,t),f);break;default:S+="/"}break;case 123*O:h[d++]=jr(S)*U;case 125*O:case 59:case 0:switch(V){case 0:case 125:A=0;case 59+y:U==-1&&(S=Et(S,/\f/g,"")),w>0&&jr(S)-_&&Ed(w>32?uC(S+";",i,t,_-1):uC(Et(S," ","")+";",i,t,_-2),f);break;case 59:S+=";";default:if(Ed(ie=lC(S,e,t,d,y,s,h,z,Q=[],j=[],_),o),V===123)if(y===0)qd(S,e,ie,ie,Q,o,_,h,j);else switch(E===99&&qn(S,3)===110?100:E){case 100:case 108:case 109:case 115:qd(n,ie,ie,i&&Ed(lC(n,ie,ie,0,0,s,h,z,s,Q=[],_),j),s,j,_,h,i?Q:j);break;default:qd(S,ie,ie,ie,[""],j,0,h,j)}}d=y=w=0,O=U=1,z=S="",_=u;break;case 58:_=1+jr(S),w=I;default:if(O<1){if(V==123)--O;else if(V==125&&O++==0&&KF()==125)continue}switch(S+=vm(V),V*O){case 38:U=y>0?1:(S+="\f",-1);break;case 44:h[d++]=(jr(S)-1)*U,U=1;break;case 64:Zr()===45&&(S+=jd(Bi())),E=Zr(),y=_=jr(z=S+=XF(Hd())),V++;break;case 45:I===45&&jr(S)==2&&(O=0)}}return o}function lC(n,e,t,i,s,o,u,h,f,d,y){for(var _=s-1,E=s===0?o:[""],w=U0(E),I=0,O=0,A=0;I<i;++I)for(var U=0,V=yh(n,_+1,_=BF(O=u[I])),z=n;U<w;++U)(z=oO(O>0?E[U]+" "+V:Et(V,/&\f/g,E[U])))&&(f[A++]=z);return Em(n,e,t,s===0?L0:h,f,d,y)}function ZF(n,e,t){return Em(n,e,t,sO,vm(GF()),yh(n,2,-2),0)}function uC(n,e,t,i){return Em(n,e,t,V0,yh(n,0,i),yh(n,i+1,-1),i)}function hu(n,e){for(var t="",i=U0(n),s=0;s<i;s++)t+=e(n[s],s,n,e)||"";return t}function e8(n,e,t,i){switch(n.type){case FF:if(n.children.length)break;case zF:case V0:return n.return=n.return||n.value;case sO:return"";case aO:return n.return=n.value+"{"+hu(n.children,i)+"}";case L0:n.value=n.props.join(",")}return jr(t=hu(n.children,i))?n.return=n.value+"{"+t+"}":""}function t8(n){var e=U0(n);return function(t,i,s,o){for(var u="",h=0;h<e;h++)u+=n[h](t,i,s,o)||"";return u}}function n8(n){return function(e){e.root||(e=e.return)&&n(e)}}function i8(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var r8=function(e,t,i){for(var s=0,o=0;s=o,o=Zr(),s===38&&o===12&&(t[i]=1),!_h(o);)Bi();return Hh(e,Ri)},s8=function(e,t){var i=-1,s=44;do switch(_h(s)){case 0:s===38&&Zr()===12&&(t[i]=1),e[i]+=r8(Ri-1,t,i);break;case 2:e[i]+=jd(s);break;case 4:if(s===44){e[++i]=Zr()===58?"&\f":"",t[i]=e[i].length;break}default:e[i]+=vm(s)}while(s=Bi());return e},a8=function(e,t){return cO(s8(uO(e),t))},cC=new WeakMap,o8=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,i=e.parent,s=e.column===i.column&&e.line===i.line;i.type!=="rule";)if(i=i.parent,!i)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!cC.get(i))&&!s){cC.set(e,!0);for(var o=[],u=a8(t,o),h=i.props,f=0,d=0;f<u.length;f++)for(var y=0;y<h.length;y++,d++)e.props[d]=o[f]?u[f].replace(/&\f/g,h[y]):h[y]+" "+u[f]}}},l8=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function hO(n,e){switch(jF(n,e)){case 5103:return bt+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return bt+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return bt+n+Ip+n+Jn+n+n;case 6828:case 4268:return bt+n+Jn+n+n;case 6165:return bt+n+Jn+"flex-"+n+n;case 5187:return bt+n+Et(n,/(\w+).+(:[^]+)/,bt+"box-$1$2"+Jn+"flex-$1$2")+n;case 5443:return bt+n+Jn+"flex-item-"+Et(n,/flex-|-self/,"")+n;case 4675:return bt+n+Jn+"flex-line-pack"+Et(n,/align-content|flex-|-self/,"")+n;case 5548:return bt+n+Jn+Et(n,"shrink","negative")+n;case 5292:return bt+n+Jn+Et(n,"basis","preferred-size")+n;case 6060:return bt+"box-"+Et(n,"-grow","")+bt+n+Jn+Et(n,"grow","positive")+n;case 4554:return bt+Et(n,/([^-])(transform)/g,"$1"+bt+"$2")+n;case 6187:return Et(Et(Et(n,/(zoom-|grab)/,bt+"$1"),/(image-set)/,bt+"$1"),n,"")+n;case 5495:case 3959:return Et(n,/(image-set\([^]*)/,bt+"$1$`$1");case 4968:return Et(Et(n,/(.+:)(flex-)?(.*)/,bt+"box-pack:$3"+Jn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+bt+n+n;case 4095:case 3583:case 4068:case 2532:return Et(n,/(.+)-inline(.+)/,bt+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(jr(n)-1-e>6)switch(qn(n,e+1)){case 109:if(qn(n,e+4)!==45)break;case 102:return Et(n,/(.+:)(.+)-([^]+)/,"$1"+bt+"$2-$3$1"+Ip+(qn(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~nv(n,"stretch")?hO(Et(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(qn(n,e+1)!==115)break;case 6444:switch(qn(n,jr(n)-3-(~nv(n,"!important")&&10))){case 107:return Et(n,":",":"+bt)+n;case 101:return Et(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+bt+(qn(n,14)===45?"inline-":"")+"box$3$1"+bt+"$2$3$1"+Jn+"$2box$3")+n}break;case 5936:switch(qn(n,e+11)){case 114:return bt+n+Jn+Et(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return bt+n+Jn+Et(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return bt+n+Jn+Et(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return bt+n+Jn+n+n}return n}var u8=function(e,t,i,s){if(e.length>-1&&!e.return)switch(e.type){case V0:e.return=hO(e.value,e.length);break;case aO:return hu([Uc(e,{value:Et(e.value,"@","@"+bt)})],s);case L0:if(e.length)return $F(e.props,function(o){switch(qF(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return hu([Uc(e,{props:[Et(o,/:(read-\w+)/,":"+Ip+"$1")]})],s);case"::placeholder":return hu([Uc(e,{props:[Et(o,/:(plac\w+)/,":"+bt+"input-$1")]}),Uc(e,{props:[Et(o,/:(plac\w+)/,":"+Ip+"$1")]}),Uc(e,{props:[Et(o,/:(plac\w+)/,Jn+"input-$1")]})],s)}return""})}},c8=[u8],h8=function(e){var t=e.key;if(t==="css"){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,function(O){var A=O.getAttribute("data-emotion");A.indexOf(" ")!==-1&&(document.head.appendChild(O),O.setAttribute("data-s",""))})}var s=e.stylisPlugins||c8,o={},u,h=[];u=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(O){for(var A=O.getAttribute("data-emotion").split(" "),U=1;U<A.length;U++)o[A[U]]=!0;h.push(O)});var f,d=[o8,l8];{var y,_=[e8,n8(function(O){y.insert(O)})],E=t8(d.concat(s,_)),w=function(A){return hu(JF(A),E)};f=function(A,U,V,z){y=V,w(A?A+"{"+U.styles+"}":U.styles),z&&(I.inserted[U.name]=!0)}}var I={key:t,sheet:new UF({key:t,container:u,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:f};return I.sheet.hydrate(h),I},Yy={exports:{}},Tt={};var hC;function f8(){if(hC)return Tt;hC=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,o=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,h=n?Symbol.for("react.context"):60110,f=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,y=n?Symbol.for("react.forward_ref"):60112,_=n?Symbol.for("react.suspense"):60113,E=n?Symbol.for("react.suspense_list"):60120,w=n?Symbol.for("react.memo"):60115,I=n?Symbol.for("react.lazy"):60116,O=n?Symbol.for("react.block"):60121,A=n?Symbol.for("react.fundamental"):60117,U=n?Symbol.for("react.responder"):60118,V=n?Symbol.for("react.scope"):60119;function z(j){if(typeof j=="object"&&j!==null){var ie=j.$$typeof;switch(ie){case e:switch(j=j.type,j){case f:case d:case i:case o:case s:case _:return j;default:switch(j=j&&j.$$typeof,j){case h:case y:case I:case w:case u:return j;default:return ie}}case t:return ie}}}function Q(j){return z(j)===d}return Tt.AsyncMode=f,Tt.ConcurrentMode=d,Tt.ContextConsumer=h,Tt.ContextProvider=u,Tt.Element=e,Tt.ForwardRef=y,Tt.Fragment=i,Tt.Lazy=I,Tt.Memo=w,Tt.Portal=t,Tt.Profiler=o,Tt.StrictMode=s,Tt.Suspense=_,Tt.isAsyncMode=function(j){return Q(j)||z(j)===f},Tt.isConcurrentMode=Q,Tt.isContextConsumer=function(j){return z(j)===h},Tt.isContextProvider=function(j){return z(j)===u},Tt.isElement=function(j){return typeof j=="object"&&j!==null&&j.$$typeof===e},Tt.isForwardRef=function(j){return z(j)===y},Tt.isFragment=function(j){return z(j)===i},Tt.isLazy=function(j){return z(j)===I},Tt.isMemo=function(j){return z(j)===w},Tt.isPortal=function(j){return z(j)===t},Tt.isProfiler=function(j){return z(j)===o},Tt.isStrictMode=function(j){return z(j)===s},Tt.isSuspense=function(j){return z(j)===_},Tt.isValidElementType=function(j){return typeof j=="string"||typeof j=="function"||j===i||j===d||j===o||j===s||j===_||j===E||typeof j=="object"&&j!==null&&(j.$$typeof===I||j.$$typeof===w||j.$$typeof===u||j.$$typeof===h||j.$$typeof===y||j.$$typeof===A||j.$$typeof===U||j.$$typeof===V||j.$$typeof===O)},Tt.typeOf=z,Tt}var fC;function d8(){return fC||(fC=1,Yy.exports=f8()),Yy.exports}var Qy,dC;function p8(){if(dC)return Qy;dC=1;var n=d8(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};o[n.ForwardRef]=i,o[n.Memo]=s;function u(I){return n.isMemo(I)?s:o[I.$$typeof]||e}var h=Object.defineProperty,f=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,y=Object.getOwnPropertyDescriptor,_=Object.getPrototypeOf,E=Object.prototype;function w(I,O,A){if(typeof O!="string"){if(E){var U=_(O);U&&U!==E&&w(I,U,A)}var V=f(O);d&&(V=V.concat(d(O)));for(var z=u(I),Q=u(O),j=0;j<V.length;++j){var ie=V[j];if(!t[ie]&&!(A&&A[ie])&&!(Q&&Q[ie])&&!(z&&z[ie])){var S=y(O,ie);try{h(I,ie,S)}catch{}}}}return I}return Qy=w,Qy}p8();var m8=!0;function g8(n,e,t){var i="";return t.split(" ").forEach(function(s){n[s]!==void 0?e.push(n[s]+";"):s&&(i+=s+" ")}),i}var fO=function(e,t,i){var s=e.key+"-"+t.name;(i===!1||m8===!1)&&e.registered[s]===void 0&&(e.registered[s]=t.styles)},y8=function(e,t,i){fO(e,t,i);var s=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var o=t;do e.insert(t===o?"."+s:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function _8(n){for(var e=0,t,i=0,s=n.length;s>=4;++i,s-=4)t=n.charCodeAt(i)&255|(n.charCodeAt(++i)&255)<<8|(n.charCodeAt(++i)&255)<<16|(n.charCodeAt(++i)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(n.charCodeAt(i+2)&255)<<16;case 2:e^=(n.charCodeAt(i+1)&255)<<8;case 1:e^=n.charCodeAt(i)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var v8={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},b8=/[A-Z]|^ms/g,E8=/_EMO_([^_]+?)_([^]*?)_EMO_/g,dO=function(e){return e.charCodeAt(1)===45},pC=function(e){return e!=null&&typeof e!="boolean"},Wy=i8(function(n){return dO(n)?n:n.replace(b8,"-$&").toLowerCase()}),mC=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(E8,function(i,s,o){return qr={name:s,styles:o,next:qr},s})}return v8[e]!==1&&!dO(e)&&typeof t=="number"&&t!==0?t+"px":t};function vh(n,e,t){if(t==null)return"";var i=t;if(i.__emotion_styles!==void 0)return i;switch(typeof t){case"boolean":return"";case"object":{var s=t;if(s.anim===1)return qr={name:s.name,styles:s.styles,next:qr},s.name;var o=t;if(o.styles!==void 0){var u=o.next;if(u!==void 0)for(;u!==void 0;)qr={name:u.name,styles:u.styles,next:qr},u=u.next;var h=o.styles+";";return h}return T8(n,e,t)}case"function":{if(n!==void 0){var f=qr,d=t(n);return qr=f,vh(n,e,d)}break}}var y=t;return y}function T8(n,e,t){var i="";if(Array.isArray(t))for(var s=0;s<t.length;s++)i+=vh(n,e,t[s])+";";else for(var o in t){var u=t[o];if(typeof u!="object"){var h=u;pC(h)&&(i+=Wy(o)+":"+mC(o,h)+";")}else if(Array.isArray(u)&&typeof u[0]=="string"&&e==null)for(var f=0;f<u.length;f++)pC(u[f])&&(i+=Wy(o)+":"+mC(o,u[f])+";");else{var d=vh(n,e,u);switch(o){case"animation":case"animationName":{i+=Wy(o)+":"+d+";";break}default:i+=o+"{"+d+"}"}}}return i}var gC=/label:\s*([^\s;{]+)\s*(;|$)/g,qr;function pO(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var i=!0,s="";qr=void 0;var o=n[0];if(o==null||o.raw===void 0)i=!1,s+=vh(t,e,o);else{var u=o;s+=u[0]}for(var h=1;h<n.length;h++)if(s+=vh(t,e,n[h]),i){var f=o;s+=f[h]}gC.lastIndex=0;for(var d="",y;(y=gC.exec(s))!==null;)d+="-"+y[1];var _=_8(s)+d;return{name:_,styles:s,next:qr}}var S8=function(e){return e()},w8=gS.useInsertionEffect?gS.useInsertionEffect:!1,C8=w8||S8,mO=L.createContext(typeof HTMLElement<"u"?h8({key:"css"}):null);mO.Provider;var R8=function(e){return L.forwardRef(function(t,i){var s=L.useContext(mO);return e(t,s,i)})},A8=L.createContext({}),z0={}.hasOwnProperty,rv="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",I8=function(e,t){var i={};for(var s in t)z0.call(t,s)&&(i[s]=t[s]);return i[rv]=e,i},O8=function(e){var t=e.cache,i=e.serialized,s=e.isStringTag;return fO(t,i,s),C8(function(){return y8(t,i,s)}),null},D8=R8(function(n,e,t){var i=n.css;typeof i=="string"&&e.registered[i]!==void 0&&(i=e.registered[i]);var s=n[rv],o=[i],u="";typeof n.className=="string"?u=g8(e.registered,o,n.className):n.className!=null&&(u=n.className+" ");var h=pO(o,void 0,L.useContext(A8));u+=e.key+"-"+h.name;var f={};for(var d in n)z0.call(n,d)&&d!=="css"&&d!==rv&&(f[d]=n[d]);return f.className=u,t&&(f.ref=t),L.createElement(L.Fragment,null,L.createElement(O8,{cache:e,serialized:h,isStringTag:typeof s=="string"}),L.createElement(s,f))}),N8=D8,ke=function(e,t){var i=arguments;if(t==null||!z0.call(t,"css"))return L.createElement.apply(void 0,i);var s=i.length,o=new Array(s);o[0]=N8,o[1]=I8(e,t);for(var u=2;u<s;u++)o[u]=i[u];return L.createElement.apply(null,o)};(function(n){var e;e||(e=n.JSX||(n.JSX={}))})(ke||(ke={}));function F0(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return pO(e)}function M8(){var n=F0.apply(void 0,arguments),e="animation-"+n.name;return{name:e,styles:"@keyframes "+e+"{"+n.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function x8(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}const P8=Math.min,k8=Math.max,Op=Math.round,Td=Math.floor,Dp=n=>({x:n,y:n});function L8(n){const{x:e,y:t,width:i,height:s}=n;return{width:i,height:s,top:t,left:e,right:e+i,bottom:t+s,x:e,y:t}}function Tm(){return typeof window<"u"}function gO(n){return _O(n)?(n.nodeName||"").toLowerCase():"#document"}function Xs(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function yO(n){var e;return(e=(_O(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function _O(n){return Tm()?n instanceof Node||n instanceof Xs(n).Node:!1}function V8(n){return Tm()?n instanceof Element||n instanceof Xs(n).Element:!1}function B0(n){return Tm()?n instanceof HTMLElement||n instanceof Xs(n).HTMLElement:!1}function yC(n){return!Tm()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Xs(n).ShadowRoot}const U8=new Set(["inline","contents"]);function vO(n){const{overflow:e,overflowX:t,overflowY:i,display:s}=H0(n);return/auto|scroll|overlay|hidden|clip/.test(e+i+t)&&!U8.has(s)}function z8(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const F8=new Set(["html","body","#document"]);function B8(n){return F8.has(gO(n))}function H0(n){return Xs(n).getComputedStyle(n)}function H8(n){if(gO(n)==="html")return n;const e=n.assignedSlot||n.parentNode||yC(n)&&n.host||yO(n);return yC(e)?e.host:e}function bO(n){const e=H8(n);return B8(e)?n.ownerDocument?n.ownerDocument.body:n.body:B0(e)&&vO(e)?e:bO(e)}function Np(n,e,t){var i;e===void 0&&(e=[]),t===void 0&&(t=!0);const s=bO(n),o=s===((i=n.ownerDocument)==null?void 0:i.body),u=Xs(s);if(o){const h=sv(u);return e.concat(u,u.visualViewport||[],vO(s)?s:[],h&&t?Np(h):[])}return e.concat(s,Np(s,[],t))}function sv(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function j8(n){const e=H0(n);let t=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const s=B0(n),o=s?n.offsetWidth:t,u=s?n.offsetHeight:i,h=Op(t)!==o||Op(i)!==u;return h&&(t=o,i=u),{width:t,height:i,$:h}}function j0(n){return V8(n)?n:n.contextElement}function _C(n){const e=j0(n);if(!B0(e))return Dp(1);const t=e.getBoundingClientRect(),{width:i,height:s,$:o}=j8(e);let u=(o?Op(t.width):t.width)/i,h=(o?Op(t.height):t.height)/s;return(!u||!Number.isFinite(u))&&(u=1),(!h||!Number.isFinite(h))&&(h=1),{x:u,y:h}}const q8=Dp(0);function $8(n){const e=Xs(n);return!z8()||!e.visualViewport?q8:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function G8(n,e,t){return!1}function vC(n,e,t,i){e===void 0&&(e=!1);const s=n.getBoundingClientRect(),o=j0(n);let u=Dp(1);e&&(u=_C(n));const h=G8()?$8(o):Dp(0);let f=(s.left+h.x)/u.x,d=(s.top+h.y)/u.y,y=s.width/u.x,_=s.height/u.y;if(o){const E=Xs(o),w=i;let I=E,O=sv(I);for(;O&&i&&w!==I;){const A=_C(O),U=O.getBoundingClientRect(),V=H0(O),z=U.left+(O.clientLeft+parseFloat(V.paddingLeft))*A.x,Q=U.top+(O.clientTop+parseFloat(V.paddingTop))*A.y;f*=A.x,d*=A.y,y*=A.x,_*=A.y,f+=z,d+=Q,I=Xs(O),O=sv(I)}}return L8({width:y,height:_,x:f,y:d})}function EO(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function K8(n,e){let t=null,i;const s=yO(n);function o(){var h;clearTimeout(i),(h=t)==null||h.disconnect(),t=null}function u(h,f){h===void 0&&(h=!1),f===void 0&&(f=1),o();const d=n.getBoundingClientRect(),{left:y,top:_,width:E,height:w}=d;if(h||e(),!E||!w)return;const I=Td(_),O=Td(s.clientWidth-(y+E)),A=Td(s.clientHeight-(_+w)),U=Td(y),z={rootMargin:-I+"px "+-O+"px "+-A+"px "+-U+"px",threshold:k8(0,P8(1,f))||1};let Q=!0;function j(ie){const S=ie[0].intersectionRatio;if(S!==f){if(!Q)return u();S?u(!1,S):i=setTimeout(()=>{u(!1,1e-7)},1e3)}S===1&&!EO(d,n.getBoundingClientRect())&&u(),Q=!1}try{t=new IntersectionObserver(j,{...z,root:s.ownerDocument})}catch{t=new IntersectionObserver(j,z)}t.observe(n)}return u(!0),o}function Y8(n,e,t,i){i===void 0&&(i={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:h=typeof IntersectionObserver=="function",animationFrame:f=!1}=i,d=j0(n),y=s||o?[...d?Np(d):[],...Np(e)]:[];y.forEach(U=>{s&&U.addEventListener("scroll",t,{passive:!0}),o&&U.addEventListener("resize",t)});const _=d&&h?K8(d,t):null;let E=-1,w=null;u&&(w=new ResizeObserver(U=>{let[V]=U;V&&V.target===d&&w&&(w.unobserve(e),cancelAnimationFrame(E),E=requestAnimationFrame(()=>{var z;(z=w)==null||z.observe(e)})),t()}),d&&!f&&w.observe(d),w.observe(e));let I,O=f?vC(n):null;f&&A();function A(){const U=vC(n);O&&!EO(O,U)&&t(),O=U,I=requestAnimationFrame(A)}return t(),()=>{var U;y.forEach(V=>{s&&V.removeEventListener("scroll",t),o&&V.removeEventListener("resize",t)}),_?.(),(U=w)==null||U.disconnect(),w=null,f&&cancelAnimationFrame(I)}}var av=L.useLayoutEffect,Q8=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Mp=function(){};function W8(n,e){return e?e[0]==="-"?n+e:n+"__"+e:n}function X8(n,e){for(var t=arguments.length,i=new Array(t>2?t-2:0),s=2;s<t;s++)i[s-2]=arguments[s];var o=[].concat(i);if(e&&n)for(var u in e)e.hasOwnProperty(u)&&e[u]&&o.push("".concat(W8(n,u)));return o.filter(function(h){return h}).map(function(h){return String(h).trim()}).join(" ")}var bC=function(e){return aB(e)?e.filter(Boolean):Zo(e)==="object"&&e!==null?[e]:[]},TO=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var t=ea(e,Q8);return Ve({},t)},sn=function(e,t,i){var s=e.cx,o=e.getStyles,u=e.getClassNames,h=e.className;return{css:o(t,e),className:s(i??{},u(t,e),h)}};function Sm(n){return[document.documentElement,document.body,window].indexOf(n)>-1}function J8(n){return Sm(n)?window.innerHeight:n.clientHeight}function SO(n){return Sm(n)?window.pageYOffset:n.scrollTop}function xp(n,e){if(Sm(n)){window.scrollTo(0,e);return}n.scrollTop=e}function Z8(n){var e=getComputedStyle(n),t=e.position==="absolute",i=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var s=n;s=s.parentElement;)if(e=getComputedStyle(s),!(t&&e.position==="static")&&i.test(e.overflow+e.overflowY+e.overflowX))return s;return document.documentElement}function eB(n,e,t,i){return t*((n=n/i-1)*n*n+1)+e}function Sd(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Mp,s=SO(n),o=e-s,u=10,h=0;function f(){h+=u;var d=eB(h,s,o,t);xp(n,d),h<t?window.requestAnimationFrame(f):i(n)}f()}function EC(n,e){var t=n.getBoundingClientRect(),i=e.getBoundingClientRect(),s=e.offsetHeight/3;i.bottom+s>t.bottom?xp(n,Math.min(e.offsetTop+e.clientHeight-n.offsetHeight+s,n.scrollHeight)):i.top-s<t.top&&xp(n,Math.max(e.offsetTop-s,0))}function tB(n){var e=n.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function TC(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function nB(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var wO=!1,iB={get passive(){return wO=!0}},wd=typeof window<"u"?window:{};wd.addEventListener&&wd.removeEventListener&&(wd.addEventListener("p",Mp,iB),wd.removeEventListener("p",Mp,!1));var rB=wO;function sB(n){return n!=null}function aB(n){return Array.isArray(n)}function Cd(n,e,t){return n?e:t}var oB=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),s=1;s<t;s++)i[s-1]=arguments[s];var o=Object.entries(e).filter(function(u){var h=Bs(u,1),f=h[0];return!i.includes(f)});return o.reduce(function(u,h){var f=Bs(h,2),d=f[0],y=f[1];return u[d]=y,u},{})},lB=["children","innerProps"],uB=["children","innerProps"];function cB(n){var e=n.maxHeight,t=n.menuEl,i=n.minHeight,s=n.placement,o=n.shouldScroll,u=n.isFixedPosition,h=n.controlHeight,f=Z8(t),d={placement:"bottom",maxHeight:e};if(!t||!t.offsetParent)return d;var y=f.getBoundingClientRect(),_=y.height,E=t.getBoundingClientRect(),w=E.bottom,I=E.height,O=E.top,A=t.offsetParent.getBoundingClientRect(),U=A.top,V=u?window.innerHeight:J8(f),z=SO(f),Q=parseInt(getComputedStyle(t).marginBottom,10),j=parseInt(getComputedStyle(t).marginTop,10),ie=U-j,S=V-O,C=ie+z,x=_-z-O,N=w-V+z+Q,k=z+O-j,P=160;switch(s){case"auto":case"bottom":if(S>=I)return{placement:"bottom",maxHeight:e};if(x>=I&&!u)return o&&Sd(f,N,P),{placement:"bottom",maxHeight:e};if(!u&&x>=i||u&&S>=i){o&&Sd(f,N,P);var M=u?S-Q:x-Q;return{placement:"bottom",maxHeight:M}}if(s==="auto"||u){var pe=e,ge=u?ie:C;return ge>=i&&(pe=Math.min(ge-Q-h,e)),{placement:"top",maxHeight:pe}}if(s==="bottom")return o&&xp(f,N),{placement:"bottom",maxHeight:e};break;case"top":if(ie>=I)return{placement:"top",maxHeight:e};if(C>=I&&!u)return o&&Sd(f,k,P),{placement:"top",maxHeight:e};if(!u&&C>=i||u&&ie>=i){var K=e;return(!u&&C>=i||u&&ie>=i)&&(K=u?ie-j:C-j),o&&Sd(f,k,P),{placement:"top",maxHeight:K}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(s,'".'))}return d}function hB(n){var e={bottom:"top",top:"bottom"};return n?e[n]:"bottom"}var CO=function(e){return e==="auto"?"bottom":e},fB=function(e,t){var i,s=e.placement,o=e.theme,u=o.borderRadius,h=o.spacing,f=o.colors;return Ve((i={label:"menu"},$c(i,hB(s),"100%"),$c(i,"position","absolute"),$c(i,"width","100%"),$c(i,"zIndex",1),i),t?{}:{backgroundColor:f.neutral0,borderRadius:u,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:h.menuGutter,marginTop:h.menuGutter})},RO=L.createContext(null),dB=function(e){var t=e.children,i=e.minMenuHeight,s=e.maxMenuHeight,o=e.menuPlacement,u=e.menuPosition,h=e.menuShouldScrollIntoView,f=e.theme,d=L.useContext(RO)||{},y=d.setPortalPlacement,_=L.useRef(null),E=L.useState(s),w=Bs(E,2),I=w[0],O=w[1],A=L.useState(null),U=Bs(A,2),V=U[0],z=U[1],Q=f.spacing.controlHeight;return av(function(){var j=_.current;if(j){var ie=u==="fixed",S=h&&!ie,C=cB({maxHeight:s,menuEl:j,minHeight:i,placement:o,shouldScroll:S,isFixedPosition:ie,controlHeight:Q});O(C.maxHeight),z(C.placement),y?.(C.placement)}},[s,o,u,h,i,y,Q]),t({ref:_,placerProps:Ve(Ve({},e),{},{placement:V||CO(o),maxHeight:I})})},pB=function(e){var t=e.children,i=e.innerRef,s=e.innerProps;return ke("div",Fe({},sn(e,"menu",{menu:!0}),{ref:i},s),t)},mB=pB,gB=function(e,t){var i=e.maxHeight,s=e.theme.spacing.baseUnit;return Ve({maxHeight:i,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},t?{}:{paddingBottom:s,paddingTop:s})},yB=function(e){var t=e.children,i=e.innerProps,s=e.innerRef,o=e.isMulti;return ke("div",Fe({},sn(e,"menuList",{"menu-list":!0,"menu-list--is-multi":o}),{ref:s},i),t)},AO=function(e,t){var i=e.theme,s=i.spacing.baseUnit,o=i.colors;return Ve({textAlign:"center"},t?{}:{color:o.neutral40,padding:"".concat(s*2,"px ").concat(s*3,"px")})},_B=AO,vB=AO,bB=function(e){var t=e.children,i=t===void 0?"No options":t,s=e.innerProps,o=ea(e,lB);return ke("div",Fe({},sn(Ve(Ve({},o),{},{children:i,innerProps:s}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),s),i)},EB=function(e){var t=e.children,i=t===void 0?"Loading...":t,s=e.innerProps,o=ea(e,uB);return ke("div",Fe({},sn(Ve(Ve({},o),{},{children:i,innerProps:s}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),s),i)},TB=function(e){var t=e.rect,i=e.offset,s=e.position;return{left:t.left,position:s,top:i,width:t.width,zIndex:1}},SB=function(e){var t=e.appendTo,i=e.children,s=e.controlElement,o=e.innerProps,u=e.menuPlacement,h=e.menuPosition,f=L.useRef(null),d=L.useRef(null),y=L.useState(CO(u)),_=Bs(y,2),E=_[0],w=_[1],I=L.useMemo(function(){return{setPortalPlacement:w}},[]),O=L.useState(null),A=Bs(O,2),U=A[0],V=A[1],z=L.useCallback(function(){if(s){var S=tB(s),C=h==="fixed"?0:window.pageYOffset,x=S[E]+C;(x!==U?.offset||S.left!==U?.rect.left||S.width!==U?.rect.width)&&V({offset:x,rect:S})}},[s,h,E,U?.offset,U?.rect.left,U?.rect.width]);av(function(){z()},[z]);var Q=L.useCallback(function(){typeof d.current=="function"&&(d.current(),d.current=null),s&&f.current&&(d.current=Y8(s,f.current,z,{elementResize:"ResizeObserver"in window}))},[s,z]);av(function(){Q()},[Q]);var j=L.useCallback(function(S){f.current=S,Q()},[Q]);if(!t&&h!=="fixed"||!U)return null;var ie=ke("div",Fe({ref:j},sn(Ve(Ve({},e),{},{offset:U.offset,position:h,rect:U.rect}),"menuPortal",{"menu-portal":!0}),o),i);return ke(RO.Provider,{value:I},t?cR.createPortal(ie,t):ie)},wB=function(e){var t=e.isDisabled,i=e.isRtl;return{label:"container",direction:i?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},CB=function(e){var t=e.children,i=e.innerProps,s=e.isDisabled,o=e.isRtl;return ke("div",Fe({},sn(e,"container",{"--is-disabled":s,"--is-rtl":o}),i),t)},RB=function(e,t){var i=e.theme.spacing,s=e.isMulti,o=e.hasValue,u=e.selectProps.controlShouldRenderValue;return Ve({alignItems:"center",display:s&&o&&u?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},t?{}:{padding:"".concat(i.baseUnit/2,"px ").concat(i.baseUnit*2,"px")})},AB=function(e){var t=e.children,i=e.innerProps,s=e.isMulti,o=e.hasValue;return ke("div",Fe({},sn(e,"valueContainer",{"value-container":!0,"value-container--is-multi":s,"value-container--has-value":o}),i),t)},IB=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},OB=function(e){var t=e.children,i=e.innerProps;return ke("div",Fe({},sn(e,"indicatorsContainer",{indicators:!0}),i),t)},SC,DB=["size"],NB=["innerProps","isRtl","size"],MB={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},IO=function(e){var t=e.size,i=ea(e,DB);return ke("svg",Fe({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:MB},i))},q0=function(e){return ke(IO,Fe({size:20},e),ke("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},OO=function(e){return ke(IO,Fe({size:20},e),ke("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},DO=function(e,t){var i=e.isFocused,s=e.theme,o=s.spacing.baseUnit,u=s.colors;return Ve({label:"indicatorContainer",display:"flex",transition:"color 150ms"},t?{}:{color:i?u.neutral60:u.neutral20,padding:o*2,":hover":{color:i?u.neutral80:u.neutral40}})},xB=DO,PB=function(e){var t=e.children,i=e.innerProps;return ke("div",Fe({},sn(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),i),t||ke(OO,null))},kB=DO,LB=function(e){var t=e.children,i=e.innerProps;return ke("div",Fe({},sn(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),i),t||ke(q0,null))},VB=function(e,t){var i=e.isDisabled,s=e.theme,o=s.spacing.baseUnit,u=s.colors;return Ve({label:"indicatorSeparator",alignSelf:"stretch",width:1},t?{}:{backgroundColor:i?u.neutral10:u.neutral20,marginBottom:o*2,marginTop:o*2})},UB=function(e){var t=e.innerProps;return ke("span",Fe({},t,sn(e,"indicatorSeparator",{"indicator-separator":!0})))},zB=M8(SC||(SC=x8([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),FB=function(e,t){var i=e.isFocused,s=e.size,o=e.theme,u=o.colors,h=o.spacing.baseUnit;return Ve({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:s,lineHeight:1,marginRight:s,textAlign:"center",verticalAlign:"middle"},t?{}:{color:i?u.neutral60:u.neutral20,padding:h*2})},Xy=function(e){var t=e.delay,i=e.offset;return ke("span",{css:F0({animation:"".concat(zB," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:i?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},BB=function(e){var t=e.innerProps,i=e.isRtl,s=e.size,o=s===void 0?4:s,u=ea(e,NB);return ke("div",Fe({},sn(Ve(Ve({},u),{},{innerProps:t,isRtl:i,size:o}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),t),ke(Xy,{delay:0,offset:i}),ke(Xy,{delay:160,offset:!0}),ke(Xy,{delay:320,offset:!i}))},HB=function(e,t){var i=e.isDisabled,s=e.isFocused,o=e.theme,u=o.colors,h=o.borderRadius,f=o.spacing;return Ve({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:f.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},t?{}:{backgroundColor:i?u.neutral5:u.neutral0,borderColor:i?u.neutral10:s?u.primary:u.neutral20,borderRadius:h,borderStyle:"solid",borderWidth:1,boxShadow:s?"0 0 0 1px ".concat(u.primary):void 0,"&:hover":{borderColor:s?u.primary:u.neutral30}})},jB=function(e){var t=e.children,i=e.isDisabled,s=e.isFocused,o=e.innerRef,u=e.innerProps,h=e.menuIsOpen;return ke("div",Fe({ref:o},sn(e,"control",{control:!0,"control--is-disabled":i,"control--is-focused":s,"control--menu-is-open":h}),u,{"aria-disabled":i||void 0}),t)},qB=jB,$B=["data"],GB=function(e,t){var i=e.theme.spacing;return t?{}:{paddingBottom:i.baseUnit*2,paddingTop:i.baseUnit*2}},KB=function(e){var t=e.children,i=e.cx,s=e.getStyles,o=e.getClassNames,u=e.Heading,h=e.headingProps,f=e.innerProps,d=e.label,y=e.theme,_=e.selectProps;return ke("div",Fe({},sn(e,"group",{group:!0}),f),ke(u,Fe({},h,{selectProps:_,theme:y,getStyles:s,getClassNames:o,cx:i}),d),ke("div",null,t))},YB=function(e,t){var i=e.theme,s=i.colors,o=i.spacing;return Ve({label:"group",cursor:"default",display:"block"},t?{}:{color:s.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:o.baseUnit*3,paddingRight:o.baseUnit*3,textTransform:"uppercase"})},QB=function(e){var t=TO(e);t.data;var i=ea(t,$B);return ke("div",Fe({},sn(e,"groupHeading",{"group-heading":!0}),i))},WB=KB,XB=["innerRef","isDisabled","isHidden","inputClassName"],JB=function(e,t){var i=e.isDisabled,s=e.value,o=e.theme,u=o.spacing,h=o.colors;return Ve(Ve({visibility:i?"hidden":"visible",transform:s?"translateZ(0)":""},ZB),t?{}:{margin:u.baseUnit/2,paddingBottom:u.baseUnit/2,paddingTop:u.baseUnit/2,color:h.neutral80})},NO={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},ZB={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Ve({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},NO)},e7=function(e){return Ve({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},NO)},t7=function(e){var t=e.cx,i=e.value,s=TO(e),o=s.innerRef,u=s.isDisabled,h=s.isHidden,f=s.inputClassName,d=ea(s,XB);return ke("div",Fe({},sn(e,"input",{"input-container":!0}),{"data-value":i||""}),ke("input",Fe({className:t({input:!0},f),ref:o,style:e7(h),disabled:u},d)))},n7=t7,i7=function(e,t){var i=e.theme,s=i.spacing,o=i.borderRadius,u=i.colors;return Ve({label:"multiValue",display:"flex",minWidth:0},t?{}:{backgroundColor:u.neutral10,borderRadius:o/2,margin:s.baseUnit/2})},r7=function(e,t){var i=e.theme,s=i.borderRadius,o=i.colors,u=e.cropWithEllipsis;return Ve({overflow:"hidden",textOverflow:u||u===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},t?{}:{borderRadius:s/2,color:o.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},s7=function(e,t){var i=e.theme,s=i.spacing,o=i.borderRadius,u=i.colors,h=e.isFocused;return Ve({alignItems:"center",display:"flex"},t?{}:{borderRadius:o/2,backgroundColor:h?u.dangerLight:void 0,paddingLeft:s.baseUnit,paddingRight:s.baseUnit,":hover":{backgroundColor:u.dangerLight,color:u.danger}})},MO=function(e){var t=e.children,i=e.innerProps;return ke("div",i,t)},a7=MO,o7=MO;function l7(n){var e=n.children,t=n.innerProps;return ke("div",Fe({role:"button"},t),e||ke(q0,{size:14}))}var u7=function(e){var t=e.children,i=e.components,s=e.data,o=e.innerProps,u=e.isDisabled,h=e.removeProps,f=e.selectProps,d=i.Container,y=i.Label,_=i.Remove;return ke(d,{data:s,innerProps:Ve(Ve({},sn(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":u})),o),selectProps:f},ke(y,{data:s,innerProps:Ve({},sn(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:f},t),ke(_,{data:s,innerProps:Ve(Ve({},sn(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(t||"option")},h),selectProps:f}))},c7=u7,h7=function(e,t){var i=e.isDisabled,s=e.isFocused,o=e.isSelected,u=e.theme,h=u.spacing,f=u.colors;return Ve({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},t?{}:{backgroundColor:o?f.primary:s?f.primary25:"transparent",color:i?f.neutral20:o?f.neutral0:"inherit",padding:"".concat(h.baseUnit*2,"px ").concat(h.baseUnit*3,"px"),":active":{backgroundColor:i?void 0:o?f.primary:f.primary50}})},f7=function(e){var t=e.children,i=e.isDisabled,s=e.isFocused,o=e.isSelected,u=e.innerRef,h=e.innerProps;return ke("div",Fe({},sn(e,"option",{option:!0,"option--is-disabled":i,"option--is-focused":s,"option--is-selected":o}),{ref:u,"aria-disabled":i},h),t)},d7=f7,p7=function(e,t){var i=e.theme,s=i.spacing,o=i.colors;return Ve({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},t?{}:{color:o.neutral50,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},m7=function(e){var t=e.children,i=e.innerProps;return ke("div",Fe({},sn(e,"placeholder",{placeholder:!0}),i),t)},g7=m7,y7=function(e,t){var i=e.isDisabled,s=e.theme,o=s.spacing,u=s.colors;return Ve({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t?{}:{color:i?u.neutral40:u.neutral80,marginLeft:o.baseUnit/2,marginRight:o.baseUnit/2})},_7=function(e){var t=e.children,i=e.isDisabled,s=e.innerProps;return ke("div",Fe({},sn(e,"singleValue",{"single-value":!0,"single-value--is-disabled":i}),s),t)},v7=_7,b7={ClearIndicator:LB,Control:qB,DropdownIndicator:PB,DownChevron:OO,CrossIcon:q0,Group:WB,GroupHeading:QB,IndicatorsContainer:OB,IndicatorSeparator:UB,Input:n7,LoadingIndicator:BB,Menu:mB,MenuList:yB,MenuPortal:SB,LoadingMessage:EB,NoOptionsMessage:bB,MultiValue:c7,MultiValueContainer:a7,MultiValueLabel:o7,MultiValueRemove:l7,Option:d7,Placeholder:g7,SelectContainer:CB,SingleValue:v7,ValueContainer:AB},E7=function(e){return Ve(Ve({},b7),e.components)},wC=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function T7(n,e){return!!(n===e||wC(n)&&wC(e))}function S7(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(!T7(n[t],e[t]))return!1;return!0}function w7(n,e){e===void 0&&(e=S7);var t=null;function i(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];if(t&&t.lastThis===this&&e(s,t.lastArgs))return t.lastResult;var u=n.apply(this,s);return t={lastResult:u,lastArgs:s,lastThis:this},u}return i.clear=function(){t=null},i}var C7={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},R7=function(e){return ke("span",Fe({css:C7},e))},CC=R7,A7={guidance:function(e){var t=e.isSearchable,i=e.isMulti,s=e.tabSelectsValue,o=e.context,u=e.isInitialFocus;switch(o){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(s?", press Tab to select the option and exit the menu":"",".");case"input":return u?"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(i?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,i=e.label,s=i===void 0?"":i,o=e.labels,u=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(s,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(o.length>1?"s":""," ").concat(o.join(","),", selected.");case"select-option":return u?"option ".concat(s," is disabled. Select another option."):"option ".concat(s,", selected.");default:return""}},onFocus:function(e){var t=e.context,i=e.focused,s=e.options,o=e.label,u=o===void 0?"":o,h=e.selectValue,f=e.isDisabled,d=e.isSelected,y=e.isAppleDevice,_=function(O,A){return O&&O.length?"".concat(O.indexOf(A)+1," of ").concat(O.length):""};if(t==="value"&&h)return"value ".concat(u," focused, ").concat(_(h,i),".");if(t==="menu"&&y){var E=f?" disabled":"",w="".concat(d?" selected":"").concat(E);return"".concat(u).concat(w,", ").concat(_(s,i),".")}return""},onFilter:function(e){var t=e.inputValue,i=e.resultsMessage;return"".concat(i).concat(t?" for search term "+t:"",".")}},I7=function(e){var t=e.ariaSelection,i=e.focusedOption,s=e.focusedValue,o=e.focusableOptions,u=e.isFocused,h=e.selectValue,f=e.selectProps,d=e.id,y=e.isAppleDevice,_=f.ariaLiveMessages,E=f.getOptionLabel,w=f.inputValue,I=f.isMulti,O=f.isOptionDisabled,A=f.isSearchable,U=f.menuIsOpen,V=f.options,z=f.screenReaderStatus,Q=f.tabSelectsValue,j=f.isLoading,ie=f["aria-label"],S=f["aria-live"],C=L.useMemo(function(){return Ve(Ve({},A7),_||{})},[_]),x=L.useMemo(function(){var ge="";if(t&&C.onChange){var K=t.option,re=t.options,me=t.removedValue,xe=t.removedValues,ze=t.value,H=function(gt){return Array.isArray(gt)?null:gt},Z=me||K||H(ze),ce=Z?E(Z):"",fe=re||xe||void 0,Ie=fe?fe.map(E):[],Me=Ve({isDisabled:Z&&O(Z,h),label:ce,labels:Ie},t);ge=C.onChange(Me)}return ge},[t,C,O,h,E]),N=L.useMemo(function(){var ge="",K=i||s,re=!!(i&&h&&h.includes(i));if(K&&C.onFocus){var me={focused:K,label:E(K),isDisabled:O(K,h),isSelected:re,options:o,context:K===i?"menu":"value",selectValue:h,isAppleDevice:y};ge=C.onFocus(me)}return ge},[i,s,E,O,C,o,h,y]),k=L.useMemo(function(){var ge="";if(U&&V.length&&!j&&C.onFilter){var K=z({count:o.length});ge=C.onFilter({inputValue:w,resultsMessage:K})}return ge},[o,w,U,C,V,z,j]),P=t?.action==="initial-input-focus",M=L.useMemo(function(){var ge="";if(C.guidance){var K=s?"value":U?"menu":"input";ge=C.guidance({"aria-label":ie,context:K,isDisabled:i&&O(i,h),isMulti:I,isSearchable:A,tabSelectsValue:Q,isInitialFocus:P})}return ge},[ie,i,s,I,O,A,U,C,h,Q,P]),pe=ke(L.Fragment,null,ke("span",{id:"aria-selection"},x),ke("span",{id:"aria-focused"},N),ke("span",{id:"aria-results"},k),ke("span",{id:"aria-guidance"},M));return ke(L.Fragment,null,ke(CC,{id:d},P&&pe),ke(CC,{"aria-live":S,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},u&&!P&&pe))},O7=I7,ov=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],D7=new RegExp("["+ov.map(function(n){return n.letters}).join("")+"]","g"),xO={};for(var Jy=0;Jy<ov.length;Jy++)for(var Zy=ov[Jy],e_=0;e_<Zy.letters.length;e_++)xO[Zy.letters[e_]]=Zy.base;var PO=function(e){return e.replace(D7,function(t){return xO[t]})},N7=w7(PO),RC=function(e){return e.replace(/^\s+|\s+$/g,"")},M7=function(e){return"".concat(e.label," ").concat(e.value)},x7=function(e){return function(t,i){if(t.data.__isNew__)return!0;var s=Ve({ignoreCase:!0,ignoreAccents:!0,stringify:M7,trim:!0,matchFrom:"any"},e),o=s.ignoreCase,u=s.ignoreAccents,h=s.stringify,f=s.trim,d=s.matchFrom,y=f?RC(i):i,_=f?RC(h(t)):h(t);return o&&(y=y.toLowerCase(),_=_.toLowerCase()),u&&(y=N7(y),_=PO(_)),d==="start"?_.substr(0,y.length)===y:_.indexOf(y)>-1}},P7=["innerRef"];function k7(n){var e=n.innerRef,t=ea(n,P7),i=oB(t,"onExited","in","enter","exit","appear");return ke("input",Fe({ref:e},i,{css:F0({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var L7=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function V7(n){var e=n.isEnabled,t=n.onBottomArrive,i=n.onBottomLeave,s=n.onTopArrive,o=n.onTopLeave,u=L.useRef(!1),h=L.useRef(!1),f=L.useRef(0),d=L.useRef(null),y=L.useCallback(function(A,U){if(d.current!==null){var V=d.current,z=V.scrollTop,Q=V.scrollHeight,j=V.clientHeight,ie=d.current,S=U>0,C=Q-j-z,x=!1;C>U&&u.current&&(i&&i(A),u.current=!1),S&&h.current&&(o&&o(A),h.current=!1),S&&U>C?(t&&!u.current&&t(A),ie.scrollTop=Q,x=!0,u.current=!0):!S&&-U>z&&(s&&!h.current&&s(A),ie.scrollTop=0,x=!0,h.current=!0),x&&L7(A)}},[t,i,s,o]),_=L.useCallback(function(A){y(A,A.deltaY)},[y]),E=L.useCallback(function(A){f.current=A.changedTouches[0].clientY},[]),w=L.useCallback(function(A){var U=f.current-A.changedTouches[0].clientY;y(A,U)},[y]),I=L.useCallback(function(A){if(A){var U=rB?{passive:!1}:!1;A.addEventListener("wheel",_,U),A.addEventListener("touchstart",E,U),A.addEventListener("touchmove",w,U)}},[w,E,_]),O=L.useCallback(function(A){A&&(A.removeEventListener("wheel",_,!1),A.removeEventListener("touchstart",E,!1),A.removeEventListener("touchmove",w,!1))},[w,E,_]);return L.useEffect(function(){if(e){var A=d.current;return I(A),function(){O(A)}}},[e,I,O]),function(A){d.current=A}}var AC=["boxSizing","height","overflow","paddingRight","position"],IC={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function OC(n){n.cancelable&&n.preventDefault()}function DC(n){n.stopPropagation()}function NC(){var n=this.scrollTop,e=this.scrollHeight,t=n+this.offsetHeight;n===0?this.scrollTop=1:t===e&&(this.scrollTop=n-1)}function MC(){return"ontouchstart"in window||navigator.maxTouchPoints}var xC=!!(typeof window<"u"&&window.document&&window.document.createElement),zc=0,Kl={capture:!1,passive:!1};function U7(n){var e=n.isEnabled,t=n.accountForScrollbars,i=t===void 0?!0:t,s=L.useRef({}),o=L.useRef(null),u=L.useCallback(function(f){if(xC){var d=document.body,y=d&&d.style;if(i&&AC.forEach(function(I){var O=y&&y[I];s.current[I]=O}),i&&zc<1){var _=parseInt(s.current.paddingRight,10)||0,E=document.body?document.body.clientWidth:0,w=window.innerWidth-E+_||0;Object.keys(IC).forEach(function(I){var O=IC[I];y&&(y[I]=O)}),y&&(y.paddingRight="".concat(w,"px"))}d&&MC()&&(d.addEventListener("touchmove",OC,Kl),f&&(f.addEventListener("touchstart",NC,Kl),f.addEventListener("touchmove",DC,Kl))),zc+=1}},[i]),h=L.useCallback(function(f){if(xC){var d=document.body,y=d&&d.style;zc=Math.max(zc-1,0),i&&zc<1&&AC.forEach(function(_){var E=s.current[_];y&&(y[_]=E)}),d&&MC()&&(d.removeEventListener("touchmove",OC,Kl),f&&(f.removeEventListener("touchstart",NC,Kl),f.removeEventListener("touchmove",DC,Kl)))}},[i]);return L.useEffect(function(){if(e){var f=o.current;return u(f),function(){h(f)}}},[e,u,h]),function(f){o.current=f}}var z7=function(e){var t=e.target;return t.ownerDocument.activeElement&&t.ownerDocument.activeElement.blur()},F7={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function B7(n){var e=n.children,t=n.lockEnabled,i=n.captureEnabled,s=i===void 0?!0:i,o=n.onBottomArrive,u=n.onBottomLeave,h=n.onTopArrive,f=n.onTopLeave,d=V7({isEnabled:s,onBottomArrive:o,onBottomLeave:u,onTopArrive:h,onTopLeave:f}),y=U7({isEnabled:t}),_=function(w){d(w),y(w)};return ke(L.Fragment,null,t&&ke("div",{onClick:z7,css:F7}),e(_))}var H7={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},j7=function(e){var t=e.name,i=e.onFocus;return ke("input",{required:!0,name:t,tabIndex:-1,"aria-hidden":"true",onFocus:i,css:H7,value:"",onChange:function(){}})},q7=j7;function $0(n){var e;return typeof window<"u"&&window.navigator!=null?n.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function $7(){return $0(/^iPhone/i)}function kO(){return $0(/^Mac/i)}function G7(){return $0(/^iPad/i)||kO()&&navigator.maxTouchPoints>1}function K7(){return $7()||G7()}function Y7(){return kO()||K7()}var Q7=function(e){return e.label},W7=function(e){return e.label},X7=function(e){return e.value},J7=function(e){return!!e.isDisabled},Z7={clearIndicator:kB,container:wB,control:HB,dropdownIndicator:xB,group:GB,groupHeading:YB,indicatorsContainer:IB,indicatorSeparator:VB,input:JB,loadingIndicator:FB,loadingMessage:vB,menu:fB,menuList:gB,menuPortal:TB,multiValue:i7,multiValueLabel:r7,multiValueRemove:s7,noOptionsMessage:_B,option:h7,placeholder:p7,singleValue:y7,valueContainer:RB},eH={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},tH=4,LO=4,nH=38,iH=LO*2,rH={baseUnit:LO,controlHeight:nH,menuGutter:iH},t_={borderRadius:tH,colors:eH,spacing:rH},sH={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:TC(),captureMenuScroll:!TC(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:x7(),formatGroupLabel:Q7,getOptionLabel:W7,getOptionValue:X7,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:J7,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!nB(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(t!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function PC(n,e,t,i){var s=zO(n,e,t),o=FO(n,e,t),u=UO(n,e),h=Pp(n,e);return{type:"option",data:e,isDisabled:s,isSelected:o,label:u,value:h,index:i}}function $d(n,e){return n.options.map(function(t,i){if("options"in t){var s=t.options.map(function(u,h){return PC(n,u,e,h)}).filter(function(u){return LC(n,u)});return s.length>0?{type:"group",data:t,options:s,index:i}:void 0}var o=PC(n,t,e,i);return LC(n,o)?o:void 0}).filter(sB)}function VO(n){return n.reduce(function(e,t){return t.type==="group"?e.push.apply(e,k0(t.options.map(function(i){return i.data}))):e.push(t.data),e},[])}function kC(n,e){return n.reduce(function(t,i){return i.type==="group"?t.push.apply(t,k0(i.options.map(function(s){return{data:s.data,id:"".concat(e,"-").concat(i.index,"-").concat(s.index)}}))):t.push({data:i.data,id:"".concat(e,"-").concat(i.index)}),t},[])}function aH(n,e){return VO($d(n,e))}function LC(n,e){var t=n.inputValue,i=t===void 0?"":t,s=e.data,o=e.isSelected,u=e.label,h=e.value;return(!HO(n)||!o)&&BO(n,{label:u,value:h,data:s},i)}function oH(n,e){var t=n.focusedValue,i=n.selectValue,s=i.indexOf(t);if(s>-1){var o=e.indexOf(t);if(o>-1)return t;if(s<e.length)return e[s]}return null}function lH(n,e){var t=n.focusedOption;return t&&e.indexOf(t)>-1?t:e[0]}var n_=function(e,t){var i,s=(i=e.find(function(o){return o.data===t}))===null||i===void 0?void 0:i.id;return s||null},UO=function(e,t){return e.getOptionLabel(t)},Pp=function(e,t){return e.getOptionValue(t)};function zO(n,e,t){return typeof n.isOptionDisabled=="function"?n.isOptionDisabled(e,t):!1}function FO(n,e,t){if(t.indexOf(e)>-1)return!0;if(typeof n.isOptionSelected=="function")return n.isOptionSelected(e,t);var i=Pp(n,e);return t.some(function(s){return Pp(n,s)===i})}function BO(n,e,t){return n.filterOption?n.filterOption(e,t):!0}var HO=function(e){var t=e.hideSelectedOptions,i=e.isMulti;return t===void 0?i:t},uH=1,jO=(function(n){OF(t,n);var e=MF(t);function t(i){var s;if(AF(this,t),s=e.call(this,i),s.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:"",isAppleDevice:!1},s.blockOptionHover=!1,s.isComposing=!1,s.commonProps=void 0,s.initialTouchX=0,s.initialTouchY=0,s.openAfterFocus=!1,s.scrollToFocusedOptionOnUpdate=!1,s.userIsDragging=void 0,s.controlRef=null,s.getControlRef=function(f){s.controlRef=f},s.focusedOptionRef=null,s.getFocusedOptionRef=function(f){s.focusedOptionRef=f},s.menuListRef=null,s.getMenuListRef=function(f){s.menuListRef=f},s.inputRef=null,s.getInputRef=function(f){s.inputRef=f},s.focus=s.focusInput,s.blur=s.blurInput,s.onChange=function(f,d){var y=s.props,_=y.onChange,E=y.name;d.name=E,s.ariaOnChange(f,d),_(f,d)},s.setValue=function(f,d,y){var _=s.props,E=_.closeMenuOnSelect,w=_.isMulti,I=_.inputValue;s.onInputChange("",{action:"set-value",prevInputValue:I}),E&&(s.setState({inputIsHiddenAfterUpdate:!w}),s.onMenuClose()),s.setState({clearFocusValueOnUpdate:!0}),s.onChange(f,{action:d,option:y})},s.selectOption=function(f){var d=s.props,y=d.blurInputOnSelect,_=d.isMulti,E=d.name,w=s.state.selectValue,I=_&&s.isOptionSelected(f,w),O=s.isOptionDisabled(f,w);if(I){var A=s.getOptionValue(f);s.setValue(w.filter(function(U){return s.getOptionValue(U)!==A}),"deselect-option",f)}else if(!O)_?s.setValue([].concat(k0(w),[f]),"select-option",f):s.setValue(f,"select-option");else{s.ariaOnChange(f,{action:"select-option",option:f,name:E});return}y&&s.blurInput()},s.removeValue=function(f){var d=s.props.isMulti,y=s.state.selectValue,_=s.getOptionValue(f),E=y.filter(function(I){return s.getOptionValue(I)!==_}),w=Cd(d,E,E[0]||null);s.onChange(w,{action:"remove-value",removedValue:f}),s.focusInput()},s.clearValue=function(){var f=s.state.selectValue;s.onChange(Cd(s.props.isMulti,[],null),{action:"clear",removedValues:f})},s.popValue=function(){var f=s.props.isMulti,d=s.state.selectValue,y=d[d.length-1],_=d.slice(0,d.length-1),E=Cd(f,_,_[0]||null);y&&s.onChange(E,{action:"pop-value",removedValue:y})},s.getFocusedOptionId=function(f){return n_(s.state.focusableOptionsWithIds,f)},s.getFocusableOptionsWithIds=function(){return kC($d(s.props,s.state.selectValue),s.getElementId("option"))},s.getValue=function(){return s.state.selectValue},s.cx=function(){for(var f=arguments.length,d=new Array(f),y=0;y<f;y++)d[y]=arguments[y];return X8.apply(void 0,[s.props.classNamePrefix].concat(d))},s.getOptionLabel=function(f){return UO(s.props,f)},s.getOptionValue=function(f){return Pp(s.props,f)},s.getStyles=function(f,d){var y=s.props.unstyled,_=Z7[f](d,y);_.boxSizing="border-box";var E=s.props.styles[f];return E?E(_,d):_},s.getClassNames=function(f,d){var y,_;return(y=(_=s.props.classNames)[f])===null||y===void 0?void 0:y.call(_,d)},s.getElementId=function(f){return"".concat(s.state.instancePrefix,"-").concat(f)},s.getComponents=function(){return E7(s.props)},s.buildCategorizedOptions=function(){return $d(s.props,s.state.selectValue)},s.getCategorizedOptions=function(){return s.props.menuIsOpen?s.buildCategorizedOptions():[]},s.buildFocusableOptions=function(){return VO(s.buildCategorizedOptions())},s.getFocusableOptions=function(){return s.props.menuIsOpen?s.buildFocusableOptions():[]},s.ariaOnChange=function(f,d){s.setState({ariaSelection:Ve({value:f},d)})},s.onMenuMouseDown=function(f){f.button===0&&(f.stopPropagation(),f.preventDefault(),s.focusInput())},s.onMenuMouseMove=function(f){s.blockOptionHover=!1},s.onControlMouseDown=function(f){if(!f.defaultPrevented){var d=s.props.openMenuOnClick;s.state.isFocused?s.props.menuIsOpen?f.target.tagName!=="INPUT"&&f.target.tagName!=="TEXTAREA"&&s.onMenuClose():d&&s.openMenu("first"):(d&&(s.openAfterFocus=!0),s.focusInput()),f.target.tagName!=="INPUT"&&f.target.tagName!=="TEXTAREA"&&f.preventDefault()}},s.onDropdownIndicatorMouseDown=function(f){if(!(f&&f.type==="mousedown"&&f.button!==0)&&!s.props.isDisabled){var d=s.props,y=d.isMulti,_=d.menuIsOpen;s.focusInput(),_?(s.setState({inputIsHiddenAfterUpdate:!y}),s.onMenuClose()):s.openMenu("first"),f.preventDefault()}},s.onClearIndicatorMouseDown=function(f){f&&f.type==="mousedown"&&f.button!==0||(s.clearValue(),f.preventDefault(),s.openAfterFocus=!1,f.type==="touchend"?s.focusInput():setTimeout(function(){return s.focusInput()}))},s.onScroll=function(f){typeof s.props.closeMenuOnScroll=="boolean"?f.target instanceof HTMLElement&&Sm(f.target)&&s.props.onMenuClose():typeof s.props.closeMenuOnScroll=="function"&&s.props.closeMenuOnScroll(f)&&s.props.onMenuClose()},s.onCompositionStart=function(){s.isComposing=!0},s.onCompositionEnd=function(){s.isComposing=!1},s.onTouchStart=function(f){var d=f.touches,y=d&&d.item(0);y&&(s.initialTouchX=y.clientX,s.initialTouchY=y.clientY,s.userIsDragging=!1)},s.onTouchMove=function(f){var d=f.touches,y=d&&d.item(0);if(y){var _=Math.abs(y.clientX-s.initialTouchX),E=Math.abs(y.clientY-s.initialTouchY),w=5;s.userIsDragging=_>w||E>w}},s.onTouchEnd=function(f){s.userIsDragging||(s.controlRef&&!s.controlRef.contains(f.target)&&s.menuListRef&&!s.menuListRef.contains(f.target)&&s.blurInput(),s.initialTouchX=0,s.initialTouchY=0)},s.onControlTouchEnd=function(f){s.userIsDragging||s.onControlMouseDown(f)},s.onClearIndicatorTouchEnd=function(f){s.userIsDragging||s.onClearIndicatorMouseDown(f)},s.onDropdownIndicatorTouchEnd=function(f){s.userIsDragging||s.onDropdownIndicatorMouseDown(f)},s.handleInputChange=function(f){var d=s.props.inputValue,y=f.currentTarget.value;s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange(y,{action:"input-change",prevInputValue:d}),s.props.menuIsOpen||s.onMenuOpen()},s.onInputFocus=function(f){s.props.onFocus&&s.props.onFocus(f),s.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(s.openAfterFocus||s.props.openMenuOnFocus)&&s.openMenu("first"),s.openAfterFocus=!1},s.onInputBlur=function(f){var d=s.props.inputValue;if(s.menuListRef&&s.menuListRef.contains(document.activeElement)){s.inputRef.focus();return}s.props.onBlur&&s.props.onBlur(f),s.onInputChange("",{action:"input-blur",prevInputValue:d}),s.onMenuClose(),s.setState({focusedValue:null,isFocused:!1})},s.onOptionHover=function(f){if(!(s.blockOptionHover||s.state.focusedOption===f)){var d=s.getFocusableOptions(),y=d.indexOf(f);s.setState({focusedOption:f,focusedOptionId:y>-1?s.getFocusedOptionId(f):null})}},s.shouldHideSelectedOptions=function(){return HO(s.props)},s.onValueInputFocus=function(f){f.preventDefault(),f.stopPropagation(),s.focus()},s.onKeyDown=function(f){var d=s.props,y=d.isMulti,_=d.backspaceRemovesValue,E=d.escapeClearsValue,w=d.inputValue,I=d.isClearable,O=d.isDisabled,A=d.menuIsOpen,U=d.onKeyDown,V=d.tabSelectsValue,z=d.openMenuOnFocus,Q=s.state,j=Q.focusedOption,ie=Q.focusedValue,S=Q.selectValue;if(!O&&!(typeof U=="function"&&(U(f),f.defaultPrevented))){switch(s.blockOptionHover=!0,f.key){case"ArrowLeft":if(!y||w)return;s.focusValue("previous");break;case"ArrowRight":if(!y||w)return;s.focusValue("next");break;case"Delete":case"Backspace":if(w)return;if(ie)s.removeValue(ie);else{if(!_)return;y?s.popValue():I&&s.clearValue()}break;case"Tab":if(s.isComposing||f.shiftKey||!A||!V||!j||z&&s.isOptionSelected(j,S))return;s.selectOption(j);break;case"Enter":if(f.keyCode===229)break;if(A){if(!j||s.isComposing)return;s.selectOption(j);break}return;case"Escape":A?(s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange("",{action:"menu-close",prevInputValue:w}),s.onMenuClose()):I&&E&&s.clearValue();break;case" ":if(w)return;if(!A){s.openMenu("first");break}if(!j)return;s.selectOption(j);break;case"ArrowUp":A?s.focusOption("up"):s.openMenu("last");break;case"ArrowDown":A?s.focusOption("down"):s.openMenu("first");break;case"PageUp":if(!A)return;s.focusOption("pageup");break;case"PageDown":if(!A)return;s.focusOption("pagedown");break;case"Home":if(!A)return;s.focusOption("first");break;case"End":if(!A)return;s.focusOption("last");break;default:return}f.preventDefault()}},s.state.instancePrefix="react-select-"+(s.props.instanceId||++uH),s.state.selectValue=bC(i.value),i.menuIsOpen&&s.state.selectValue.length){var o=s.getFocusableOptionsWithIds(),u=s.buildFocusableOptions(),h=u.indexOf(s.state.selectValue[0]);s.state.focusableOptionsWithIds=o,s.state.focusedOption=u[h],s.state.focusedOptionId=n_(o,u[h])}return s}return IF(t,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&EC(this.menuListRef,this.focusedOptionRef),Y7()&&this.setState({isAppleDevice:!0})}},{key:"componentDidUpdate",value:function(s){var o=this.props,u=o.isDisabled,h=o.menuIsOpen,f=this.state.isFocused;(f&&!u&&s.isDisabled||f&&h&&!s.menuIsOpen)&&this.focusInput(),f&&u&&!s.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!f&&!u&&s.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(EC(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(s,o){this.props.onInputChange(s,o)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(s){var o=this,u=this.state,h=u.selectValue,f=u.isFocused,d=this.buildFocusableOptions(),y=s==="first"?0:d.length-1;if(!this.props.isMulti){var _=d.indexOf(h[0]);_>-1&&(y=_)}this.scrollToFocusedOptionOnUpdate=!(f&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:d[y],focusedOptionId:this.getFocusedOptionId(d[y])},function(){return o.onMenuOpen()})}},{key:"focusValue",value:function(s){var o=this.state,u=o.selectValue,h=o.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var f=u.indexOf(h);h||(f=-1);var d=u.length-1,y=-1;if(u.length){switch(s){case"previous":f===0?y=0:f===-1?y=d:y=f-1;break;case"next":f>-1&&f<d&&(y=f+1);break}this.setState({inputIsHidden:y!==-1,focusedValue:u[y]})}}}},{key:"focusOption",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",o=this.props.pageSize,u=this.state.focusedOption,h=this.getFocusableOptions();if(h.length){var f=0,d=h.indexOf(u);u||(d=-1),s==="up"?f=d>0?d-1:h.length-1:s==="down"?f=(d+1)%h.length:s==="pageup"?(f=d-o,f<0&&(f=0)):s==="pagedown"?(f=d+o,f>h.length-1&&(f=h.length-1)):s==="last"&&(f=h.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:h[f],focusedValue:null,focusedOptionId:this.getFocusedOptionId(h[f])})}}},{key:"getTheme",value:(function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(t_):Ve(Ve({},t_),this.props.theme):t_})},{key:"getCommonProps",value:function(){var s=this.clearValue,o=this.cx,u=this.getStyles,h=this.getClassNames,f=this.getValue,d=this.selectOption,y=this.setValue,_=this.props,E=_.isMulti,w=_.isRtl,I=_.options,O=this.hasValue();return{clearValue:s,cx:o,getStyles:u,getClassNames:h,getValue:f,hasValue:O,isMulti:E,isRtl:w,options:I,selectOption:d,selectProps:_,setValue:y,theme:this.getTheme()}}},{key:"hasValue",value:function(){var s=this.state.selectValue;return s.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var s=this.props,o=s.isClearable,u=s.isMulti;return o===void 0?u:o}},{key:"isOptionDisabled",value:function(s,o){return zO(this.props,s,o)}},{key:"isOptionSelected",value:function(s,o){return FO(this.props,s,o)}},{key:"filterOption",value:function(s,o){return BO(this.props,s,o)}},{key:"formatOptionLabel",value:function(s,o){if(typeof this.props.formatOptionLabel=="function"){var u=this.props.inputValue,h=this.state.selectValue;return this.props.formatOptionLabel(s,{context:o,inputValue:u,selectValue:h})}else return this.getOptionLabel(s)}},{key:"formatGroupLabel",value:function(s){return this.props.formatGroupLabel(s)}},{key:"startListeningComposition",value:(function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))})},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:(function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))})},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:(function(){var s=this.props,o=s.isDisabled,u=s.isSearchable,h=s.inputId,f=s.inputValue,d=s.tabIndex,y=s.form,_=s.menuIsOpen,E=s.required,w=this.getComponents(),I=w.Input,O=this.state,A=O.inputIsHidden,U=O.ariaSelection,V=this.commonProps,z=h||this.getElementId("input"),Q=Ve(Ve(Ve({"aria-autocomplete":"list","aria-expanded":_,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":E,role:"combobox","aria-activedescendant":this.state.isAppleDevice?void 0:this.state.focusedOptionId||""},_&&{"aria-controls":this.getElementId("listbox")}),!u&&{"aria-readonly":!0}),this.hasValue()?U?.action==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return u?L.createElement(I,Fe({},V,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:z,innerRef:this.getInputRef,isDisabled:o,isHidden:A,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:d,form:y,type:"text",value:f},Q)):L.createElement(k7,Fe({id:z,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Mp,onFocus:this.onInputFocus,disabled:o,tabIndex:d,inputMode:"none",form:y,value:""},Q))})},{key:"renderPlaceholderOrValue",value:function(){var s=this,o=this.getComponents(),u=o.MultiValue,h=o.MultiValueContainer,f=o.MultiValueLabel,d=o.MultiValueRemove,y=o.SingleValue,_=o.Placeholder,E=this.commonProps,w=this.props,I=w.controlShouldRenderValue,O=w.isDisabled,A=w.isMulti,U=w.inputValue,V=w.placeholder,z=this.state,Q=z.selectValue,j=z.focusedValue,ie=z.isFocused;if(!this.hasValue()||!I)return U?null:L.createElement(_,Fe({},E,{key:"placeholder",isDisabled:O,isFocused:ie,innerProps:{id:this.getElementId("placeholder")}}),V);if(A)return Q.map(function(C,x){var N=C===j,k="".concat(s.getOptionLabel(C),"-").concat(s.getOptionValue(C));return L.createElement(u,Fe({},E,{components:{Container:h,Label:f,Remove:d},isFocused:N,isDisabled:O,key:k,index:x,removeProps:{onClick:function(){return s.removeValue(C)},onTouchEnd:function(){return s.removeValue(C)},onMouseDown:function(M){M.preventDefault()}},data:C}),s.formatOptionLabel(C,"value"))});if(U)return null;var S=Q[0];return L.createElement(y,Fe({},E,{data:S,isDisabled:O}),this.formatOptionLabel(S,"value"))}},{key:"renderClearIndicator",value:function(){var s=this.getComponents(),o=s.ClearIndicator,u=this.commonProps,h=this.props,f=h.isDisabled,d=h.isLoading,y=this.state.isFocused;if(!this.isClearable()||!o||f||!this.hasValue()||d)return null;var _={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return L.createElement(o,Fe({},u,{innerProps:_,isFocused:y}))}},{key:"renderLoadingIndicator",value:function(){var s=this.getComponents(),o=s.LoadingIndicator,u=this.commonProps,h=this.props,f=h.isDisabled,d=h.isLoading,y=this.state.isFocused;if(!o||!d)return null;var _={"aria-hidden":"true"};return L.createElement(o,Fe({},u,{innerProps:_,isDisabled:f,isFocused:y}))}},{key:"renderIndicatorSeparator",value:function(){var s=this.getComponents(),o=s.DropdownIndicator,u=s.IndicatorSeparator;if(!o||!u)return null;var h=this.commonProps,f=this.props.isDisabled,d=this.state.isFocused;return L.createElement(u,Fe({},h,{isDisabled:f,isFocused:d}))}},{key:"renderDropdownIndicator",value:function(){var s=this.getComponents(),o=s.DropdownIndicator;if(!o)return null;var u=this.commonProps,h=this.props.isDisabled,f=this.state.isFocused,d={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return L.createElement(o,Fe({},u,{innerProps:d,isDisabled:h,isFocused:f}))}},{key:"renderMenu",value:function(){var s=this,o=this.getComponents(),u=o.Group,h=o.GroupHeading,f=o.Menu,d=o.MenuList,y=o.MenuPortal,_=o.LoadingMessage,E=o.NoOptionsMessage,w=o.Option,I=this.commonProps,O=this.state.focusedOption,A=this.props,U=A.captureMenuScroll,V=A.inputValue,z=A.isLoading,Q=A.loadingMessage,j=A.minMenuHeight,ie=A.maxMenuHeight,S=A.menuIsOpen,C=A.menuPlacement,x=A.menuPosition,N=A.menuPortalTarget,k=A.menuShouldBlockScroll,P=A.menuShouldScrollIntoView,M=A.noOptionsMessage,pe=A.onMenuScrollToTop,ge=A.onMenuScrollToBottom;if(!S)return null;var K=function(ce,fe){var Ie=ce.type,Me=ce.data,Be=ce.isDisabled,gt=ce.isSelected,yt=ce.label,cr=ce.value,Lt=O===Me,Qn=Be?void 0:function(){return s.onOptionHover(Me)},hr=Be?void 0:function(){return s.selectOption(Me)},si="".concat(s.getElementId("option"),"-").concat(fe),ai={id:si,onClick:hr,onMouseMove:Qn,onMouseOver:Qn,tabIndex:-1,role:"option","aria-selected":s.state.isAppleDevice?void 0:gt};return L.createElement(w,Fe({},I,{innerProps:ai,data:Me,isDisabled:Be,isSelected:gt,key:si,label:yt,type:Ie,value:cr,isFocused:Lt,innerRef:Lt?s.getFocusedOptionRef:void 0}),s.formatOptionLabel(ce.data,"menu"))},re;if(this.hasOptions())re=this.getCategorizedOptions().map(function(Z){if(Z.type==="group"){var ce=Z.data,fe=Z.options,Ie=Z.index,Me="".concat(s.getElementId("group"),"-").concat(Ie),Be="".concat(Me,"-heading");return L.createElement(u,Fe({},I,{key:Me,data:ce,options:fe,Heading:h,headingProps:{id:Be,data:Z.data},label:s.formatGroupLabel(Z.data)}),Z.options.map(function(gt){return K(gt,"".concat(Ie,"-").concat(gt.index))}))}else if(Z.type==="option")return K(Z,"".concat(Z.index))});else if(z){var me=Q({inputValue:V});if(me===null)return null;re=L.createElement(_,I,me)}else{var xe=M({inputValue:V});if(xe===null)return null;re=L.createElement(E,I,xe)}var ze={minMenuHeight:j,maxMenuHeight:ie,menuPlacement:C,menuPosition:x,menuShouldScrollIntoView:P},H=L.createElement(dB,Fe({},I,ze),function(Z){var ce=Z.ref,fe=Z.placerProps,Ie=fe.placement,Me=fe.maxHeight;return L.createElement(f,Fe({},I,ze,{innerRef:ce,innerProps:{onMouseDown:s.onMenuMouseDown,onMouseMove:s.onMenuMouseMove},isLoading:z,placement:Ie}),L.createElement(B7,{captureEnabled:U,onTopArrive:pe,onBottomArrive:ge,lockEnabled:k},function(Be){return L.createElement(d,Fe({},I,{innerRef:function(yt){s.getMenuListRef(yt),Be(yt)},innerProps:{role:"listbox","aria-multiselectable":I.isMulti,id:s.getElementId("listbox")},isLoading:z,maxHeight:Me,focusedOption:O}),re)}))});return N||x==="fixed"?L.createElement(y,Fe({},I,{appendTo:N,controlElement:this.controlRef,menuPlacement:C,menuPosition:x}),H):H}},{key:"renderFormField",value:function(){var s=this,o=this.props,u=o.delimiter,h=o.isDisabled,f=o.isMulti,d=o.name,y=o.required,_=this.state.selectValue;if(y&&!this.hasValue()&&!h)return L.createElement(q7,{name:d,onFocus:this.onValueInputFocus});if(!(!d||h))if(f)if(u){var E=_.map(function(O){return s.getOptionValue(O)}).join(u);return L.createElement("input",{name:d,type:"hidden",value:E})}else{var w=_.length>0?_.map(function(O,A){return L.createElement("input",{key:"i-".concat(A),name:d,type:"hidden",value:s.getOptionValue(O)})}):L.createElement("input",{name:d,type:"hidden",value:""});return L.createElement("div",null,w)}else{var I=_[0]?this.getOptionValue(_[0]):"";return L.createElement("input",{name:d,type:"hidden",value:I})}}},{key:"renderLiveRegion",value:function(){var s=this.commonProps,o=this.state,u=o.ariaSelection,h=o.focusedOption,f=o.focusedValue,d=o.isFocused,y=o.selectValue,_=this.getFocusableOptions();return L.createElement(O7,Fe({},s,{id:this.getElementId("live-region"),ariaSelection:u,focusedOption:h,focusedValue:f,isFocused:d,selectValue:y,focusableOptions:_,isAppleDevice:this.state.isAppleDevice}))}},{key:"render",value:function(){var s=this.getComponents(),o=s.Control,u=s.IndicatorsContainer,h=s.SelectContainer,f=s.ValueContainer,d=this.props,y=d.className,_=d.id,E=d.isDisabled,w=d.menuIsOpen,I=this.state.isFocused,O=this.commonProps=this.getCommonProps();return L.createElement(h,Fe({},O,{className:y,innerProps:{id:_,onKeyDown:this.onKeyDown},isDisabled:E,isFocused:I}),this.renderLiveRegion(),L.createElement(o,Fe({},O,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:E,isFocused:I,menuIsOpen:w}),L.createElement(f,Fe({},O,{isDisabled:E}),this.renderPlaceholderOrValue(),this.renderInput()),L.createElement(u,Fe({},O,{isDisabled:E}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(s,o){var u=o.prevProps,h=o.clearFocusValueOnUpdate,f=o.inputIsHiddenAfterUpdate,d=o.ariaSelection,y=o.isFocused,_=o.prevWasFocused,E=o.instancePrefix,w=s.options,I=s.value,O=s.menuIsOpen,A=s.inputValue,U=s.isMulti,V=bC(I),z={};if(u&&(I!==u.value||w!==u.options||O!==u.menuIsOpen||A!==u.inputValue)){var Q=O?aH(s,V):[],j=O?kC($d(s,V),"".concat(E,"-option")):[],ie=h?oH(o,V):null,S=lH(o,Q),C=n_(j,S);z={selectValue:V,focusedOption:S,focusedOptionId:C,focusableOptionsWithIds:j,focusedValue:ie,clearFocusValueOnUpdate:!1}}var x=f!=null&&s!==u?{inputIsHidden:f,inputIsHiddenAfterUpdate:void 0}:{},N=d,k=y&&_;return y&&!k&&(N={value:Cd(U,V,V[0]||null),options:V,action:"initial-input-focus"},k=!_),d?.action==="initial-input-focus"&&(N=null),Ve(Ve(Ve({},z),x),{},{prevProps:s,ariaSelection:N,prevWasFocused:k})}}]),t})(L.Component);jO.defaultProps=sH;var cH=L.forwardRef(function(n,e){var t=RF(n);return L.createElement(jO,Fe({ref:e},t))}),Bo=cH;const hH="_form_hsq2z_1",fH="_CreateSeshFormContainer_hsq2z_11",dH="_rightDiv_hsq2z_15",pH="_previewContainer_hsq2z_19",mH="_part_hsq2z_32",gH="_done_hsq2z_41",yH="_cannotSubmit_hsq2z_45",_H="_canSubmit_hsq2z_49",vH="_descInput_hsq2z_53",bH="_submitButton_hsq2z_66",rn={form:hH,CreateSeshFormContainer:fH,rightDiv:dH,previewContainer:pH,part:mH,done:gH,cannotSubmit:yH,canSubmit:_H,descInput:vH,submitButton:bH};function EH(n){const[e,t]=L.useState(!1),i=fu(P=>P.user),[s,o]=L.useState(null),[u,h]=L.useState(null),[f,d]=L.useState(null),[y,_]=L.useState(null),[E,w]=L.useState(null),[I,O]=L.useState(null),A=[{value:"0000",label:"00:00"},{value:"0030",label:"00:30"},{value:"0100",label:"01:00"},{value:"0130",label:"01:30"},{value:"0200",label:"02:00"},{value:"0230",label:"02:30"},{value:"0300",label:"03:00"},{value:"0330",label:"03:30"},{value:"0400",label:"04:00"},{value:"0430",label:"04:30"},{value:"0500",label:"05:00"},{value:"0530",label:"05:30"},{value:"0600",label:"06:00"},{value:"0630",label:"06:30"},{value:"0700",label:"07:00"},{value:"0730",label:"07:30"},{value:"0800",label:"08:00"},{value:"0830",label:"08:30"},{value:"0900",label:"09:00"},{value:"0930",label:"09:30"},{value:"1100",label:"11:00"},{value:"1130",label:"11:30"},{value:"1200",label:"12:00"},{value:"1230",label:"12:30"},{value:"1300",label:"13:00"},{value:"1330",label:"13:30"},{value:"1400",label:"14:00"},{value:"1430",label:"14:30"},{value:"1500",label:"15:00"},{value:"1530",label:"15:30"},{value:"1600",label:"16:00"},{value:"1630",label:"16:30"},{value:"1700",label:"17:00"},{value:"1730",label:"17:30"},{value:"1800",label:"18:00"},{value:"1830",label:"18:30"},{value:"1900",label:"19:00"},{value:"1930",label:"19:30"},{value:"2000",label:"20:00"},{value:"2030",label:"20:30"},{value:"2100",label:"21:00"},{value:"2130",label:"21:30"},{value:"2200",label:"22:00"},{value:"2230",label:"22:30"},{value:"2300",label:"23:00"},{value:"2330",label:"23:30"}],[U,V]=L.useState(A),[z,Q]=L.useState(A);L.useEffect(()=>{if(y!==null&&f!==null){const P=A.filter(pe=>Number(pe.value)<Number(y)),M=A.filter(pe=>Number(pe.value)>Number(f));console.log("filtered times"),console.log(M),console.log(P),Q(P),V(M)}else if(y!==null){V(A);const P=A.filter(M=>Number(M.value)<Number(y));Q(P)}else if(f!==null){Q(A);const P=A.filter(M=>Number(M.value)>Number(f));V(P)}else V(A),Q(A)},[y,f]);const j=async P=>{if(P.preventDefault(),E!==void 0&&y!==null&&f!==null&&u!==null&&s!==null&&!e){if(i===null){ft.warn("Please log in to create a study session"),console.log("prevented bad submission");return}else if(E?.length>220){ft.warn("Please make your description shorter"),console.log("prevented bad submission");return}}else{ft.warn("Not all required fields have been filled"),console.log("prevented bad submission");return}t(!0);const M=ou($o,"userStuff",i.uid);(await Fd(M)).exists()||await ph(M,{listings:[],signups:[]});const ge=crypto.randomUUID(),K=ou($o,"allListings",ge),re={title:I,month:s,day:u,startTime:f,endTime:y,description:E,host:{email:i.email,id:i.uid},id:ge,attendees:[{email:i.email,id:i.uid}],amtSignedUp:1};console.log("newListing:",re),await F_(M,{listings:B_(ge)}),await ph(K,re),ft.success("Success!"),t(!1)},ie=[{value:"10",label:"november"},{value:"11",label:"december"},{value:"00",label:"january"},{value:"01",label:"february"},{value:"03",label:"march"},{value:"04",label:"april"},{value:"05",label:"may"},{value:"06",label:"july"},{value:"07",label:"august"},{value:"08",label:"september"},{value:"09",label:"october"}],S=[{value:"01",label:"1"},{value:"02",label:"2"},{value:"03",label:"3"},{value:"04",label:"4"},{value:"05",label:"5"},{value:"06",label:"6"},{value:"07",label:"7"},{value:"08",label:"8"},{value:"09",label:"9"},{value:"10",label:"10"},{value:"11",label:"11"},{value:"12",label:"12"},{value:"13",label:"13"},{value:"14",label:"14"},{value:"15",label:"15"},{value:"16",label:"16"},{value:"17",label:"17"},{value:"18",label:"18"},{value:"19",label:"19"},{value:"20",label:"20"},{value:"21",label:"21"},{value:"22",label:"22"},{value:"23",label:"23"},{value:"24",label:"24"},{value:"25",label:"25"},{value:"26",label:"26"},{value:"27",label:"27"},{value:"28",label:"28"},{value:"29",label:"29"},{value:"30",label:"30"},{value:"31",label:"31"}],C={menuList:(P,M)=>({...P,backgroundColor:"#332f8e"}),option:(P,M)=>({...P,backgroundColor:M.isFocused?"#1a1a1a":"#332f8e"}),valueContainer:(P,M)=>({...P,backgroundColor:"#332f8e",color:"#ffffffff"}),singleValue:(P,M)=>({...P,color:"#ffffffff"}),dropdownIndicator:(P,M)=>({...P,backgroundColor:"#332f8e"}),indicatorSeparator:(P,M)=>({...P,backgroundColor:"#332f8e"}),indicatorsContainer:(P,M)=>({...P,backgroundColor:"#332f8e"}),control:(P,M)=>({...P,backgroundColor:"#332f8e",borderColor:"#332f8e",borderRadius:"0px","&:hover":{borderColor:"#646cff"},width:"150px",height:"65px",fontSize:"17px",boxShadow:"none"})},x=ie.find(P=>P.value===s);let N="";x&&(N=x.label.slice(0,3));const k=P=>{try{const M=P.slice(0,2),pe=P.slice(2),ge=Number(M),K=ge<12?"AM":"PM",re=ge%12!==0?ge%12:12;return String(re)+":"+pe+K}catch{return P}};return _e.jsxs("div",{className:rn.CreateSeshFormContainer,children:[e&&_e.jsx("h1",{children:"Loading..."}),_e.jsx("form",{onSubmit:j,children:_e.jsxs("div",{className:rn.form,children:[_e.jsxs("div",{className:`${rn.part} ${I!==null?rn.done:""}`,children:[_e.jsx("p",{children:"Title"}),_e.jsx("input",{type:"text",placeholder:"type here",className:rn.descInput,onChange:P=>{O(P.target.value)}})]}),_e.jsxs("div",{className:`${rn.part} ${E!==null?rn.done:""}`,children:[_e.jsx("p",{children:"Description"}),_e.jsx("input",{type:"text",placeholder:"type here",className:rn.descInput,onChange:P=>{w(P.target.value)}})]}),_e.jsxs("div",{className:`${rn.part} ${s!==null?rn.done:""}`,children:[_e.jsx("p",{children:"Month"}),_e.jsx(Bo,{options:ie,onChange:P=>{o(P.value)},styles:C})]}),_e.jsxs("div",{className:`${rn.part} ${u!==null?rn.done:""}`,children:[_e.jsx("p",{children:"Day"}),_e.jsx(Bo,{onChange:P=>{h(P.value)},options:S,styles:C})]}),_e.jsxs("div",{className:`${rn.part} ${f!==null?rn.done:""}`,children:[_e.jsx("p",{children:"Start Time"}),_e.jsx(Bo,{onChange:P=>{d(P.value)},options:z,styles:C})]}),_e.jsxs("div",{className:`${rn.part} ${y!==null?rn.done:""}`,children:[_e.jsx("p",{children:"End Time"}),_e.jsx(Bo,{onChange:P=>{_(P.value)},options:U,styles:C})]}),_e.jsx("div",{className:`${rn.part} ${E!==void 0&&y!==null&&f!==null&&u!==null&&s!==null&&!e?rn.canSubmit:rn.cannotSubmit}`,children:_e.jsx("button",{onClick:j,className:rn.submitButton,canSubmit:!e,children:"Submit"})})]})}),_e.jsxs("div",{className:rn.rightDiv,children:[_e.jsx("h2",{children:"Preview:"}),_e.jsxs("div",{className:rn.previewContainer,children:[_e.jsxs("h3",{children:[I||"no title"," "]}),_e.jsxs("p",{children:["Day: ",N," ",u]}),_e.jsxs("p",{children:["Start time: ",k(f)]}),_e.jsxs("p",{children:["End time: ",k(y)]}),_e.jsx("p",{children:"Amt attending: 0"}),_e.jsxs("p",{children:["Description: ",E]})]})]})]})}const TH="_previewContainer_1w34r_2",SH="_seshTitle_1w34r_10",wH="_hostingButton_1w34r_14",CH="_sessions_1w34r_29",RH="_BrowsePage_1w34r_42",AH="_searchContainer_1w34r_51",IH="_searchButton_1w34r_57",OH="_title_1w34r_60",Tr={previewContainer:TH,seshTitle:SH,hostingButton:wH,sessions:CH,BrowsePage:RH,searchContainer:AH,searchButton:IH,title:OH};async function DH(){try{return(await LU(bU($o,"allListings"))).docs.map(t=>t.data())}catch(n){return console.error("Error fetching listings:",n),[]}}function NH(){const n=fu(N=>N.user),[e,t]=qx(),i=e.get("q")||"",s=[],[o,u]=L.useState(s),[h,f]=L.useState("earliest"),[d,y]=L.useState(""),[_,E]=L.useState(null),[w,I]=L.useState(null),[O,A]=L.useState("All Sessions:");async function U(){const N=await DH();if(N.length==0)return;let k=N.filter(P=>{let M=i==""||P.title?.toLowerCase().includes(i.toLowerCase());return M=M&&(_==null||P.month==_),M=M&&(w==null||P.day==w),M});if(console.log("user"),console.log(n),n!=null){console.log("user !== null");const P=ou($o,"userStuff",n.uid),M=await Fd(P);M.exists()||await ph(P,{listings:[],signups:[]});const pe=M.data(),ge=pe.signups||[],K=pe.listings||[];k=k.map(re=>(K.includes(re.id)?(console.log(re.id+"in listings"),re.status="Hosting"):ge.includes(re.id)?(console.log(re.id+"in signups"),re.status="Attending"):(console.log(re.id+"is joinable"),re.status="Joinable"),re))}else k=k.map(P=>(console.log(P.id+"is joinable"),P.status="Joinable",P));h==="earliest"?k=k.sort((P,M)=>{const pe=P.month+"/"+P.day+"/"+P.startTime,ge=M.month+"/"+M.day+"/"+M.startTime;return pe>ge?1:pe<ge?-1:0}):h==="latest"?k=k.sort((P,M)=>{const pe=P.month+"/"+P.day+"/"+P.startTime,ge=M.month+"/"+M.day+"/"+M.startTime;return pe>ge?-1:pe<ge?1:0}):h==="numPeople"&&(k=k.sort((P,M)=>P.amtSignedUp>M.amtSignedUp?-1:P.amtSignedUp<M.amtSignedUp?1:0)),u(N.length>0?k:s),console.log("results set"),console.log(k)}L.useEffect(()=>{U()},[i,w,_,h,n]);const V=N=>{try{const k=N.slice(0,2),P=N.slice(2),M=Number(k),pe=M<12?"AM":"PM",ge=M%12!==0?M%12:12;return String(ge)+":"+P+pe}catch{return N}},z=[{value:null,label:"any"},{value:"10",label:"november"},{value:"11",label:"december"},{value:"00",label:"january"},{value:"01",label:"february"},{value:"03",label:"march"},{value:"04",label:"april"},{value:"05",label:"may"},{value:"06",label:"july"},{value:"07",label:"august"},{value:"08",label:"september"},{value:"09",label:"october"}],Q=[{value:null,label:"any"},{value:"01",label:"1"},{value:"02",label:"2"},{value:"03",label:"3"},{value:"04",label:"4"},{value:"05",label:"5"},{value:"06",label:"6"},{value:"07",label:"7"},{value:"08",label:"8"},{value:"09",label:"9"},{value:"10",label:"10"},{value:"11",label:"11"},{value:"12",label:"12"},{value:"13",label:"13"},{value:"14",label:"14"},{value:"15",label:"15"},{value:"16",label:"16"},{value:"17",label:"17"},{value:"18",label:"18"},{value:"19",label:"19"},{value:"20",label:"20"},{value:"21",label:"21"},{value:"22",label:"22"},{value:"23",label:"23"},{value:"24",label:"24"},{value:"25",label:"25"},{value:"26",label:"26"},{value:"27",label:"27"},{value:"28",label:"28"},{value:"29",label:"29"},{value:"30",label:"30"},{value:"31",label:"31"}],j=async N=>{if(!n){ft.warn("Cannot join session while logged out");return}u(s);const k=ou($o,"userStuff",n.uid);(await Fd(k)).exists()||await ph(k,{listings:[],signups:[]});const M=ou($o,"allListings",N),pe=(await Fd(M)).data();await F_(M,{amtSignedUp:pe.amtSignedUp+1,attendees:B_({email:n.email,id:n.uid})}),await F_(k,{signups:B_(N)}),console.log("signed up for session"),U()},ie=o.map(N=>{if(!N)return"";const k=z.find(P=>P.value===N.month).label.slice(0,3);return _e.jsxs("div",{className:Tr.previewContainer,children:[_e.jsxs("h2",{className:Tr.seshTitle,children:[N.title||"no title"," "]}),_e.jsx("button",{onClick:()=>j(N.id),disabled:N.status!=="Joinable",className:N.status==="Joinable"?Tr.joinButton:N.status==="Hosting"?Tr.hostingButton:Tr.attendingButton,children:N.status==="Joinable"?"Click to join":N.status==="Hosting"?"Hosting":"Attending"}),_e.jsxs("p",{children:["Day: ",k," ",N.day]}),_e.jsxs("p",{children:["Start time: ",V(N.startTime)]}),_e.jsxs("p",{children:["End time: ",V(N.endTime)]}),_e.jsxs("p",{children:["Amount Attending: ",N.amtSignedUp]}),_e.jsxs("p",{children:["Description: ",N.description]})]},crypto.randomUUID())}),S=N=>{N.preventDefault();const k={};k.q=d,t(k)},C=[{value:"earliest",label:"earliest"},{value:"latest",label:"latest"},{value:"numPeople",label:"#people"}],x={menuList:(N,k)=>({...N,backgroundColor:"#332f8e"}),option:(N,k)=>({...N,backgroundColor:k.isFocused?"#1a1a1a":"#332f8e"}),valueContainer:(N,k)=>({...N,backgroundColor:"#332f8e",color:"#ffffffff"}),singleValue:(N,k)=>({...N,color:"#ffffffff"}),dropdownIndicator:(N,k)=>({...N,backgroundColor:"#332f8e"}),indicatorSeparator:(N,k)=>({...N,backgroundColor:"#332f8e"}),indicatorsContainer:(N,k)=>({...N,backgroundColor:"#332f8e"}),control:(N,k)=>({...N,backgroundColor:"#332f8e",borderRadius:"0px",border:"solid 2px #332f8e","&:hover":{borderColor:"#646cff"},width:"105x",height:"50px",fontSize:"17px",boxShadow:"none"})};return _e.jsxs("div",{className:Tr.BrowsePage,children:[_e.jsxs("div",{className:Tr.searchContainer,children:[_e.jsxs("form",{onSubmit:S,children:[_e.jsx("button",{type:"submit",className:Tr.searchButton,children:"Search"}),_e.jsx("input",{type:"text",className:Tr.searchInput,onChange:N=>y(N.target.value),placeholder:"eg: math"})]}),_e.jsx(Bo,{onChange:N=>{f(N.value)},options:C,styles:x,placeholder:"Sort"}),_e.jsx(Bo,{onChange:N=>{I(N.value)},options:Q,styles:x,placeholder:"Day"}),_e.jsx(Bo,{onChange:N=>{E(N.value)},options:z,styles:x,placeholder:"Month"}),_e.jsx("h1",{className:Tr.title,children:O})]}),_e.jsx("div",{className:Tr.sessions,children:o.length!==0?ie:"Loading..."})]})}function MH(){return _e.jsx("p",{children:"MySessions"})}const xH=Vx([{path:"/",element:_e.jsx(vF,{}),children:[{path:"/",element:_e.jsx(oF,{})},{path:"/create",element:_e.jsx(EH,{})},{path:"/browse",element:_e.jsx(NH,{})},{path:"/mysessions",element:_e.jsx(MH,{})}]}]);function PH(){return _e.jsxs(_e.Fragment,{children:[_e.jsx(Wx,{router:xH}),_e.jsx(NP,{})]})}DN.createRoot(document.getElementById("root")).render(_e.jsx(L.StrictMode,{children:_e.jsx(PH,{})}));
