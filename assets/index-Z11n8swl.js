function ON(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in n)){const o=Object.getOwnPropertyDescriptor(i,s);o&&Object.defineProperty(n,s,o.get?o:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();function DN(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ey={exports:{}},Pc={};var mS;function NN(){if(mS)return Pc;mS=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var f in s)f!=="key"&&(o[f]=s[f])}else o=s;return s=o.ref,{$$typeof:n,type:i,key:u,ref:s!==void 0?s:null,props:o}}return Pc.Fragment=e,Pc.jsx=t,Pc.jsxs=t,Pc}var gS;function MN(){return gS||(gS=1,Ey.exports=NN()),Ey.exports}var se=MN(),Ty={exports:{}},$e={};var yS;function xN(){if(yS)return $e;yS=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),b=Symbol.iterator;function w(j){return j===null||typeof j!="object"?null:(j=b&&j[b]||j["@@iterator"],typeof j=="function"?j:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,A={};function U(j,J,he){this.props=j,this.context=J,this.refs=A,this.updater=he||I}U.prototype.isReactComponent={},U.prototype.setState=function(j,J){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,J,"setState")},U.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function V(){}V.prototype=U.prototype;function z(j,J,he){this.props=j,this.context=J,this.refs=A,this.updater=he||I}var Q=z.prototype=new V;Q.constructor=z,O(Q,U.prototype),Q.isPureReactComponent=!0;var H=Array.isArray;function ie(){}var S={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function x(j,J,he){var le=he.ref;return{$$typeof:n,type:j,key:J,ref:le!==void 0?le:null,props:he}}function N(j,J){return x(j.type,J,j.props)}function L(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function P(j){var J={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(he){return J[he]})}var M=/\/+/g;function ye(j,J){return typeof j=="object"&&j!==null&&j.key!=null?P(""+j.key):J.toString(36)}function ne(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(ie,ie):(j.status="pending",j.then(function(J){j.status==="pending"&&(j.status="fulfilled",j.value=J)},function(J){j.status==="pending"&&(j.status="rejected",j.reason=J)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function $(j,J,he,le,ge){var Se=typeof j;(Se==="undefined"||Se==="boolean")&&(j=null);var Me=!1;if(j===null)Me=!0;else switch(Se){case"bigint":case"string":case"number":Me=!0;break;case"object":switch(j.$$typeof){case n:case e:Me=!0;break;case y:return Me=j._init,$(Me(j._payload),J,he,le,ge)}}if(Me)return ge=ge(j),Me=le===""?"."+ye(j,0):le,H(ge)?(he="",Me!=null&&(he=Me.replace(M,"$&/")+"/"),$(ge,J,he,"",function(dr){return dr})):ge!=null&&(L(ge)&&(ge=N(ge,he+(ge.key==null||j&&j.key===ge.key?"":(""+ge.key).replace(M,"$&/")+"/")+Me)),J.push(ge)),1;Me=0;var gt=le===""?".":le+":";if(H(j))for(var yt=0;yt<j.length;yt++)le=j[yt],Se=gt+ye(le,yt),Me+=$(le,J,he,Se,ge);else if(yt=w(j),typeof yt=="function")for(j=yt.call(j),yt=0;!(le=j.next()).done;)le=le.value,Se=gt+ye(le,yt++),Me+=$(le,J,he,Se,ge);else if(Se==="object"){if(typeof j.then=="function")return $(ne(j),J,he,le,ge);throw J=String(j),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Me}function ee(j,J,he){if(j==null)return j;var le=[],ge=0;return $(j,le,"","",function(Se){return J.call(he,Se,ge++)}),le}function me(j){if(j._status===-1){var J=j._result;J=J(),J.then(function(he){(j._status===0||j._status===-1)&&(j._status=1,j._result=he)},function(he){(j._status===0||j._status===-1)&&(j._status=2,j._result=he)}),j._status===-1&&(j._status=0,j._result=J)}if(j._status===1)return j._result.default;throw j._result}var De=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},Ve={map:ee,forEach:function(j,J,he){ee(j,function(){J.apply(this,arguments)},he)},count:function(j){var J=0;return ee(j,function(){J++}),J},toArray:function(j){return ee(j,function(J){return J})||[]},only:function(j){if(!L(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return $e.Activity=_,$e.Children=Ve,$e.Component=U,$e.Fragment=t,$e.Profiler=s,$e.PureComponent=z,$e.StrictMode=i,$e.Suspense=h,$e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,$e.__COMPILER_RUNTIME={__proto__:null,c:function(j){return S.H.useMemoCache(j)}},$e.cache=function(j){return function(){return j.apply(null,arguments)}},$e.cacheSignal=function(){return null},$e.cloneElement=function(j,J,he){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var le=O({},j.props),ge=j.key;if(J!=null)for(Se in J.key!==void 0&&(ge=""+J.key),J)!C.call(J,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&J.ref===void 0||(le[Se]=J[Se]);var Se=arguments.length-2;if(Se===1)le.children=he;else if(1<Se){for(var Me=Array(Se),gt=0;gt<Se;gt++)Me[gt]=arguments[gt+2];le.children=Me}return x(j.type,ge,le)},$e.createContext=function(j){return j={$$typeof:u,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:o,_context:j},j},$e.createElement=function(j,J,he){var le,ge={},Se=null;if(J!=null)for(le in J.key!==void 0&&(Se=""+J.key),J)C.call(J,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ge[le]=J[le]);var Me=arguments.length-2;if(Me===1)ge.children=he;else if(1<Me){for(var gt=Array(Me),yt=0;yt<Me;yt++)gt[yt]=arguments[yt+2];ge.children=gt}if(j&&j.defaultProps)for(le in Me=j.defaultProps,Me)ge[le]===void 0&&(ge[le]=Me[le]);return x(j,Se,ge)},$e.createRef=function(){return{current:null}},$e.forwardRef=function(j){return{$$typeof:f,render:j}},$e.isValidElement=L,$e.lazy=function(j){return{$$typeof:y,_payload:{_status:-1,_result:j},_init:me}},$e.memo=function(j,J){return{$$typeof:d,type:j,compare:J===void 0?null:J}},$e.startTransition=function(j){var J=S.T,he={};S.T=he;try{var le=j(),ge=S.S;ge!==null&&ge(he,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(ie,De)}catch(Se){De(Se)}finally{J!==null&&he.types!==null&&(J.types=he.types),S.T=J}},$e.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},$e.use=function(j){return S.H.use(j)},$e.useActionState=function(j,J,he){return S.H.useActionState(j,J,he)},$e.useCallback=function(j,J){return S.H.useCallback(j,J)},$e.useContext=function(j){return S.H.useContext(j)},$e.useDebugValue=function(){},$e.useDeferredValue=function(j,J){return S.H.useDeferredValue(j,J)},$e.useEffect=function(j,J){return S.H.useEffect(j,J)},$e.useEffectEvent=function(j){return S.H.useEffectEvent(j)},$e.useId=function(){return S.H.useId()},$e.useImperativeHandle=function(j,J,he){return S.H.useImperativeHandle(j,J,he)},$e.useInsertionEffect=function(j,J){return S.H.useInsertionEffect(j,J)},$e.useLayoutEffect=function(j,J){return S.H.useLayoutEffect(j,J)},$e.useMemo=function(j,J){return S.H.useMemo(j,J)},$e.useOptimistic=function(j,J){return S.H.useOptimistic(j,J)},$e.useReducer=function(j,J,he){return S.H.useReducer(j,J,he)},$e.useRef=function(j){return S.H.useRef(j)},$e.useState=function(j){return S.H.useState(j)},$e.useSyncExternalStore=function(j,J,he){return S.H.useSyncExternalStore(j,J,he)},$e.useTransition=function(){return S.H.useTransition()},$e.version="19.2.0",$e}var _S;function hv(){return _S||(_S=1,Ty.exports=xN()),Ty.exports}var k=hv();const wt=DN(k),vS=ON({__proto__:null,default:wt},[k]);var Sy={exports:{}},kc={},wy={exports:{}},Cy={};var bS;function PN(){return bS||(bS=1,(function(n){function e($,ee){var me=$.length;$.push(ee);e:for(;0<me;){var De=me-1>>>1,Ve=$[De];if(0<s(Ve,ee))$[De]=ee,$[me]=Ve,me=De;else break e}}function t($){return $.length===0?null:$[0]}function i($){if($.length===0)return null;var ee=$[0],me=$.pop();if(me!==ee){$[0]=me;e:for(var De=0,Ve=$.length,j=Ve>>>1;De<j;){var J=2*(De+1)-1,he=$[J],le=J+1,ge=$[le];if(0>s(he,me))le<Ve&&0>s(ge,he)?($[De]=ge,$[le]=me,De=le):($[De]=he,$[J]=me,De=J);else if(le<Ve&&0>s(ge,me))$[De]=ge,$[le]=me,De=le;else break e}}return ee}function s($,ee){var me=$.sortIndex-ee.sortIndex;return me!==0?me:$.id-ee.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,f=u.now();n.unstable_now=function(){return u.now()-f}}var h=[],d=[],y=1,_=null,b=3,w=!1,I=!1,O=!1,A=!1,U=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function Q($){for(var ee=t(d);ee!==null;){if(ee.callback===null)i(d);else if(ee.startTime<=$)i(d),ee.sortIndex=ee.expirationTime,e(h,ee);else break;ee=t(d)}}function H($){if(O=!1,Q($),!I)if(t(h)!==null)I=!0,ie||(ie=!0,P());else{var ee=t(d);ee!==null&&ne(H,ee.startTime-$)}}var ie=!1,S=-1,C=5,x=-1;function N(){return A?!0:!(n.unstable_now()-x<C)}function L(){if(A=!1,ie){var $=n.unstable_now();x=$;var ee=!0;try{e:{I=!1,O&&(O=!1,V(S),S=-1),w=!0;var me=b;try{t:{for(Q($),_=t(h);_!==null&&!(_.expirationTime>$&&N());){var De=_.callback;if(typeof De=="function"){_.callback=null,b=_.priorityLevel;var Ve=De(_.expirationTime<=$);if($=n.unstable_now(),typeof Ve=="function"){_.callback=Ve,Q($),ee=!0;break t}_===t(h)&&i(h),Q($)}else i(h);_=t(h)}if(_!==null)ee=!0;else{var j=t(d);j!==null&&ne(H,j.startTime-$),ee=!1}}break e}finally{_=null,b=me,w=!1}ee=void 0}}finally{ee?P():ie=!1}}}var P;if(typeof z=="function")P=function(){z(L)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,ye=M.port2;M.port1.onmessage=L,P=function(){ye.postMessage(null)}}else P=function(){U(L,0)};function ne($,ee){S=U(function(){$(n.unstable_now())},ee)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function($){switch(b){case 1:case 2:case 3:var ee=3;break;default:ee=b}var me=b;b=ee;try{return $()}finally{b=me}},n.unstable_requestPaint=function(){A=!0},n.unstable_runWithPriority=function($,ee){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var me=b;b=$;try{return ee()}finally{b=me}},n.unstable_scheduleCallback=function($,ee,me){var De=n.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?De+me:De):me=De,$){case 1:var Ve=-1;break;case 2:Ve=250;break;case 5:Ve=1073741823;break;case 4:Ve=1e4;break;default:Ve=5e3}return Ve=me+Ve,$={id:y++,callback:ee,priorityLevel:$,startTime:me,expirationTime:Ve,sortIndex:-1},me>De?($.sortIndex=me,e(d,$),t(h)===null&&$===t(d)&&(O?(V(S),S=-1):O=!0,ne(H,me-De))):($.sortIndex=Ve,e(h,$),I||w||(I=!0,ie||(ie=!0,P()))),$},n.unstable_shouldYield=N,n.unstable_wrapCallback=function($){var ee=b;return function(){var me=b;b=ee;try{return $.apply(this,arguments)}finally{b=me}}}})(Cy)),Cy}var ES;function kN(){return ES||(ES=1,wy.exports=PN()),wy.exports}var Ry={exports:{}},Xn={};var TS;function LN(){if(TS)return Xn;TS=1;var n=hv();function e(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)d+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(h,d,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:_==null?null:""+_,children:h,containerInfo:d,implementation:y}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Xn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Xn.createPortal=function(h,d){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(h,d,null,y)},Xn.flushSync=function(h){var d=u.T,y=i.p;try{if(u.T=null,i.p=2,h)return h()}finally{u.T=d,i.p=y,i.d.f()}},Xn.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(h,d))},Xn.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},Xn.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var y=d.as,_=f(y,d.crossOrigin),b=typeof d.integrity=="string"?d.integrity:void 0,w=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;y==="style"?i.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:_,integrity:b,fetchPriority:w}):y==="script"&&i.d.X(h,{crossOrigin:_,integrity:b,fetchPriority:w,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Xn.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var y=f(d.as,d.crossOrigin);i.d.M(h,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(h)},Xn.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var y=d.as,_=f(y,d.crossOrigin);i.d.L(h,y,{crossOrigin:_,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Xn.preloadModule=function(h,d){if(typeof h=="string")if(d){var y=f(d.as,d.crossOrigin);i.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(h)},Xn.requestFormReset=function(h){i.d.r(h)},Xn.unstable_batchedUpdates=function(h,d){return h(d)},Xn.useFormState=function(h,d,y){return u.H.useFormState(h,d,y)},Xn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Xn.version="19.2.0",Xn}var SS;function BC(){if(SS)return Ry.exports;SS=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Ry.exports=LN(),Ry.exports}var wS;function VN(){if(wS)return kc;wS=1;var n=kN(),e=hv(),t=BC();function i(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var a=r,l=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(l=a.return),r=a.return;while(r)}return a.tag===3?l:null}function u(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function f(r){if(r.tag===31){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function h(r){if(o(r)!==r)throw Error(i(188))}function d(r){var a=r.alternate;if(!a){if(a=o(r),a===null)throw Error(i(188));return a!==r?null:r}for(var l=r,c=a;;){var m=l.return;if(m===null)break;var g=m.alternate;if(g===null){if(c=m.return,c!==null){l=c;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===l)return h(m),r;if(g===c)return h(m),a;g=g.sibling}throw Error(i(188))}if(l.return!==c.return)l=m,c=g;else{for(var E=!1,R=m.child;R;){if(R===l){E=!0,l=m,c=g;break}if(R===c){E=!0,c=m,l=g;break}R=R.sibling}if(!E){for(R=g.child;R;){if(R===l){E=!0,l=g,c=m;break}if(R===c){E=!0,c=g,l=m;break}R=R.sibling}if(!E)throw Error(i(189))}}if(l.alternate!==c)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?r:a}function y(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=y(r),a!==null)return a;r=r.sibling}return null}var _=Object.assign,b=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),V=Symbol.for("react.consumer"),z=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function P(r){return r===null||typeof r!="object"?null:(r=L&&r[L]||r["@@iterator"],typeof r=="function"?r:null)}var M=Symbol.for("react.client.reference");function ye(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===M?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case O:return"Fragment";case U:return"Profiler";case A:return"StrictMode";case H:return"Suspense";case ie:return"SuspenseList";case x:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case I:return"Portal";case z:return r.displayName||"Context";case V:return(r._context.displayName||"Context")+".Consumer";case Q:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case S:return a=r.displayName||null,a!==null?a:ye(r.type)||"Memo";case C:a=r._payload,r=r._init;try{return ye(r(a))}catch{}}return null}var ne=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},De=[],Ve=-1;function j(r){return{current:r}}function J(r){0>Ve||(r.current=De[Ve],De[Ve]=null,Ve--)}function he(r,a){Ve++,De[Ve]=r.current,r.current=a}var le=j(null),ge=j(null),Se=j(null),Me=j(null);function gt(r,a){switch(he(Se,a),he(ge,r),he(le,null),a.nodeType){case 9:case 11:r=(r=a.documentElement)&&(r=r.namespaceURI)?UT(r):0;break;default:if(r=a.tagName,a=a.namespaceURI)a=UT(a),r=zT(a,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}J(le),he(le,r)}function yt(){J(le),J(ge),J(Se)}function dr(r){r.memoizedState!==null&&he(Me,r);var a=le.current,l=zT(a,r.type);a!==l&&(he(ge,r),he(le,l))}function Lt(r){ge.current===r&&(J(le),J(ge)),Me.current===r&&(J(Me),Dc._currentValue=me)}var Wn,pr;function ai(r){if(Wn===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Wn=a&&a[1]||"",pr=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wn+r+pr}var oi=!1;function ps(r,a){if(!r||oi)return"";oi=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(ae){var Z=ae}Reflect.construct(r,[],ce)}else{try{ce.call()}catch(ae){Z=ae}r.call(ce.prototype)}}else{try{throw Error()}catch(ae){Z=ae}(ce=r())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(ae){if(ae&&Z&&typeof ae.stack=="string")return[ae.stack,Z.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),E=g[0],R=g[1];if(E&&R){var F=E.split(`
`),X=R.split(`
`);for(m=c=0;c<F.length&&!F[c].includes("DetermineComponentFrameRoot");)c++;for(;m<X.length&&!X[m].includes("DetermineComponentFrameRoot");)m++;if(c===F.length||m===X.length)for(c=F.length-1,m=X.length-1;1<=c&&0<=m&&F[c]!==X[m];)m--;for(;1<=c&&0<=m;c--,m--)if(F[c]!==X[m]){if(c!==1||m!==1)do if(c--,m--,0>m||F[c]!==X[m]){var oe=`
`+F[c].replace(" at new "," at ");return r.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",r.displayName)),oe}while(1<=c&&0<=m);break}}}finally{oi=!1,Error.prepareStackTrace=l}return(l=r?r.displayName||r.name:"")?ai(l):""}function mo(r,a){switch(r.tag){case 26:case 27:case 5:return ai(r.type);case 16:return ai("Lazy");case 13:return r.child!==a&&a!==null?ai("Suspense Fallback"):ai("Suspense");case 19:return ai("SuspenseList");case 0:case 15:return ps(r.type,!1);case 11:return ps(r.type.render,!1);case 1:return ps(r.type,!0);case 31:return ai("Activity");default:return""}}function oa(r){try{var a="",l=null;do a+=mo(r,l),l=r,r=r.return;while(r);return a}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Xt=Object.prototype.hasOwnProperty,an=n.unstable_scheduleCallback,Mr=n.unstable_cancelCallback,Bu=n.unstable_shouldYield,Hi=n.unstable_requestPaint,on=n.unstable_now,xr=n.unstable_getCurrentPriorityLevel,ms=n.unstable_ImmediatePriority,li=n.unstable_UserBlockingPriority,Nn=n.unstable_NormalPriority,cl=n.unstable_LowPriority,hl=n.unstable_IdlePriority,la=n.log,fl=n.unstable_setDisableYieldValue,ln=null,mn=null;function ui(r){if(typeof la=="function"&&fl(r),mn&&typeof mn.setStrictMode=="function")try{mn.setStrictMode(ln,r)}catch{}}var $t=Math.clz32?Math.clz32:ys,dl=Math.log,gs=Math.LN2;function ys(r){return r>>>=0,r===0?32:31-(dl(r)/gs|0)|0}var Ii=256,mr=262144,Jt=4194304;function Oi(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function qi(r,a,l){var c=r.pendingLanes;if(c===0)return 0;var m=0,g=r.suspendedLanes,E=r.pingedLanes;r=r.warmLanes;var R=c&134217727;return R!==0?(c=R&~g,c!==0?m=Oi(c):(E&=R,E!==0?m=Oi(E):l||(l=R&~r,l!==0&&(m=Oi(l))))):(R=c&~g,R!==0?m=Oi(R):E!==0?m=Oi(E):l||(l=c&~r,l!==0&&(m=Oi(l)))),m===0?0:a!==0&&a!==m&&(a&g)===0&&(g=m&-m,l=a&-a,g>=l||g===32&&(l&4194048)!==0)?a:m}function gi(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function ua(r,a){switch(r){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _s(){var r=Jt;return Jt<<=1,(Jt&62914560)===0&&(Jt=4194304),r}function $i(r){for(var a=[],l=0;31>l;l++)a.push(r);return a}function vs(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function B(r,a,l,c,m,g){var E=r.pendingLanes;r.pendingLanes=l,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=l,r.entangledLanes&=l,r.errorRecoveryDisabledLanes&=l,r.shellSuspendCounter=0;var R=r.entanglements,F=r.expirationTimes,X=r.hiddenUpdates;for(l=E&~l;0<l;){var oe=31-$t(l),ce=1<<oe;R[oe]=0,F[oe]=-1;var Z=X[oe];if(Z!==null)for(X[oe]=null,oe=0;oe<Z.length;oe++){var ae=Z[oe];ae!==null&&(ae.lane&=-536870913)}l&=~ce}c!==0&&K(r,c,0),g!==0&&m===0&&r.tag!==0&&(r.suspendedLanes|=g&~(E&~a))}function K(r,a,l){r.pendingLanes|=a,r.suspendedLanes&=~a;var c=31-$t(a);r.entangledLanes|=a,r.entanglements[c]=r.entanglements[c]|1073741824|l&261930}function te(r,a){var l=r.entangledLanes|=a;for(r=r.entanglements;l;){var c=31-$t(l),m=1<<c;m&a|r[c]&a&&(r[c]|=a),l&=~m}}function pe(r,a){var l=a&-a;return l=(l&42)!==0?1:_e(l),(l&(r.suspendedLanes|a))!==0?0:l}function _e(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Ae(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Pe(){var r=ee.p;return r!==0?r:(r=window.event,r===void 0?32:lS(r.type))}function Te(r,a){var l=ee.p;try{return ee.p=r,a()}finally{ee.p=l}}var Ie=Math.random().toString(36).slice(2),we="__reactFiber$"+Ie,Ee="__reactProps$"+Ie,Re="__reactContainer$"+Ie,We="__reactEvents$"+Ie,Ot="__reactListeners$"+Ie,Qt="__reactHandles$"+Ie,gn="__reactResources$"+Ie,lt="__reactMarker$"+Ie;function dt(r){delete r[we],delete r[Ee],delete r[We],delete r[Ot],delete r[Qt]}function Mn(r){var a=r[we];if(a)return a;for(var l=r.parentNode;l;){if(a=l[Re]||l[we]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(r=GT(r);r!==null;){if(l=r[we])return l;r=GT(r)}return a}r=l,l=r.parentNode}return null}function xn(r){if(r=r[we]||r[Re]){var a=r.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return r}return null}function Zt(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(i(33))}function un(r){var a=r[gn];return a||(a=r[gn]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Gt(r){r[lt]=!0}var gr=new Set,Di={};function ci(r,a){hi(r,a),hi(r+"Capture",a)}function hi(r,a){for(Di[r]=a,r=0;r<a.length;r++)gr.add(a[r])}var Xe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),en={},Gi={};function Ki(r){return Xt.call(Gi,r)?!0:Xt.call(en,r)?!1:Xe.test(r)?Gi[r]=!0:(en[r]=!0,!1)}function Vt(r,a,l){if(Ki(a))if(l===null)r.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+l)}}function Pn(r,a,l){if(l===null)r.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+l)}}function Wt(r,a,l,c){if(c===null)r.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttributeNS(a,l,""+c)}}function yn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function ca(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function ju(r,a,l){var c=Object.getOwnPropertyDescriptor(r.constructor.prototype,a);if(!r.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,g=c.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return m.call(this)},set:function(E){l=""+E,g.call(this,E)}}),Object.defineProperty(r,a,{enumerable:c.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function Rt(r){if(!r._valueTracker){var a=ca(r)?"checked":"value";r._valueTracker=ju(r,a,""+r[a])}}function go(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var l=a.getValue(),c="";return r&&(c=ca(r)?r.checked?"true":"false":r.value),r=c,r!==l?(a.setValue(r),!0):!1}function Pr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var yo=/[\n"\\]/g;function yi(r){return r.replace(yo,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function pl(r,a,l,c,m,g,E,R){r.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?r.type=E:r.removeAttribute("type"),a!=null?E==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+yn(a)):r.value!==""+yn(a)&&(r.value=""+yn(a)):E!=="submit"&&E!=="reset"||r.removeAttribute("value"),a!=null?Hu(r,E,yn(a)):l!=null?Hu(r,E,yn(l)):c!=null&&r.removeAttribute("value"),m==null&&g!=null&&(r.defaultChecked=!!g),m!=null&&(r.checked=m&&typeof m!="function"&&typeof m!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?r.name=""+yn(R):r.removeAttribute("name")}function Kh(r,a,l,c,m,g,E,R){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(r.type=g),a!=null||l!=null){if(!(g!=="submit"&&g!=="reset"||a!=null)){Rt(r);return}l=l!=null?""+yn(l):"",a=a!=null?""+yn(a):l,R||a===r.value||(r.value=a),r.defaultValue=a}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=R?r.checked:!!c,r.defaultChecked=!!c,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(r.name=E),Rt(r)}function Hu(r,a,l){a==="number"&&Pr(r.ownerDocument)===r||r.defaultValue===""+l||(r.defaultValue=""+l)}function ha(r,a,l,c){if(r=r.options,a){a={};for(var m=0;m<l.length;m++)a["$"+l[m]]=!0;for(l=0;l<r.length;l++)m=a.hasOwnProperty("$"+r[l].value),r[l].selected!==m&&(r[l].selected=m),m&&c&&(r[l].defaultSelected=!0)}else{for(l=""+yn(l),a=null,m=0;m<r.length;m++){if(r[m].value===l){r[m].selected=!0,c&&(r[m].defaultSelected=!0);return}a!==null||r[m].disabled||(a=r[m])}a!==null&&(a.selected=!0)}}function Yh(r,a,l){if(a!=null&&(a=""+yn(a),a!==r.value&&(r.value=a),l==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=l!=null?""+yn(l):""}function fa(r,a,l,c){if(a==null){if(c!=null){if(l!=null)throw Error(i(92));if(ne(c)){if(1<c.length)throw Error(i(93));c=c[0]}l=c}l==null&&(l=""),a=l}l=yn(a),r.defaultValue=l,c=r.textContent,c===l&&c!==""&&c!==null&&(r.value=c),Rt(r)}function _i(r,a){if(a){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=a;return}}r.textContent=a}var Qh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qu(r,a,l){var c=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":c?r.setProperty(a,l):typeof l!="number"||l===0||Qh.has(a)?a==="float"?r.cssFloat=l:r[a]=(""+l).trim():r[a]=l+"px"}function $u(r,a,l){if(a!=null&&typeof a!="object")throw Error(i(62));if(r=r.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var m in a)c=a[m],a.hasOwnProperty(m)&&l[m]!==c&&qu(r,m,c)}else for(var g in a)a.hasOwnProperty(g)&&qu(r,g,a[g])}function ml(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),da=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function gl(r){return da.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function yr(){}var Gu=null;function Yi(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var pa=null,kr=null;function _o(r){var a=xn(r);if(a&&(r=a.stateNode)){var l=r[Ee]||null;e:switch(r=a.stateNode,a.type){case"input":if(pl(r,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+yi(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var c=l[a];if(c!==r&&c.form===r.form){var m=c[Ee]||null;if(!m)throw Error(i(90));pl(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<l.length;a++)c=l[a],c.form===r.form&&go(c)}break e;case"textarea":Yh(r,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&ha(r,!!l.multiple,a,!1)}}}var yl=!1;function ma(r,a,l){if(yl)return r(a,l);yl=!0;try{var c=r(a);return c}finally{if(yl=!1,(pa!==null||kr!==null)&&(qf(),pa&&(a=pa,r=kr,kr=pa=null,_o(a),r)))for(a=0;a<r.length;a++)_o(r[a])}}function _r(r,a){var l=r.stateNode;if(l===null)return null;var c=l[Ee]||null;if(c===null)return null;l=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(i(231,a,typeof l));return l}var Qi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vo=!1;if(Qi)try{var Dt={};Object.defineProperty(Dt,"passive",{get:function(){vo=!0}}),window.addEventListener("test",Dt,Dt),window.removeEventListener("test",Dt,Dt)}catch{vo=!1}var Lr=null,Ku=null,bo=null;function Yu(){if(bo)return bo;var r,a=Ku,l=a.length,c,m="value"in Lr?Lr.value:Lr.textContent,g=m.length;for(r=0;r<l&&a[r]===m[r];r++);var E=l-r;for(c=1;c<=E&&a[l-c]===m[g-c];c++);return bo=m.slice(r,1<c?1-c:void 0)}function Eo(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function bs(){return!0}function vr(){return!1}function Fn(r){function a(l,c,m,g,E){this._reactName=l,this._targetInst=m,this.type=c,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var R in r)r.hasOwnProperty(R)&&(l=r[R],this[R]=l?l(g):g[R]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?bs:vr,this.isPropagationStopped=vr,this}return _(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=bs)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=bs)},persist:function(){},isPersistent:bs}),a}var Es={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vr=Fn(Es),ga=_({},Es,{view:0,detail:0}),Qu=Fn(ga),ya,_l,Ur,vl=_({},ga,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_a,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ur&&(Ur&&r.type==="mousemove"?(ya=r.screenX-Ur.screenX,_l=r.screenY-Ur.screenY):_l=ya=0,Ur=r),ya)},movementY:function(r){return"movementY"in r?r.movementY:_l}}),Wu=Fn(vl),To=_({},vl,{dataTransfer:0}),Xh=Fn(To),Jh=_({},ga,{relatedTarget:0}),So=Fn(Jh),Xu=_({},Es,{animationName:0,elapsedTime:0,pseudoElement:0}),Zh=Fn(Xu),bl=_({},Es,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),ef=Fn(bl),tf=_({},Es,{data:0}),zr=Fn(tf),nf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function af(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=sf[r])?!!a[r]:!1}function _a(){return af}var fi=_({},ga,{key:function(r){if(r.key){var a=nf[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=Eo(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?rf[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_a,charCode:function(r){return r.type==="keypress"?Eo(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Eo(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),of=Fn(fi),lf=_({},vl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ts=Fn(lf),p=_({},ga,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_a}),v=Fn(p),T=_({},Es,{propertyName:0,elapsedTime:0,pseudoElement:0}),D=Fn(T),Y=_({},vl,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),re=Fn(Y),ve=_({},Es,{newState:0,oldState:0}),Ke=Fn(ve),cn=[9,13,27,32],_t=Qi&&"CompositionEvent"in window,Kt=null;Qi&&"documentMode"in document&&(Kt=document.documentMode);var Wi=Qi&&"TextEvent"in window&&!Kt,Fr=Qi&&(!_t||Kt&&8<Kt&&11>=Kt),br=" ",Er=!1;function wo(r,a){switch(r){case"keyup":return cn.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function El(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Tl=!1;function ZO(r,a){switch(r){case"compositionend":return El(a);case"keypress":return a.which!==32?null:(Er=!0,br);case"textInput":return r=a.data,r===br&&Er?null:r;default:return null}}function eD(r,a){if(Tl)return r==="compositionend"||!_t&&wo(r,a)?(r=Yu(),bo=Ku=Lr=null,Tl=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Fr&&a.locale!=="ko"?null:a.data;default:return null}}var tD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Q0(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!tD[r.type]:a==="textarea"}function W0(r,a,l,c){pa?kr?kr.push(c):kr=[c]:pa=c,a=Xf(a,"onChange"),0<a.length&&(l=new Vr("onChange","change",null,l,c),r.push({event:l,listeners:a}))}var Ju=null,Zu=null;function nD(r){MT(r,0)}function uf(r){var a=Zt(r);if(go(a))return r}function X0(r,a){if(r==="change")return a}var J0=!1;if(Qi){var Im;if(Qi){var Om="oninput"in document;if(!Om){var Z0=document.createElement("div");Z0.setAttribute("oninput","return;"),Om=typeof Z0.oninput=="function"}Im=Om}else Im=!1;J0=Im&&(!document.documentMode||9<document.documentMode)}function eb(){Ju&&(Ju.detachEvent("onpropertychange",tb),Zu=Ju=null)}function tb(r){if(r.propertyName==="value"&&uf(Zu)){var a=[];W0(a,Zu,r,Yi(r)),ma(nD,a)}}function iD(r,a,l){r==="focusin"?(eb(),Ju=a,Zu=l,Ju.attachEvent("onpropertychange",tb)):r==="focusout"&&eb()}function rD(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return uf(Zu)}function sD(r,a){if(r==="click")return uf(a)}function aD(r,a){if(r==="input"||r==="change")return uf(a)}function oD(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var Ni=typeof Object.is=="function"?Object.is:oD;function ec(r,a){if(Ni(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var l=Object.keys(r),c=Object.keys(a);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var m=l[c];if(!Xt.call(a,m)||!Ni(r[m],a[m]))return!1}return!0}function nb(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function ib(r,a){var l=nb(r);r=0;for(var c;l;){if(l.nodeType===3){if(c=r+l.textContent.length,r<=a&&c>=a)return{node:l,offset:a-r};r=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=nb(l)}}function rb(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?rb(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function sb(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=Pr(r.document);a instanceof r.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)r=a.contentWindow;else break;a=Pr(r.document)}return a}function Dm(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}var lD=Qi&&"documentMode"in document&&11>=document.documentMode,Sl=null,Nm=null,tc=null,Mm=!1;function ab(r,a,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Mm||Sl==null||Sl!==Pr(c)||(c=Sl,"selectionStart"in c&&Dm(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),tc&&ec(tc,c)||(tc=c,c=Xf(Nm,"onSelect"),0<c.length&&(a=new Vr("onSelect","select",null,a,l),r.push({event:a,listeners:c}),a.target=Sl)))}function Co(r,a){var l={};return l[r.toLowerCase()]=a.toLowerCase(),l["Webkit"+r]="webkit"+a,l["Moz"+r]="moz"+a,l}var wl={animationend:Co("Animation","AnimationEnd"),animationiteration:Co("Animation","AnimationIteration"),animationstart:Co("Animation","AnimationStart"),transitionrun:Co("Transition","TransitionRun"),transitionstart:Co("Transition","TransitionStart"),transitioncancel:Co("Transition","TransitionCancel"),transitionend:Co("Transition","TransitionEnd")},xm={},ob={};Qi&&(ob=document.createElement("div").style,"AnimationEvent"in window||(delete wl.animationend.animation,delete wl.animationiteration.animation,delete wl.animationstart.animation),"TransitionEvent"in window||delete wl.transitionend.transition);function Ro(r){if(xm[r])return xm[r];if(!wl[r])return r;var a=wl[r],l;for(l in a)if(a.hasOwnProperty(l)&&l in ob)return xm[r]=a[l];return r}var lb=Ro("animationend"),ub=Ro("animationiteration"),cb=Ro("animationstart"),uD=Ro("transitionrun"),cD=Ro("transitionstart"),hD=Ro("transitioncancel"),hb=Ro("transitionend"),fb=new Map,Pm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Pm.push("scrollEnd");function Tr(r,a){fb.set(r,a),ci(a,[r])}var cf=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},Xi=[],Cl=0,km=0;function hf(){for(var r=Cl,a=km=Cl=0;a<r;){var l=Xi[a];Xi[a++]=null;var c=Xi[a];Xi[a++]=null;var m=Xi[a];Xi[a++]=null;var g=Xi[a];if(Xi[a++]=null,c!==null&&m!==null){var E=c.pending;E===null?m.next=m:(m.next=E.next,E.next=m),c.pending=m}g!==0&&db(l,m,g)}}function ff(r,a,l,c){Xi[Cl++]=r,Xi[Cl++]=a,Xi[Cl++]=l,Xi[Cl++]=c,km|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function Lm(r,a,l,c){return ff(r,a,l,c),df(r)}function Ao(r,a){return ff(r,null,null,a),df(r)}function db(r,a,l){r.lanes|=l;var c=r.alternate;c!==null&&(c.lanes|=l);for(var m=!1,g=r.return;g!==null;)g.childLanes|=l,c=g.alternate,c!==null&&(c.childLanes|=l),g.tag===22&&(r=g.stateNode,r===null||r._visibility&1||(m=!0)),r=g,g=g.return;return r.tag===3?(g=r.stateNode,m&&a!==null&&(m=31-$t(l),r=g.hiddenUpdates,c=r[m],c===null?r[m]=[a]:c.push(a),a.lane=l|536870912),g):null}function df(r){if(50<Sc)throw Sc=0,$g=null,Error(i(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var Rl={};function fD(r,a,l,c){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mi(r,a,l,c){return new fD(r,a,l,c)}function Vm(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Ss(r,a){var l=r.alternate;return l===null?(l=Mi(r.tag,a,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=a,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&65011712,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,a=r.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l.refCleanup=r.refCleanup,l}function pb(r,a){r.flags&=65011714;var l=r.alternate;return l===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,a=l.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function pf(r,a,l,c,m,g){var E=0;if(c=r,typeof r=="function")Vm(r)&&(E=1);else if(typeof r=="string")E=yN(r,l,le.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case x:return r=Mi(31,l,a,m),r.elementType=x,r.lanes=g,r;case O:return Io(l.children,m,g,a);case A:E=8,m|=24;break;case U:return r=Mi(12,l,a,m|2),r.elementType=U,r.lanes=g,r;case H:return r=Mi(13,l,a,m),r.elementType=H,r.lanes=g,r;case ie:return r=Mi(19,l,a,m),r.elementType=ie,r.lanes=g,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case z:E=10;break e;case V:E=9;break e;case Q:E=11;break e;case S:E=14;break e;case C:E=16,c=null;break e}E=29,l=Error(i(130,r===null?"null":typeof r,"")),c=null}return a=Mi(E,l,a,m),a.elementType=r,a.type=c,a.lanes=g,a}function Io(r,a,l,c){return r=Mi(7,r,c,a),r.lanes=l,r}function Um(r,a,l){return r=Mi(6,r,null,a),r.lanes=l,r}function mb(r){var a=Mi(18,null,null,0);return a.stateNode=r,a}function zm(r,a,l){return a=Mi(4,r.children!==null?r.children:[],r.key,a),a.lanes=l,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}var gb=new WeakMap;function Ji(r,a){if(typeof r=="object"&&r!==null){var l=gb.get(r);return l!==void 0?l:(a={value:r,source:a,stack:oa(a)},gb.set(r,a),a)}return{value:r,source:a,stack:oa(a)}}var Al=[],Il=0,mf=null,nc=0,Zi=[],er=0,va=null,Br=1,jr="";function ws(r,a){Al[Il++]=nc,Al[Il++]=mf,mf=r,nc=a}function yb(r,a,l){Zi[er++]=Br,Zi[er++]=jr,Zi[er++]=va,va=r;var c=Br;r=jr;var m=32-$t(c)-1;c&=~(1<<m),l+=1;var g=32-$t(a)+m;if(30<g){var E=m-m%5;g=(c&(1<<E)-1).toString(32),c>>=E,m-=E,Br=1<<32-$t(a)+m|l<<m|c,jr=g+r}else Br=1<<g|l<<m|c,jr=r}function Fm(r){r.return!==null&&(ws(r,1),yb(r,1,0))}function Bm(r){for(;r===mf;)mf=Al[--Il],Al[Il]=null,nc=Al[--Il],Al[Il]=null;for(;r===va;)va=Zi[--er],Zi[er]=null,jr=Zi[--er],Zi[er]=null,Br=Zi[--er],Zi[er]=null}function _b(r,a){Zi[er++]=Br,Zi[er++]=jr,Zi[er++]=va,Br=a.id,jr=a.overflow,va=r}var Bn=null,Ut=null,at=!1,ba=null,tr=!1,jm=Error(i(519));function Ea(r){var a=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ic(Ji(a,r)),jm}function vb(r){var a=r.stateNode,l=r.type,c=r.memoizedProps;switch(a[we]=r,a[Ee]=c,l){case"dialog":et("cancel",a),et("close",a);break;case"iframe":case"object":case"embed":et("load",a);break;case"video":case"audio":for(l=0;l<Cc.length;l++)et(Cc[l],a);break;case"source":et("error",a);break;case"img":case"image":case"link":et("error",a),et("load",a);break;case"details":et("toggle",a);break;case"input":et("invalid",a),Kh(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":et("invalid",a);break;case"textarea":et("invalid",a),fa(a,c.value,c.defaultValue,c.children)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||c.suppressHydrationWarning===!0||LT(a.textContent,l)?(c.popover!=null&&(et("beforetoggle",a),et("toggle",a)),c.onScroll!=null&&et("scroll",a),c.onScrollEnd!=null&&et("scrollend",a),c.onClick!=null&&(a.onclick=yr),a=!0):a=!1,a||Ea(r,!0)}function bb(r){for(Bn=r.return;Bn;)switch(Bn.tag){case 5:case 31:case 13:tr=!1;return;case 27:case 3:tr=!0;return;default:Bn=Bn.return}}function Ol(r){if(r!==Bn)return!1;if(!at)return bb(r),at=!0,!1;var a=r.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=r.type,l=!(l!=="form"&&l!=="button")||ay(r.type,r.memoizedProps)),l=!l),l&&Ut&&Ea(r),bb(r),a===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));Ut=$T(r)}else if(a===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));Ut=$T(r)}else a===27?(a=Ut,ka(r.type)?(r=hy,hy=null,Ut=r):Ut=a):Ut=Bn?ir(r.stateNode.nextSibling):null;return!0}function Oo(){Ut=Bn=null,at=!1}function Hm(){var r=ba;return r!==null&&(Ti===null?Ti=r:Ti.push.apply(Ti,r),ba=null),r}function ic(r){ba===null?ba=[r]:ba.push(r)}var qm=j(null),Do=null,Cs=null;function Ta(r,a,l){he(qm,a._currentValue),a._currentValue=l}function Rs(r){r._currentValue=qm.current,J(qm)}function $m(r,a,l){for(;r!==null;){var c=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),r===l)break;r=r.return}}function Gm(r,a,l,c){var m=r.child;for(m!==null&&(m.return=r);m!==null;){var g=m.dependencies;if(g!==null){var E=m.child;g=g.firstContext;e:for(;g!==null;){var R=g;g=m;for(var F=0;F<a.length;F++)if(R.context===a[F]){g.lanes|=l,R=g.alternate,R!==null&&(R.lanes|=l),$m(g.return,l,r),c||(E=null);break e}g=R.next}}else if(m.tag===18){if(E=m.return,E===null)throw Error(i(341));E.lanes|=l,g=E.alternate,g!==null&&(g.lanes|=l),$m(E,l,r),E=null}else E=m.child;if(E!==null)E.return=m;else for(E=m;E!==null;){if(E===r){E=null;break}if(m=E.sibling,m!==null){m.return=E.return,E=m;break}E=E.return}m=E}}function Dl(r,a,l,c){r=null;for(var m=a,g=!1;m!==null;){if(!g){if((m.flags&524288)!==0)g=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var E=m.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var R=m.type;Ni(m.pendingProps.value,E.value)||(r!==null?r.push(R):r=[R])}}else if(m===Me.current){if(E=m.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(r!==null?r.push(Dc):r=[Dc])}m=m.return}r!==null&&Gm(a,r,l,c),a.flags|=262144}function gf(r){for(r=r.firstContext;r!==null;){if(!Ni(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function No(r){Do=r,Cs=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function jn(r){return Eb(Do,r)}function yf(r,a){return Do===null&&No(r),Eb(r,a)}function Eb(r,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},Cs===null){if(r===null)throw Error(i(308));Cs=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else Cs=Cs.next=a;return l}var dD=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(l,c){r.push(c)}};this.abort=function(){a.aborted=!0,r.forEach(function(l){return l()})}},pD=n.unstable_scheduleCallback,mD=n.unstable_NormalPriority,_n={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Km(){return{controller:new dD,data:new Map,refCount:0}}function rc(r){r.refCount--,r.refCount===0&&pD(mD,function(){r.controller.abort()})}var sc=null,Ym=0,Nl=0,Ml=null;function gD(r,a){if(sc===null){var l=sc=[];Ym=0,Nl=Xg(),Ml={status:"pending",value:void 0,then:function(c){l.push(c)}}}return Ym++,a.then(Tb,Tb),a}function Tb(){if(--Ym===0&&sc!==null){Ml!==null&&(Ml.status="fulfilled");var r=sc;sc=null,Nl=0,Ml=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function yD(r,a){var l=[],c={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return r.then(function(){c.status="fulfilled",c.value=a;for(var m=0;m<l.length;m++)(0,l[m])(a)},function(m){for(c.status="rejected",c.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),c}var Sb=$.S;$.S=function(r,a){aT=on(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&gD(r,a),Sb!==null&&Sb(r,a)};var Mo=j(null);function Qm(){var r=Mo.current;return r!==null?r:kt.pooledCache}function _f(r,a){a===null?he(Mo,Mo.current):he(Mo,a.pool)}function wb(){var r=Qm();return r===null?null:{parent:_n._currentValue,pool:r}}var xl=Error(i(460)),Wm=Error(i(474)),vf=Error(i(542)),bf={then:function(){}};function Cb(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Rb(r,a,l){switch(l=r[l],l===void 0?r.push(a):l!==a&&(a.then(yr,yr),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,Ib(r),r;default:if(typeof a.status=="string")a.then(yr,yr);else{if(r=kt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=a,r.status="pending",r.then(function(c){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=c}},function(c){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,Ib(r),r}throw Po=a,xl}}function xo(r){try{var a=r._init;return a(r._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Po=l,xl):l}}var Po=null;function Ab(){if(Po===null)throw Error(i(459));var r=Po;return Po=null,r}function Ib(r){if(r===xl||r===vf)throw Error(i(483))}var Pl=null,ac=0;function Ef(r){var a=ac;return ac+=1,Pl===null&&(Pl=[]),Rb(Pl,r,a)}function oc(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function Tf(r,a){throw a.$$typeof===b?Error(i(525)):(r=Object.prototype.toString.call(a),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function Ob(r){function a(G,q){if(r){var W=G.deletions;W===null?(G.deletions=[q],G.flags|=16):W.push(q)}}function l(G,q){if(!r)return null;for(;q!==null;)a(G,q),q=q.sibling;return null}function c(G){for(var q=new Map;G!==null;)G.key!==null?q.set(G.key,G):q.set(G.index,G),G=G.sibling;return q}function m(G,q){return G=Ss(G,q),G.index=0,G.sibling=null,G}function g(G,q,W){return G.index=W,r?(W=G.alternate,W!==null?(W=W.index,W<q?(G.flags|=67108866,q):W):(G.flags|=67108866,q)):(G.flags|=1048576,q)}function E(G){return r&&G.alternate===null&&(G.flags|=67108866),G}function R(G,q,W,ue){return q===null||q.tag!==6?(q=Um(W,G.mode,ue),q.return=G,q):(q=m(q,W),q.return=G,q)}function F(G,q,W,ue){var ke=W.type;return ke===O?oe(G,q,W.props.children,ue,W.key):q!==null&&(q.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===C&&xo(ke)===q.type)?(q=m(q,W.props),oc(q,W),q.return=G,q):(q=pf(W.type,W.key,W.props,null,G.mode,ue),oc(q,W),q.return=G,q)}function X(G,q,W,ue){return q===null||q.tag!==4||q.stateNode.containerInfo!==W.containerInfo||q.stateNode.implementation!==W.implementation?(q=zm(W,G.mode,ue),q.return=G,q):(q=m(q,W.children||[]),q.return=G,q)}function oe(G,q,W,ue,ke){return q===null||q.tag!==7?(q=Io(W,G.mode,ue,ke),q.return=G,q):(q=m(q,W),q.return=G,q)}function ce(G,q,W){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=Um(""+q,G.mode,W),q.return=G,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case w:return W=pf(q.type,q.key,q.props,null,G.mode,W),oc(W,q),W.return=G,W;case I:return q=zm(q,G.mode,W),q.return=G,q;case C:return q=xo(q),ce(G,q,W)}if(ne(q)||P(q))return q=Io(q,G.mode,W,null),q.return=G,q;if(typeof q.then=="function")return ce(G,Ef(q),W);if(q.$$typeof===z)return ce(G,yf(G,q),W);Tf(G,q)}return null}function Z(G,q,W,ue){var ke=q!==null?q.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return ke!==null?null:R(G,q,""+W,ue);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case w:return W.key===ke?F(G,q,W,ue):null;case I:return W.key===ke?X(G,q,W,ue):null;case C:return W=xo(W),Z(G,q,W,ue)}if(ne(W)||P(W))return ke!==null?null:oe(G,q,W,ue,null);if(typeof W.then=="function")return Z(G,q,Ef(W),ue);if(W.$$typeof===z)return Z(G,q,yf(G,W),ue);Tf(G,W)}return null}function ae(G,q,W,ue,ke){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return G=G.get(W)||null,R(q,G,""+ue,ke);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case w:return G=G.get(ue.key===null?W:ue.key)||null,F(q,G,ue,ke);case I:return G=G.get(ue.key===null?W:ue.key)||null,X(q,G,ue,ke);case C:return ue=xo(ue),ae(G,q,W,ue,ke)}if(ne(ue)||P(ue))return G=G.get(W)||null,oe(q,G,ue,ke,null);if(typeof ue.then=="function")return ae(G,q,W,Ef(ue),ke);if(ue.$$typeof===z)return ae(G,q,W,yf(q,ue),ke);Tf(q,ue)}return null}function Oe(G,q,W,ue){for(var ke=null,pt=null,xe=q,Qe=q=0,it=null;xe!==null&&Qe<W.length;Qe++){xe.index>Qe?(it=xe,xe=null):it=xe.sibling;var mt=Z(G,xe,W[Qe],ue);if(mt===null){xe===null&&(xe=it);break}r&&xe&&mt.alternate===null&&a(G,xe),q=g(mt,q,Qe),pt===null?ke=mt:pt.sibling=mt,pt=mt,xe=it}if(Qe===W.length)return l(G,xe),at&&ws(G,Qe),ke;if(xe===null){for(;Qe<W.length;Qe++)xe=ce(G,W[Qe],ue),xe!==null&&(q=g(xe,q,Qe),pt===null?ke=xe:pt.sibling=xe,pt=xe);return at&&ws(G,Qe),ke}for(xe=c(xe);Qe<W.length;Qe++)it=ae(xe,G,Qe,W[Qe],ue),it!==null&&(r&&it.alternate!==null&&xe.delete(it.key===null?Qe:it.key),q=g(it,q,Qe),pt===null?ke=it:pt.sibling=it,pt=it);return r&&xe.forEach(function(Fa){return a(G,Fa)}),at&&ws(G,Qe),ke}function Fe(G,q,W,ue){if(W==null)throw Error(i(151));for(var ke=null,pt=null,xe=q,Qe=q=0,it=null,mt=W.next();xe!==null&&!mt.done;Qe++,mt=W.next()){xe.index>Qe?(it=xe,xe=null):it=xe.sibling;var Fa=Z(G,xe,mt.value,ue);if(Fa===null){xe===null&&(xe=it);break}r&&xe&&Fa.alternate===null&&a(G,xe),q=g(Fa,q,Qe),pt===null?ke=Fa:pt.sibling=Fa,pt=Fa,xe=it}if(mt.done)return l(G,xe),at&&ws(G,Qe),ke;if(xe===null){for(;!mt.done;Qe++,mt=W.next())mt=ce(G,mt.value,ue),mt!==null&&(q=g(mt,q,Qe),pt===null?ke=mt:pt.sibling=mt,pt=mt);return at&&ws(G,Qe),ke}for(xe=c(xe);!mt.done;Qe++,mt=W.next())mt=ae(xe,G,Qe,mt.value,ue),mt!==null&&(r&&mt.alternate!==null&&xe.delete(mt.key===null?Qe:mt.key),q=g(mt,q,Qe),pt===null?ke=mt:pt.sibling=mt,pt=mt);return r&&xe.forEach(function(IN){return a(G,IN)}),at&&ws(G,Qe),ke}function xt(G,q,W,ue){if(typeof W=="object"&&W!==null&&W.type===O&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case w:e:{for(var ke=W.key;q!==null;){if(q.key===ke){if(ke=W.type,ke===O){if(q.tag===7){l(G,q.sibling),ue=m(q,W.props.children),ue.return=G,G=ue;break e}}else if(q.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===C&&xo(ke)===q.type){l(G,q.sibling),ue=m(q,W.props),oc(ue,W),ue.return=G,G=ue;break e}l(G,q);break}else a(G,q);q=q.sibling}W.type===O?(ue=Io(W.props.children,G.mode,ue,W.key),ue.return=G,G=ue):(ue=pf(W.type,W.key,W.props,null,G.mode,ue),oc(ue,W),ue.return=G,G=ue)}return E(G);case I:e:{for(ke=W.key;q!==null;){if(q.key===ke)if(q.tag===4&&q.stateNode.containerInfo===W.containerInfo&&q.stateNode.implementation===W.implementation){l(G,q.sibling),ue=m(q,W.children||[]),ue.return=G,G=ue;break e}else{l(G,q);break}else a(G,q);q=q.sibling}ue=zm(W,G.mode,ue),ue.return=G,G=ue}return E(G);case C:return W=xo(W),xt(G,q,W,ue)}if(ne(W))return Oe(G,q,W,ue);if(P(W)){if(ke=P(W),typeof ke!="function")throw Error(i(150));return W=ke.call(W),Fe(G,q,W,ue)}if(typeof W.then=="function")return xt(G,q,Ef(W),ue);if(W.$$typeof===z)return xt(G,q,yf(G,W),ue);Tf(G,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,q!==null&&q.tag===6?(l(G,q.sibling),ue=m(q,W),ue.return=G,G=ue):(l(G,q),ue=Um(W,G.mode,ue),ue.return=G,G=ue),E(G)):l(G,q)}return function(G,q,W,ue){try{ac=0;var ke=xt(G,q,W,ue);return Pl=null,ke}catch(xe){if(xe===xl||xe===vf)throw xe;var pt=Mi(29,xe,null,G.mode);return pt.lanes=ue,pt.return=G,pt}finally{}}}var ko=Ob(!0),Db=Ob(!1),Sa=!1;function Xm(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jm(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function wa(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Ca(r,a,l){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(vt&2)!==0){var m=c.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),c.pending=a,a=df(r),db(r,null,l),a}return ff(r,c,a,l),df(r)}function lc(r,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var c=a.lanes;c&=r.pendingLanes,l|=c,a.lanes=l,te(r,l)}}function Zm(r,a){var l=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var m=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var E={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};g===null?m=g=E:g=g.next=E,l=l.next}while(l!==null);g===null?m=g=a:g=g.next=a}else m=g=a;l={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=a:r.next=a,l.lastBaseUpdate=a}var eg=!1;function uc(){if(eg){var r=Ml;if(r!==null)throw r}}function cc(r,a,l,c){eg=!1;var m=r.updateQueue;Sa=!1;var g=m.firstBaseUpdate,E=m.lastBaseUpdate,R=m.shared.pending;if(R!==null){m.shared.pending=null;var F=R,X=F.next;F.next=null,E===null?g=X:E.next=X,E=F;var oe=r.alternate;oe!==null&&(oe=oe.updateQueue,R=oe.lastBaseUpdate,R!==E&&(R===null?oe.firstBaseUpdate=X:R.next=X,oe.lastBaseUpdate=F))}if(g!==null){var ce=m.baseState;E=0,oe=X=F=null,R=g;do{var Z=R.lane&-536870913,ae=Z!==R.lane;if(ae?(nt&Z)===Z:(c&Z)===Z){Z!==0&&Z===Nl&&(eg=!0),oe!==null&&(oe=oe.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var Oe=r,Fe=R;Z=a;var xt=l;switch(Fe.tag){case 1:if(Oe=Fe.payload,typeof Oe=="function"){ce=Oe.call(xt,ce,Z);break e}ce=Oe;break e;case 3:Oe.flags=Oe.flags&-65537|128;case 0:if(Oe=Fe.payload,Z=typeof Oe=="function"?Oe.call(xt,ce,Z):Oe,Z==null)break e;ce=_({},ce,Z);break e;case 2:Sa=!0}}Z=R.callback,Z!==null&&(r.flags|=64,ae&&(r.flags|=8192),ae=m.callbacks,ae===null?m.callbacks=[Z]:ae.push(Z))}else ae={lane:Z,tag:R.tag,payload:R.payload,callback:R.callback,next:null},oe===null?(X=oe=ae,F=ce):oe=oe.next=ae,E|=Z;if(R=R.next,R===null){if(R=m.shared.pending,R===null)break;ae=R,R=ae.next,ae.next=null,m.lastBaseUpdate=ae,m.shared.pending=null}}while(!0);oe===null&&(F=ce),m.baseState=F,m.firstBaseUpdate=X,m.lastBaseUpdate=oe,g===null&&(m.shared.lanes=0),Da|=E,r.lanes=E,r.memoizedState=ce}}function Nb(r,a){if(typeof r!="function")throw Error(i(191,r));r.call(a)}function Mb(r,a){var l=r.callbacks;if(l!==null)for(r.callbacks=null,r=0;r<l.length;r++)Nb(l[r],a)}var kl=j(null),Sf=j(0);function xb(r,a){r=ks,he(Sf,r),he(kl,a),ks=r|a.baseLanes}function tg(){he(Sf,ks),he(kl,kl.current)}function ng(){ks=Sf.current,J(kl),J(Sf)}var xi=j(null),nr=null;function Ra(r){var a=r.alternate;he(hn,hn.current&1),he(xi,r),nr===null&&(a===null||kl.current!==null||a.memoizedState!==null)&&(nr=r)}function ig(r){he(hn,hn.current),he(xi,r),nr===null&&(nr=r)}function Pb(r){r.tag===22?(he(hn,hn.current),he(xi,r),nr===null&&(nr=r)):Aa()}function Aa(){he(hn,hn.current),he(xi,xi.current)}function Pi(r){J(xi),nr===r&&(nr=null),J(hn)}var hn=j(0);function wf(r){for(var a=r;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||uy(l)||cy(l)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var As=0,Ye=null,Nt=null,vn=null,Cf=!1,Ll=!1,Lo=!1,Rf=0,hc=0,Vl=null,_D=0;function tn(){throw Error(i(321))}function rg(r,a){if(a===null)return!1;for(var l=0;l<a.length&&l<r.length;l++)if(!Ni(r[l],a[l]))return!1;return!0}function sg(r,a,l,c,m,g){return As=g,Ye=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,$.H=r===null||r.memoizedState===null?yE:bg,Lo=!1,g=l(c,m),Lo=!1,Ll&&(g=Lb(a,l,c,m)),kb(r),g}function kb(r){$.H=pc;var a=Nt!==null&&Nt.next!==null;if(As=0,vn=Nt=Ye=null,Cf=!1,hc=0,Vl=null,a)throw Error(i(300));r===null||bn||(r=r.dependencies,r!==null&&gf(r)&&(bn=!0))}function Lb(r,a,l,c){Ye=r;var m=0;do{if(Ll&&(Vl=null),hc=0,Ll=!1,25<=m)throw Error(i(301));if(m+=1,vn=Nt=null,r.updateQueue!=null){var g=r.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}$.H=_E,g=a(l,c)}while(Ll);return g}function vD(){var r=$.H,a=r.useState()[0];return a=typeof a.then=="function"?fc(a):a,r=r.useState()[0],(Nt!==null?Nt.memoizedState:null)!==r&&(Ye.flags|=1024),a}function ag(){var r=Rf!==0;return Rf=0,r}function og(r,a,l){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~l}function lg(r){if(Cf){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Cf=!1}As=0,vn=Nt=Ye=null,Ll=!1,hc=Rf=0,Vl=null}function di(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vn===null?Ye.memoizedState=vn=r:vn=vn.next=r,vn}function fn(){if(Nt===null){var r=Ye.alternate;r=r!==null?r.memoizedState:null}else r=Nt.next;var a=vn===null?Ye.memoizedState:vn.next;if(a!==null)vn=a,Nt=r;else{if(r===null)throw Ye.alternate===null?Error(i(467)):Error(i(310));Nt=r,r={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},vn===null?Ye.memoizedState=vn=r:vn=vn.next=r}return vn}function Af(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fc(r){var a=hc;return hc+=1,Vl===null&&(Vl=[]),r=Rb(Vl,r,a),a=Ye,(vn===null?a.memoizedState:vn.next)===null&&(a=a.alternate,$.H=a===null||a.memoizedState===null?yE:bg),r}function If(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return fc(r);if(r.$$typeof===z)return jn(r)}throw Error(i(438,String(r)))}function ug(r){var a=null,l=Ye.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var c=Ye.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Af(),Ye.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(r),c=0;c<r;c++)l[c]=N;return a.index++,l}function Is(r,a){return typeof a=="function"?a(r):a}function Of(r){var a=fn();return cg(a,Nt,r)}function cg(r,a,l){var c=r.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=l;var m=r.baseQueue,g=c.pending;if(g!==null){if(m!==null){var E=m.next;m.next=g.next,g.next=E}a.baseQueue=m=g,c.pending=null}if(g=r.baseState,m===null)r.memoizedState=g;else{a=m.next;var R=E=null,F=null,X=a,oe=!1;do{var ce=X.lane&-536870913;if(ce!==X.lane?(nt&ce)===ce:(As&ce)===ce){var Z=X.revertLane;if(Z===0)F!==null&&(F=F.next={lane:0,revertLane:0,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),ce===Nl&&(oe=!0);else if((As&Z)===Z){X=X.next,Z===Nl&&(oe=!0);continue}else ce={lane:0,revertLane:X.revertLane,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},F===null?(R=F=ce,E=g):F=F.next=ce,Ye.lanes|=Z,Da|=Z;ce=X.action,Lo&&l(g,ce),g=X.hasEagerState?X.eagerState:l(g,ce)}else Z={lane:ce,revertLane:X.revertLane,gesture:X.gesture,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},F===null?(R=F=Z,E=g):F=F.next=Z,Ye.lanes|=ce,Da|=ce;X=X.next}while(X!==null&&X!==a);if(F===null?E=g:F.next=R,!Ni(g,r.memoizedState)&&(bn=!0,oe&&(l=Ml,l!==null)))throw l;r.memoizedState=g,r.baseState=E,r.baseQueue=F,c.lastRenderedState=g}return m===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function hg(r){var a=fn(),l=a.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=r;var c=l.dispatch,m=l.pending,g=a.memoizedState;if(m!==null){l.pending=null;var E=m=m.next;do g=r(g,E.action),E=E.next;while(E!==m);Ni(g,a.memoizedState)||(bn=!0),a.memoizedState=g,a.baseQueue===null&&(a.baseState=g),l.lastRenderedState=g}return[g,c]}function Vb(r,a,l){var c=Ye,m=fn(),g=at;if(g){if(l===void 0)throw Error(i(407));l=l()}else l=a();var E=!Ni((Nt||m).memoizedState,l);if(E&&(m.memoizedState=l,bn=!0),m=m.queue,pg(Fb.bind(null,c,m,r),[r]),m.getSnapshot!==a||E||vn!==null&&vn.memoizedState.tag&1){if(c.flags|=2048,Ul(9,{destroy:void 0},zb.bind(null,c,m,l,a),null),kt===null)throw Error(i(349));g||(As&127)!==0||Ub(c,a,l)}return l}function Ub(r,a,l){r.flags|=16384,r={getSnapshot:a,value:l},a=Ye.updateQueue,a===null?(a=Af(),Ye.updateQueue=a,a.stores=[r]):(l=a.stores,l===null?a.stores=[r]:l.push(r))}function zb(r,a,l,c){a.value=l,a.getSnapshot=c,Bb(a)&&jb(r)}function Fb(r,a,l){return l(function(){Bb(a)&&jb(r)})}function Bb(r){var a=r.getSnapshot;r=r.value;try{var l=a();return!Ni(r,l)}catch{return!0}}function jb(r){var a=Ao(r,2);a!==null&&Si(a,r,2)}function fg(r){var a=di();if(typeof r=="function"){var l=r;if(r=l(),Lo){ui(!0);try{l()}finally{ui(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Is,lastRenderedState:r},a}function Hb(r,a,l,c){return r.baseState=l,cg(r,Nt,typeof c=="function"?c:Is)}function bD(r,a,l,c,m){if(Mf(r))throw Error(i(485));if(r=a.action,r!==null){var g={payload:m,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){g.listeners.push(E)}};$.T!==null?l(!0):g.isTransition=!1,c(g),l=a.pending,l===null?(g.next=a.pending=g,qb(a,g)):(g.next=l.next,a.pending=l.next=g)}}function qb(r,a){var l=a.action,c=a.payload,m=r.state;if(a.isTransition){var g=$.T,E={};$.T=E;try{var R=l(m,c),F=$.S;F!==null&&F(E,R),$b(r,a,R)}catch(X){dg(r,a,X)}finally{g!==null&&E.types!==null&&(g.types=E.types),$.T=g}}else try{g=l(m,c),$b(r,a,g)}catch(X){dg(r,a,X)}}function $b(r,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){Gb(r,a,c)},function(c){return dg(r,a,c)}):Gb(r,a,l)}function Gb(r,a,l){a.status="fulfilled",a.value=l,Kb(a),r.state=l,a=r.pending,a!==null&&(l=a.next,l===a?r.pending=null:(l=l.next,a.next=l,qb(r,l)))}function dg(r,a,l){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=l,Kb(a),a=a.next;while(a!==c)}r.action=null}function Kb(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function Yb(r,a){return a}function Qb(r,a){if(at){var l=kt.formState;if(l!==null){e:{var c=Ye;if(at){if(Ut){t:{for(var m=Ut,g=tr;m.nodeType!==8;){if(!g){m=null;break t}if(m=ir(m.nextSibling),m===null){m=null;break t}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){Ut=ir(m.nextSibling),c=m.data==="F!";break e}}Ea(c)}c=!1}c&&(a=l[0])}}return l=di(),l.memoizedState=l.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yb,lastRenderedState:a},l.queue=c,l=pE.bind(null,Ye,c),c.dispatch=l,c=fg(!1),g=vg.bind(null,Ye,!1,c.queue),c=di(),m={state:a,dispatch:null,action:r,pending:null},c.queue=m,l=bD.bind(null,Ye,m,g,l),m.dispatch=l,c.memoizedState=r,[a,l,!1]}function Wb(r){var a=fn();return Xb(a,Nt,r)}function Xb(r,a,l){if(a=cg(r,a,Yb)[0],r=Of(Is)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=fc(a)}catch(E){throw E===xl?vf:E}else c=a;a=fn();var m=a.queue,g=m.dispatch;return l!==a.memoizedState&&(Ye.flags|=2048,Ul(9,{destroy:void 0},ED.bind(null,m,l),null)),[c,g,r]}function ED(r,a){r.action=a}function Jb(r){var a=fn(),l=Nt;if(l!==null)return Xb(a,l,r);fn(),a=a.memoizedState,l=fn();var c=l.queue.dispatch;return l.memoizedState=r,[a,c,!1]}function Ul(r,a,l,c){return r={tag:r,create:l,deps:c,inst:a,next:null},a=Ye.updateQueue,a===null&&(a=Af(),Ye.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=r.next=r:(c=l.next,l.next=r,r.next=c,a.lastEffect=r),r}function Zb(){return fn().memoizedState}function Df(r,a,l,c){var m=di();Ye.flags|=r,m.memoizedState=Ul(1|a,{destroy:void 0},l,c===void 0?null:c)}function Nf(r,a,l,c){var m=fn();c=c===void 0?null:c;var g=m.memoizedState.inst;Nt!==null&&c!==null&&rg(c,Nt.memoizedState.deps)?m.memoizedState=Ul(a,g,l,c):(Ye.flags|=r,m.memoizedState=Ul(1|a,g,l,c))}function eE(r,a){Df(8390656,8,r,a)}function pg(r,a){Nf(2048,8,r,a)}function TD(r){Ye.flags|=4;var a=Ye.updateQueue;if(a===null)a=Af(),Ye.updateQueue=a,a.events=[r];else{var l=a.events;l===null?a.events=[r]:l.push(r)}}function tE(r){var a=fn().memoizedState;return TD({ref:a,nextImpl:r}),function(){if((vt&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}function nE(r,a){return Nf(4,2,r,a)}function iE(r,a){return Nf(4,4,r,a)}function rE(r,a){if(typeof a=="function"){r=r();var l=a(r);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function sE(r,a,l){l=l!=null?l.concat([r]):null,Nf(4,4,rE.bind(null,a,r),l)}function mg(){}function aE(r,a){var l=fn();a=a===void 0?null:a;var c=l.memoizedState;return a!==null&&rg(a,c[1])?c[0]:(l.memoizedState=[r,a],r)}function oE(r,a){var l=fn();a=a===void 0?null:a;var c=l.memoizedState;if(a!==null&&rg(a,c[1]))return c[0];if(c=r(),Lo){ui(!0);try{r()}finally{ui(!1)}}return l.memoizedState=[c,a],c}function gg(r,a,l){return l===void 0||(As&1073741824)!==0&&(nt&261930)===0?r.memoizedState=a:(r.memoizedState=l,r=lT(),Ye.lanes|=r,Da|=r,l)}function lE(r,a,l,c){return Ni(l,a)?l:kl.current!==null?(r=gg(r,l,c),Ni(r,a)||(bn=!0),r):(As&42)===0||(As&1073741824)!==0&&(nt&261930)===0?(bn=!0,r.memoizedState=l):(r=lT(),Ye.lanes|=r,Da|=r,a)}function uE(r,a,l,c,m){var g=ee.p;ee.p=g!==0&&8>g?g:8;var E=$.T,R={};$.T=R,vg(r,!1,a,l);try{var F=m(),X=$.S;if(X!==null&&X(R,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var oe=yD(F,c);dc(r,a,oe,Vi(r))}else dc(r,a,c,Vi(r))}catch(ce){dc(r,a,{then:function(){},status:"rejected",reason:ce},Vi())}finally{ee.p=g,E!==null&&R.types!==null&&(E.types=R.types),$.T=E}}function SD(){}function yg(r,a,l,c){if(r.tag!==5)throw Error(i(476));var m=cE(r).queue;uE(r,m,a,me,l===null?SD:function(){return hE(r),l(c)})}function cE(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Is,lastRenderedState:me},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Is,lastRenderedState:l},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function hE(r){var a=cE(r);a.next===null&&(a=r.alternate.memoizedState),dc(r,a.next.queue,{},Vi())}function _g(){return jn(Dc)}function fE(){return fn().memoizedState}function dE(){return fn().memoizedState}function wD(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var l=Vi();r=wa(l);var c=Ca(a,r,l);c!==null&&(Si(c,a,l),lc(c,a,l)),a={cache:Km()},r.payload=a;return}a=a.return}}function CD(r,a,l){var c=Vi();l={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Mf(r)?mE(a,l):(l=Lm(r,a,l,c),l!==null&&(Si(l,r,c),gE(l,a,c)))}function pE(r,a,l){var c=Vi();dc(r,a,l,c)}function dc(r,a,l,c){var m={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Mf(r))mE(a,m);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=a.lastRenderedReducer,g!==null))try{var E=a.lastRenderedState,R=g(E,l);if(m.hasEagerState=!0,m.eagerState=R,Ni(R,E))return ff(r,a,m,0),kt===null&&hf(),!1}catch{}finally{}if(l=Lm(r,a,m,c),l!==null)return Si(l,r,c),gE(l,a,c),!0}return!1}function vg(r,a,l,c){if(c={lane:2,revertLane:Xg(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Mf(r)){if(a)throw Error(i(479))}else a=Lm(r,l,c,2),a!==null&&Si(a,r,2)}function Mf(r){var a=r.alternate;return r===Ye||a!==null&&a===Ye}function mE(r,a){Ll=Cf=!0;var l=r.pending;l===null?a.next=a:(a.next=l.next,l.next=a),r.pending=a}function gE(r,a,l){if((l&4194048)!==0){var c=a.lanes;c&=r.pendingLanes,l|=c,a.lanes=l,te(r,l)}}var pc={readContext:jn,use:If,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useLayoutEffect:tn,useInsertionEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useSyncExternalStore:tn,useId:tn,useHostTransitionStatus:tn,useFormState:tn,useActionState:tn,useOptimistic:tn,useMemoCache:tn,useCacheRefresh:tn};pc.useEffectEvent=tn;var yE={readContext:jn,use:If,useCallback:function(r,a){return di().memoizedState=[r,a===void 0?null:a],r},useContext:jn,useEffect:eE,useImperativeHandle:function(r,a,l){l=l!=null?l.concat([r]):null,Df(4194308,4,rE.bind(null,a,r),l)},useLayoutEffect:function(r,a){return Df(4194308,4,r,a)},useInsertionEffect:function(r,a){Df(4,2,r,a)},useMemo:function(r,a){var l=di();a=a===void 0?null:a;var c=r();if(Lo){ui(!0);try{r()}finally{ui(!1)}}return l.memoizedState=[c,a],c},useReducer:function(r,a,l){var c=di();if(l!==void 0){var m=l(a);if(Lo){ui(!0);try{l(a)}finally{ui(!1)}}}else m=a;return c.memoizedState=c.baseState=m,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:m},c.queue=r,r=r.dispatch=CD.bind(null,Ye,r),[c.memoizedState,r]},useRef:function(r){var a=di();return r={current:r},a.memoizedState=r},useState:function(r){r=fg(r);var a=r.queue,l=pE.bind(null,Ye,a);return a.dispatch=l,[r.memoizedState,l]},useDebugValue:mg,useDeferredValue:function(r,a){var l=di();return gg(l,r,a)},useTransition:function(){var r=fg(!1);return r=uE.bind(null,Ye,r.queue,!0,!1),di().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,l){var c=Ye,m=di();if(at){if(l===void 0)throw Error(i(407));l=l()}else{if(l=a(),kt===null)throw Error(i(349));(nt&127)!==0||Ub(c,a,l)}m.memoizedState=l;var g={value:l,getSnapshot:a};return m.queue=g,eE(Fb.bind(null,c,g,r),[r]),c.flags|=2048,Ul(9,{destroy:void 0},zb.bind(null,c,g,l,a),null),l},useId:function(){var r=di(),a=kt.identifierPrefix;if(at){var l=jr,c=Br;l=(c&~(1<<32-$t(c)-1)).toString(32)+l,a="_"+a+"R_"+l,l=Rf++,0<l&&(a+="H"+l.toString(32)),a+="_"}else l=_D++,a="_"+a+"r_"+l.toString(32)+"_";return r.memoizedState=a},useHostTransitionStatus:_g,useFormState:Qb,useActionState:Qb,useOptimistic:function(r){var a=di();a.memoizedState=a.baseState=r;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=vg.bind(null,Ye,!0,l),l.dispatch=a,[r,a]},useMemoCache:ug,useCacheRefresh:function(){return di().memoizedState=wD.bind(null,Ye)},useEffectEvent:function(r){var a=di(),l={impl:r};return a.memoizedState=l,function(){if((vt&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},bg={readContext:jn,use:If,useCallback:aE,useContext:jn,useEffect:pg,useImperativeHandle:sE,useInsertionEffect:nE,useLayoutEffect:iE,useMemo:oE,useReducer:Of,useRef:Zb,useState:function(){return Of(Is)},useDebugValue:mg,useDeferredValue:function(r,a){var l=fn();return lE(l,Nt.memoizedState,r,a)},useTransition:function(){var r=Of(Is)[0],a=fn().memoizedState;return[typeof r=="boolean"?r:fc(r),a]},useSyncExternalStore:Vb,useId:fE,useHostTransitionStatus:_g,useFormState:Wb,useActionState:Wb,useOptimistic:function(r,a){var l=fn();return Hb(l,Nt,r,a)},useMemoCache:ug,useCacheRefresh:dE};bg.useEffectEvent=tE;var _E={readContext:jn,use:If,useCallback:aE,useContext:jn,useEffect:pg,useImperativeHandle:sE,useInsertionEffect:nE,useLayoutEffect:iE,useMemo:oE,useReducer:hg,useRef:Zb,useState:function(){return hg(Is)},useDebugValue:mg,useDeferredValue:function(r,a){var l=fn();return Nt===null?gg(l,r,a):lE(l,Nt.memoizedState,r,a)},useTransition:function(){var r=hg(Is)[0],a=fn().memoizedState;return[typeof r=="boolean"?r:fc(r),a]},useSyncExternalStore:Vb,useId:fE,useHostTransitionStatus:_g,useFormState:Jb,useActionState:Jb,useOptimistic:function(r,a){var l=fn();return Nt!==null?Hb(l,Nt,r,a):(l.baseState=r,[r,l.queue.dispatch])},useMemoCache:ug,useCacheRefresh:dE};_E.useEffectEvent=tE;function Eg(r,a,l,c){a=r.memoizedState,l=l(c,a),l=l==null?a:_({},a,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Tg={enqueueSetState:function(r,a,l){r=r._reactInternals;var c=Vi(),m=wa(c);m.payload=a,l!=null&&(m.callback=l),a=Ca(r,m,c),a!==null&&(Si(a,r,c),lc(a,r,c))},enqueueReplaceState:function(r,a,l){r=r._reactInternals;var c=Vi(),m=wa(c);m.tag=1,m.payload=a,l!=null&&(m.callback=l),a=Ca(r,m,c),a!==null&&(Si(a,r,c),lc(a,r,c))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var l=Vi(),c=wa(l);c.tag=2,a!=null&&(c.callback=a),a=Ca(r,c,l),a!==null&&(Si(a,r,l),lc(a,r,l))}};function vE(r,a,l,c,m,g,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,g,E):a.prototype&&a.prototype.isPureReactComponent?!ec(l,c)||!ec(m,g):!0}function bE(r,a,l,c){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,c),a.state!==r&&Tg.enqueueReplaceState(a,a.state,null)}function Vo(r,a){var l=a;if("ref"in a){l={};for(var c in a)c!=="ref"&&(l[c]=a[c])}if(r=r.defaultProps){l===a&&(l=_({},l));for(var m in r)l[m]===void 0&&(l[m]=r[m])}return l}function EE(r){cf(r)}function TE(r){console.error(r)}function SE(r){cf(r)}function xf(r,a){try{var l=r.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function wE(r,a,l){try{var c=r.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Sg(r,a,l){return l=wa(l),l.tag=3,l.payload={element:null},l.callback=function(){xf(r,a)},l}function CE(r){return r=wa(r),r.tag=3,r}function RE(r,a,l,c){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var g=c.value;r.payload=function(){return m(g)},r.callback=function(){wE(a,l,c)}}var E=l.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(r.callback=function(){wE(a,l,c),typeof m!="function"&&(Na===null?Na=new Set([this]):Na.add(this));var R=c.stack;this.componentDidCatch(c.value,{componentStack:R!==null?R:""})})}function RD(r,a,l,c,m){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=l.alternate,a!==null&&Dl(a,l,m,!0),l=xi.current,l!==null){switch(l.tag){case 31:case 13:return nr===null?$f():l.alternate===null&&nn===0&&(nn=3),l.flags&=-257,l.flags|=65536,l.lanes=m,c===bf?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([c]):a.add(c),Yg(r,c,m)),!1;case 22:return l.flags|=65536,c===bf?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([c]):l.add(c)),Yg(r,c,m)),!1}throw Error(i(435,l.tag))}return Yg(r,c,m),$f(),!1}if(at)return a=xi.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=m,c!==jm&&(r=Error(i(422),{cause:c}),ic(Ji(r,l)))):(c!==jm&&(a=Error(i(423),{cause:c}),ic(Ji(a,l))),r=r.current.alternate,r.flags|=65536,m&=-m,r.lanes|=m,c=Ji(c,l),m=Sg(r.stateNode,c,m),Zm(r,m),nn!==4&&(nn=2)),!1;var g=Error(i(520),{cause:c});if(g=Ji(g,l),Tc===null?Tc=[g]:Tc.push(g),nn!==4&&(nn=2),a===null)return!0;c=Ji(c,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,r=m&-m,l.lanes|=r,r=Sg(l.stateNode,c,r),Zm(l,r),!1;case 1:if(a=l.type,g=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Na===null||!Na.has(g))))return l.flags|=65536,m&=-m,l.lanes|=m,m=CE(m),RE(m,r,l,c),Zm(l,m),!1}l=l.return}while(l!==null);return!1}var wg=Error(i(461)),bn=!1;function Hn(r,a,l,c){a.child=r===null?Db(a,null,l,c):ko(a,r.child,l,c)}function AE(r,a,l,c,m){l=l.render;var g=a.ref;if("ref"in c){var E={};for(var R in c)R!=="ref"&&(E[R]=c[R])}else E=c;return No(a),c=sg(r,a,l,E,g,m),R=ag(),r!==null&&!bn?(og(r,a,m),Os(r,a,m)):(at&&R&&Fm(a),a.flags|=1,Hn(r,a,c,m),a.child)}function IE(r,a,l,c,m){if(r===null){var g=l.type;return typeof g=="function"&&!Vm(g)&&g.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=g,OE(r,a,g,c,m)):(r=pf(l.type,null,c,a,a.mode,m),r.ref=a.ref,r.return=a,a.child=r)}if(g=r.child,!Mg(r,m)){var E=g.memoizedProps;if(l=l.compare,l=l!==null?l:ec,l(E,c)&&r.ref===a.ref)return Os(r,a,m)}return a.flags|=1,r=Ss(g,c),r.ref=a.ref,r.return=a,a.child=r}function OE(r,a,l,c,m){if(r!==null){var g=r.memoizedProps;if(ec(g,c)&&r.ref===a.ref)if(bn=!1,a.pendingProps=c=g,Mg(r,m))(r.flags&131072)!==0&&(bn=!0);else return a.lanes=r.lanes,Os(r,a,m)}return Cg(r,a,l,c,m)}function DE(r,a,l,c){var m=c.children,g=r!==null?r.memoizedState:null;if(r===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((a.flags&128)!==0){if(g=g!==null?g.baseLanes|l:l,r!==null){for(c=a.child=r.child,m=0;c!==null;)m=m|c.lanes|c.childLanes,c=c.sibling;c=m&~g}else c=0,a.child=null;return NE(r,a,g,l,c)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&_f(a,g!==null?g.cachePool:null),g!==null?xb(a,g):tg(),Pb(a);else return c=a.lanes=536870912,NE(r,a,g!==null?g.baseLanes|l:l,l,c)}else g!==null?(_f(a,g.cachePool),xb(a,g),Aa(),a.memoizedState=null):(r!==null&&_f(a,null),tg(),Aa());return Hn(r,a,m,l),a.child}function mc(r,a){return r!==null&&r.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function NE(r,a,l,c,m){var g=Qm();return g=g===null?null:{parent:_n._currentValue,pool:g},a.memoizedState={baseLanes:l,cachePool:g},r!==null&&_f(a,null),tg(),Pb(a),r!==null&&Dl(r,a,c,!0),a.childLanes=m,null}function Pf(r,a){return a=Lf({mode:a.mode,children:a.children},r.mode),a.ref=r.ref,r.child=a,a.return=r,a}function ME(r,a,l){return ko(a,r.child,null,l),r=Pf(a,a.pendingProps),r.flags|=2,Pi(a),a.memoizedState=null,r}function AD(r,a,l){var c=a.pendingProps,m=(a.flags&128)!==0;if(a.flags&=-129,r===null){if(at){if(c.mode==="hidden")return r=Pf(a,c),a.lanes=536870912,mc(null,r);if(ig(a),(r=Ut)?(r=qT(r,tr),r=r!==null&&r.data==="&"?r:null,r!==null&&(a.memoizedState={dehydrated:r,treeContext:va!==null?{id:Br,overflow:jr}:null,retryLane:536870912,hydrationErrors:null},l=mb(r),l.return=a,a.child=l,Bn=a,Ut=null)):r=null,r===null)throw Ea(a);return a.lanes=536870912,null}return Pf(a,c)}var g=r.memoizedState;if(g!==null){var E=g.dehydrated;if(ig(a),m)if(a.flags&256)a.flags&=-257,a=ME(r,a,l);else if(a.memoizedState!==null)a.child=r.child,a.flags|=128,a=null;else throw Error(i(558));else if(bn||Dl(r,a,l,!1),m=(l&r.childLanes)!==0,bn||m){if(c=kt,c!==null&&(E=pe(c,l),E!==0&&E!==g.retryLane))throw g.retryLane=E,Ao(r,E),Si(c,r,E),wg;$f(),a=ME(r,a,l)}else r=g.treeContext,Ut=ir(E.nextSibling),Bn=a,at=!0,ba=null,tr=!1,r!==null&&_b(a,r),a=Pf(a,c),a.flags|=4096;return a}return r=Ss(r.child,{mode:c.mode,children:c.children}),r.ref=a.ref,a.child=r,r.return=a,r}function kf(r,a){var l=a.ref;if(l===null)r!==null&&r.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(r===null||r.ref!==l)&&(a.flags|=4194816)}}function Cg(r,a,l,c,m){return No(a),l=sg(r,a,l,c,void 0,m),c=ag(),r!==null&&!bn?(og(r,a,m),Os(r,a,m)):(at&&c&&Fm(a),a.flags|=1,Hn(r,a,l,m),a.child)}function xE(r,a,l,c,m,g){return No(a),a.updateQueue=null,l=Lb(a,c,l,m),kb(r),c=ag(),r!==null&&!bn?(og(r,a,g),Os(r,a,g)):(at&&c&&Fm(a),a.flags|=1,Hn(r,a,l,g),a.child)}function PE(r,a,l,c,m){if(No(a),a.stateNode===null){var g=Rl,E=l.contextType;typeof E=="object"&&E!==null&&(g=jn(E)),g=new l(c,g),a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Tg,a.stateNode=g,g._reactInternals=a,g=a.stateNode,g.props=c,g.state=a.memoizedState,g.refs={},Xm(a),E=l.contextType,g.context=typeof E=="object"&&E!==null?jn(E):Rl,g.state=a.memoizedState,E=l.getDerivedStateFromProps,typeof E=="function"&&(Eg(a,l,E,c),g.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(E=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),E!==g.state&&Tg.enqueueReplaceState(g,g.state,null),cc(a,c,g,m),uc(),g.state=a.memoizedState),typeof g.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(r===null){g=a.stateNode;var R=a.memoizedProps,F=Vo(l,R);g.props=F;var X=g.context,oe=l.contextType;E=Rl,typeof oe=="object"&&oe!==null&&(E=jn(oe));var ce=l.getDerivedStateFromProps;oe=typeof ce=="function"||typeof g.getSnapshotBeforeUpdate=="function",R=a.pendingProps!==R,oe||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(R||X!==E)&&bE(a,g,c,E),Sa=!1;var Z=a.memoizedState;g.state=Z,cc(a,c,g,m),uc(),X=a.memoizedState,R||Z!==X||Sa?(typeof ce=="function"&&(Eg(a,l,ce,c),X=a.memoizedState),(F=Sa||vE(a,l,F,c,Z,X,E))?(oe||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(a.flags|=4194308)):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=X),g.props=c,g.state=X,g.context=E,c=F):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{g=a.stateNode,Jm(r,a),E=a.memoizedProps,oe=Vo(l,E),g.props=oe,ce=a.pendingProps,Z=g.context,X=l.contextType,F=Rl,typeof X=="object"&&X!==null&&(F=jn(X)),R=l.getDerivedStateFromProps,(X=typeof R=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E!==ce||Z!==F)&&bE(a,g,c,F),Sa=!1,Z=a.memoizedState,g.state=Z,cc(a,c,g,m),uc();var ae=a.memoizedState;E!==ce||Z!==ae||Sa||r!==null&&r.dependencies!==null&&gf(r.dependencies)?(typeof R=="function"&&(Eg(a,l,R,c),ae=a.memoizedState),(oe=Sa||vE(a,l,oe,c,Z,ae,F)||r!==null&&r.dependencies!==null&&gf(r.dependencies))?(X||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,ae,F),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,ae,F)),typeof g.componentDidUpdate=="function"&&(a.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof g.componentDidUpdate!="function"||E===r.memoizedProps&&Z===r.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&Z===r.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=ae),g.props=c,g.state=ae,g.context=F,c=oe):(typeof g.componentDidUpdate!="function"||E===r.memoizedProps&&Z===r.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&Z===r.memoizedState||(a.flags|=1024),c=!1)}return g=c,kf(r,a),c=(a.flags&128)!==0,g||c?(g=a.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:g.render(),a.flags|=1,r!==null&&c?(a.child=ko(a,r.child,null,m),a.child=ko(a,null,l,m)):Hn(r,a,l,m),a.memoizedState=g.state,r=a.child):r=Os(r,a,m),r}function kE(r,a,l,c){return Oo(),a.flags|=256,Hn(r,a,l,c),a.child}var Rg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ag(r){return{baseLanes:r,cachePool:wb()}}function Ig(r,a,l){return r=r!==null?r.childLanes&~l:0,a&&(r|=Li),r}function LE(r,a,l){var c=a.pendingProps,m=!1,g=(a.flags&128)!==0,E;if((E=g)||(E=r!==null&&r.memoizedState===null?!1:(hn.current&2)!==0),E&&(m=!0,a.flags&=-129),E=(a.flags&32)!==0,a.flags&=-33,r===null){if(at){if(m?Ra(a):Aa(),(r=Ut)?(r=qT(r,tr),r=r!==null&&r.data!=="&"?r:null,r!==null&&(a.memoizedState={dehydrated:r,treeContext:va!==null?{id:Br,overflow:jr}:null,retryLane:536870912,hydrationErrors:null},l=mb(r),l.return=a,a.child=l,Bn=a,Ut=null)):r=null,r===null)throw Ea(a);return cy(r)?a.lanes=32:a.lanes=536870912,null}var R=c.children;return c=c.fallback,m?(Aa(),m=a.mode,R=Lf({mode:"hidden",children:R},m),c=Io(c,m,l,null),R.return=a,c.return=a,R.sibling=c,a.child=R,c=a.child,c.memoizedState=Ag(l),c.childLanes=Ig(r,E,l),a.memoizedState=Rg,mc(null,c)):(Ra(a),Og(a,R))}var F=r.memoizedState;if(F!==null&&(R=F.dehydrated,R!==null)){if(g)a.flags&256?(Ra(a),a.flags&=-257,a=Dg(r,a,l)):a.memoizedState!==null?(Aa(),a.child=r.child,a.flags|=128,a=null):(Aa(),R=c.fallback,m=a.mode,c=Lf({mode:"visible",children:c.children},m),R=Io(R,m,l,null),R.flags|=2,c.return=a,R.return=a,c.sibling=R,a.child=c,ko(a,r.child,null,l),c=a.child,c.memoizedState=Ag(l),c.childLanes=Ig(r,E,l),a.memoizedState=Rg,a=mc(null,c));else if(Ra(a),cy(R)){if(E=R.nextSibling&&R.nextSibling.dataset,E)var X=E.dgst;E=X,c=Error(i(419)),c.stack="",c.digest=E,ic({value:c,source:null,stack:null}),a=Dg(r,a,l)}else if(bn||Dl(r,a,l,!1),E=(l&r.childLanes)!==0,bn||E){if(E=kt,E!==null&&(c=pe(E,l),c!==0&&c!==F.retryLane))throw F.retryLane=c,Ao(r,c),Si(E,r,c),wg;uy(R)||$f(),a=Dg(r,a,l)}else uy(R)?(a.flags|=192,a.child=r.child,a=null):(r=F.treeContext,Ut=ir(R.nextSibling),Bn=a,at=!0,ba=null,tr=!1,r!==null&&_b(a,r),a=Og(a,c.children),a.flags|=4096);return a}return m?(Aa(),R=c.fallback,m=a.mode,F=r.child,X=F.sibling,c=Ss(F,{mode:"hidden",children:c.children}),c.subtreeFlags=F.subtreeFlags&65011712,X!==null?R=Ss(X,R):(R=Io(R,m,l,null),R.flags|=2),R.return=a,c.return=a,c.sibling=R,a.child=c,mc(null,c),c=a.child,R=r.child.memoizedState,R===null?R=Ag(l):(m=R.cachePool,m!==null?(F=_n._currentValue,m=m.parent!==F?{parent:F,pool:F}:m):m=wb(),R={baseLanes:R.baseLanes|l,cachePool:m}),c.memoizedState=R,c.childLanes=Ig(r,E,l),a.memoizedState=Rg,mc(r.child,c)):(Ra(a),l=r.child,r=l.sibling,l=Ss(l,{mode:"visible",children:c.children}),l.return=a,l.sibling=null,r!==null&&(E=a.deletions,E===null?(a.deletions=[r],a.flags|=16):E.push(r)),a.child=l,a.memoizedState=null,l)}function Og(r,a){return a=Lf({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function Lf(r,a){return r=Mi(22,r,null,a),r.lanes=0,r}function Dg(r,a,l){return ko(a,r.child,null,l),r=Og(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function VE(r,a,l){r.lanes|=a;var c=r.alternate;c!==null&&(c.lanes|=a),$m(r.return,a,l)}function Ng(r,a,l,c,m,g){var E=r.memoizedState;E===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:m,treeForkCount:g}:(E.isBackwards=a,E.rendering=null,E.renderingStartTime=0,E.last=c,E.tail=l,E.tailMode=m,E.treeForkCount=g)}function UE(r,a,l){var c=a.pendingProps,m=c.revealOrder,g=c.tail;c=c.children;var E=hn.current,R=(E&2)!==0;if(R?(E=E&1|2,a.flags|=128):E&=1,he(hn,E),Hn(r,a,c,l),c=at?nc:0,!R&&r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&VE(r,l,a);else if(r.tag===19)VE(r,l,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(m){case"forwards":for(l=a.child,m=null;l!==null;)r=l.alternate,r!==null&&wf(r)===null&&(m=l),l=l.sibling;l=m,l===null?(m=a.child,a.child=null):(m=l.sibling,l.sibling=null),Ng(a,!1,m,l,g,c);break;case"backwards":case"unstable_legacy-backwards":for(l=null,m=a.child,a.child=null;m!==null;){if(r=m.alternate,r!==null&&wf(r)===null){a.child=m;break}r=m.sibling,m.sibling=l,l=m,m=r}Ng(a,!0,l,null,g,c);break;case"together":Ng(a,!1,null,null,void 0,c);break;default:a.memoizedState=null}return a.child}function Os(r,a,l){if(r!==null&&(a.dependencies=r.dependencies),Da|=a.lanes,(l&a.childLanes)===0)if(r!==null){if(Dl(r,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(i(153));if(a.child!==null){for(r=a.child,l=Ss(r,r.pendingProps),a.child=l,l.return=a;r.sibling!==null;)r=r.sibling,l=l.sibling=Ss(r,r.pendingProps),l.return=a;l.sibling=null}return a.child}function Mg(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&gf(r)))}function ID(r,a,l){switch(a.tag){case 3:gt(a,a.stateNode.containerInfo),Ta(a,_n,r.memoizedState.cache),Oo();break;case 27:case 5:dr(a);break;case 4:gt(a,a.stateNode.containerInfo);break;case 10:Ta(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,ig(a),null;break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(Ra(a),a.flags|=128,null):(l&a.child.childLanes)!==0?LE(r,a,l):(Ra(a),r=Os(r,a,l),r!==null?r.sibling:null);Ra(a);break;case 19:var m=(r.flags&128)!==0;if(c=(l&a.childLanes)!==0,c||(Dl(r,a,l,!1),c=(l&a.childLanes)!==0),m){if(c)return UE(r,a,l);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),he(hn,hn.current),c)break;return null;case 22:return a.lanes=0,DE(r,a,l,a.pendingProps);case 24:Ta(a,_n,r.memoizedState.cache)}return Os(r,a,l)}function zE(r,a,l){if(r!==null)if(r.memoizedProps!==a.pendingProps)bn=!0;else{if(!Mg(r,l)&&(a.flags&128)===0)return bn=!1,ID(r,a,l);bn=(r.flags&131072)!==0}else bn=!1,at&&(a.flags&1048576)!==0&&yb(a,nc,a.index);switch(a.lanes=0,a.tag){case 16:e:{var c=a.pendingProps;if(r=xo(a.elementType),a.type=r,typeof r=="function")Vm(r)?(c=Vo(r,c),a.tag=1,a=PE(null,a,r,c,l)):(a.tag=0,a=Cg(null,a,r,c,l));else{if(r!=null){var m=r.$$typeof;if(m===Q){a.tag=11,a=AE(null,a,r,c,l);break e}else if(m===S){a.tag=14,a=IE(null,a,r,c,l);break e}}throw a=ye(r)||r,Error(i(306,a,""))}}return a;case 0:return Cg(r,a,a.type,a.pendingProps,l);case 1:return c=a.type,m=Vo(c,a.pendingProps),PE(r,a,c,m,l);case 3:e:{if(gt(a,a.stateNode.containerInfo),r===null)throw Error(i(387));c=a.pendingProps;var g=a.memoizedState;m=g.element,Jm(r,a),cc(a,c,null,l);var E=a.memoizedState;if(c=E.cache,Ta(a,_n,c),c!==g.cache&&Gm(a,[_n],l,!0),uc(),c=E.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:E.cache},a.updateQueue.baseState=g,a.memoizedState=g,a.flags&256){a=kE(r,a,c,l);break e}else if(c!==m){m=Ji(Error(i(424)),a),ic(m),a=kE(r,a,c,l);break e}else{switch(r=a.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Ut=ir(r.firstChild),Bn=a,at=!0,ba=null,tr=!0,l=Db(a,null,c,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Oo(),c===m){a=Os(r,a,l);break e}Hn(r,a,c,l)}a=a.child}return a;case 26:return kf(r,a),r===null?(l=WT(a.type,null,a.pendingProps,null))?a.memoizedState=l:at||(l=a.type,r=a.pendingProps,c=Jf(Se.current).createElement(l),c[we]=a,c[Ee]=r,qn(c,l,r),Gt(c),a.stateNode=c):a.memoizedState=WT(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return dr(a),r===null&&at&&(c=a.stateNode=KT(a.type,a.pendingProps,Se.current),Bn=a,tr=!0,m=Ut,ka(a.type)?(hy=m,Ut=ir(c.firstChild)):Ut=m),Hn(r,a,a.pendingProps.children,l),kf(r,a),r===null&&(a.flags|=4194304),a.child;case 5:return r===null&&at&&((m=c=Ut)&&(c=rN(c,a.type,a.pendingProps,tr),c!==null?(a.stateNode=c,Bn=a,Ut=ir(c.firstChild),tr=!1,m=!0):m=!1),m||Ea(a)),dr(a),m=a.type,g=a.pendingProps,E=r!==null?r.memoizedProps:null,c=g.children,ay(m,g)?c=null:E!==null&&ay(m,E)&&(a.flags|=32),a.memoizedState!==null&&(m=sg(r,a,vD,null,null,l),Dc._currentValue=m),kf(r,a),Hn(r,a,c,l),a.child;case 6:return r===null&&at&&((r=l=Ut)&&(l=sN(l,a.pendingProps,tr),l!==null?(a.stateNode=l,Bn=a,Ut=null,r=!0):r=!1),r||Ea(a)),null;case 13:return LE(r,a,l);case 4:return gt(a,a.stateNode.containerInfo),c=a.pendingProps,r===null?a.child=ko(a,null,c,l):Hn(r,a,c,l),a.child;case 11:return AE(r,a,a.type,a.pendingProps,l);case 7:return Hn(r,a,a.pendingProps,l),a.child;case 8:return Hn(r,a,a.pendingProps.children,l),a.child;case 12:return Hn(r,a,a.pendingProps.children,l),a.child;case 10:return c=a.pendingProps,Ta(a,a.type,c.value),Hn(r,a,c.children,l),a.child;case 9:return m=a.type._context,c=a.pendingProps.children,No(a),m=jn(m),c=c(m),a.flags|=1,Hn(r,a,c,l),a.child;case 14:return IE(r,a,a.type,a.pendingProps,l);case 15:return OE(r,a,a.type,a.pendingProps,l);case 19:return UE(r,a,l);case 31:return AD(r,a,l);case 22:return DE(r,a,l,a.pendingProps);case 24:return No(a),c=jn(_n),r===null?(m=Qm(),m===null&&(m=kt,g=Km(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=l),m=g),a.memoizedState={parent:c,cache:m},Xm(a),Ta(a,_n,m)):((r.lanes&l)!==0&&(Jm(r,a),cc(a,null,null,l),uc()),m=r.memoizedState,g=a.memoizedState,m.parent!==c?(m={parent:c,cache:c},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),Ta(a,_n,c)):(c=g.cache,Ta(a,_n,c),c!==m.cache&&Gm(a,[_n],l,!0))),Hn(r,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Ds(r){r.flags|=4}function xg(r,a,l,c,m){if((a=(r.mode&32)!==0)&&(a=!1),a){if(r.flags|=16777216,(m&335544128)===m)if(r.stateNode.complete)r.flags|=8192;else if(fT())r.flags|=8192;else throw Po=bf,Wm}else r.flags&=-16777217}function FE(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!tS(a))if(fT())r.flags|=8192;else throw Po=bf,Wm}function Vf(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?_s():536870912,r.lanes|=a,jl|=a)}function gc(r,a){if(!at)switch(r.tailMode){case"hidden":a=r.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function zt(r){var a=r.alternate!==null&&r.alternate.child===r.child,l=0,c=0;if(a)for(var m=r.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=r,m=m.sibling;else for(m=r.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=r,m=m.sibling;return r.subtreeFlags|=c,r.childLanes=l,a}function OD(r,a,l){var c=a.pendingProps;switch(Bm(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(a),null;case 1:return zt(a),null;case 3:return l=a.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),Rs(_n),yt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(r===null||r.child===null)&&(Ol(a)?Ds(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Hm())),zt(a),null;case 26:var m=a.type,g=a.memoizedState;return r===null?(Ds(a),g!==null?(zt(a),FE(a,g)):(zt(a),xg(a,m,null,c,l))):g?g!==r.memoizedState?(Ds(a),zt(a),FE(a,g)):(zt(a),a.flags&=-16777217):(r=r.memoizedProps,r!==c&&Ds(a),zt(a),xg(a,m,r,c,l)),null;case 27:if(Lt(a),l=Se.current,m=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==c&&Ds(a);else{if(!c){if(a.stateNode===null)throw Error(i(166));return zt(a),null}r=le.current,Ol(a)?vb(a):(r=KT(m,c,l),a.stateNode=r,Ds(a))}return zt(a),null;case 5:if(Lt(a),m=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==c&&Ds(a);else{if(!c){if(a.stateNode===null)throw Error(i(166));return zt(a),null}if(g=le.current,Ol(a))vb(a);else{var E=Jf(Se.current);switch(g){case 1:g=E.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:g=E.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":g=E.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":g=E.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":g=E.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?E.createElement("select",{is:c.is}):E.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?E.createElement(m,{is:c.is}):E.createElement(m)}}g[we]=a,g[Ee]=c;e:for(E=a.child;E!==null;){if(E.tag===5||E.tag===6)g.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===a)break e;for(;E.sibling===null;){if(E.return===null||E.return===a)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}a.stateNode=g;e:switch(qn(g,m,c),m){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Ds(a)}}return zt(a),xg(a,a.type,r===null?null:r.memoizedProps,a.pendingProps,l),null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==c&&Ds(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(i(166));if(r=Se.current,Ol(a)){if(r=a.stateNode,l=a.memoizedProps,c=null,m=Bn,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}r[we]=a,r=!!(r.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||LT(r.nodeValue,l)),r||Ea(a,!0)}else r=Jf(r).createTextNode(c),r[we]=a,a.stateNode=r}return zt(a),null;case 31:if(l=a.memoizedState,r===null||r.memoizedState!==null){if(c=Ol(a),l!==null){if(r===null){if(!c)throw Error(i(318));if(r=a.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[we]=a}else Oo(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;zt(a),r=!1}else l=Hm(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=l),r=!0;if(!r)return a.flags&256?(Pi(a),a):(Pi(a),null);if((a.flags&128)!==0)throw Error(i(558))}return zt(a),null;case 13:if(c=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(m=Ol(a),c!==null&&c.dehydrated!==null){if(r===null){if(!m)throw Error(i(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[we]=a}else Oo(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;zt(a),m=!1}else m=Hm(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=m),m=!0;if(!m)return a.flags&256?(Pi(a),a):(Pi(a),null)}return Pi(a),(a.flags&128)!==0?(a.lanes=l,a):(l=c!==null,r=r!==null&&r.memoizedState!==null,l&&(c=a.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==m&&(c.flags|=2048)),l!==r&&l&&(a.child.flags|=8192),Vf(a,a.updateQueue),zt(a),null);case 4:return yt(),r===null&&ty(a.stateNode.containerInfo),zt(a),null;case 10:return Rs(a.type),zt(a),null;case 19:if(J(hn),c=a.memoizedState,c===null)return zt(a),null;if(m=(a.flags&128)!==0,g=c.rendering,g===null)if(m)gc(c,!1);else{if(nn!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(g=wf(r),g!==null){for(a.flags|=128,gc(c,!1),r=g.updateQueue,a.updateQueue=r,Vf(a,r),a.subtreeFlags=0,r=l,l=a.child;l!==null;)pb(l,r),l=l.sibling;return he(hn,hn.current&1|2),at&&ws(a,c.treeForkCount),a.child}r=r.sibling}c.tail!==null&&on()>jf&&(a.flags|=128,m=!0,gc(c,!1),a.lanes=4194304)}else{if(!m)if(r=wf(g),r!==null){if(a.flags|=128,m=!0,r=r.updateQueue,a.updateQueue=r,Vf(a,r),gc(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!at)return zt(a),null}else 2*on()-c.renderingStartTime>jf&&l!==536870912&&(a.flags|=128,m=!0,gc(c,!1),a.lanes=4194304);c.isBackwards?(g.sibling=a.child,a.child=g):(r=c.last,r!==null?r.sibling=g:a.child=g,c.last=g)}return c.tail!==null?(r=c.tail,c.rendering=r,c.tail=r.sibling,c.renderingStartTime=on(),r.sibling=null,l=hn.current,he(hn,m?l&1|2:l&1),at&&ws(a,c.treeForkCount),r):(zt(a),null);case 22:case 23:return Pi(a),ng(),c=a.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(l&536870912)!==0&&(a.flags&128)===0&&(zt(a),a.subtreeFlags&6&&(a.flags|=8192)):zt(a),l=a.updateQueue,l!==null&&Vf(a,l.retryQueue),l=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==l&&(a.flags|=2048),r!==null&&J(Mo),null;case 24:return l=null,r!==null&&(l=r.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Rs(_n),zt(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function DD(r,a){switch(Bm(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return Rs(_n),yt(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return Lt(a),null;case 31:if(a.memoizedState!==null){if(Pi(a),a.alternate===null)throw Error(i(340));Oo()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 13:if(Pi(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Oo()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return J(hn),null;case 4:return yt(),null;case 10:return Rs(a.type),null;case 22:case 23:return Pi(a),ng(),r!==null&&J(Mo),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return Rs(_n),null;case 25:return null;default:return null}}function BE(r,a){switch(Bm(a),a.tag){case 3:Rs(_n),yt();break;case 26:case 27:case 5:Lt(a);break;case 4:yt();break;case 31:a.memoizedState!==null&&Pi(a);break;case 13:Pi(a);break;case 19:J(hn);break;case 10:Rs(a.type);break;case 22:case 23:Pi(a),ng(),r!==null&&J(Mo);break;case 24:Rs(_n)}}function yc(r,a){try{var l=a.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var m=c.next;l=m;do{if((l.tag&r)===r){c=void 0;var g=l.create,E=l.inst;c=g(),E.destroy=c}l=l.next}while(l!==m)}}catch(R){It(a,a.return,R)}}function Ia(r,a,l){try{var c=a.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var g=m.next;c=g;do{if((c.tag&r)===r){var E=c.inst,R=E.destroy;if(R!==void 0){E.destroy=void 0,m=a;var F=l,X=R;try{X()}catch(oe){It(m,F,oe)}}}c=c.next}while(c!==g)}}catch(oe){It(a,a.return,oe)}}function jE(r){var a=r.updateQueue;if(a!==null){var l=r.stateNode;try{Mb(a,l)}catch(c){It(r,r.return,c)}}}function HE(r,a,l){l.props=Vo(r.type,r.memoizedProps),l.state=r.memoizedState;try{l.componentWillUnmount()}catch(c){It(r,a,c)}}function _c(r,a){try{var l=r.ref;if(l!==null){switch(r.tag){case 26:case 27:case 5:var c=r.stateNode;break;case 30:c=r.stateNode;break;default:c=r.stateNode}typeof l=="function"?r.refCleanup=l(c):l.current=c}}catch(m){It(r,a,m)}}function Hr(r,a){var l=r.ref,c=r.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(m){It(r,a,m)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){It(r,a,m)}else l.current=null}function qE(r){var a=r.type,l=r.memoizedProps,c=r.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(m){It(r,r.return,m)}}function Pg(r,a,l){try{var c=r.stateNode;JD(c,r.type,l,a),c[Ee]=a}catch(m){It(r,r.return,m)}}function $E(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&ka(r.type)||r.tag===4}function kg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||$E(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&ka(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Lg(r,a,l){var c=r.tag;if(c===5||c===6)r=r.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(r,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(r),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=yr));else if(c!==4&&(c===27&&ka(r.type)&&(l=r.stateNode,a=null),r=r.child,r!==null))for(Lg(r,a,l),r=r.sibling;r!==null;)Lg(r,a,l),r=r.sibling}function Uf(r,a,l){var c=r.tag;if(c===5||c===6)r=r.stateNode,a?l.insertBefore(r,a):l.appendChild(r);else if(c!==4&&(c===27&&ka(r.type)&&(l=r.stateNode),r=r.child,r!==null))for(Uf(r,a,l),r=r.sibling;r!==null;)Uf(r,a,l),r=r.sibling}function GE(r){var a=r.stateNode,l=r.memoizedProps;try{for(var c=r.type,m=a.attributes;m.length;)a.removeAttributeNode(m[0]);qn(a,c,l),a[we]=r,a[Ee]=l}catch(g){It(r,r.return,g)}}var Ns=!1,En=!1,Vg=!1,KE=typeof WeakSet=="function"?WeakSet:Set,kn=null;function ND(r,a){if(r=r.containerInfo,ry=sd,r=sb(r),Dm(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var m=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var E=0,R=-1,F=-1,X=0,oe=0,ce=r,Z=null;t:for(;;){for(var ae;ce!==l||m!==0&&ce.nodeType!==3||(R=E+m),ce!==g||c!==0&&ce.nodeType!==3||(F=E+c),ce.nodeType===3&&(E+=ce.nodeValue.length),(ae=ce.firstChild)!==null;)Z=ce,ce=ae;for(;;){if(ce===r)break t;if(Z===l&&++X===m&&(R=E),Z===g&&++oe===c&&(F=E),(ae=ce.nextSibling)!==null)break;ce=Z,Z=ce.parentNode}ce=ae}l=R===-1||F===-1?null:{start:R,end:F}}else l=null}l=l||{start:0,end:0}}else l=null;for(sy={focusedElem:r,selectionRange:l},sd=!1,kn=a;kn!==null;)if(a=kn,r=a.child,(a.subtreeFlags&1028)!==0&&r!==null)r.return=a,kn=r;else for(;kn!==null;){switch(a=kn,g=a.alternate,r=a.flags,a.tag){case 0:if((r&4)!==0&&(r=a.updateQueue,r=r!==null?r.events:null,r!==null))for(l=0;l<r.length;l++)m=r[l],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&g!==null){r=void 0,l=a,m=g.memoizedProps,g=g.memoizedState,c=l.stateNode;try{var Oe=Vo(l.type,m);r=c.getSnapshotBeforeUpdate(Oe,g),c.__reactInternalSnapshotBeforeUpdate=r}catch(Fe){It(l,l.return,Fe)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,l=r.nodeType,l===9)ly(r);else if(l===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":ly(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=a.sibling,r!==null){r.return=a.return,kn=r;break}kn=a.return}}function YE(r,a,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:xs(r,l),c&4&&yc(5,l);break;case 1:if(xs(r,l),c&4)if(r=l.stateNode,a===null)try{r.componentDidMount()}catch(E){It(l,l.return,E)}else{var m=Vo(l.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(m,a,r.__reactInternalSnapshotBeforeUpdate)}catch(E){It(l,l.return,E)}}c&64&&jE(l),c&512&&_c(l,l.return);break;case 3:if(xs(r,l),c&64&&(r=l.updateQueue,r!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{Mb(r,a)}catch(E){It(l,l.return,E)}}break;case 27:a===null&&c&4&&GE(l);case 26:case 5:xs(r,l),a===null&&c&4&&qE(l),c&512&&_c(l,l.return);break;case 12:xs(r,l);break;case 31:xs(r,l),c&4&&XE(r,l);break;case 13:xs(r,l),c&4&&JE(r,l),c&64&&(r=l.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(l=FD.bind(null,l),aN(r,l))));break;case 22:if(c=l.memoizedState!==null||Ns,!c){a=a!==null&&a.memoizedState!==null||En,m=Ns;var g=En;Ns=c,(En=a)&&!g?Ps(r,l,(l.subtreeFlags&8772)!==0):xs(r,l),Ns=m,En=g}break;case 30:break;default:xs(r,l)}}function QE(r){var a=r.alternate;a!==null&&(r.alternate=null,QE(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&dt(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Yt=null,vi=!1;function Ms(r,a,l){for(l=l.child;l!==null;)WE(r,a,l),l=l.sibling}function WE(r,a,l){if(mn&&typeof mn.onCommitFiberUnmount=="function")try{mn.onCommitFiberUnmount(ln,l)}catch{}switch(l.tag){case 26:En||Hr(l,a),Ms(r,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:En||Hr(l,a);var c=Yt,m=vi;ka(l.type)&&(Yt=l.stateNode,vi=!1),Ms(r,a,l),Ac(l.stateNode),Yt=c,vi=m;break;case 5:En||Hr(l,a);case 6:if(c=Yt,m=vi,Yt=null,Ms(r,a,l),Yt=c,vi=m,Yt!==null)if(vi)try{(Yt.nodeType===9?Yt.body:Yt.nodeName==="HTML"?Yt.ownerDocument.body:Yt).removeChild(l.stateNode)}catch(g){It(l,a,g)}else try{Yt.removeChild(l.stateNode)}catch(g){It(l,a,g)}break;case 18:Yt!==null&&(vi?(r=Yt,jT(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,l.stateNode),Wl(r)):jT(Yt,l.stateNode));break;case 4:c=Yt,m=vi,Yt=l.stateNode.containerInfo,vi=!0,Ms(r,a,l),Yt=c,vi=m;break;case 0:case 11:case 14:case 15:Ia(2,l,a),En||Ia(4,l,a),Ms(r,a,l);break;case 1:En||(Hr(l,a),c=l.stateNode,typeof c.componentWillUnmount=="function"&&HE(l,a,c)),Ms(r,a,l);break;case 21:Ms(r,a,l);break;case 22:En=(c=En)||l.memoizedState!==null,Ms(r,a,l),En=c;break;default:Ms(r,a,l)}}function XE(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{Wl(r)}catch(l){It(a,a.return,l)}}}function JE(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Wl(r)}catch(l){It(a,a.return,l)}}function MD(r){switch(r.tag){case 31:case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new KE),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new KE),a;default:throw Error(i(435,r.tag))}}function zf(r,a){var l=MD(r);a.forEach(function(c){if(!l.has(c)){l.add(c);var m=BD.bind(null,r,c);c.then(m,m)}})}function bi(r,a){var l=a.deletions;if(l!==null)for(var c=0;c<l.length;c++){var m=l[c],g=r,E=a,R=E;e:for(;R!==null;){switch(R.tag){case 27:if(ka(R.type)){Yt=R.stateNode,vi=!1;break e}break;case 5:Yt=R.stateNode,vi=!1;break e;case 3:case 4:Yt=R.stateNode.containerInfo,vi=!0;break e}R=R.return}if(Yt===null)throw Error(i(160));WE(g,E,m),Yt=null,vi=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)ZE(a,r),a=a.sibling}var Sr=null;function ZE(r,a){var l=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:bi(a,r),Ei(r),c&4&&(Ia(3,r,r.return),yc(3,r),Ia(5,r,r.return));break;case 1:bi(a,r),Ei(r),c&512&&(En||l===null||Hr(l,l.return)),c&64&&Ns&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(l=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var m=Sr;if(bi(a,r),Ei(r),c&512&&(En||l===null||Hr(l,l.return)),c&4){var g=l!==null?l.memoizedState:null;if(c=r.memoizedState,l===null)if(c===null)if(r.stateNode===null){e:{c=r.type,l=r.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":g=m.getElementsByTagName("title")[0],(!g||g[lt]||g[we]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(c),m.head.insertBefore(g,m.querySelector("head > title"))),qn(g,c,l),g[we]=r,Gt(g),c=g;break e;case"link":var E=ZT("link","href",m).get(c+(l.href||""));if(E){for(var R=0;R<E.length;R++)if(g=E[R],g.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&g.getAttribute("rel")===(l.rel==null?null:l.rel)&&g.getAttribute("title")===(l.title==null?null:l.title)&&g.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){E.splice(R,1);break t}}g=m.createElement(c),qn(g,c,l),m.head.appendChild(g);break;case"meta":if(E=ZT("meta","content",m).get(c+(l.content||""))){for(R=0;R<E.length;R++)if(g=E[R],g.getAttribute("content")===(l.content==null?null:""+l.content)&&g.getAttribute("name")===(l.name==null?null:l.name)&&g.getAttribute("property")===(l.property==null?null:l.property)&&g.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&g.getAttribute("charset")===(l.charSet==null?null:l.charSet)){E.splice(R,1);break t}}g=m.createElement(c),qn(g,c,l),m.head.appendChild(g);break;default:throw Error(i(468,c))}g[we]=r,Gt(g),c=g}r.stateNode=c}else eS(m,r.type,r.stateNode);else r.stateNode=JT(m,c,r.memoizedProps);else g!==c?(g===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):g.count--,c===null?eS(m,r.type,r.stateNode):JT(m,c,r.memoizedProps)):c===null&&r.stateNode!==null&&Pg(r,r.memoizedProps,l.memoizedProps)}break;case 27:bi(a,r),Ei(r),c&512&&(En||l===null||Hr(l,l.return)),l!==null&&c&4&&Pg(r,r.memoizedProps,l.memoizedProps);break;case 5:if(bi(a,r),Ei(r),c&512&&(En||l===null||Hr(l,l.return)),r.flags&32){m=r.stateNode;try{_i(m,"")}catch(Oe){It(r,r.return,Oe)}}c&4&&r.stateNode!=null&&(m=r.memoizedProps,Pg(r,m,l!==null?l.memoizedProps:m)),c&1024&&(Vg=!0);break;case 6:if(bi(a,r),Ei(r),c&4){if(r.stateNode===null)throw Error(i(162));c=r.memoizedProps,l=r.stateNode;try{l.nodeValue=c}catch(Oe){It(r,r.return,Oe)}}break;case 3:if(td=null,m=Sr,Sr=Zf(a.containerInfo),bi(a,r),Sr=m,Ei(r),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Wl(a.containerInfo)}catch(Oe){It(r,r.return,Oe)}Vg&&(Vg=!1,eT(r));break;case 4:c=Sr,Sr=Zf(r.stateNode.containerInfo),bi(a,r),Ei(r),Sr=c;break;case 12:bi(a,r),Ei(r);break;case 31:bi(a,r),Ei(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,zf(r,c)));break;case 13:bi(a,r),Ei(r),r.child.flags&8192&&r.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Bf=on()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,zf(r,c)));break;case 22:m=r.memoizedState!==null;var F=l!==null&&l.memoizedState!==null,X=Ns,oe=En;if(Ns=X||m,En=oe||F,bi(a,r),En=oe,Ns=X,Ei(r),c&8192)e:for(a=r.stateNode,a._visibility=m?a._visibility&-2:a._visibility|1,m&&(l===null||F||Ns||En||Uo(r)),l=null,a=r;;){if(a.tag===5||a.tag===26){if(l===null){F=l=a;try{if(g=F.stateNode,m)E=g.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{R=F.stateNode;var ce=F.memoizedProps.style,Z=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;R.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(Oe){It(F,F.return,Oe)}}}else if(a.tag===6){if(l===null){F=a;try{F.stateNode.nodeValue=m?"":F.memoizedProps}catch(Oe){It(F,F.return,Oe)}}}else if(a.tag===18){if(l===null){F=a;try{var ae=F.stateNode;m?HT(ae,!0):HT(F.stateNode,!1)}catch(Oe){It(F,F.return,Oe)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=r.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,zf(r,l))));break;case 19:bi(a,r),Ei(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,zf(r,c)));break;case 30:break;case 21:break;default:bi(a,r),Ei(r)}}function Ei(r){var a=r.flags;if(a&2){try{for(var l,c=r.return;c!==null;){if($E(c)){l=c;break}c=c.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var m=l.stateNode,g=kg(r);Uf(r,g,m);break;case 5:var E=l.stateNode;l.flags&32&&(_i(E,""),l.flags&=-33);var R=kg(r);Uf(r,R,E);break;case 3:case 4:var F=l.stateNode.containerInfo,X=kg(r);Lg(r,X,F);break;default:throw Error(i(161))}}catch(oe){It(r,r.return,oe)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function eT(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;eT(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function xs(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)YE(r,a.alternate,a),a=a.sibling}function Uo(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:Ia(4,a,a.return),Uo(a);break;case 1:Hr(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&HE(a,a.return,l),Uo(a);break;case 27:Ac(a.stateNode);case 26:case 5:Hr(a,a.return),Uo(a);break;case 22:a.memoizedState===null&&Uo(a);break;case 30:Uo(a);break;default:Uo(a)}r=r.sibling}}function Ps(r,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,m=r,g=a,E=g.flags;switch(g.tag){case 0:case 11:case 15:Ps(m,g,l),yc(4,g);break;case 1:if(Ps(m,g,l),c=g,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(X){It(c,c.return,X)}if(c=g,m=c.updateQueue,m!==null){var R=c.stateNode;try{var F=m.shared.hiddenCallbacks;if(F!==null)for(m.shared.hiddenCallbacks=null,m=0;m<F.length;m++)Nb(F[m],R)}catch(X){It(c,c.return,X)}}l&&E&64&&jE(g),_c(g,g.return);break;case 27:GE(g);case 26:case 5:Ps(m,g,l),l&&c===null&&E&4&&qE(g),_c(g,g.return);break;case 12:Ps(m,g,l);break;case 31:Ps(m,g,l),l&&E&4&&XE(m,g);break;case 13:Ps(m,g,l),l&&E&4&&JE(m,g);break;case 22:g.memoizedState===null&&Ps(m,g,l),_c(g,g.return);break;case 30:break;default:Ps(m,g,l)}a=a.sibling}}function Ug(r,a){var l=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==l&&(r!=null&&r.refCount++,l!=null&&rc(l))}function zg(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&rc(r))}function wr(r,a,l,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)tT(r,a,l,c),a=a.sibling}function tT(r,a,l,c){var m=a.flags;switch(a.tag){case 0:case 11:case 15:wr(r,a,l,c),m&2048&&yc(9,a);break;case 1:wr(r,a,l,c);break;case 3:wr(r,a,l,c),m&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&rc(r)));break;case 12:if(m&2048){wr(r,a,l,c),r=a.stateNode;try{var g=a.memoizedProps,E=g.id,R=g.onPostCommit;typeof R=="function"&&R(E,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(F){It(a,a.return,F)}}else wr(r,a,l,c);break;case 31:wr(r,a,l,c);break;case 13:wr(r,a,l,c);break;case 23:break;case 22:g=a.stateNode,E=a.alternate,a.memoizedState!==null?g._visibility&2?wr(r,a,l,c):vc(r,a):g._visibility&2?wr(r,a,l,c):(g._visibility|=2,zl(r,a,l,c,(a.subtreeFlags&10256)!==0||!1)),m&2048&&Ug(E,a);break;case 24:wr(r,a,l,c),m&2048&&zg(a.alternate,a);break;default:wr(r,a,l,c)}}function zl(r,a,l,c,m){for(m=m&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var g=r,E=a,R=l,F=c,X=E.flags;switch(E.tag){case 0:case 11:case 15:zl(g,E,R,F,m),yc(8,E);break;case 23:break;case 22:var oe=E.stateNode;E.memoizedState!==null?oe._visibility&2?zl(g,E,R,F,m):vc(g,E):(oe._visibility|=2,zl(g,E,R,F,m)),m&&X&2048&&Ug(E.alternate,E);break;case 24:zl(g,E,R,F,m),m&&X&2048&&zg(E.alternate,E);break;default:zl(g,E,R,F,m)}a=a.sibling}}function vc(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=r,c=a,m=c.flags;switch(c.tag){case 22:vc(l,c),m&2048&&Ug(c.alternate,c);break;case 24:vc(l,c),m&2048&&zg(c.alternate,c);break;default:vc(l,c)}a=a.sibling}}var bc=8192;function Fl(r,a,l){if(r.subtreeFlags&bc)for(r=r.child;r!==null;)nT(r,a,l),r=r.sibling}function nT(r,a,l){switch(r.tag){case 26:Fl(r,a,l),r.flags&bc&&r.memoizedState!==null&&_N(l,Sr,r.memoizedState,r.memoizedProps);break;case 5:Fl(r,a,l);break;case 3:case 4:var c=Sr;Sr=Zf(r.stateNode.containerInfo),Fl(r,a,l),Sr=c;break;case 22:r.memoizedState===null&&(c=r.alternate,c!==null&&c.memoizedState!==null?(c=bc,bc=16777216,Fl(r,a,l),bc=c):Fl(r,a,l));break;default:Fl(r,a,l)}}function iT(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function Ec(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];kn=c,sT(c,r)}iT(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)rT(r),r=r.sibling}function rT(r){switch(r.tag){case 0:case 11:case 15:Ec(r),r.flags&2048&&Ia(9,r,r.return);break;case 3:Ec(r);break;case 12:Ec(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&2&&(r.return===null||r.return.tag!==13)?(a._visibility&=-3,Ff(r)):Ec(r);break;default:Ec(r)}}function Ff(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];kn=c,sT(c,r)}iT(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:Ia(8,a,a.return),Ff(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,Ff(a));break;default:Ff(a)}r=r.sibling}}function sT(r,a){for(;kn!==null;){var l=kn;switch(l.tag){case 0:case 11:case 15:Ia(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:rc(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,kn=c;else e:for(l=r;kn!==null;){c=kn;var m=c.sibling,g=c.return;if(QE(c),c===l){kn=null;break e}if(m!==null){m.return=g,kn=m;break e}kn=g}}}var xD={getCacheForType:function(r){var a=jn(_n),l=a.data.get(r);return l===void 0&&(l=r(),a.data.set(r,l)),l},cacheSignal:function(){return jn(_n).controller.signal}},PD=typeof WeakMap=="function"?WeakMap:Map,vt=0,kt=null,Ze=null,nt=0,At=0,ki=null,Oa=!1,Bl=!1,Fg=!1,ks=0,nn=0,Da=0,zo=0,Bg=0,Li=0,jl=0,Tc=null,Ti=null,jg=!1,Bf=0,aT=0,jf=1/0,Hf=null,Na=null,An=0,Ma=null,Hl=null,Ls=0,Hg=0,qg=null,oT=null,Sc=0,$g=null;function Vi(){return(vt&2)!==0&&nt!==0?nt&-nt:$.T!==null?Xg():Pe()}function lT(){if(Li===0)if((nt&536870912)===0||at){var r=mr;mr<<=1,(mr&3932160)===0&&(mr=262144),Li=r}else Li=536870912;return r=xi.current,r!==null&&(r.flags|=32),Li}function Si(r,a,l){(r===kt&&(At===2||At===9)||r.cancelPendingCommit!==null)&&(ql(r,0),xa(r,nt,Li,!1)),vs(r,l),((vt&2)===0||r!==kt)&&(r===kt&&((vt&2)===0&&(zo|=l),nn===4&&xa(r,nt,Li,!1)),qr(r))}function uT(r,a,l){if((vt&6)!==0)throw Error(i(327));var c=!l&&(a&127)===0&&(a&r.expiredLanes)===0||gi(r,a),m=c?VD(r,a):Kg(r,a,!0),g=c;do{if(m===0){Bl&&!c&&xa(r,a,0,!1);break}else{if(l=r.current.alternate,g&&!kD(l)){m=Kg(r,a,!1),g=!1;continue}if(m===2){if(g=a,r.errorRecoveryDisabledLanes&g)var E=0;else E=r.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){a=E;e:{var R=r;m=Tc;var F=R.current.memoizedState.isDehydrated;if(F&&(ql(R,E).flags|=256),E=Kg(R,E,!1),E!==2){if(Fg&&!F){R.errorRecoveryDisabledLanes|=g,zo|=g,m=4;break e}g=Ti,Ti=m,g!==null&&(Ti===null?Ti=g:Ti.push.apply(Ti,g))}m=E}if(g=!1,m!==2)continue}}if(m===1){ql(r,0),xa(r,a,0,!0);break}e:{switch(c=r,g=m,g){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:xa(c,a,Li,!Oa);break e;case 2:Ti=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(m=Bf+300-on(),10<m)){if(xa(c,a,Li,!Oa),qi(c,0,!0)!==0)break e;Ls=a,c.timeoutHandle=FT(cT.bind(null,c,l,Ti,Hf,jg,a,Li,zo,jl,Oa,g,"Throttled",-0,0),m);break e}cT(c,l,Ti,Hf,jg,a,Li,zo,jl,Oa,g,null,-0,0)}}break}while(!0);qr(r)}function cT(r,a,l,c,m,g,E,R,F,X,oe,ce,Z,ae){if(r.timeoutHandle=-1,ce=a.subtreeFlags,ce&8192||(ce&16785408)===16785408){ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:yr},nT(a,g,ce);var Oe=(g&62914560)===g?Bf-on():(g&4194048)===g?aT-on():0;if(Oe=vN(ce,Oe),Oe!==null){Ls=g,r.cancelPendingCommit=Oe(_T.bind(null,r,a,g,l,c,m,E,R,F,oe,ce,null,Z,ae)),xa(r,g,E,!X);return}}_T(r,a,g,l,c,m,E,R,F)}function kD(r){for(var a=r;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var m=l[c],g=m.getSnapshot;m=m.value;try{if(!Ni(g(),m))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function xa(r,a,l,c){a&=~Bg,a&=~zo,r.suspendedLanes|=a,r.pingedLanes&=~a,c&&(r.warmLanes|=a),c=r.expirationTimes;for(var m=a;0<m;){var g=31-$t(m),E=1<<g;c[g]=-1,m&=~E}l!==0&&K(r,l,a)}function qf(){return(vt&6)===0?(wc(0),!1):!0}function Gg(){if(Ze!==null){if(At===0)var r=Ze.return;else r=Ze,Cs=Do=null,lg(r),Pl=null,ac=0,r=Ze;for(;r!==null;)BE(r.alternate,r),r=r.return;Ze=null}}function ql(r,a){var l=r.timeoutHandle;l!==-1&&(r.timeoutHandle=-1,tN(l)),l=r.cancelPendingCommit,l!==null&&(r.cancelPendingCommit=null,l()),Ls=0,Gg(),kt=r,Ze=l=Ss(r.current,null),nt=a,At=0,ki=null,Oa=!1,Bl=gi(r,a),Fg=!1,jl=Li=Bg=zo=Da=nn=0,Ti=Tc=null,jg=!1,(a&8)!==0&&(a|=a&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=a;0<c;){var m=31-$t(c),g=1<<m;a|=r[m],c&=~g}return ks=a,hf(),l}function hT(r,a){Ye=null,$.H=pc,a===xl||a===vf?(a=Ab(),At=3):a===Wm?(a=Ab(),At=4):At=a===wg?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,ki=a,Ze===null&&(nn=1,xf(r,Ji(a,r.current)))}function fT(){var r=xi.current;return r===null?!0:(nt&4194048)===nt?nr===null:(nt&62914560)===nt||(nt&536870912)!==0?r===nr:!1}function dT(){var r=$.H;return $.H=pc,r===null?pc:r}function pT(){var r=$.A;return $.A=xD,r}function $f(){nn=4,Oa||(nt&4194048)!==nt&&xi.current!==null||(Bl=!0),(Da&134217727)===0&&(zo&134217727)===0||kt===null||xa(kt,nt,Li,!1)}function Kg(r,a,l){var c=vt;vt|=2;var m=dT(),g=pT();(kt!==r||nt!==a)&&(Hf=null,ql(r,a)),a=!1;var E=nn;e:do try{if(At!==0&&Ze!==null){var R=Ze,F=ki;switch(At){case 8:Gg(),E=6;break e;case 3:case 2:case 9:case 6:xi.current===null&&(a=!0);var X=At;if(At=0,ki=null,$l(r,R,F,X),l&&Bl){E=0;break e}break;default:X=At,At=0,ki=null,$l(r,R,F,X)}}LD(),E=nn;break}catch(oe){hT(r,oe)}while(!0);return a&&r.shellSuspendCounter++,Cs=Do=null,vt=c,$.H=m,$.A=g,Ze===null&&(kt=null,nt=0,hf()),E}function LD(){for(;Ze!==null;)mT(Ze)}function VD(r,a){var l=vt;vt|=2;var c=dT(),m=pT();kt!==r||nt!==a?(Hf=null,jf=on()+500,ql(r,a)):Bl=gi(r,a);e:do try{if(At!==0&&Ze!==null){a=Ze;var g=ki;t:switch(At){case 1:At=0,ki=null,$l(r,a,g,1);break;case 2:case 9:if(Cb(g)){At=0,ki=null,gT(a);break}a=function(){At!==2&&At!==9||kt!==r||(At=7),qr(r)},g.then(a,a);break e;case 3:At=7;break e;case 4:At=5;break e;case 7:Cb(g)?(At=0,ki=null,gT(a)):(At=0,ki=null,$l(r,a,g,7));break;case 5:var E=null;switch(Ze.tag){case 26:E=Ze.memoizedState;case 5:case 27:var R=Ze;if(E?tS(E):R.stateNode.complete){At=0,ki=null;var F=R.sibling;if(F!==null)Ze=F;else{var X=R.return;X!==null?(Ze=X,Gf(X)):Ze=null}break t}}At=0,ki=null,$l(r,a,g,5);break;case 6:At=0,ki=null,$l(r,a,g,6);break;case 8:Gg(),nn=6;break e;default:throw Error(i(462))}}UD();break}catch(oe){hT(r,oe)}while(!0);return Cs=Do=null,$.H=c,$.A=m,vt=l,Ze!==null?0:(kt=null,nt=0,hf(),nn)}function UD(){for(;Ze!==null&&!Bu();)mT(Ze)}function mT(r){var a=zE(r.alternate,r,ks);r.memoizedProps=r.pendingProps,a===null?Gf(r):Ze=a}function gT(r){var a=r,l=a.alternate;switch(a.tag){case 15:case 0:a=xE(l,a,a.pendingProps,a.type,void 0,nt);break;case 11:a=xE(l,a,a.pendingProps,a.type.render,a.ref,nt);break;case 5:lg(a);default:BE(l,a),a=Ze=pb(a,ks),a=zE(l,a,ks)}r.memoizedProps=r.pendingProps,a===null?Gf(r):Ze=a}function $l(r,a,l,c){Cs=Do=null,lg(a),Pl=null,ac=0;var m=a.return;try{if(RD(r,m,a,l,nt)){nn=1,xf(r,Ji(l,r.current)),Ze=null;return}}catch(g){if(m!==null)throw Ze=m,g;nn=1,xf(r,Ji(l,r.current)),Ze=null;return}a.flags&32768?(at||c===1?r=!0:Bl||(nt&536870912)!==0?r=!1:(Oa=r=!0,(c===2||c===9||c===3||c===6)&&(c=xi.current,c!==null&&c.tag===13&&(c.flags|=16384))),yT(a,r)):Gf(a)}function Gf(r){var a=r;do{if((a.flags&32768)!==0){yT(a,Oa);return}r=a.return;var l=OD(a.alternate,a,ks);if(l!==null){Ze=l;return}if(a=a.sibling,a!==null){Ze=a;return}Ze=a=r}while(a!==null);nn===0&&(nn=5)}function yT(r,a){do{var l=DD(r.alternate,r);if(l!==null){l.flags&=32767,Ze=l;return}if(l=r.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(r=r.sibling,r!==null)){Ze=r;return}Ze=r=l}while(r!==null);nn=6,Ze=null}function _T(r,a,l,c,m,g,E,R,F){r.cancelPendingCommit=null;do Kf();while(An!==0);if((vt&6)!==0)throw Error(i(327));if(a!==null){if(a===r.current)throw Error(i(177));if(g=a.lanes|a.childLanes,g|=km,B(r,l,g,E,R,F),r===kt&&(Ze=kt=null,nt=0),Hl=a,Ma=r,Ls=l,Hg=g,qg=m,oT=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,jD(Nn,function(){return ST(),null})):(r.callbackNode=null,r.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=$.T,$.T=null,m=ee.p,ee.p=2,E=vt,vt|=4;try{ND(r,a,l)}finally{vt=E,ee.p=m,$.T=c}}An=1,vT(),bT(),ET()}}function vT(){if(An===1){An=0;var r=Ma,a=Hl,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=$.T,$.T=null;var c=ee.p;ee.p=2;var m=vt;vt|=4;try{ZE(a,r);var g=sy,E=sb(r.containerInfo),R=g.focusedElem,F=g.selectionRange;if(E!==R&&R&&R.ownerDocument&&rb(R.ownerDocument.documentElement,R)){if(F!==null&&Dm(R)){var X=F.start,oe=F.end;if(oe===void 0&&(oe=X),"selectionStart"in R)R.selectionStart=X,R.selectionEnd=Math.min(oe,R.value.length);else{var ce=R.ownerDocument||document,Z=ce&&ce.defaultView||window;if(Z.getSelection){var ae=Z.getSelection(),Oe=R.textContent.length,Fe=Math.min(F.start,Oe),xt=F.end===void 0?Fe:Math.min(F.end,Oe);!ae.extend&&Fe>xt&&(E=xt,xt=Fe,Fe=E);var G=ib(R,Fe),q=ib(R,xt);if(G&&q&&(ae.rangeCount!==1||ae.anchorNode!==G.node||ae.anchorOffset!==G.offset||ae.focusNode!==q.node||ae.focusOffset!==q.offset)){var W=ce.createRange();W.setStart(G.node,G.offset),ae.removeAllRanges(),Fe>xt?(ae.addRange(W),ae.extend(q.node,q.offset)):(W.setEnd(q.node,q.offset),ae.addRange(W))}}}}for(ce=[],ae=R;ae=ae.parentNode;)ae.nodeType===1&&ce.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<ce.length;R++){var ue=ce[R];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}sd=!!ry,sy=ry=null}finally{vt=m,ee.p=c,$.T=l}}r.current=a,An=2}}function bT(){if(An===2){An=0;var r=Ma,a=Hl,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=$.T,$.T=null;var c=ee.p;ee.p=2;var m=vt;vt|=4;try{YE(r,a.alternate,a)}finally{vt=m,ee.p=c,$.T=l}}An=3}}function ET(){if(An===4||An===3){An=0,Hi();var r=Ma,a=Hl,l=Ls,c=oT;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?An=5:(An=0,Hl=Ma=null,TT(r,r.pendingLanes));var m=r.pendingLanes;if(m===0&&(Na=null),Ae(l),a=a.stateNode,mn&&typeof mn.onCommitFiberRoot=="function")try{mn.onCommitFiberRoot(ln,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=$.T,m=ee.p,ee.p=2,$.T=null;try{for(var g=r.onRecoverableError,E=0;E<c.length;E++){var R=c[E];g(R.value,{componentStack:R.stack})}}finally{$.T=a,ee.p=m}}(Ls&3)!==0&&Kf(),qr(r),m=r.pendingLanes,(l&261930)!==0&&(m&42)!==0?r===$g?Sc++:(Sc=0,$g=r):Sc=0,wc(0)}}function TT(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,rc(a)))}function Kf(){return vT(),bT(),ET(),ST()}function ST(){if(An!==5)return!1;var r=Ma,a=Hg;Hg=0;var l=Ae(Ls),c=$.T,m=ee.p;try{ee.p=32>l?32:l,$.T=null,l=qg,qg=null;var g=Ma,E=Ls;if(An=0,Hl=Ma=null,Ls=0,(vt&6)!==0)throw Error(i(331));var R=vt;if(vt|=4,rT(g.current),tT(g,g.current,E,l),vt=R,wc(0,!1),mn&&typeof mn.onPostCommitFiberRoot=="function")try{mn.onPostCommitFiberRoot(ln,g)}catch{}return!0}finally{ee.p=m,$.T=c,TT(r,a)}}function wT(r,a,l){a=Ji(l,a),a=Sg(r.stateNode,a,2),r=Ca(r,a,2),r!==null&&(vs(r,2),qr(r))}function It(r,a,l){if(r.tag===3)wT(r,r,l);else for(;a!==null;){if(a.tag===3){wT(a,r,l);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Na===null||!Na.has(c))){r=Ji(l,r),l=CE(2),c=Ca(a,l,2),c!==null&&(RE(l,c,a,r),vs(c,2),qr(c));break}}a=a.return}}function Yg(r,a,l){var c=r.pingCache;if(c===null){c=r.pingCache=new PD;var m=new Set;c.set(a,m)}else m=c.get(a),m===void 0&&(m=new Set,c.set(a,m));m.has(l)||(Fg=!0,m.add(l),r=zD.bind(null,r,a,l),a.then(r,r))}function zD(r,a,l){var c=r.pingCache;c!==null&&c.delete(a),r.pingedLanes|=r.suspendedLanes&l,r.warmLanes&=~l,kt===r&&(nt&l)===l&&(nn===4||nn===3&&(nt&62914560)===nt&&300>on()-Bf?(vt&2)===0&&ql(r,0):Bg|=l,jl===nt&&(jl=0)),qr(r)}function CT(r,a){a===0&&(a=_s()),r=Ao(r,a),r!==null&&(vs(r,a),qr(r))}function FD(r){var a=r.memoizedState,l=0;a!==null&&(l=a.retryLane),CT(r,l)}function BD(r,a){var l=0;switch(r.tag){case 31:case 13:var c=r.stateNode,m=r.memoizedState;m!==null&&(l=m.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(a),CT(r,l)}function jD(r,a){return an(r,a)}var Yf=null,Gl=null,Qg=!1,Qf=!1,Wg=!1,Pa=0;function qr(r){r!==Gl&&r.next===null&&(Gl===null?Yf=Gl=r:Gl=Gl.next=r),Qf=!0,Qg||(Qg=!0,qD())}function wc(r,a){if(!Wg&&Qf){Wg=!0;do for(var l=!1,c=Yf;c!==null;){if(r!==0){var m=c.pendingLanes;if(m===0)var g=0;else{var E=c.suspendedLanes,R=c.pingedLanes;g=(1<<31-$t(42|r)+1)-1,g&=m&~(E&~R),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(l=!0,OT(c,g))}else g=nt,g=qi(c,c===kt?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||gi(c,g)||(l=!0,OT(c,g));c=c.next}while(l);Wg=!1}}function HD(){RT()}function RT(){Qf=Qg=!1;var r=0;Pa!==0&&eN()&&(r=Pa);for(var a=on(),l=null,c=Yf;c!==null;){var m=c.next,g=AT(c,a);g===0?(c.next=null,l===null?Yf=m:l.next=m,m===null&&(Gl=l)):(l=c,(r!==0||(g&3)!==0)&&(Qf=!0)),c=m}An!==0&&An!==5||wc(r),Pa!==0&&(Pa=0)}function AT(r,a){for(var l=r.suspendedLanes,c=r.pingedLanes,m=r.expirationTimes,g=r.pendingLanes&-62914561;0<g;){var E=31-$t(g),R=1<<E,F=m[E];F===-1?((R&l)===0||(R&c)!==0)&&(m[E]=ua(R,a)):F<=a&&(r.expiredLanes|=R),g&=~R}if(a=kt,l=nt,l=qi(r,r===a?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c=r.callbackNode,l===0||r===a&&(At===2||At===9)||r.cancelPendingCommit!==null)return c!==null&&c!==null&&Mr(c),r.callbackNode=null,r.callbackPriority=0;if((l&3)===0||gi(r,l)){if(a=l&-l,a===r.callbackPriority)return a;switch(c!==null&&Mr(c),Ae(l)){case 2:case 8:l=li;break;case 32:l=Nn;break;case 268435456:l=hl;break;default:l=Nn}return c=IT.bind(null,r),l=an(l,c),r.callbackPriority=a,r.callbackNode=l,a}return c!==null&&c!==null&&Mr(c),r.callbackPriority=2,r.callbackNode=null,2}function IT(r,a){if(An!==0&&An!==5)return r.callbackNode=null,r.callbackPriority=0,null;var l=r.callbackNode;if(Kf()&&r.callbackNode!==l)return null;var c=nt;return c=qi(r,r===kt?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c===0?null:(uT(r,c,a),AT(r,on()),r.callbackNode!=null&&r.callbackNode===l?IT.bind(null,r):null)}function OT(r,a){if(Kf())return null;uT(r,a,!0)}function qD(){nN(function(){(vt&6)!==0?an(ms,HD):RT()})}function Xg(){if(Pa===0){var r=Nl;r===0&&(r=Ii,Ii<<=1,(Ii&261888)===0&&(Ii=256)),Pa=r}return Pa}function DT(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:gl(""+r)}function NT(r,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,r.id&&l.setAttribute("form",r.id),a.parentNode.insertBefore(l,a),r=new FormData(r),l.parentNode.removeChild(l),r}function $D(r,a,l,c,m){if(a==="submit"&&l&&l.stateNode===m){var g=DT((m[Ee]||null).action),E=c.submitter;E&&(a=(a=E[Ee]||null)?DT(a.formAction):E.getAttribute("formAction"),a!==null&&(g=a,E=null));var R=new Vr("action","action",null,c,m);r.push({event:R,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Pa!==0){var F=E?NT(m,E):new FormData(m);yg(l,{pending:!0,data:F,method:m.method,action:g},null,F)}}else typeof g=="function"&&(R.preventDefault(),F=E?NT(m,E):new FormData(m),yg(l,{pending:!0,data:F,method:m.method,action:g},g,F))},currentTarget:m}]})}}for(var Jg=0;Jg<Pm.length;Jg++){var Zg=Pm[Jg],GD=Zg.toLowerCase(),KD=Zg[0].toUpperCase()+Zg.slice(1);Tr(GD,"on"+KD)}Tr(lb,"onAnimationEnd"),Tr(ub,"onAnimationIteration"),Tr(cb,"onAnimationStart"),Tr("dblclick","onDoubleClick"),Tr("focusin","onFocus"),Tr("focusout","onBlur"),Tr(uD,"onTransitionRun"),Tr(cD,"onTransitionStart"),Tr(hD,"onTransitionCancel"),Tr(hb,"onTransitionEnd"),hi("onMouseEnter",["mouseout","mouseover"]),hi("onMouseLeave",["mouseout","mouseover"]),hi("onPointerEnter",["pointerout","pointerover"]),hi("onPointerLeave",["pointerout","pointerover"]),ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ci("onBeforeInput",["compositionend","keypress","textInput","paste"]),ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cc));function MT(r,a){a=(a&4)!==0;for(var l=0;l<r.length;l++){var c=r[l],m=c.event;c=c.listeners;e:{var g=void 0;if(a)for(var E=c.length-1;0<=E;E--){var R=c[E],F=R.instance,X=R.currentTarget;if(R=R.listener,F!==g&&m.isPropagationStopped())break e;g=R,m.currentTarget=X;try{g(m)}catch(oe){cf(oe)}m.currentTarget=null,g=F}else for(E=0;E<c.length;E++){if(R=c[E],F=R.instance,X=R.currentTarget,R=R.listener,F!==g&&m.isPropagationStopped())break e;g=R,m.currentTarget=X;try{g(m)}catch(oe){cf(oe)}m.currentTarget=null,g=F}}}}function et(r,a){var l=a[We];l===void 0&&(l=a[We]=new Set);var c=r+"__bubble";l.has(c)||(xT(a,r,2,!1),l.add(c))}function ey(r,a,l){var c=0;a&&(c|=4),xT(l,r,c,a)}var Wf="_reactListening"+Math.random().toString(36).slice(2);function ty(r){if(!r[Wf]){r[Wf]=!0,gr.forEach(function(l){l!=="selectionchange"&&(YD.has(l)||ey(l,!1,r),ey(l,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[Wf]||(a[Wf]=!0,ey("selectionchange",!1,a))}}function xT(r,a,l,c){switch(lS(a)){case 2:var m=TN;break;case 8:m=SN;break;default:m=gy}l=m.bind(null,a,l,r),m=void 0,!vo||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),c?m!==void 0?r.addEventListener(a,l,{capture:!0,passive:m}):r.addEventListener(a,l,!0):m!==void 0?r.addEventListener(a,l,{passive:m}):r.addEventListener(a,l,!1)}function ny(r,a,l,c,m){var g=c;if((a&1)===0&&(a&2)===0&&c!==null)e:for(;;){if(c===null)return;var E=c.tag;if(E===3||E===4){var R=c.stateNode.containerInfo;if(R===m)break;if(E===4)for(E=c.return;E!==null;){var F=E.tag;if((F===3||F===4)&&E.stateNode.containerInfo===m)return;E=E.return}for(;R!==null;){if(E=Mn(R),E===null)return;if(F=E.tag,F===5||F===6||F===26||F===27){c=g=E;continue e}R=R.parentNode}}c=c.return}ma(function(){var X=g,oe=Yi(l),ce=[];e:{var Z=fb.get(r);if(Z!==void 0){var ae=Vr,Oe=r;switch(r){case"keypress":if(Eo(l)===0)break e;case"keydown":case"keyup":ae=of;break;case"focusin":Oe="focus",ae=So;break;case"focusout":Oe="blur",ae=So;break;case"beforeblur":case"afterblur":ae=So;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Wu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=Xh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=v;break;case lb:case ub:case cb:ae=Zh;break;case hb:ae=D;break;case"scroll":case"scrollend":ae=Qu;break;case"wheel":ae=re;break;case"copy":case"cut":case"paste":ae=ef;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=Ts;break;case"toggle":case"beforetoggle":ae=Ke}var Fe=(a&4)!==0,xt=!Fe&&(r==="scroll"||r==="scrollend"),G=Fe?Z!==null?Z+"Capture":null:Z;Fe=[];for(var q=X,W;q!==null;){var ue=q;if(W=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||W===null||G===null||(ue=_r(q,G),ue!=null&&Fe.push(Rc(q,ue,W))),xt)break;q=q.return}0<Fe.length&&(Z=new ae(Z,Oe,null,l,oe),ce.push({event:Z,listeners:Fe}))}}if((a&7)===0){e:{if(Z=r==="mouseover"||r==="pointerover",ae=r==="mouseout"||r==="pointerout",Z&&l!==Gu&&(Oe=l.relatedTarget||l.fromElement)&&(Mn(Oe)||Oe[Re]))break e;if((ae||Z)&&(Z=oe.window===oe?oe:(Z=oe.ownerDocument)?Z.defaultView||Z.parentWindow:window,ae?(Oe=l.relatedTarget||l.toElement,ae=X,Oe=Oe?Mn(Oe):null,Oe!==null&&(xt=o(Oe),Fe=Oe.tag,Oe!==xt||Fe!==5&&Fe!==27&&Fe!==6)&&(Oe=null)):(ae=null,Oe=X),ae!==Oe)){if(Fe=Wu,ue="onMouseLeave",G="onMouseEnter",q="mouse",(r==="pointerout"||r==="pointerover")&&(Fe=Ts,ue="onPointerLeave",G="onPointerEnter",q="pointer"),xt=ae==null?Z:Zt(ae),W=Oe==null?Z:Zt(Oe),Z=new Fe(ue,q+"leave",ae,l,oe),Z.target=xt,Z.relatedTarget=W,ue=null,Mn(oe)===X&&(Fe=new Fe(G,q+"enter",Oe,l,oe),Fe.target=W,Fe.relatedTarget=xt,ue=Fe),xt=ue,ae&&Oe)t:{for(Fe=QD,G=ae,q=Oe,W=0,ue=G;ue;ue=Fe(ue))W++;ue=0;for(var ke=q;ke;ke=Fe(ke))ue++;for(;0<W-ue;)G=Fe(G),W--;for(;0<ue-W;)q=Fe(q),ue--;for(;W--;){if(G===q||q!==null&&G===q.alternate){Fe=G;break t}G=Fe(G),q=Fe(q)}Fe=null}else Fe=null;ae!==null&&PT(ce,Z,ae,Fe,!1),Oe!==null&&xt!==null&&PT(ce,xt,Oe,Fe,!0)}}e:{if(Z=X?Zt(X):window,ae=Z.nodeName&&Z.nodeName.toLowerCase(),ae==="select"||ae==="input"&&Z.type==="file")var pt=X0;else if(Q0(Z))if(J0)pt=aD;else{pt=rD;var xe=iD}else ae=Z.nodeName,!ae||ae.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?X&&ml(X.elementType)&&(pt=X0):pt=sD;if(pt&&(pt=pt(r,X))){W0(ce,pt,l,oe);break e}xe&&xe(r,Z,X),r==="focusout"&&X&&Z.type==="number"&&X.memoizedProps.value!=null&&Hu(Z,"number",Z.value)}switch(xe=X?Zt(X):window,r){case"focusin":(Q0(xe)||xe.contentEditable==="true")&&(Sl=xe,Nm=X,tc=null);break;case"focusout":tc=Nm=Sl=null;break;case"mousedown":Mm=!0;break;case"contextmenu":case"mouseup":case"dragend":Mm=!1,ab(ce,l,oe);break;case"selectionchange":if(lD)break;case"keydown":case"keyup":ab(ce,l,oe)}var Qe;if(_t)e:{switch(r){case"compositionstart":var it="onCompositionStart";break e;case"compositionend":it="onCompositionEnd";break e;case"compositionupdate":it="onCompositionUpdate";break e}it=void 0}else Tl?wo(r,l)&&(it="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(it="onCompositionStart");it&&(Fr&&l.locale!=="ko"&&(Tl||it!=="onCompositionStart"?it==="onCompositionEnd"&&Tl&&(Qe=Yu()):(Lr=oe,Ku="value"in Lr?Lr.value:Lr.textContent,Tl=!0)),xe=Xf(X,it),0<xe.length&&(it=new zr(it,r,null,l,oe),ce.push({event:it,listeners:xe}),Qe?it.data=Qe:(Qe=El(l),Qe!==null&&(it.data=Qe)))),(Qe=Wi?ZO(r,l):eD(r,l))&&(it=Xf(X,"onBeforeInput"),0<it.length&&(xe=new zr("onBeforeInput","beforeinput",null,l,oe),ce.push({event:xe,listeners:it}),xe.data=Qe)),$D(ce,r,X,l,oe)}MT(ce,a)})}function Rc(r,a,l){return{instance:r,listener:a,currentTarget:l}}function Xf(r,a){for(var l=a+"Capture",c=[];r!==null;){var m=r,g=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=_r(r,l),m!=null&&c.unshift(Rc(r,m,g)),m=_r(r,a),m!=null&&c.push(Rc(r,m,g))),r.tag===3)return c;r=r.return}return[]}function QD(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function PT(r,a,l,c,m){for(var g=a._reactName,E=[];l!==null&&l!==c;){var R=l,F=R.alternate,X=R.stateNode;if(R=R.tag,F!==null&&F===c)break;R!==5&&R!==26&&R!==27||X===null||(F=X,m?(X=_r(l,g),X!=null&&E.unshift(Rc(l,X,F))):m||(X=_r(l,g),X!=null&&E.push(Rc(l,X,F)))),l=l.return}E.length!==0&&r.push({event:a,listeners:E})}var WD=/\r\n?/g,XD=/\u0000|\uFFFD/g;function kT(r){return(typeof r=="string"?r:""+r).replace(WD,`
`).replace(XD,"")}function LT(r,a){return a=kT(a),kT(r)===a}function Mt(r,a,l,c,m,g){switch(l){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||_i(r,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&_i(r,""+c);break;case"className":Pn(r,"class",c);break;case"tabIndex":Pn(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Pn(r,l,c);break;case"style":$u(r,c,g);break;case"data":if(a!=="object"){Pn(r,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||l!=="href")){r.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(l);break}c=gl(""+c),r.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(l==="formAction"?(a!=="input"&&Mt(r,a,"name",m.name,m,null),Mt(r,a,"formEncType",m.formEncType,m,null),Mt(r,a,"formMethod",m.formMethod,m,null),Mt(r,a,"formTarget",m.formTarget,m,null)):(Mt(r,a,"encType",m.encType,m,null),Mt(r,a,"method",m.method,m,null),Mt(r,a,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(l);break}c=gl(""+c),r.setAttribute(l,c);break;case"onClick":c!=null&&(r.onclick=yr);break;case"onScroll":c!=null&&et("scroll",r);break;case"onScrollEnd":c!=null&&et("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(i(60));r.innerHTML=l}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}l=gl(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,""+c):r.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,""):r.removeAttribute(l);break;case"capture":case"download":c===!0?r.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,c):r.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(l,c):r.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(l):r.setAttribute(l,c);break;case"popover":et("beforetoggle",r),et("toggle",r),Vt(r,"popover",c);break;case"xlinkActuate":Wt(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Wt(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Wt(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Wt(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Wt(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Wt(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Wt(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Wt(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Wt(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Vt(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Wh.get(l)||l,Vt(r,l,c))}}function iy(r,a,l,c,m,g){switch(l){case"style":$u(r,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(i(60));r.innerHTML=l}}break;case"children":typeof c=="string"?_i(r,c):(typeof c=="number"||typeof c=="bigint")&&_i(r,""+c);break;case"onScroll":c!=null&&et("scroll",r);break;case"onScrollEnd":c!=null&&et("scrollend",r);break;case"onClick":c!=null&&(r.onclick=yr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Di.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),a=l.slice(2,m?l.length-7:void 0),g=r[Ee]||null,g=g!=null?g[l]:null,typeof g=="function"&&r.removeEventListener(a,g,m),typeof c=="function")){typeof g!="function"&&g!==null&&(l in r?r[l]=null:r.hasAttribute(l)&&r.removeAttribute(l)),r.addEventListener(a,c,m);break e}l in r?r[l]=c:c===!0?r.setAttribute(l,""):Vt(r,l,c)}}}function qn(r,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":et("error",r),et("load",r);var c=!1,m=!1,g;for(g in l)if(l.hasOwnProperty(g)){var E=l[g];if(E!=null)switch(g){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Mt(r,a,g,E,l,null)}}m&&Mt(r,a,"srcSet",l.srcSet,l,null),c&&Mt(r,a,"src",l.src,l,null);return;case"input":et("invalid",r);var R=g=E=m=null,F=null,X=null;for(c in l)if(l.hasOwnProperty(c)){var oe=l[c];if(oe!=null)switch(c){case"name":m=oe;break;case"type":E=oe;break;case"checked":F=oe;break;case"defaultChecked":X=oe;break;case"value":g=oe;break;case"defaultValue":R=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(i(137,a));break;default:Mt(r,a,c,oe,l,null)}}Kh(r,g,R,F,X,E,m,!1);return;case"select":et("invalid",r),c=E=g=null;for(m in l)if(l.hasOwnProperty(m)&&(R=l[m],R!=null))switch(m){case"value":g=R;break;case"defaultValue":E=R;break;case"multiple":c=R;default:Mt(r,a,m,R,l,null)}a=g,l=E,r.multiple=!!c,a!=null?ha(r,!!c,a,!1):l!=null&&ha(r,!!c,l,!0);return;case"textarea":et("invalid",r),g=m=c=null;for(E in l)if(l.hasOwnProperty(E)&&(R=l[E],R!=null))switch(E){case"value":c=R;break;case"defaultValue":m=R;break;case"children":g=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(i(91));break;default:Mt(r,a,E,R,l,null)}fa(r,c,m,g);return;case"option":for(F in l)if(l.hasOwnProperty(F)&&(c=l[F],c!=null))switch(F){case"selected":r.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Mt(r,a,F,c,l,null)}return;case"dialog":et("beforetoggle",r),et("toggle",r),et("cancel",r),et("close",r);break;case"iframe":case"object":et("load",r);break;case"video":case"audio":for(c=0;c<Cc.length;c++)et(Cc[c],r);break;case"image":et("error",r),et("load",r);break;case"details":et("toggle",r);break;case"embed":case"source":case"link":et("error",r),et("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in l)if(l.hasOwnProperty(X)&&(c=l[X],c!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Mt(r,a,X,c,l,null)}return;default:if(ml(a)){for(oe in l)l.hasOwnProperty(oe)&&(c=l[oe],c!==void 0&&iy(r,a,oe,c,l,void 0));return}}for(R in l)l.hasOwnProperty(R)&&(c=l[R],c!=null&&Mt(r,a,R,c,l,null))}function JD(r,a,l,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,E=null,R=null,F=null,X=null,oe=null;for(ae in l){var ce=l[ae];if(l.hasOwnProperty(ae)&&ce!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":F=ce;default:c.hasOwnProperty(ae)||Mt(r,a,ae,null,c,ce)}}for(var Z in c){var ae=c[Z];if(ce=l[Z],c.hasOwnProperty(Z)&&(ae!=null||ce!=null))switch(Z){case"type":g=ae;break;case"name":m=ae;break;case"checked":X=ae;break;case"defaultChecked":oe=ae;break;case"value":E=ae;break;case"defaultValue":R=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(i(137,a));break;default:ae!==ce&&Mt(r,a,Z,ae,c,ce)}}pl(r,E,R,F,X,oe,g,m);return;case"select":ae=E=R=Z=null;for(g in l)if(F=l[g],l.hasOwnProperty(g)&&F!=null)switch(g){case"value":break;case"multiple":ae=F;default:c.hasOwnProperty(g)||Mt(r,a,g,null,c,F)}for(m in c)if(g=c[m],F=l[m],c.hasOwnProperty(m)&&(g!=null||F!=null))switch(m){case"value":Z=g;break;case"defaultValue":R=g;break;case"multiple":E=g;default:g!==F&&Mt(r,a,m,g,c,F)}a=R,l=E,c=ae,Z!=null?ha(r,!!l,Z,!1):!!c!=!!l&&(a!=null?ha(r,!!l,a,!0):ha(r,!!l,l?[]:"",!1));return;case"textarea":ae=Z=null;for(R in l)if(m=l[R],l.hasOwnProperty(R)&&m!=null&&!c.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:Mt(r,a,R,null,c,m)}for(E in c)if(m=c[E],g=l[E],c.hasOwnProperty(E)&&(m!=null||g!=null))switch(E){case"value":Z=m;break;case"defaultValue":ae=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==g&&Mt(r,a,E,m,c,g)}Yh(r,Z,ae);return;case"option":for(var Oe in l)if(Z=l[Oe],l.hasOwnProperty(Oe)&&Z!=null&&!c.hasOwnProperty(Oe))switch(Oe){case"selected":r.selected=!1;break;default:Mt(r,a,Oe,null,c,Z)}for(F in c)if(Z=c[F],ae=l[F],c.hasOwnProperty(F)&&Z!==ae&&(Z!=null||ae!=null))switch(F){case"selected":r.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:Mt(r,a,F,Z,c,ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Fe in l)Z=l[Fe],l.hasOwnProperty(Fe)&&Z!=null&&!c.hasOwnProperty(Fe)&&Mt(r,a,Fe,null,c,Z);for(X in c)if(Z=c[X],ae=l[X],c.hasOwnProperty(X)&&Z!==ae&&(Z!=null||ae!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,a));break;default:Mt(r,a,X,Z,c,ae)}return;default:if(ml(a)){for(var xt in l)Z=l[xt],l.hasOwnProperty(xt)&&Z!==void 0&&!c.hasOwnProperty(xt)&&iy(r,a,xt,void 0,c,Z);for(oe in c)Z=c[oe],ae=l[oe],!c.hasOwnProperty(oe)||Z===ae||Z===void 0&&ae===void 0||iy(r,a,oe,Z,c,ae);return}}for(var G in l)Z=l[G],l.hasOwnProperty(G)&&Z!=null&&!c.hasOwnProperty(G)&&Mt(r,a,G,null,c,Z);for(ce in c)Z=c[ce],ae=l[ce],!c.hasOwnProperty(ce)||Z===ae||Z==null&&ae==null||Mt(r,a,ce,Z,c,ae)}function VT(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ZD(){if(typeof performance.getEntriesByType=="function"){for(var r=0,a=0,l=performance.getEntriesByType("resource"),c=0;c<l.length;c++){var m=l[c],g=m.transferSize,E=m.initiatorType,R=m.duration;if(g&&R&&VT(E)){for(E=0,R=m.responseEnd,c+=1;c<l.length;c++){var F=l[c],X=F.startTime;if(X>R)break;var oe=F.transferSize,ce=F.initiatorType;oe&&VT(ce)&&(F=F.responseEnd,E+=oe*(F<R?1:(R-X)/(F-X)))}if(--c,a+=8*(g+E)/(m.duration/1e3),r++,10<r)break}}if(0<r)return a/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var ry=null,sy=null;function Jf(r){return r.nodeType===9?r:r.ownerDocument}function UT(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zT(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function ay(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var oy=null;function eN(){var r=window.event;return r&&r.type==="popstate"?r===oy?!1:(oy=r,!0):(oy=null,!1)}var FT=typeof setTimeout=="function"?setTimeout:void 0,tN=typeof clearTimeout=="function"?clearTimeout:void 0,BT=typeof Promise=="function"?Promise:void 0,nN=typeof queueMicrotask=="function"?queueMicrotask:typeof BT<"u"?function(r){return BT.resolve(null).then(r).catch(iN)}:FT;function iN(r){setTimeout(function(){throw r})}function ka(r){return r==="head"}function jT(r,a){var l=a,c=0;do{var m=l.nextSibling;if(r.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"||l==="/&"){if(c===0){r.removeChild(m),Wl(a);return}c--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")c++;else if(l==="html")Ac(r.ownerDocument.documentElement);else if(l==="head"){l=r.ownerDocument.head,Ac(l);for(var g=l.firstChild;g;){var E=g.nextSibling,R=g.nodeName;g[lt]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&g.rel.toLowerCase()==="stylesheet"||l.removeChild(g),g=E}}else l==="body"&&Ac(r.ownerDocument.body);l=m}while(l);Wl(a)}function HT(r,a){var l=r;r=0;do{var c=l.nextSibling;if(l.nodeType===1?a?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(a?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),c&&c.nodeType===8)if(l=c.data,l==="/$"){if(r===0)break;r--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||r++;l=c}while(l)}function ly(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":ly(l),dt(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}r.removeChild(l)}}function rN(r,a,l,c){for(;r.nodeType===1;){var m=l;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[lt])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(g=r.getAttribute("rel"),g==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(g!==m.rel||r.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||r.getAttribute("title")!==(m.title==null?null:m.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(g=r.getAttribute("src"),(g!==(m.src==null?null:m.src)||r.getAttribute("type")!==(m.type==null?null:m.type)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&r.getAttribute("name")===g)return r}else return r;if(r=ir(r.nextSibling),r===null)break}return null}function sN(r,a,l){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=ir(r.nextSibling),r===null))return null;return r}function qT(r,a){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!a||(r=ir(r.nextSibling),r===null))return null;return r}function uy(r){return r.data==="$?"||r.data==="$~"}function cy(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function aN(r,a){var l=r.ownerDocument;if(r.data==="$~")r._reactRetry=a;else if(r.data!=="$?"||l.readyState!=="loading")a();else{var c=function(){a(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),r._reactRetry=c}}function ir(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return r}var hy=null;function $T(r){r=r.nextSibling;for(var a=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"||l==="/&"){if(a===0)return ir(r.nextSibling);a--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||a++}r=r.nextSibling}return null}function GT(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(a===0)return r;a--}else l!=="/$"&&l!=="/&"||a++}r=r.previousSibling}return null}function KT(r,a,l){switch(a=Jf(l),r){case"html":if(r=a.documentElement,!r)throw Error(i(452));return r;case"head":if(r=a.head,!r)throw Error(i(453));return r;case"body":if(r=a.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Ac(r){for(var a=r.attributes;a.length;)r.removeAttributeNode(a[0]);dt(r)}var rr=new Map,YT=new Set;function Zf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Vs=ee.d;ee.d={f:oN,r:lN,D:uN,C:cN,L:hN,m:fN,X:pN,S:dN,M:mN};function oN(){var r=Vs.f(),a=qf();return r||a}function lN(r){var a=xn(r);a!==null&&a.tag===5&&a.type==="form"?hE(a):Vs.r(r)}var Kl=typeof document>"u"?null:document;function QT(r,a,l){var c=Kl;if(c&&typeof a=="string"&&a){var m=yi(a);m='link[rel="'+r+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),YT.has(m)||(YT.add(m),r={rel:r,crossOrigin:l,href:a},c.querySelector(m)===null&&(a=c.createElement("link"),qn(a,"link",r),Gt(a),c.head.appendChild(a)))}}function uN(r){Vs.D(r),QT("dns-prefetch",r,null)}function cN(r,a){Vs.C(r,a),QT("preconnect",r,a)}function hN(r,a,l){Vs.L(r,a,l);var c=Kl;if(c&&r&&a){var m='link[rel="preload"][as="'+yi(a)+'"]';a==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+yi(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+yi(l.imageSizes)+'"]')):m+='[href="'+yi(r)+'"]';var g=m;switch(a){case"style":g=Yl(r);break;case"script":g=Ql(r)}rr.has(g)||(r=_({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:r,as:a},l),rr.set(g,r),c.querySelector(m)!==null||a==="style"&&c.querySelector(Ic(g))||a==="script"&&c.querySelector(Oc(g))||(a=c.createElement("link"),qn(a,"link",r),Gt(a),c.head.appendChild(a)))}}function fN(r,a){Vs.m(r,a);var l=Kl;if(l&&r){var c=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+yi(c)+'"][href="'+yi(r)+'"]',g=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Ql(r)}if(!rr.has(g)&&(r=_({rel:"modulepreload",href:r},a),rr.set(g,r),l.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Oc(g)))return}c=l.createElement("link"),qn(c,"link",r),Gt(c),l.head.appendChild(c)}}}function dN(r,a,l){Vs.S(r,a,l);var c=Kl;if(c&&r){var m=un(c).hoistableStyles,g=Yl(r);a=a||"default";var E=m.get(g);if(!E){var R={loading:0,preload:null};if(E=c.querySelector(Ic(g)))R.loading=5;else{r=_({rel:"stylesheet",href:r,"data-precedence":a},l),(l=rr.get(g))&&fy(r,l);var F=E=c.createElement("link");Gt(F),qn(F,"link",r),F._p=new Promise(function(X,oe){F.onload=X,F.onerror=oe}),F.addEventListener("load",function(){R.loading|=1}),F.addEventListener("error",function(){R.loading|=2}),R.loading|=4,ed(E,a,c)}E={type:"stylesheet",instance:E,count:1,state:R},m.set(g,E)}}}function pN(r,a){Vs.X(r,a);var l=Kl;if(l&&r){var c=un(l).hoistableScripts,m=Ql(r),g=c.get(m);g||(g=l.querySelector(Oc(m)),g||(r=_({src:r,async:!0},a),(a=rr.get(m))&&dy(r,a),g=l.createElement("script"),Gt(g),qn(g,"link",r),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function mN(r,a){Vs.M(r,a);var l=Kl;if(l&&r){var c=un(l).hoistableScripts,m=Ql(r),g=c.get(m);g||(g=l.querySelector(Oc(m)),g||(r=_({src:r,async:!0,type:"module"},a),(a=rr.get(m))&&dy(r,a),g=l.createElement("script"),Gt(g),qn(g,"link",r),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function WT(r,a,l,c){var m=(m=Se.current)?Zf(m):null;if(!m)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Yl(l.href),l=un(m).hoistableStyles,c=l.get(a),c||(c={type:"style",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){r=Yl(l.href);var g=un(m).hoistableStyles,E=g.get(r);if(E||(m=m.ownerDocument||m,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(r,E),(g=m.querySelector(Ic(r)))&&!g._p&&(E.instance=g,E.state.loading=5),rr.has(r)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},rr.set(r,l),g||gN(m,r,l,E.state))),a&&c===null)throw Error(i(528,""));return E}if(a&&c!==null)throw Error(i(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Ql(l),l=un(m).hoistableScripts,c=l.get(a),c||(c={type:"script",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Yl(r){return'href="'+yi(r)+'"'}function Ic(r){return'link[rel="stylesheet"]['+r+"]"}function XT(r){return _({},r,{"data-precedence":r.precedence,precedence:null})}function gN(r,a,l,c){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=r.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),qn(a,"link",l),Gt(a),r.head.appendChild(a))}function Ql(r){return'[src="'+yi(r)+'"]'}function Oc(r){return"script[async]"+r}function JT(r,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var c=r.querySelector('style[data-href~="'+yi(l.href)+'"]');if(c)return a.instance=c,Gt(c),c;var m=_({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),Gt(c),qn(c,"style",m),ed(c,l.precedence,r),a.instance=c;case"stylesheet":m=Yl(l.href);var g=r.querySelector(Ic(m));if(g)return a.state.loading|=4,a.instance=g,Gt(g),g;c=XT(l),(m=rr.get(m))&&fy(c,m),g=(r.ownerDocument||r).createElement("link"),Gt(g);var E=g;return E._p=new Promise(function(R,F){E.onload=R,E.onerror=F}),qn(g,"link",c),a.state.loading|=4,ed(g,l.precedence,r),a.instance=g;case"script":return g=Ql(l.src),(m=r.querySelector(Oc(g)))?(a.instance=m,Gt(m),m):(c=l,(m=rr.get(g))&&(c=_({},l),dy(c,m)),r=r.ownerDocument||r,m=r.createElement("script"),Gt(m),qn(m,"link",c),r.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,ed(c,l.precedence,r));return a.instance}function ed(r,a,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,g=m,E=0;E<c.length;E++){var R=c[E];if(R.dataset.precedence===a)g=R;else if(g!==m)break}g?g.parentNode.insertBefore(r,g.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(r,a.firstChild))}function fy(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function dy(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var td=null;function ZT(r,a,l){if(td===null){var c=new Map,m=td=new Map;m.set(l,c)}else m=td,c=m.get(l),c||(c=new Map,m.set(l,c));if(c.has(r))return c;for(c.set(r,null),l=l.getElementsByTagName(r),m=0;m<l.length;m++){var g=l[m];if(!(g[lt]||g[we]||r==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var E=g.getAttribute(a)||"";E=r+E;var R=c.get(E);R?R.push(g):c.set(E,[g])}}return c}function eS(r,a,l){r=r.ownerDocument||r,r.head.insertBefore(l,a==="title"?r.querySelector("head > title"):null)}function yN(r,a,l){if(l===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return r=a.disabled,typeof a.precedence=="string"&&r==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function tS(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function _N(r,a,l,c){if(l.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var m=Yl(c.href),g=a.querySelector(Ic(m));if(g){a=g._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(r.count++,r=nd.bind(r),a.then(r,r)),l.state.loading|=4,l.instance=g,Gt(g);return}g=a.ownerDocument||a,c=XT(c),(m=rr.get(m))&&fy(c,m),g=g.createElement("link"),Gt(g);var E=g;E._p=new Promise(function(R,F){E.onload=R,E.onerror=F}),qn(g,"link",c),l.instance=g}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(r.count++,l=nd.bind(r),a.addEventListener("load",l),a.addEventListener("error",l))}}var py=0;function vN(r,a){return r.stylesheets&&r.count===0&&rd(r,r.stylesheets),0<r.count||0<r.imgCount?function(l){var c=setTimeout(function(){if(r.stylesheets&&rd(r,r.stylesheets),r.unsuspend){var g=r.unsuspend;r.unsuspend=null,g()}},6e4+a);0<r.imgBytes&&py===0&&(py=62500*ZD());var m=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&rd(r,r.stylesheets),r.unsuspend)){var g=r.unsuspend;r.unsuspend=null,g()}},(r.imgBytes>py?50:800)+a);return r.unsuspend=l,function(){r.unsuspend=null,clearTimeout(c),clearTimeout(m)}}:null}function nd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)rd(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var id=null;function rd(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,id=new Map,a.forEach(bN,r),id=null,nd.call(r))}function bN(r,a){if(!(a.state.loading&4)){var l=id.get(r);if(l)var c=l.get(null);else{l=new Map,id.set(r,l);for(var m=r.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var E=m[g];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(l.set(E.dataset.precedence,E),c=E)}c&&l.set(null,c)}m=a.instance,E=m.getAttribute("data-precedence"),g=l.get(E)||c,g===c&&l.set(null,m),l.set(E,m),this.count++,c=nd.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),g?g.parentNode.insertBefore(m,g.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(m,r.firstChild)),a.state.loading|=4}}var Dc={$$typeof:z,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function EN(r,a,l,c,m,g,E,R,F){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$i(0),this.hiddenUpdates=$i(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=F,this.incompleteTransitions=new Map}function nS(r,a,l,c,m,g,E,R,F,X,oe,ce){return r=new EN(r,a,l,E,F,X,oe,ce,R),a=1,g===!0&&(a|=24),g=Mi(3,null,null,a),r.current=g,g.stateNode=r,a=Km(),a.refCount++,r.pooledCache=a,a.refCount++,g.memoizedState={element:c,isDehydrated:l,cache:a},Xm(g),r}function iS(r){return r?(r=Rl,r):Rl}function rS(r,a,l,c,m,g){m=iS(m),c.context===null?c.context=m:c.pendingContext=m,c=wa(a),c.payload={element:l},g=g===void 0?null:g,g!==null&&(c.callback=g),l=Ca(r,c,a),l!==null&&(Si(l,r,a),lc(l,r,a))}function sS(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<a?l:a}}function my(r,a){sS(r,a),(r=r.alternate)&&sS(r,a)}function aS(r){if(r.tag===13||r.tag===31){var a=Ao(r,67108864);a!==null&&Si(a,r,67108864),my(r,67108864)}}function oS(r){if(r.tag===13||r.tag===31){var a=Vi();a=_e(a);var l=Ao(r,a);l!==null&&Si(l,r,a),my(r,a)}}var sd=!0;function TN(r,a,l,c){var m=$.T;$.T=null;var g=ee.p;try{ee.p=2,gy(r,a,l,c)}finally{ee.p=g,$.T=m}}function SN(r,a,l,c){var m=$.T;$.T=null;var g=ee.p;try{ee.p=8,gy(r,a,l,c)}finally{ee.p=g,$.T=m}}function gy(r,a,l,c){if(sd){var m=yy(c);if(m===null)ny(r,a,c,ad,l),uS(r,c);else if(CN(m,r,a,l,c))c.stopPropagation();else if(uS(r,c),a&4&&-1<wN.indexOf(r)){for(;m!==null;){var g=xn(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var E=Oi(g.pendingLanes);if(E!==0){var R=g;for(R.pendingLanes|=2,R.entangledLanes|=2;E;){var F=1<<31-$t(E);R.entanglements[1]|=F,E&=~F}qr(g),(vt&6)===0&&(jf=on()+500,wc(0))}}break;case 31:case 13:R=Ao(g,2),R!==null&&Si(R,g,2),qf(),my(g,2)}if(g=yy(c),g===null&&ny(r,a,c,ad,l),g===m)break;m=g}m!==null&&c.stopPropagation()}else ny(r,a,c,null,l)}}function yy(r){return r=Yi(r),_y(r)}var ad=null;function _y(r){if(ad=null,r=Mn(r),r!==null){var a=o(r);if(a===null)r=null;else{var l=a.tag;if(l===13){if(r=u(a),r!==null)return r;r=null}else if(l===31){if(r=f(a),r!==null)return r;r=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return ad=r,null}function lS(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xr()){case ms:return 2;case li:return 8;case Nn:case cl:return 32;case hl:return 268435456;default:return 32}default:return 32}}var vy=!1,La=null,Va=null,Ua=null,Nc=new Map,Mc=new Map,za=[],wN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function uS(r,a){switch(r){case"focusin":case"focusout":La=null;break;case"dragenter":case"dragleave":Va=null;break;case"mouseover":case"mouseout":Ua=null;break;case"pointerover":case"pointerout":Nc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mc.delete(a.pointerId)}}function xc(r,a,l,c,m,g){return r===null||r.nativeEvent!==g?(r={blockedOn:a,domEventName:l,eventSystemFlags:c,nativeEvent:g,targetContainers:[m]},a!==null&&(a=xn(a),a!==null&&aS(a)),r):(r.eventSystemFlags|=c,a=r.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),r)}function CN(r,a,l,c,m){switch(a){case"focusin":return La=xc(La,r,a,l,c,m),!0;case"dragenter":return Va=xc(Va,r,a,l,c,m),!0;case"mouseover":return Ua=xc(Ua,r,a,l,c,m),!0;case"pointerover":var g=m.pointerId;return Nc.set(g,xc(Nc.get(g)||null,r,a,l,c,m)),!0;case"gotpointercapture":return g=m.pointerId,Mc.set(g,xc(Mc.get(g)||null,r,a,l,c,m)),!0}return!1}function cS(r){var a=Mn(r.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=u(l),a!==null){r.blockedOn=a,Te(r.priority,function(){oS(l)});return}}else if(a===31){if(a=f(l),a!==null){r.blockedOn=a,Te(r.priority,function(){oS(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function od(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var l=yy(r.nativeEvent);if(l===null){l=r.nativeEvent;var c=new l.constructor(l.type,l);Gu=c,l.target.dispatchEvent(c),Gu=null}else return a=xn(l),a!==null&&aS(a),r.blockedOn=l,!1;a.shift()}return!0}function hS(r,a,l){od(r)&&l.delete(a)}function RN(){vy=!1,La!==null&&od(La)&&(La=null),Va!==null&&od(Va)&&(Va=null),Ua!==null&&od(Ua)&&(Ua=null),Nc.forEach(hS),Mc.forEach(hS)}function ld(r,a){r.blockedOn===a&&(r.blockedOn=null,vy||(vy=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,RN)))}var ud=null;function fS(r){ud!==r&&(ud=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){ud===r&&(ud=null);for(var a=0;a<r.length;a+=3){var l=r[a],c=r[a+1],m=r[a+2];if(typeof c!="function"){if(_y(c||l)===null)continue;break}var g=xn(l);g!==null&&(r.splice(a,3),a-=3,yg(g,{pending:!0,data:m,method:l.method,action:c},c,m))}}))}function Wl(r){function a(F){return ld(F,r)}La!==null&&ld(La,r),Va!==null&&ld(Va,r),Ua!==null&&ld(Ua,r),Nc.forEach(a),Mc.forEach(a);for(var l=0;l<za.length;l++){var c=za[l];c.blockedOn===r&&(c.blockedOn=null)}for(;0<za.length&&(l=za[0],l.blockedOn===null);)cS(l),l.blockedOn===null&&za.shift();if(l=(r.ownerDocument||r).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var m=l[c],g=l[c+1],E=m[Ee]||null;if(typeof g=="function")E||fS(l);else if(E){var R=null;if(g&&g.hasAttribute("formAction")){if(m=g,E=g[Ee]||null)R=E.formAction;else if(_y(m)!==null)continue}else R=E.action;typeof R=="function"?l[c+1]=R:(l.splice(c,3),c-=3),fS(l)}}}function dS(){function r(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(E){return m=E})},focusReset:"manual",scroll:"manual"})}function a(){m!==null&&(m(),m=null),c||setTimeout(l,20)}function l(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,m=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(l,100),function(){c=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),m!==null&&(m(),m=null)}}}function by(r){this._internalRoot=r}cd.prototype.render=by.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(i(409));var l=a.current,c=Vi();rS(l,c,r,a,null,null)},cd.prototype.unmount=by.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;rS(r.current,2,null,r,null,null),qf(),a[Re]=null}};function cd(r){this._internalRoot=r}cd.prototype.unstable_scheduleHydration=function(r){if(r){var a=Pe();r={blockedOn:null,target:r,priority:a};for(var l=0;l<za.length&&a!==0&&a<za[l].priority;l++);za.splice(l,0,r),l===0&&cS(r)}};var pS=e.version;if(pS!=="19.2.0")throw Error(i(527,pS,"19.2.0"));ee.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=d(a),r=r!==null?y(r):null,r=r===null?null:r.stateNode,r};var AN={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hd.isDisabled&&hd.supportsFiber)try{ln=hd.inject(AN),mn=hd}catch{}}return kc.createRoot=function(r,a){if(!s(r))throw Error(i(299));var l=!1,c="",m=EE,g=TE,E=SE;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError)),a=nS(r,1,!1,null,null,l,c,null,m,g,E,dS),r[Re]=a.current,ty(r),new by(a)},kc.hydrateRoot=function(r,a,l){if(!s(r))throw Error(i(299));var c=!1,m="",g=EE,E=TE,R=SE,F=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(E=l.onCaughtError),l.onRecoverableError!==void 0&&(R=l.onRecoverableError),l.formState!==void 0&&(F=l.formState)),a=nS(r,1,!0,a,l??null,c,m,F,g,E,R,dS),a.context=iS(null),l=a.current,c=Vi(),c=_e(c),m=wa(c),m.callback=null,Ca(l,m,c),l=c,a.current.lanes=l,vs(a,l),qr(a),r[Re]=a.current,ty(r),new cd(a)},kc.version="19.2.0",kc}var CS;function UN(){if(CS)return Sy.exports;CS=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Sy.exports=VN(),Sy.exports}var zN=UN();var jC=n=>{throw TypeError(n)},FN=(n,e,t)=>e.has(n)||jC("Cannot "+t),Ay=(n,e,t)=>(FN(n,e,"read from private field"),t?t.call(n):e.get(n)),BN=(n,e,t)=>e.has(n)?jC("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),RS="popstate";function jN(n={}){function e(i,s){let{pathname:o,search:u,hash:f}=i.location;return oh("",{pathname:o,search:u,hash:f},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){return typeof s=="string"?s:ss(s)}return qN(e,t,null,n)}function Je(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function pn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function HN(){return Math.random().toString(36).substring(2,10)}function AS(n,e){return{usr:n.state,key:n.key,idx:e}}function oh(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?uo(e):e,state:t,key:e&&e.key||i||HN()}}function ss({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function uo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function qN(n,e,t,i={}){let{window:s=document.defaultView,v5Compat:o=!1}=i,u=s.history,f="POP",h=null,d=y();d==null&&(d=0,u.replaceState({...u.state,idx:d},""));function y(){return(u.state||{idx:null}).idx}function _(){f="POP";let A=y(),U=A==null?null:A-d;d=A,h&&h({action:f,location:O.location,delta:U})}function b(A,U){f="PUSH";let V=oh(O.location,A,U);d=y()+1;let z=AS(V,d),Q=O.createHref(V);try{u.pushState(z,"",Q)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;s.location.assign(Q)}o&&h&&h({action:f,location:O.location,delta:1})}function w(A,U){f="REPLACE";let V=oh(O.location,A,U);d=y();let z=AS(V,d),Q=O.createHref(V);u.replaceState(z,"",Q),o&&h&&h({action:f,location:O.location,delta:0})}function I(A){return HC(A)}let O={get action(){return f},get location(){return n(s,u)},listen(A){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(RS,_),h=A,()=>{s.removeEventListener(RS,_),h=null}},createHref(A){return e(s,A)},createURL:I,encodeLocation(A){let U=I(A);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:b,replace:w,go(A){return u.go(A)}};return O}function HC(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Je(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:ss(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}var $c,IS=class{constructor(n){if(BN(this,$c,new Map),n)for(let[e,t]of n)this.set(e,t)}get(n){if(Ay(this,$c).has(n))return Ay(this,$c).get(n);if(n.defaultValue!==void 0)return n.defaultValue;throw new Error("No value found for context")}set(n,e){Ay(this,$c).set(n,e)}};$c=new WeakMap;var $N=new Set(["lazy","caseSensitive","path","id","index","children"]);function GN(n){return $N.has(n)}var KN=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function YN(n){return KN.has(n)}function QN(n){return n.index===!0}function lh(n,e,t=[],i={},s=!1){return n.map((o,u)=>{let f=[...t,String(u)],h=typeof o.id=="string"?o.id:f.join("-");if(Je(o.index!==!0||!o.children,"Cannot specify children on an index route"),Je(s||!i[h],`Found a route id collision on id "${h}".  Route id's must be globally unique within Data Router usages`),QN(o)){let d={...o,id:h};return i[h]=OS(d,e(d)),d}else{let d={...o,id:h,children:void 0};return i[h]=OS(d,e(d)),o.children&&(d.children=lh(o.children,e,f,i,s)),d}})}function OS(n,e){return Object.assign(n,{...e,...typeof e.lazy=="object"&&e.lazy!=null?{lazy:{...n.lazy,...e.lazy}}:{}})}function ja(n,e,t="/"){return Nd(n,e,t,!1)}function Nd(n,e,t,i){let s=typeof e=="string"?uo(e):e,o=hr(s.pathname||"/",t);if(o==null)return null;let u=qC(n);XN(u);let f=null;for(let h=0;f==null&&h<u.length;++h){let d=lM(o);f=aM(u[h],d,i)}return f}function WN(n,e){let{route:t,pathname:i,params:s}=n;return{id:t.id,pathname:i,params:s,data:e[t.id],loaderData:e[t.id],handle:t.handle}}function qC(n,e=[],t=[],i="",s=!1){let o=(u,f,h=s,d)=>{let y={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(i)&&h)return;Je(y.relativePath.startsWith(i),`Absolute route path "${y.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(i.length)}let _=Wr([i,y.relativePath]),b=t.concat(y);u.children&&u.children.length>0&&(Je(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),qC(u.children,e,b,_,h)),!(u.path==null&&!u.index)&&e.push({path:_,score:rM(_,u.index),routesMeta:b})};return n.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))o(u,f);else for(let h of $C(u.path))o(u,f,!0,h)}),e}function $C(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,s=t.endsWith("?"),o=t.replace(/\?$/,"");if(i.length===0)return s?[o,""]:[o];let u=$C(i.join("/")),f=[];return f.push(...u.map(h=>h===""?o:[o,h].join("/"))),s&&f.push(...u),f.map(h=>n.startsWith("/")&&h===""?"/":h)}function XN(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:sM(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var JN=/^:[\w-]+$/,ZN=3,eM=2,tM=1,nM=10,iM=-2,DS=n=>n==="*";function rM(n,e){let t=n.split("/"),i=t.length;return t.some(DS)&&(i+=iM),e&&(i+=eM),t.filter(s=>!DS(s)).reduce((s,o)=>s+(JN.test(o)?ZN:o===""?tM:nM),i)}function sM(n,e){return n.length===e.length&&n.slice(0,-1).every((i,s)=>i===e[s])?n[n.length-1]-e[e.length-1]:0}function aM(n,e,t=!1){let{routesMeta:i}=n,s={},o="/",u=[];for(let f=0;f<i.length;++f){let h=i[f],d=f===i.length-1,y=o==="/"?e:e.slice(o.length)||"/",_=Wd({path:h.relativePath,caseSensitive:h.caseSensitive,end:d},y),b=h.route;if(!_&&d&&t&&!i[i.length-1].route.index&&(_=Wd({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},y)),!_)return null;Object.assign(s,_.params),u.push({params:s,pathname:Wr([o,_.pathname]),pathnameBase:fM(Wr([o,_.pathnameBase])),route:b}),_.pathnameBase!=="/"&&(o=Wr([o,_.pathnameBase]))}return u}function Wd(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=oM(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let o=s[0],u=o.replace(/(.)\/+$/,"$1"),f=s.slice(1);return{params:i.reduce((d,{paramName:y,isOptional:_},b)=>{if(y==="*"){let I=f[b]||"";u=o.slice(0,o.length-I.length).replace(/(.)\/+$/,"$1")}const w=f[b];return _&&!w?d[y]=void 0:d[y]=(w||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:u,pattern:n}}function oM(n,e=!1,t=!0){pn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,h)=>(i.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function lM(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return pn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function hr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function uM({basename:n,pathname:e}){return e==="/"?n:Wr([n,e])}function cM(n,e="/"){let{pathname:t,search:i="",hash:s=""}=typeof n=="string"?uo(n):n;return{pathname:t?t.startsWith("/")?t:hM(t,e):e,search:dM(i),hash:pM(s)}}function hM(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Iy(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function GC(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function fv(n){let e=GC(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function dv(n,e,t,i=!1){let s;typeof n=="string"?s=uo(n):(s={...n},Je(!s.pathname||!s.pathname.includes("?"),Iy("?","pathname","search",s)),Je(!s.pathname||!s.pathname.includes("#"),Iy("#","pathname","hash",s)),Je(!s.search||!s.search.includes("#"),Iy("#","search","hash",s)));let o=n===""||s.pathname==="",u=o?"/":s.pathname,f;if(u==null)f=t;else{let _=e.length-1;if(!i&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),_-=1;s.pathname=b.join("/")}f=_>=0?e[_]:"/"}let h=cM(s,f),d=u&&u!=="/"&&u.endsWith("/"),y=(o||u===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(d||y)&&(h.pathname+="/"),h}var Wr=n=>n.join("/").replace(/\/\/+/g,"/"),fM=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),dM=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,pM=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,Xd=class{constructor(n,e,t,i=!1){this.status=n,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function uh(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function pv(n){return n.filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Ka=Symbol("Uninstrumented");function mM(n,e){let t={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};n.forEach(s=>s({id:e.id,index:e.index,path:e.path,instrument(o){let u=Object.keys(t);for(let f of u)o[f]&&t[f].push(o[f])}}));let i={};if(typeof e.lazy=="function"&&t.lazy.length>0){let s=ru(t.lazy,e.lazy,()=>{});s&&(i.lazy=s)}if(typeof e.lazy=="object"){let s=e.lazy;["middleware","loader","action"].forEach(o=>{let u=s[o],f=t[`lazy.${o}`];if(typeof u=="function"&&f.length>0){let h=ru(f,u,()=>{});h&&(i.lazy=Object.assign(i.lazy||{},{[o]:h}))}})}return["loader","action"].forEach(s=>{let o=e[s];if(typeof o=="function"&&t[s].length>0){let u=o[Ka]??o,f=ru(t[s],u,(...h)=>NS(h[0]));f&&(f[Ka]=u,i[s]=f)}}),e.middleware&&e.middleware.length>0&&t.middleware.length>0&&(i.middleware=e.middleware.map(s=>{let o=s[Ka]??s,u=ru(t.middleware,o,(...f)=>NS(f[0]));return u?(u[Ka]=o,u):s})),i}function gM(n,e){let t={navigate:[],fetch:[]};if(e.forEach(i=>i({instrument(s){let o=Object.keys(s);for(let u of o)s[u]&&t[u].push(s[u])}})),t.navigate.length>0){let i=n.navigate[Ka]??n.navigate,s=ru(t.navigate,i,(...o)=>{let[u,f]=o;return{to:typeof u=="number"||typeof u=="string"?u:u?ss(u):".",...MS(n,f??{})}});s&&(s[Ka]=i,n.navigate=s)}if(t.fetch.length>0){let i=n.fetch[Ka]??n.fetch,s=ru(t.fetch,i,(...o)=>{let[u,,f,h]=o;return{href:f??".",fetcherKey:u,...MS(n,h??{})}});s&&(s[Ka]=i,n.fetch=s)}return n}function ru(n,e,t){return n.length===0?null:async(...i)=>{let s=await KC(n,t(...i),()=>e(...i),n.length-1);if(s.type==="error")throw s.value;return s.value}}async function KC(n,e,t,i){let s=n[i],o;if(s){let u,f=async()=>(u?console.error("You cannot call instrumented handlers more than once"):u=KC(n,e,t,i-1),o=await u,Je(o,"Expected a result"),o.type==="error"&&o.value instanceof Error?{status:"error",error:o.value}:{status:"success",error:void 0});try{await s(f,e)}catch(h){console.error("An instrumentation function threw an error:",h)}u||await f(),await u}else try{o={type:"success",value:await t()}}catch(u){o={type:"error",value:u}}return o||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function NS(n){let{request:e,context:t,params:i,unstable_pattern:s}=n;return{request:yM(e),params:{...i},unstable_pattern:s,context:_M(t)}}function MS(n,e){return{currentUrl:ss(n.state.location),..."formMethod"in e?{formMethod:e.formMethod}:{},..."formEncType"in e?{formEncType:e.formEncType}:{},..."formData"in e?{formData:e.formData}:{},..."body"in e?{body:e.body}:{}}}function yM(n){return{method:n.method,url:n.url,headers:{get:(...e)=>n.headers.get(...e)}}}function _M(n){if(bM(n)){let e={...n};return Object.freeze(e),e}else return{get:e=>n.get(e)}}var vM=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function bM(n){if(n===null||typeof n!="object")return!1;const e=Object.getPrototypeOf(n);return e===Object.prototype||e===null||Object.getOwnPropertyNames(e).sort().join("\0")===vM}var YC=["POST","PUT","PATCH","DELETE"],EM=new Set(YC),TM=["GET",...YC],SM=new Set(TM),wM=new Set([301,302,303,307,308]),CM=new Set([307,308]),Oy={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},RM={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Lc={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},AM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mv=n=>AM.test(n),IM=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),QC="remix-router-transitions",WC=Symbol("ResetLoaderData");function OM(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Je(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let i=n.hydrationRouteProperties||[],s=n.mapRouteProperties||IM,o=s;if(n.unstable_instrumentations){let B=n.unstable_instrumentations;o=K=>({...s(K),...mM(B.map(te=>te.route).filter(Boolean),K)})}let u={},f=lh(n.routes,o,void 0,u),h,d=n.basename||"/";d.startsWith("/")||(d=`/${d}`);let y=n.dataStrategy||PM,_={...n.future},b=null,w=new Set,I=null,O=null,A=null,U=n.hydrationData!=null,V=ja(f,n.history.location,d),z=!1,Q=null,H;if(V==null&&!n.patchRoutesOnNavigation){let B=ar(404,{pathname:n.history.location.pathname}),{matches:K,route:te}=fd(f);H=!0,V=K,Q={[te.id]:B}}else if(V&&!n.hydrationData&&ua(V,f,n.history.location.pathname).active&&(V=null),V)if(V.some(B=>B.route.lazy))H=!1;else if(!V.some(B=>gv(B.route)))H=!0;else{let B=n.hydrationData?n.hydrationData.loaderData:null,K=n.hydrationData?n.hydrationData.errors:null;if(K){let te=V.findIndex(pe=>K[pe.route.id]!==void 0);H=V.slice(0,te+1).every(pe=>!l_(pe.route,B,K))}else H=V.every(te=>!l_(te.route,B,K))}else{H=!1,V=[];let B=ua(null,f,n.history.location.pathname);B.active&&B.matches&&(z=!0,V=B.matches)}let ie,S={historyAction:n.history.action,location:n.history.location,matches:V,initialized:H,navigation:Oy,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||Q,fetchers:new Map,blockers:new Map},C="POP",x=!1,N,L=!1,P=new Map,M=null,ye=!1,ne=!1,$=new Set,ee=new Map,me=0,De=-1,Ve=new Map,j=new Set,J=new Map,he=new Map,le=new Set,ge=new Map,Se,Me=null;function gt(){if(b=n.history.listen(({action:B,location:K,delta:te})=>{if(Se){Se(),Se=void 0;return}pn(ge.size===0||te!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let pe=Ii({currentLocation:S.location,nextLocation:K,historyAction:B});if(pe&&te!=null){let _e=new Promise(Ae=>{Se=Ae});n.history.go(te*-1),ys(pe,{state:"blocked",location:K,proceed(){ys(pe,{state:"proceeding",proceed:void 0,reset:void 0,location:K}),_e.then(()=>n.history.go(te))},reset(){let Ae=new Map(S.blockers);Ae.set(pe,Lc),Lt({blockers:Ae})}});return}return oi(B,K)}),t){QM(e,P);let B=()=>WM(e,P);e.addEventListener("pagehide",B),M=()=>e.removeEventListener("pagehide",B)}return S.initialized||oi("POP",S.location,{initialHydration:!0}),ie}function yt(){b&&b(),M&&M(),w.clear(),N&&N.abort(),S.fetchers.forEach((B,K)=>la(K)),S.blockers.forEach((B,K)=>gs(K))}function dr(B){return w.add(B),()=>w.delete(B)}function Lt(B,K={}){B.matches&&(B.matches=B.matches.map(_e=>{let Ae=u[_e.route.id],Pe=_e.route;return Pe.element!==Ae.element||Pe.errorElement!==Ae.errorElement||Pe.hydrateFallbackElement!==Ae.hydrateFallbackElement?{..._e,route:Ae}:_e})),S={...S,...B};let te=[],pe=[];S.fetchers.forEach((_e,Ae)=>{_e.state==="idle"&&(le.has(Ae)?te.push(Ae):pe.push(Ae))}),le.forEach(_e=>{!S.fetchers.has(_e)&&!ee.has(_e)&&te.push(_e)}),[...w].forEach(_e=>_e(S,{deletedFetchers:te,viewTransitionOpts:K.viewTransitionOpts,flushSync:K.flushSync===!0})),te.forEach(_e=>la(_e)),pe.forEach(_e=>S.fetchers.delete(_e))}function Wn(B,K,{flushSync:te}={}){let pe=S.actionData!=null&&S.navigation.formMethod!=null&&pi(S.navigation.formMethod)&&S.navigation.state==="loading"&&B.state?._isRedirect!==!0,_e;K.actionData?Object.keys(K.actionData).length>0?_e=K.actionData:_e=null:pe?_e=S.actionData:_e=null;let Ae=K.loaderData?jS(S.loaderData,K.loaderData,K.matches||[],K.errors):S.loaderData,Pe=S.blockers;Pe.size>0&&(Pe=new Map(Pe),Pe.forEach((Ee,Re)=>Pe.set(Re,Lc)));let Te=ye?!1:gi(B,K.matches||S.matches),Ie=x===!0||S.navigation.formMethod!=null&&pi(S.navigation.formMethod)&&B.state?._isRedirect!==!0;h&&(f=h,h=void 0),ye||C==="POP"||(C==="PUSH"?n.history.push(B,B.state):C==="REPLACE"&&n.history.replace(B,B.state));let we;if(C==="POP"){let Ee=P.get(S.location.pathname);Ee&&Ee.has(B.pathname)?we={currentLocation:S.location,nextLocation:B}:P.has(B.pathname)&&(we={currentLocation:B,nextLocation:S.location})}else if(L){let Ee=P.get(S.location.pathname);Ee?Ee.add(B.pathname):(Ee=new Set([B.pathname]),P.set(S.location.pathname,Ee)),we={currentLocation:S.location,nextLocation:B}}Lt({...K,actionData:_e,loaderData:Ae,historyAction:C,location:B,initialized:!0,navigation:Oy,revalidation:"idle",restoreScrollPosition:Te,preventScrollReset:Ie,blockers:Pe},{viewTransitionOpts:we,flushSync:te===!0}),C="POP",x=!1,L=!1,ye=!1,ne=!1,Me?.resolve(),Me=null}async function pr(B,K){if(typeof B=="number"){n.history.go(B);return}let te=o_(S.location,S.matches,d,B,K?.fromRouteId,K?.relative),{path:pe,submission:_e,error:Ae}=xS(!1,te,K),Pe=S.location,Te=oh(S.location,pe,K&&K.state);Te={...Te,...n.history.encodeLocation(Te)};let Ie=K&&K.replace!=null?K.replace:void 0,we="PUSH";Ie===!0?we="REPLACE":Ie===!1||_e!=null&&pi(_e.formMethod)&&_e.formAction===S.location.pathname+S.location.search&&(we="REPLACE");let Ee=K&&"preventScrollReset"in K?K.preventScrollReset===!0:void 0,Re=(K&&K.flushSync)===!0,We=Ii({currentLocation:Pe,nextLocation:Te,historyAction:we});if(We){ys(We,{state:"blocked",location:Te,proceed(){ys(We,{state:"proceeding",proceed:void 0,reset:void 0,location:Te}),pr(B,K)},reset(){let Ot=new Map(S.blockers);Ot.set(We,Lc),Lt({blockers:Ot})}});return}await oi(we,Te,{submission:_e,pendingError:Ae,preventScrollReset:Ee,replace:K&&K.replace,enableViewTransition:K&&K.viewTransition,flushSync:Re})}function ai(){Me||(Me=XM()),ms(),Lt({revalidation:"loading"});let B=Me.promise;return S.navigation.state==="submitting"?B:S.navigation.state==="idle"?(oi(S.historyAction,S.location,{startUninterruptedRevalidation:!0}),B):(oi(C||S.historyAction,S.navigation.location,{overrideNavigation:S.navigation,enableViewTransition:L===!0}),B)}async function oi(B,K,te){N&&N.abort(),N=null,C=B,ye=(te&&te.startUninterruptedRevalidation)===!0,qi(S.location,S.matches),x=(te&&te.preventScrollReset)===!0,L=(te&&te.enableViewTransition)===!0;let pe=h||f,_e=te&&te.overrideNavigation,Ae=te?.initialHydration&&S.matches&&S.matches.length>0&&!z?S.matches:ja(pe,K,d),Pe=(te&&te.flushSync)===!0;if(Ae&&S.initialized&&!ne&&jM(S.location,K)&&!(te&&te.submission&&pi(te.submission.formMethod))){Wn(K,{matches:Ae},{flushSync:Pe});return}let Te=ua(Ae,pe,K.pathname);if(Te.active&&Te.matches&&(Ae=Te.matches),!Ae){let{error:gn,notFoundMatches:lt,route:dt}=mr(K.pathname);Wn(K,{matches:lt,loaderData:{},errors:{[dt.id]:gn}},{flushSync:Pe});return}N=new AbortController;let Ie=Zl(n.history,K,N.signal,te&&te.submission),we=n.getContext?await n.getContext():new IS,Ee;if(te&&te.pendingError)Ee=[Ha(Ae).route.id,{type:"error",error:te.pendingError}];else if(te&&te.submission&&pi(te.submission.formMethod)){let gn=await ps(Ie,K,te.submission,Ae,we,Te.active,te&&te.initialHydration===!0,{replace:te.replace,flushSync:Pe});if(gn.shortCircuited)return;if(gn.pendingActionResult){let[lt,dt]=gn.pendingActionResult;if(Ui(dt)&&uh(dt.error)&&dt.error.status===404){N=null,Wn(K,{matches:gn.matches,loaderData:{},errors:{[lt]:dt.error}});return}}Ae=gn.matches||Ae,Ee=gn.pendingActionResult,_e=Dy(K,te.submission),Pe=!1,Te.active=!1,Ie=Zl(n.history,Ie.url,Ie.signal)}let{shortCircuited:Re,matches:We,loaderData:Ot,errors:Qt}=await mo(Ie,K,Ae,we,Te.active,_e,te&&te.submission,te&&te.fetcherSubmission,te&&te.replace,te&&te.initialHydration===!0,Pe,Ee);Re||(N=null,Wn(K,{matches:We||Ae,...HS(Ee),loaderData:Ot,errors:Qt}))}async function ps(B,K,te,pe,_e,Ae,Pe,Te={}){ms();let Ie=KM(K,te);if(Lt({navigation:Ie},{flushSync:Te.flushSync===!0}),Ae){let Re=await _s(pe,K.pathname,B.signal);if(Re.type==="aborted")return{shortCircuited:!0};if(Re.type==="error"){if(Re.partialMatches.length===0){let{matches:Ot,route:Qt}=fd(f);return{matches:Ot,pendingActionResult:[Qt.id,{type:"error",error:Re.error}]}}let We=Ha(Re.partialMatches).route.id;return{matches:Re.partialMatches,pendingActionResult:[We,{type:"error",error:Re.error}]}}else if(Re.matches)pe=Re.matches;else{let{notFoundMatches:We,error:Ot,route:Qt}=mr(K.pathname);return{matches:We,pendingActionResult:[Qt.id,{type:"error",error:Ot}]}}}let we,Ee=Md(pe,K);if(!Ee.route.action&&!Ee.route.lazy)we={type:"error",error:ar(405,{method:B.method,pathname:K.pathname,routeId:Ee.route.id})};else{let Re=ou(o,u,B,pe,Ee,Pe?[]:i,_e),We=await on(B,Re,_e,null);if(we=We[Ee.route.id],!we){for(let Ot of pe)if(We[Ot.route.id]){we=We[Ot.route.id];break}}if(B.signal.aborted)return{shortCircuited:!0}}if(jo(we)){let Re;return Te&&Te.replace!=null?Re=Te.replace:Re=zS(we.response.headers.get("Location"),new URL(B.url),d)===S.location.pathname+S.location.search,await Hi(B,we,!0,{submission:te,replace:Re}),{shortCircuited:!0}}if(Ui(we)){let Re=Ha(pe,Ee.route.id);return(Te&&Te.replace)!==!0&&(C="PUSH"),{matches:pe,pendingActionResult:[Re.route.id,we,Ee.route.id]}}return{matches:pe,pendingActionResult:[Ee.route.id,we]}}async function mo(B,K,te,pe,_e,Ae,Pe,Te,Ie,we,Ee,Re){let We=Ae||Dy(K,Pe),Ot=Pe||Te||$S(We),Qt=!ye&&!we;if(_e){if(Qt){let en=oa(Re);Lt({navigation:We,...en!==void 0?{actionData:en}:{}},{flushSync:Ee})}let Xe=await _s(te,K.pathname,B.signal);if(Xe.type==="aborted")return{shortCircuited:!0};if(Xe.type==="error"){if(Xe.partialMatches.length===0){let{matches:Gi,route:Ki}=fd(f);return{matches:Gi,loaderData:{},errors:{[Ki.id]:Xe.error}}}let en=Ha(Xe.partialMatches).route.id;return{matches:Xe.partialMatches,loaderData:{},errors:{[en]:Xe.error}}}else if(Xe.matches)te=Xe.matches;else{let{error:en,notFoundMatches:Gi,route:Ki}=mr(K.pathname);return{matches:Gi,loaderData:{},errors:{[Ki.id]:en}}}}let gn=h||f,{dsMatches:lt,revalidatingFetchers:dt}=PS(B,pe,o,u,n.history,S,te,Ot,K,we?[]:i,we===!0,ne,$,le,J,j,gn,d,n.patchRoutesOnNavigation!=null,Re);if(De=++me,!n.dataStrategy&&!lt.some(Xe=>Xe.shouldLoad)&&!lt.some(Xe=>Xe.route.middleware&&Xe.route.middleware.length>0)&&dt.length===0){let Xe=ui();return Wn(K,{matches:te,loaderData:{},errors:Re&&Ui(Re[1])?{[Re[0]]:Re[1].error}:null,...HS(Re),...Xe?{fetchers:new Map(S.fetchers)}:{}},{flushSync:Ee}),{shortCircuited:!0}}if(Qt){let Xe={};if(!_e){Xe.navigation=We;let en=oa(Re);en!==void 0&&(Xe.actionData=en)}dt.length>0&&(Xe.fetchers=Xt(dt)),Lt(Xe,{flushSync:Ee})}dt.forEach(Xe=>{ln(Xe.key),Xe.controller&&ee.set(Xe.key,Xe.controller)});let Mn=()=>dt.forEach(Xe=>ln(Xe.key));N&&N.signal.addEventListener("abort",Mn);let{loaderResults:xn,fetcherResults:Zt}=await xr(lt,dt,B,pe);if(B.signal.aborted)return{shortCircuited:!0};N&&N.signal.removeEventListener("abort",Mn),dt.forEach(Xe=>ee.delete(Xe.key));let un=dd(xn);if(un)return await Hi(B,un.result,!0,{replace:Ie}),{shortCircuited:!0};if(un=dd(Zt),un)return j.add(un.key),await Hi(B,un.result,!0,{replace:Ie}),{shortCircuited:!0};let{loaderData:Gt,errors:gr}=BS(S,te,xn,Re,dt,Zt);we&&S.errors&&(gr={...S.errors,...gr});let Di=ui(),ci=$t(De),hi=Di||ci||dt.length>0;return{matches:te,loaderData:Gt,errors:gr,...hi?{fetchers:new Map(S.fetchers)}:{}}}function oa(B){if(B&&!Ui(B[1]))return{[B[0]]:B[1].data};if(S.actionData)return Object.keys(S.actionData).length===0?null:S.actionData}function Xt(B){return B.forEach(K=>{let te=S.fetchers.get(K.key),pe=Vc(void 0,te?te.data:void 0);S.fetchers.set(K.key,pe)}),new Map(S.fetchers)}async function an(B,K,te,pe){ln(B);let _e=(pe&&pe.flushSync)===!0,Ae=h||f,Pe=o_(S.location,S.matches,d,te,K,pe?.relative),Te=ja(Ae,Pe,d),Ie=ua(Te,Ae,Pe);if(Ie.active&&Ie.matches&&(Te=Ie.matches),!Te){Nn(B,K,ar(404,{pathname:Pe}),{flushSync:_e});return}let{path:we,submission:Ee,error:Re}=xS(!0,Pe,pe);if(Re){Nn(B,K,Re,{flushSync:_e});return}let We=n.getContext?await n.getContext():new IS,Ot=(pe&&pe.preventScrollReset)===!0;if(Ee&&pi(Ee.formMethod)){await Mr(B,K,we,Te,We,Ie.active,_e,Ot,Ee);return}J.set(B,{routeId:K,path:we}),await Bu(B,K,we,Te,We,Ie.active,_e,Ot,Ee)}async function Mr(B,K,te,pe,_e,Ae,Pe,Te,Ie){ms(),J.delete(B);let we=S.fetchers.get(B);li(B,YM(Ie,we),{flushSync:Pe});let Ee=new AbortController,Re=Zl(n.history,te,Ee.signal,Ie);if(Ae){let Vt=await _s(pe,new URL(Re.url).pathname,Re.signal,B);if(Vt.type==="aborted")return;if(Vt.type==="error"){Nn(B,K,Vt.error,{flushSync:Pe});return}else if(Vt.matches)pe=Vt.matches;else{Nn(B,K,ar(404,{pathname:te}),{flushSync:Pe});return}}let We=Md(pe,te);if(!We.route.action&&!We.route.lazy){let Vt=ar(405,{method:Ie.formMethod,pathname:te,routeId:K});Nn(B,K,Vt,{flushSync:Pe});return}ee.set(B,Ee);let Ot=me,Qt=ou(o,u,Re,pe,We,i,_e),lt=(await on(Re,Qt,_e,B))[We.route.id];if(Re.signal.aborted){ee.get(B)===Ee&&ee.delete(B);return}if(le.has(B)){if(jo(lt)||Ui(lt)){li(B,zs(void 0));return}}else{if(jo(lt))if(ee.delete(B),De>Ot){li(B,zs(void 0));return}else return j.add(B),li(B,Vc(Ie)),Hi(Re,lt,!1,{fetcherSubmission:Ie,preventScrollReset:Te});if(Ui(lt)){Nn(B,K,lt.error);return}}let dt=S.navigation.location||S.location,Mn=Zl(n.history,dt,Ee.signal),xn=h||f,Zt=S.navigation.state!=="idle"?ja(xn,S.navigation.location,d):S.matches;Je(Zt,"Didn't find any matches after fetcher action");let un=++me;Ve.set(B,un);let Gt=Vc(Ie,lt.data);S.fetchers.set(B,Gt);let{dsMatches:gr,revalidatingFetchers:Di}=PS(Mn,_e,o,u,n.history,S,Zt,Ie,dt,i,!1,ne,$,le,J,j,xn,d,n.patchRoutesOnNavigation!=null,[We.route.id,lt]);Di.filter(Vt=>Vt.key!==B).forEach(Vt=>{let Pn=Vt.key,Wt=S.fetchers.get(Pn),yn=Vc(void 0,Wt?Wt.data:void 0);S.fetchers.set(Pn,yn),ln(Pn),Vt.controller&&ee.set(Pn,Vt.controller)}),Lt({fetchers:new Map(S.fetchers)});let ci=()=>Di.forEach(Vt=>ln(Vt.key));Ee.signal.addEventListener("abort",ci);let{loaderResults:hi,fetcherResults:Xe}=await xr(gr,Di,Mn,_e);if(Ee.signal.aborted)return;if(Ee.signal.removeEventListener("abort",ci),Ve.delete(B),ee.delete(B),Di.forEach(Vt=>ee.delete(Vt.key)),S.fetchers.has(B)){let Vt=zs(lt.data);S.fetchers.set(B,Vt)}let en=dd(hi);if(en)return Hi(Mn,en.result,!1,{preventScrollReset:Te});if(en=dd(Xe),en)return j.add(en.key),Hi(Mn,en.result,!1,{preventScrollReset:Te});let{loaderData:Gi,errors:Ki}=BS(S,Zt,hi,void 0,Di,Xe);$t(un),S.navigation.state==="loading"&&un>De?(Je(C,"Expected pending action"),N&&N.abort(),Wn(S.navigation.location,{matches:Zt,loaderData:Gi,errors:Ki,fetchers:new Map(S.fetchers)})):(Lt({errors:Ki,loaderData:jS(S.loaderData,Gi,Zt,Ki),fetchers:new Map(S.fetchers)}),ne=!1)}async function Bu(B,K,te,pe,_e,Ae,Pe,Te,Ie){let we=S.fetchers.get(B);li(B,Vc(Ie,we?we.data:void 0),{flushSync:Pe});let Ee=new AbortController,Re=Zl(n.history,te,Ee.signal);if(Ae){let dt=await _s(pe,new URL(Re.url).pathname,Re.signal,B);if(dt.type==="aborted")return;if(dt.type==="error"){Nn(B,K,dt.error,{flushSync:Pe});return}else if(dt.matches)pe=dt.matches;else{Nn(B,K,ar(404,{pathname:te}),{flushSync:Pe});return}}let We=Md(pe,te);ee.set(B,Ee);let Ot=me,Qt=ou(o,u,Re,pe,We,i,_e),lt=(await on(Re,Qt,_e,B))[We.route.id];if(ee.get(B)===Ee&&ee.delete(B),!Re.signal.aborted){if(le.has(B)){li(B,zs(void 0));return}if(jo(lt))if(De>Ot){li(B,zs(void 0));return}else{j.add(B),await Hi(Re,lt,!1,{preventScrollReset:Te});return}if(Ui(lt)){Nn(B,K,lt.error);return}li(B,zs(lt.data))}}async function Hi(B,K,te,{submission:pe,fetcherSubmission:_e,preventScrollReset:Ae,replace:Pe}={}){K.response.headers.has("X-Remix-Revalidate")&&(ne=!0);let Te=K.response.headers.get("Location");Je(Te,"Expected a Location header on the redirect Response"),Te=zS(Te,new URL(B.url),d);let Ie=oh(S.location,Te,{_isRedirect:!0});if(t){let Qt=!1;if(K.response.headers.has("X-Remix-Reload-Document"))Qt=!0;else if(mv(Te)){const gn=HC(Te,!0);Qt=gn.origin!==e.location.origin||hr(gn.pathname,d)==null}if(Qt){Pe?e.location.replace(Te):e.location.assign(Te);return}}N=null;let we=Pe===!0||K.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ee,formAction:Re,formEncType:We}=S.navigation;!pe&&!_e&&Ee&&Re&&We&&(pe=$S(S.navigation));let Ot=pe||_e;if(CM.has(K.response.status)&&Ot&&pi(Ot.formMethod))await oi(we,Ie,{submission:{...Ot,formAction:Te},preventScrollReset:Ae||x,enableViewTransition:te?L:void 0});else{let Qt=Dy(Ie,pe);await oi(we,Ie,{overrideNavigation:Qt,fetcherSubmission:_e,preventScrollReset:Ae||x,enableViewTransition:te?L:void 0})}}async function on(B,K,te,pe){let _e,Ae={};try{_e=await LM(y,B,K,pe,te,!1)}catch(Pe){return K.filter(Te=>Te.shouldLoad).forEach(Te=>{Ae[Te.route.id]={type:"error",error:Pe}}),Ae}if(B.signal.aborted)return Ae;for(let[Pe,Te]of Object.entries(_e))if($M(Te)){let Ie=Te.result;Ae[Pe]={type:"redirect",response:FM(Ie,B,Pe,K,d)}}else Ae[Pe]=await zM(Te);return Ae}async function xr(B,K,te,pe){let _e=on(te,B,pe,null),Ae=Promise.all(K.map(async Ie=>{if(Ie.matches&&Ie.match&&Ie.request&&Ie.controller){let Ee=(await on(Ie.request,Ie.matches,pe,Ie.key))[Ie.match.route.id];return{[Ie.key]:Ee}}else return Promise.resolve({[Ie.key]:{type:"error",error:ar(404,{pathname:Ie.path})}})})),Pe=await _e,Te=(await Ae).reduce((Ie,we)=>Object.assign(Ie,we),{});return{loaderResults:Pe,fetcherResults:Te}}function ms(){ne=!0,J.forEach((B,K)=>{ee.has(K)&&$.add(K),ln(K)})}function li(B,K,te={}){S.fetchers.set(B,K),Lt({fetchers:new Map(S.fetchers)},{flushSync:(te&&te.flushSync)===!0})}function Nn(B,K,te,pe={}){let _e=Ha(S.matches,K);la(B),Lt({errors:{[_e.route.id]:te},fetchers:new Map(S.fetchers)},{flushSync:(pe&&pe.flushSync)===!0})}function cl(B){return he.set(B,(he.get(B)||0)+1),le.has(B)&&le.delete(B),S.fetchers.get(B)||RM}function hl(B,K){ln(B,K?.reason),li(B,zs(null))}function la(B){let K=S.fetchers.get(B);ee.has(B)&&!(K&&K.state==="loading"&&Ve.has(B))&&ln(B),J.delete(B),Ve.delete(B),j.delete(B),le.delete(B),$.delete(B),S.fetchers.delete(B)}function fl(B){let K=(he.get(B)||0)-1;K<=0?(he.delete(B),le.add(B)):he.set(B,K),Lt({fetchers:new Map(S.fetchers)})}function ln(B,K){let te=ee.get(B);te&&(te.abort(K),ee.delete(B))}function mn(B){for(let K of B){let te=cl(K),pe=zs(te.data);S.fetchers.set(K,pe)}}function ui(){let B=[],K=!1;for(let te of j){let pe=S.fetchers.get(te);Je(pe,`Expected fetcher: ${te}`),pe.state==="loading"&&(j.delete(te),B.push(te),K=!0)}return mn(B),K}function $t(B){let K=[];for(let[te,pe]of Ve)if(pe<B){let _e=S.fetchers.get(te);Je(_e,`Expected fetcher: ${te}`),_e.state==="loading"&&(ln(te),Ve.delete(te),K.push(te))}return mn(K),K.length>0}function dl(B,K){let te=S.blockers.get(B)||Lc;return ge.get(B)!==K&&ge.set(B,K),te}function gs(B){S.blockers.delete(B),ge.delete(B)}function ys(B,K){let te=S.blockers.get(B)||Lc;Je(te.state==="unblocked"&&K.state==="blocked"||te.state==="blocked"&&K.state==="blocked"||te.state==="blocked"&&K.state==="proceeding"||te.state==="blocked"&&K.state==="unblocked"||te.state==="proceeding"&&K.state==="unblocked",`Invalid blocker state transition: ${te.state} -> ${K.state}`);let pe=new Map(S.blockers);pe.set(B,K),Lt({blockers:pe})}function Ii({currentLocation:B,nextLocation:K,historyAction:te}){if(ge.size===0)return;ge.size>1&&pn(!1,"A router only supports one blocker at a time");let pe=Array.from(ge.entries()),[_e,Ae]=pe[pe.length-1],Pe=S.blockers.get(_e);if(!(Pe&&Pe.state==="proceeding")&&Ae({currentLocation:B,nextLocation:K,historyAction:te}))return _e}function mr(B){let K=ar(404,{pathname:B}),te=h||f,{matches:pe,route:_e}=fd(te);return{notFoundMatches:pe,route:_e,error:K}}function Jt(B,K,te){if(I=B,A=K,O=te||null,!U&&S.navigation===Oy){U=!0;let pe=gi(S.location,S.matches);pe!=null&&Lt({restoreScrollPosition:pe})}return()=>{I=null,A=null,O=null}}function Oi(B,K){return O&&O(B,K.map(pe=>WN(pe,S.loaderData)))||B.key}function qi(B,K){if(I&&A){let te=Oi(B,K);I[te]=A()}}function gi(B,K){if(I){let te=Oi(B,K),pe=I[te];if(typeof pe=="number")return pe}return null}function ua(B,K,te){if(n.patchRoutesOnNavigation)if(B){if(Object.keys(B[0].params).length>0)return{active:!0,matches:Nd(K,te,d,!0)}}else return{active:!0,matches:Nd(K,te,d,!0)||[]};return{active:!1,matches:null}}async function _s(B,K,te,pe){if(!n.patchRoutesOnNavigation)return{type:"success",matches:B};let _e=B;for(;;){let Ae=h==null,Pe=h||f,Te=u;try{await n.patchRoutesOnNavigation({signal:te,path:K,matches:_e,fetcherKey:pe,patch:(Ee,Re)=>{te.aborted||kS(Ee,Re,Pe,Te,o,!1)}})}catch(Ee){return{type:"error",error:Ee,partialMatches:_e}}finally{Ae&&!te.aborted&&(f=[...f])}if(te.aborted)return{type:"aborted"};let Ie=ja(Pe,K,d);if(Ie)return{type:"success",matches:Ie};let we=Nd(Pe,K,d,!0);if(!we||_e.length===we.length&&_e.every((Ee,Re)=>Ee.route.id===we[Re].route.id))return{type:"success",matches:null};_e=we}}function $i(B){u={},h=lh(B,o,void 0,u)}function vs(B,K,te=!1){let pe=h==null;kS(B,K,h||f,u,o,te),pe&&(f=[...f],Lt({}))}return ie={get basename(){return d},get future(){return _},get state(){return S},get routes(){return f},get window(){return e},initialize:gt,subscribe:dr,enableScrollRestoration:Jt,navigate:pr,fetch:an,revalidate:ai,createHref:B=>n.history.createHref(B),encodeLocation:B=>n.history.encodeLocation(B),getFetcher:cl,resetFetcher:hl,deleteFetcher:fl,dispose:yt,getBlocker:dl,deleteBlocker:gs,patchRoutes:vs,_internalFetchControllers:ee,_internalSetRoutes:$i,_internalSetStateDoNotUseOrYouWillBreakYourApp(B){Lt(B)}},n.unstable_instrumentations&&(ie=gM(ie,n.unstable_instrumentations.map(B=>B.router).filter(Boolean))),ie}function DM(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function o_(n,e,t,i,s,o){let u,f;if(s){u=[];for(let d of e)if(u.push(d),d.route.id===s){f=d;break}}else u=e,f=e[e.length-1];let h=dv(i||".",fv(u),hr(n.pathname,t)||n.pathname,o==="path");if(i==null&&(h.search=n.search,h.hash=n.hash),(i==null||i===""||i===".")&&f){let d=yv(h.search);if(f.route.index&&!d)h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index";else if(!f.route.index&&d){let y=new URLSearchParams(h.search),_=y.getAll("index");y.delete("index"),_.filter(w=>w).forEach(w=>y.append("index",w));let b=y.toString();h.search=b?`?${b}`:""}}return t!=="/"&&(h.pathname=uM({basename:t,pathname:h.pathname})),ss(h)}function xS(n,e,t){if(!t||!DM(t))return{path:e};if(t.formMethod&&!GM(t.formMethod))return{path:e,error:ar(405,{method:t.formMethod})};let i=()=>({path:e,error:ar(400,{type:"invalid-body"})}),o=(t.formMethod||"get").toUpperCase(),u=nR(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!pi(o))return i();let _=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((b,[w,I])=>`${b}${w}=${I}
`,""):String(t.body);return{path:e,submission:{formMethod:o,formAction:u,formEncType:t.formEncType,formData:void 0,json:void 0,text:_}}}else if(t.formEncType==="application/json"){if(!pi(o))return i();try{let _=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:o,formAction:u,formEncType:t.formEncType,formData:void 0,json:_,text:void 0}}}catch{return i()}}}Je(typeof FormData=="function","FormData is not available in this environment");let f,h;if(t.formData)f=c_(t.formData),h=t.formData;else if(t.body instanceof FormData)f=c_(t.body),h=t.body;else if(t.body instanceof URLSearchParams)f=t.body,h=FS(f);else if(t.body==null)f=new URLSearchParams,h=new FormData;else try{f=new URLSearchParams(t.body),h=FS(f)}catch{return i()}let d={formMethod:o,formAction:u,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:h,json:void 0,text:void 0};if(pi(d.formMethod))return{path:e,submission:d};let y=uo(e);return n&&y.search&&yv(y.search)&&f.append("index",""),y.search=`?${f}`,{path:ss(y),submission:d}}function PS(n,e,t,i,s,o,u,f,h,d,y,_,b,w,I,O,A,U,V,z){let Q=z?Ui(z[1])?z[1].error:z[1].data:void 0,H=s.createURL(o.location),ie=s.createURL(h),S;if(y&&o.errors){let ye=Object.keys(o.errors)[0];S=u.findIndex(ne=>ne.route.id===ye)}else if(z&&Ui(z[1])){let ye=z[0];S=u.findIndex(ne=>ne.route.id===ye)-1}let C=z?z[1].statusCode:void 0,x=C&&C>=400,N={currentUrl:H,currentParams:o.matches[0]?.params||{},nextUrl:ie,nextParams:u[0].params,...f,actionResult:Q,actionStatus:C},L=pv(u.map(ye=>ye.route.path)),P=u.map((ye,ne)=>{let{route:$}=ye,ee=null;if(S!=null&&ne>S?ee=!1:$.lazy?ee=!0:gv($)?y?ee=l_($,o.loaderData,o.errors):NM(o.loaderData,o.matches[ne],ye)&&(ee=!0):ee=!1,ee!==null)return u_(t,i,n,L,ye,d,e,ee);let me=x?!1:_||H.pathname+H.search===ie.pathname+ie.search||H.search!==ie.search||MM(o.matches[ne],ye),De={...N,defaultShouldRevalidate:me},Ve=Jd(ye,De);return u_(t,i,n,L,ye,d,e,Ve,De)}),M=[];return I.forEach((ye,ne)=>{if(y||!u.some(he=>he.route.id===ye.routeId)||w.has(ne))return;let $=o.fetchers.get(ne),ee=$&&$.state!=="idle"&&$.data===void 0,me=ja(A,ye.path,U);if(!me){if(V&&ee)return;M.push({key:ne,routeId:ye.routeId,path:ye.path,matches:null,match:null,request:null,controller:null});return}if(O.has(ne))return;let De=Md(me,ye.path),Ve=new AbortController,j=Zl(s,ye.path,Ve.signal),J=null;if(b.has(ne))b.delete(ne),J=ou(t,i,j,me,De,d,e);else if(ee)_&&(J=ou(t,i,j,me,De,d,e));else{let he={...N,defaultShouldRevalidate:x?!1:_};Jd(De,he)&&(J=ou(t,i,j,me,De,d,e,he))}J&&M.push({key:ne,routeId:ye.routeId,path:ye.path,matches:J,match:De,request:j,controller:Ve})}),{dsMatches:P,revalidatingFetchers:M}}function gv(n){return n.loader!=null||n.middleware!=null&&n.middleware.length>0}function l_(n,e,t){if(n.lazy)return!0;if(!gv(n))return!1;let i=e!=null&&n.id in e,s=t!=null&&t[n.id]!==void 0;return!i&&s?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!i&&!s}function NM(n,e,t){let i=!e||t.route.id!==e.route.id,s=!n.hasOwnProperty(t.route.id);return i||s}function MM(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function Jd(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function kS(n,e,t,i,s,o){let u;if(n){let d=i[n];Je(d,`No route found to patch children into: routeId = ${n}`),d.children||(d.children=[]),u=d.children}else u=t;let f=[],h=[];if(e.forEach(d=>{let y=u.find(_=>XC(d,_));y?h.push({existingRoute:y,newRoute:d}):f.push(d)}),f.length>0){let d=lh(f,s,[n||"_","patch",String(u?.length||"0")],i);u.push(...d)}if(o&&h.length>0)for(let d=0;d<h.length;d++){let{existingRoute:y,newRoute:_}=h[d],b=y,[w]=lh([_],s,[],{},!0);Object.assign(b,{element:w.element?w.element:b.element,errorElement:w.errorElement?w.errorElement:b.errorElement,hydrateFallbackElement:w.hydrateFallbackElement?w.hydrateFallbackElement:b.hydrateFallbackElement})}}function XC(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,i)=>e.children?.some(s=>XC(t,s))):!1}var LS=new WeakMap,JC=({key:n,route:e,manifest:t,mapRouteProperties:i})=>{let s=t[e.id];if(Je(s,"No route found in manifest"),!s.lazy||typeof s.lazy!="object")return;let o=s.lazy[n];if(!o)return;let u=LS.get(s);u||(u={},LS.set(s,u));let f=u[n];if(f)return f;let h=(async()=>{let d=GN(n),_=s[n]!==void 0&&n!=="hasErrorBoundary";if(d)pn(!d,"Route property "+n+" is not a supported lazy route property. This property will be ignored."),u[n]=Promise.resolve();else if(_)pn(!1,`Route "${s.id}" has a static property "${n}" defined. The lazy property will be ignored.`);else{let b=await o();b!=null&&(Object.assign(s,{[n]:b}),Object.assign(s,i(s)))}typeof s.lazy=="object"&&(s.lazy[n]=void 0,Object.values(s.lazy).every(b=>b===void 0)&&(s.lazy=void 0))})();return u[n]=h,h},VS=new WeakMap;function xM(n,e,t,i,s){let o=t[n.id];if(Je(o,"No route found in manifest"),!n.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof n.lazy=="function"){let y=VS.get(o);if(y)return{lazyRoutePromise:y,lazyHandlerPromise:y};let _=(async()=>{Je(typeof n.lazy=="function","No lazy route function found");let b=await n.lazy(),w={};for(let I in b){let O=b[I];if(O===void 0)continue;let A=YN(I),V=o[I]!==void 0&&I!=="hasErrorBoundary";A?pn(!A,"Route property "+I+" is not a supported property to be returned from a lazy route function. This property will be ignored."):V?pn(!V,`Route "${o.id}" has a static property "${I}" defined but its lazy function is also returning a value for this property. The lazy route property "${I}" will be ignored.`):w[I]=O}Object.assign(o,w),Object.assign(o,{...i(o),lazy:void 0})})();return VS.set(o,_),_.catch(()=>{}),{lazyRoutePromise:_,lazyHandlerPromise:_}}let u=Object.keys(n.lazy),f=[],h;for(let y of u){if(s&&s.includes(y))continue;let _=JC({key:y,route:n,manifest:t,mapRouteProperties:i});_&&(f.push(_),y===e&&(h=_))}let d=f.length>0?Promise.all(f).then(()=>{}):void 0;return d?.catch(()=>{}),h?.catch(()=>{}),{lazyRoutePromise:d,lazyHandlerPromise:h}}async function US(n){let e=n.matches.filter(s=>s.shouldLoad),t={};return(await Promise.all(e.map(s=>s.resolve()))).forEach((s,o)=>{t[e[o].route.id]=s}),t}async function PM(n){return n.matches.some(e=>e.route.middleware)?ZC(n,()=>US(n)):US(n)}function ZC(n,e){return kM(n,e,i=>i,HM,t);function t(i,s,o){if(o)return Promise.resolve(Object.assign(o.value,{[s]:{type:"error",result:i}}));{let{matches:u}=n,f=Math.min(Math.max(u.findIndex(d=>d.route.id===s),0),Math.max(u.findIndex(d=>d.unstable_shouldCallHandler()),0)),h=Ha(u,u[f].route.id).route.id;return Promise.resolve({[h]:{type:"error",result:i}})}}}async function kM(n,e,t,i,s){let{matches:o,request:u,params:f,context:h,unstable_pattern:d}=n,y=o.flatMap(b=>b.route.middleware?b.route.middleware.map(w=>[b.route.id,w]):[]);return await eR({request:u,params:f,context:h,unstable_pattern:d},y,e,t,i,s)}async function eR(n,e,t,i,s,o,u=0){let{request:f}=n;if(f.signal.aborted)throw f.signal.reason??new Error(`Request aborted: ${f.method} ${f.url}`);let h=e[u];if(!h)return await t();let[d,y]=h,_,b=async()=>{if(_)throw new Error("You may only call `next()` once per middleware");try{return _={value:await eR(n,e,t,i,s,o,u+1)},_.value}catch(w){return _={value:await o(w,d,_)},_.value}};try{let w=await y(n,b),I=w!=null?i(w):void 0;return s(I)?I:_?I??_.value:(_={value:await b()},_.value)}catch(w){return await o(w,d,_)}}function tR(n,e,t,i,s){let o=JC({key:"middleware",route:i.route,manifest:e,mapRouteProperties:n}),u=xM(i.route,pi(t.method)?"action":"loader",e,n,s);return{middleware:o,route:u.lazyRoutePromise,handler:u.lazyHandlerPromise}}function u_(n,e,t,i,s,o,u,f,h=null){let d=!1,y=tR(n,e,t,s,o);return{...s,_lazyPromises:y,shouldLoad:f,unstable_shouldRevalidateArgs:h,unstable_shouldCallHandler(_){return d=!0,h?typeof _=="boolean"?Jd(s,{...h,defaultShouldRevalidate:_}):Jd(s,h):f},resolve(_){let{lazy:b,loader:w,middleware:I}=s.route,O=d||f||_&&!pi(t.method)&&(b||w),A=I&&I.length>0&&!w&&!b;return O&&(pi(t.method)||!A)?VM({request:t,unstable_pattern:i,match:s,lazyHandlerPromise:y?.handler,lazyRoutePromise:y?.route,handlerOverride:_,scopedContext:u}):Promise.resolve({type:"data",result:void 0})}}}function ou(n,e,t,i,s,o,u,f=null){return i.map(h=>h.route.id!==s.route.id?{...h,shouldLoad:!1,unstable_shouldRevalidateArgs:f,unstable_shouldCallHandler:()=>!1,_lazyPromises:tR(n,e,t,h,o),resolve:()=>Promise.resolve({type:"data",result:void 0})}:u_(n,e,t,pv(i.map(d=>d.route.path)),h,o,u,!0,f))}async function LM(n,e,t,i,s,o){t.some(d=>d._lazyPromises?.middleware)&&await Promise.all(t.map(d=>d._lazyPromises?.middleware));let u={request:e,unstable_pattern:pv(t.map(d=>d.route.path)),params:t[0].params,context:s,matches:t},h=await n({...u,fetcherKey:i,runClientMiddleware:d=>{let y=u;return ZC(y,()=>d({...y,fetcherKey:i,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(t.flatMap(d=>[d._lazyPromises?.handler,d._lazyPromises?.route]))}catch{}return h}async function VM({request:n,unstable_pattern:e,match:t,lazyHandlerPromise:i,lazyRoutePromise:s,handlerOverride:o,scopedContext:u}){let f,h,d=pi(n.method),y=d?"action":"loader",_=b=>{let w,I=new Promise((U,V)=>w=V);h=()=>w(),n.signal.addEventListener("abort",h);let O=U=>typeof b!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${y}" [routeId: ${t.route.id}]`)):b({request:n,unstable_pattern:e,params:t.params,context:u},...U!==void 0?[U]:[]),A=(async()=>{try{return{type:"data",result:await(o?o(V=>O(V)):O())}}catch(U){return{type:"error",result:U}}})();return Promise.race([A,I])};try{let b=d?t.route.action:t.route.loader;if(i||s)if(b){let w,[I]=await Promise.all([_(b).catch(O=>{w=O}),i,s]);if(w!==void 0)throw w;f=I}else{await i;let w=d?t.route.action:t.route.loader;if(w)[f]=await Promise.all([_(w),s]);else if(y==="action"){let I=new URL(n.url),O=I.pathname+I.search;throw ar(405,{method:n.method,pathname:O,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(b)f=await _(b);else{let w=new URL(n.url),I=w.pathname+w.search;throw ar(404,{pathname:I})}}catch(b){return{type:"error",result:b}}finally{h&&n.signal.removeEventListener("abort",h)}return f}async function UM(n){let e=n.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?n.body==null?null:n.json():n.text()}async function zM(n){let{result:e,type:t}=n;if(iR(e)){let i;try{i=await UM(e)}catch(s){return{type:"error",error:s}}return t==="error"?{type:"error",error:new Xd(e.status,e.statusText,i),statusCode:e.status,headers:e.headers}:{type:"data",data:i,statusCode:e.status,headers:e.headers}}return t==="error"?qS(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Xd(e.init?.status||500,void 0,e.data),statusCode:uh(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:uh(e)?e.status:void 0}:qS(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function FM(n,e,t,i,s){let o=n.headers.get("Location");if(Je(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!mv(o)){let u=i.slice(0,i.findIndex(f=>f.route.id===t)+1);o=o_(new URL(e.url),u,s,o),n.headers.set("Location",o)}return n}function zS(n,e,t){if(mv(n)){let i=n,s=i.startsWith("//")?new URL(e.protocol+i):new URL(i),o=hr(s.pathname,t)!=null;if(s.origin===e.origin&&o)return s.pathname+s.search+s.hash}return n}function Zl(n,e,t,i){let s=n.createURL(nR(e)).toString(),o={signal:t};if(i&&pi(i.formMethod)){let{formMethod:u,formEncType:f}=i;o.method=u.toUpperCase(),f==="application/json"?(o.headers=new Headers({"Content-Type":f}),o.body=JSON.stringify(i.json)):f==="text/plain"?o.body=i.text:f==="application/x-www-form-urlencoded"&&i.formData?o.body=c_(i.formData):o.body=i.formData}return new Request(s,o)}function c_(n){let e=new URLSearchParams;for(let[t,i]of n.entries())e.append(t,typeof i=="string"?i:i.name);return e}function FS(n){let e=new FormData;for(let[t,i]of n.entries())e.append(t,i);return e}function BM(n,e,t,i=!1,s=!1){let o={},u=null,f,h=!1,d={},y=t&&Ui(t[1])?t[1].error:void 0;return n.forEach(_=>{if(!(_.route.id in e))return;let b=_.route.id,w=e[b];if(Je(!jo(w),"Cannot handle redirect results in processLoaderData"),Ui(w)){let I=w.error;if(y!==void 0&&(I=y,y=void 0),u=u||{},s)u[b]=I;else{let O=Ha(n,b);u[O.route.id]==null&&(u[O.route.id]=I)}i||(o[b]=WC),h||(h=!0,f=uh(w.error)?w.error.status:500),w.headers&&(d[b]=w.headers)}else o[b]=w.data,w.statusCode&&w.statusCode!==200&&!h&&(f=w.statusCode),w.headers&&(d[b]=w.headers)}),y!==void 0&&t&&(u={[t[0]]:y},t[2]&&(o[t[2]]=void 0)),{loaderData:o,errors:u,statusCode:f||200,loaderHeaders:d}}function BS(n,e,t,i,s,o){let{loaderData:u,errors:f}=BM(e,t,i);return s.filter(h=>!h.matches||h.matches.some(d=>d.shouldLoad)).forEach(h=>{let{key:d,match:y,controller:_}=h;if(_&&_.signal.aborted)return;let b=o[d];if(Je(b,"Did not find corresponding fetcher result"),Ui(b)){let w=Ha(n.matches,y?.route.id);f&&f[w.route.id]||(f={...f,[w.route.id]:b.error}),n.fetchers.delete(d)}else if(jo(b))Je(!1,"Unhandled fetcher revalidation redirect");else{let w=zs(b.data);n.fetchers.set(d,w)}}),{loaderData:u,errors:f}}function jS(n,e,t,i){let s=Object.entries(e).filter(([,o])=>o!==WC).reduce((o,[u,f])=>(o[u]=f,o),{});for(let o of t){let u=o.route.id;if(!e.hasOwnProperty(u)&&n.hasOwnProperty(u)&&o.route.loader&&(s[u]=n[u]),i&&i.hasOwnProperty(u))break}return s}function HS(n){return n?Ui(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function Ha(n,e){return(e?n.slice(0,n.findIndex(i=>i.route.id===e)+1):[...n]).reverse().find(i=>i.route.hasErrorBoundary===!0)||n[0]}function fd(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ar(n,{pathname:e,routeId:t,method:i,type:s,message:o}={}){let u="Unknown Server Error",f="Unknown @remix-run/router error";return n===400?(u="Bad Request",i&&e&&t?f=`You made a ${i} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:s==="invalid-body"&&(f="Unable to encode submission body")):n===403?(u="Forbidden",f=`Route "${t}" does not match URL "${e}"`):n===404?(u="Not Found",f=`No route matches URL "${e}"`):n===405&&(u="Method Not Allowed",i&&e&&t?f=`You made a ${i.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:i&&(f=`Invalid request method "${i.toUpperCase()}"`)),new Xd(n||500,u,new Error(f),!0)}function dd(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[i,s]=e[t];if(jo(s))return{key:i,result:s}}}function nR(n){let e=typeof n=="string"?uo(n):n;return ss({...e,hash:""})}function jM(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function HM(n){return n!=null&&typeof n=="object"&&Object.entries(n).every(([e,t])=>typeof e=="string"&&qM(t))}function qM(n){return n!=null&&typeof n=="object"&&"type"in n&&"result"in n&&(n.type==="data"||n.type==="error")}function $M(n){return iR(n.result)&&wM.has(n.result.status)}function Ui(n){return n.type==="error"}function jo(n){return(n&&n.type)==="redirect"}function qS(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function iR(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function GM(n){return SM.has(n.toUpperCase())}function pi(n){return EM.has(n.toUpperCase())}function yv(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Md(n,e){let t=typeof e=="string"?uo(e).search:e.search;if(n[n.length-1].route.index&&yv(t||""))return n[n.length-1];let i=GC(n);return i[i.length-1]}function $S(n){let{formMethod:e,formAction:t,formEncType:i,text:s,formData:o,json:u}=n;if(!(!e||!t||!i)){if(s!=null)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:void 0,text:s};if(o!=null)return{formMethod:e,formAction:t,formEncType:i,formData:o,json:void 0,text:void 0};if(u!==void 0)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:u,text:void 0}}}function Dy(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function KM(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Vc(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function YM(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function zs(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function QM(n,e){try{let t=n.sessionStorage.getItem(QC);if(t){let i=JSON.parse(t);for(let[s,o]of Object.entries(i||{}))o&&Array.isArray(o)&&e.set(s,new Set(o||[]))}}catch{}}function WM(n,e){if(e.size>0){let t={};for(let[i,s]of e)t[i]=[...s];try{n.sessionStorage.setItem(QC,JSON.stringify(t))}catch(i){pn(!1,`Failed to save applied view transitions in sessionStorage (${i}).`)}}}function XM(){let n,e,t=new Promise((i,s)=>{n=async o=>{i(o);try{await t}catch{}},e=async o=>{s(o);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var sl=k.createContext(null);sl.displayName="DataRouter";var wh=k.createContext(null);wh.displayName="DataRouterState";k.createContext(!1);var _v=k.createContext({isTransitioning:!1});_v.displayName="ViewTransition";var rR=k.createContext(new Map);rR.displayName="Fetchers";var JM=k.createContext(null);JM.displayName="Await";var hs=k.createContext(null);hs.displayName="Navigation";var zp=k.createContext(null);zp.displayName="Location";var Nr=k.createContext({outlet:null,matches:[],isDataRoute:!1});Nr.displayName="Route";var vv=k.createContext(null);vv.displayName="RouteError";function ZM(n,{relative:e}={}){Je(Ch(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=k.useContext(hs),{hash:s,pathname:o,search:u}=Rh(n,{relative:e}),f=o;return t!=="/"&&(f=o==="/"?t:Wr([t,o])),i.createHref({pathname:f,search:u,hash:s})}function Ch(){return k.useContext(zp)!=null}function co(){return Je(Ch(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(zp).location}var sR="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function aR(n){k.useContext(hs).static||k.useLayoutEffect(n)}function Fp(){let{isDataRoute:n}=k.useContext(Nr);return n?mx():ex()}function ex(){Je(Ch(),"useNavigate() may be used only in the context of a <Router> component.");let n=k.useContext(sl),{basename:e,navigator:t}=k.useContext(hs),{matches:i}=k.useContext(Nr),{pathname:s}=co(),o=JSON.stringify(fv(i)),u=k.useRef(!1);return aR(()=>{u.current=!0}),k.useCallback((h,d={})=>{if(pn(u.current,sR),!u.current)return;if(typeof h=="number"){t.go(h);return}let y=dv(h,JSON.parse(o),s,d.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Wr([e,y.pathname])),(d.replace?t.replace:t.push)(y,d.state,d)},[e,t,o,s,n])}var tx=k.createContext(null);function nx(n){let e=k.useContext(Nr).outlet;return k.useMemo(()=>e&&k.createElement(tx.Provider,{value:n},e),[e,n])}function ix(){let{matches:n}=k.useContext(Nr),e=n[n.length-1];return e?e.params:{}}function Rh(n,{relative:e}={}){let{matches:t}=k.useContext(Nr),{pathname:i}=co(),s=JSON.stringify(fv(t));return k.useMemo(()=>dv(n,JSON.parse(s),i,e==="path"),[n,s,i,e])}function rx(n,e,t,i,s){Je(Ch(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=k.useContext(hs),{matches:u}=k.useContext(Nr),f=u[u.length-1],h=f?f.params:{},d=f?f.pathname:"/",y=f?f.pathnameBase:"/",_=f&&f.route;{let V=_&&_.path||"";oR(d,!_||V.endsWith("*")||V.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${V}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${V}"> to <Route path="${V==="/"?"*":`${V}/*`}">.`)}let b=co(),w;w=b;let I=w.pathname||"/",O=I;if(y!=="/"){let V=y.replace(/^\//,"").split("/");O="/"+I.replace(/^\//,"").split("/").slice(V.length).join("/")}let A=ja(n,{pathname:O});return pn(_||A!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),pn(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),ux(A&&A.map(V=>Object.assign({},V,{params:Object.assign({},h,V.params),pathname:Wr([y,o.encodeLocation?o.encodeLocation(V.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:V.pathname]),pathnameBase:V.pathnameBase==="/"?y:Wr([y,o.encodeLocation?o.encodeLocation(V.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:V.pathnameBase])})),u,t,i,s)}function sx(){let n=px(),e=uh(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:o},"ErrorBoundary")," or"," ",k.createElement("code",{style:o},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),t?k.createElement("pre",{style:s},t):null,u)}var ax=k.createElement(sx,null),ox=class extends k.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.unstable_onError?this.props.unstable_onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?k.createElement(Nr.Provider,{value:this.props.routeContext},k.createElement(vv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function lx({routeContext:n,match:e,children:t}){let i=k.useContext(sl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(Nr.Provider,{value:n},t)}function ux(n,e=[],t=null,i=null,s=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,u=t?.errors;if(u!=null){let d=o.findIndex(y=>y.route.id&&u?.[y.route.id]!==void 0);Je(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,d+1))}let f=!1,h=-1;if(t)for(let d=0;d<o.length;d++){let y=o[d];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(h=d),y.route.id){let{loaderData:_,errors:b}=t,w=y.route.loader&&!_.hasOwnProperty(y.route.id)&&(!b||b[y.route.id]===void 0);if(y.route.lazy||w){f=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((d,y,_)=>{let b,w=!1,I=null,O=null;t&&(b=u&&y.route.id?u[y.route.id]:void 0,I=y.route.errorElement||ax,f&&(h<0&&_===0?(oR("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,O=null):h===_&&(w=!0,O=y.route.hydrateFallbackElement||null)));let A=e.concat(o.slice(0,_+1)),U=()=>{let V;return b?V=I:w?V=O:y.route.Component?V=k.createElement(y.route.Component,null):y.route.element?V=y.route.element:V=d,k.createElement(lx,{match:y,routeContext:{outlet:d,matches:A,isDataRoute:t!=null},children:V})};return t&&(y.route.ErrorBoundary||y.route.errorElement||_===0)?k.createElement(ox,{location:t.location,revalidation:t.revalidation,component:I,error:b,children:U(),routeContext:{outlet:null,matches:A,isDataRoute:!0},unstable_onError:i}):U()},null)}function bv(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cx(n){let e=k.useContext(sl);return Je(e,bv(n)),e}function hx(n){let e=k.useContext(wh);return Je(e,bv(n)),e}function fx(n){let e=k.useContext(Nr);return Je(e,bv(n)),e}function Ev(n){let e=fx(n),t=e.matches[e.matches.length-1];return Je(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function dx(){return Ev("useRouteId")}function px(){let n=k.useContext(vv),e=hx("useRouteError"),t=Ev("useRouteError");return n!==void 0?n:e.errors?.[t]}function mx(){let{router:n}=cx("useNavigate"),e=Ev("useNavigate"),t=k.useRef(!1);return aR(()=>{t.current=!0}),k.useCallback(async(s,o={})=>{pn(t.current,sR),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...o}))},[n,e])}var GS={};function oR(n,e,t){!e&&!GS[n]&&(GS[n]=!0,pn(!1,t))}var KS={};function YS(n,e){!n&&!KS[e]&&(KS[e]=!0,console.warn(e))}function gx(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&pn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:k.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&pn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:k.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&pn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:k.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var yx=["HydrateFallback","hydrateFallbackElement"],_x=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",t(i))}})}};function vx({router:n,flushSync:e,unstable_onError:t}){let[i,s]=k.useState(n.state),[o,u]=k.useState(),[f,h]=k.useState({isTransitioning:!1}),[d,y]=k.useState(),[_,b]=k.useState(),[w,I]=k.useState(),O=k.useRef(new Map),A=k.useCallback(H=>{s(ie=>(H.errors&&t&&Object.entries(H.errors).forEach(([S,C])=>{ie.errors?.[S]!==C&&t(C)}),H))},[t]),U=k.useCallback((H,{deletedFetchers:ie,flushSync:S,viewTransitionOpts:C})=>{H.fetchers.forEach((N,L)=>{N.data!==void 0&&O.current.set(L,N.data)}),ie.forEach(N=>O.current.delete(N)),YS(S===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let x=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(YS(C==null||x,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!C||!x){e&&S?e(()=>A(H)):k.startTransition(()=>A(H));return}if(e&&S){e(()=>{_&&(d&&d.resolve(),_.skipTransition()),h({isTransitioning:!0,flushSync:!0,currentLocation:C.currentLocation,nextLocation:C.nextLocation})});let N=n.window.document.startViewTransition(()=>{e(()=>A(H))});N.finished.finally(()=>{e(()=>{y(void 0),b(void 0),u(void 0),h({isTransitioning:!1})})}),e(()=>b(N));return}_?(d&&d.resolve(),_.skipTransition(),I({state:H,currentLocation:C.currentLocation,nextLocation:C.nextLocation})):(u(H),h({isTransitioning:!0,flushSync:!1,currentLocation:C.currentLocation,nextLocation:C.nextLocation}))},[n.window,e,_,d,A]);k.useLayoutEffect(()=>n.subscribe(U),[n,U]),k.useEffect(()=>{f.isTransitioning&&!f.flushSync&&y(new _x)},[f]),k.useEffect(()=>{if(d&&o&&n.window){let H=o,ie=d.promise,S=n.window.document.startViewTransition(async()=>{k.startTransition(()=>A(H)),await ie});S.finished.finally(()=>{y(void 0),b(void 0),u(void 0),h({isTransitioning:!1})}),b(S)}},[o,d,n.window,A]),k.useEffect(()=>{d&&o&&i.location.key===o.location.key&&d.resolve()},[d,_,i.location,o]),k.useEffect(()=>{!f.isTransitioning&&w&&(u(w.state),h({isTransitioning:!0,flushSync:!1,currentLocation:w.currentLocation,nextLocation:w.nextLocation}),I(void 0))},[f.isTransitioning,w]);let V=k.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:H=>n.navigate(H),push:(H,ie,S)=>n.navigate(H,{state:ie,preventScrollReset:S?.preventScrollReset}),replace:(H,ie,S)=>n.navigate(H,{replace:!0,state:ie,preventScrollReset:S?.preventScrollReset})}),[n]),z=n.basename||"/",Q=k.useMemo(()=>({router:n,navigator:V,static:!1,basename:z,unstable_onError:t}),[n,V,z,t]);return k.createElement(k.Fragment,null,k.createElement(sl.Provider,{value:Q},k.createElement(wh.Provider,{value:i},k.createElement(rR.Provider,{value:O.current},k.createElement(_v.Provider,{value:f},k.createElement(Sx,{basename:z,location:i.location,navigationType:i.historyAction,navigator:V},k.createElement(bx,{routes:n.routes,future:n.future,state:i,unstable_onError:t})))))),null)}var bx=k.memo(Ex);function Ex({routes:n,future:e,state:t,unstable_onError:i}){return rx(n,void 0,t,i,e)}function Tx(n){return nx(n.context)}function Sx({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:s,static:o=!1}){Je(!Ch(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),f=k.useMemo(()=>({basename:u,navigator:s,static:o,future:{}}),[u,s,o]);typeof t=="string"&&(t=uo(t));let{pathname:h="/",search:d="",hash:y="",state:_=null,key:b="default"}=t,w=k.useMemo(()=>{let I=hr(h,u);return I==null?null:{location:{pathname:I,search:d,hash:y,state:_,key:b},navigationType:i}},[u,h,d,y,_,b,i]);return pn(w!=null,`<Router basename="${u}"> is not able to match the URL "${h}${d}${y}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:k.createElement(hs.Provider,{value:f},k.createElement(zp.Provider,{children:e,value:w}))}var xd="get",Pd="application/x-www-form-urlencoded";function Bp(n){return n!=null&&typeof n.tagName=="string"}function wx(n){return Bp(n)&&n.tagName.toLowerCase()==="button"}function Cx(n){return Bp(n)&&n.tagName.toLowerCase()==="form"}function Rx(n){return Bp(n)&&n.tagName.toLowerCase()==="input"}function Ax(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Ix(n,e){return n.button===0&&(!e||e==="_self")&&!Ax(n)}function h_(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let i=n[t];return e.concat(Array.isArray(i)?i.map(s=>[t,s]):[[t,i]])},[]))}function Ox(n,e){let t=h_(n);return e&&e.forEach((i,s)=>{t.has(s)||e.getAll(s).forEach(o=>{t.append(s,o)})}),t}var pd=null;function Dx(){if(pd===null)try{new FormData(document.createElement("form"),0),pd=!1}catch{pd=!0}return pd}var Nx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ny(n){return n!=null&&!Nx.has(n)?(pn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Pd}"`),null):n}function Mx(n,e){let t,i,s,o,u;if(Cx(n)){let f=n.getAttribute("action");i=f?hr(f,e):null,t=n.getAttribute("method")||xd,s=Ny(n.getAttribute("enctype"))||Pd,o=new FormData(n)}else if(wx(n)||Rx(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||f.getAttribute("action");if(i=h?hr(h,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||xd,s=Ny(n.getAttribute("formenctype"))||Ny(f.getAttribute("enctype"))||Pd,o=new FormData(f,n),!Dx()){let{name:d,type:y,value:_}=n;if(y==="image"){let b=d?`${d}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else d&&o.append(d,_)}}else{if(Bp(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=xd,i=null,s=Pd,u=n}return o&&s==="text/plain"&&(u=o,o=void 0),{action:i,method:t.toLowerCase(),encType:s,formData:o,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Tv(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function xx(n,e,t){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&hr(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function Px(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function kx(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Lx(n,e,t){let i=await Promise.all(n.map(async s=>{let o=e.routes[s.route.id];if(o){let u=await Px(o,t);return u.links?u.links():[]}return[]}));return Fx(i.flat(1).filter(kx).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function QS(n,e,t,i,s,o){let u=(h,d)=>t[d]?h.route.id!==t[d].route.id:!0,f=(h,d)=>t[d].pathname!==h.pathname||t[d].route.path?.endsWith("*")&&t[d].params["*"]!==h.params["*"];return o==="assets"?e.filter((h,d)=>u(h,d)||f(h,d)):o==="data"?e.filter((h,d)=>{let y=i.routes[h.route.id];if(!y||!y.hasLoader)return!1;if(u(h,d)||f(h,d))return!0;if(h.route.shouldRevalidate){let _=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function Vx(n,e,{includeHydrateFallback:t}={}){return Ux(n.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function Ux(n){return[...new Set(n)]}function zx(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function Fx(n,e){let t=new Set;return new Set(e),n.reduce((i,s)=>{let o=JSON.stringify(zx(s));return t.has(o)||(t.add(o),i.push({key:o,link:s})),i},[])}function lR(){let n=k.useContext(sl);return Tv(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Bx(){let n=k.useContext(wh);return Tv(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Sv=k.createContext(void 0);Sv.displayName="FrameworkContext";function uR(){let n=k.useContext(Sv);return Tv(n,"You must render this element inside a <HydratedRouter> element"),n}function jx(n,e){let t=k.useContext(Sv),[i,s]=k.useState(!1),[o,u]=k.useState(!1),{onFocus:f,onBlur:h,onMouseEnter:d,onMouseLeave:y,onTouchStart:_}=e,b=k.useRef(null);k.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let O=U=>{U.forEach(V=>{u(V.isIntersecting)})},A=new IntersectionObserver(O,{threshold:.5});return b.current&&A.observe(b.current),()=>{A.disconnect()}}},[n]),k.useEffect(()=>{if(i){let O=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(O)}}},[i]);let w=()=>{s(!0)},I=()=>{s(!1),u(!1)};return t?n!=="intent"?[o,b,{}]:[o,b,{onFocus:Uc(f,w),onBlur:Uc(h,I),onMouseEnter:Uc(d,w),onMouseLeave:Uc(y,I),onTouchStart:Uc(_,w)}]:[!1,b,{}]}function Uc(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function Hx({page:n,...e}){let{router:t}=lR(),i=k.useMemo(()=>ja(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?k.createElement($x,{page:n,matches:i,...e}):null}function qx(n){let{manifest:e,routeModules:t}=uR(),[i,s]=k.useState([]);return k.useEffect(()=>{let o=!1;return Lx(n,e,t).then(u=>{o||s(u)}),()=>{o=!0}},[n,e,t]),i}function $x({page:n,matches:e,...t}){let i=co(),{manifest:s,routeModules:o}=uR(),{basename:u}=lR(),{loaderData:f,matches:h}=Bx(),d=k.useMemo(()=>QS(n,e,h,s,i,"data"),[n,e,h,s,i]),y=k.useMemo(()=>QS(n,e,h,s,i,"assets"),[n,e,h,s,i]),_=k.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let I=new Set,O=!1;if(e.forEach(U=>{let V=s.routes[U.route.id];!V||!V.hasLoader||(!d.some(z=>z.route.id===U.route.id)&&U.route.id in f&&o[U.route.id]?.shouldRevalidate||V.hasClientLoader?O=!0:I.add(U.route.id))}),I.size===0)return[];let A=xx(n,u,"data");return O&&I.size>0&&A.searchParams.set("_routes",e.filter(U=>I.has(U.route.id)).map(U=>U.route.id).join(",")),[A.pathname+A.search]},[u,f,i,s,d,e,n,o]),b=k.useMemo(()=>Vx(y,s),[y,s]),w=qx(y);return k.createElement(k.Fragment,null,_.map(I=>k.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...t})),b.map(I=>k.createElement("link",{key:I,rel:"modulepreload",href:I,...t})),w.map(({key:I,link:O})=>k.createElement("link",{key:I,nonce:t.nonce,...O})))}function Gx(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var cR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{cR&&(window.__reactRouterVersion="7.9.5")}catch{}function Kx(n,e){return OM({basename:e?.basename,getContext:e?.getContext,future:e?.future,history:jN({window:e?.window}),hydrationData:Yx(),routes:n,mapRouteProperties:gx,hydrationRouteProperties:yx,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window,unstable_instrumentations:e?.unstable_instrumentations}).initialize()}function Yx(){let n=window?.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:Qx(n.errors)}),n}function Qx(n){if(!n)return null;let e=Object.entries(n),t={};for(let[i,s]of e)if(s&&s.__type==="RouteErrorResponse")t[i]=new Xd(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let o=window[s.__subType];if(typeof o=="function")try{let u=new o(s.message);u.stack="",t[i]=u}catch{}}if(t[i]==null){let o=new Error(s.message);o.stack="",t[i]=o}}else t[i]=s;return t}var hR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fR=k.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:s,reloadDocument:o,replace:u,state:f,target:h,to:d,preventScrollReset:y,viewTransition:_,...b},w){let{basename:I}=k.useContext(hs),O=typeof d=="string"&&hR.test(d),A,U=!1;if(typeof d=="string"&&O&&(A=d,cR))try{let x=new URL(window.location.href),N=d.startsWith("//")?new URL(x.protocol+d):new URL(d),L=hr(N.pathname,I);N.origin===x.origin&&L!=null?d=L+N.search+N.hash:U=!0}catch{pn(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let V=ZM(d,{relative:s}),[z,Q,H]=jx(i,b),ie=Zx(d,{replace:u,state:f,target:h,preventScrollReset:y,relative:s,viewTransition:_});function S(x){e&&e(x),x.defaultPrevented||ie(x)}let C=k.createElement("a",{...b,...H,href:A||V,onClick:U||o?e:S,ref:Gx(w,Q),target:h,"data-discover":!O&&t==="render"?"true":void 0});return z&&!O?k.createElement(k.Fragment,null,C,k.createElement(Hx,{page:V})):C});fR.displayName="Link";var Wx=k.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:s=!1,style:o,to:u,viewTransition:f,children:h,...d},y){let _=Rh(u,{relative:d.relative}),b=co(),w=k.useContext(wh),{navigator:I,basename:O}=k.useContext(hs),A=w!=null&&rP(_)&&f===!0,U=I.encodeLocation?I.encodeLocation(_).pathname:_.pathname,V=b.pathname,z=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;t||(V=V.toLowerCase(),z=z?z.toLowerCase():null,U=U.toLowerCase()),z&&O&&(z=hr(z,O)||z);const Q=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let H=V===U||!s&&V.startsWith(U)&&V.charAt(Q)==="/",ie=z!=null&&(z===U||!s&&z.startsWith(U)&&z.charAt(U.length)==="/"),S={isActive:H,isPending:ie,isTransitioning:A},C=H?e:void 0,x;typeof i=="function"?x=i(S):x=[i,H?"active":null,ie?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let N=typeof o=="function"?o(S):o;return k.createElement(fR,{...d,"aria-current":C,className:x,ref:y,style:N,to:u,viewTransition:f},typeof h=="function"?h(S):h)});Wx.displayName="NavLink";var Xx=k.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:s,state:o,method:u=xd,action:f,onSubmit:h,relative:d,preventScrollReset:y,viewTransition:_,...b},w)=>{let I=nP(),O=iP(f,{relative:d}),A=u.toLowerCase()==="get"?"get":"post",U=typeof f=="string"&&hR.test(f),V=z=>{if(h&&h(z),z.defaultPrevented)return;z.preventDefault();let Q=z.nativeEvent.submitter,H=Q?.getAttribute("formmethod")||u;I(Q||z.currentTarget,{fetcherKey:e,method:H,navigate:t,replace:s,state:o,relative:d,preventScrollReset:y,viewTransition:_})};return k.createElement("form",{ref:w,method:A,action:O,onSubmit:i?h:V,...b,"data-discover":!U&&n==="render"?"true":void 0})});Xx.displayName="Form";function Jx(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dR(n){let e=k.useContext(sl);return Je(e,Jx(n)),e}function Zx(n,{target:e,replace:t,state:i,preventScrollReset:s,relative:o,viewTransition:u}={}){let f=Fp(),h=co(),d=Rh(n,{relative:o});return k.useCallback(y=>{if(Ix(y,e)){y.preventDefault();let _=t!==void 0?t:ss(h)===ss(d);f(n,{replace:_,state:i,preventScrollReset:s,relative:o,viewTransition:u})}},[h,f,d,t,i,e,n,s,o,u])}function pR(n){pn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=k.useRef(h_(n)),t=k.useRef(!1),i=co(),s=k.useMemo(()=>Ox(i.search,t.current?null:e.current),[i.search]),o=Fp(),u=k.useCallback((f,h)=>{const d=h_(typeof f=="function"?f(new URLSearchParams(s)):f);t.current=!0,o("?"+d,h)},[o,s]);return[s,u]}var eP=0,tP=()=>`__${String(++eP)}__`;function nP(){let{router:n}=dR("useSubmit"),{basename:e}=k.useContext(hs),t=dx();return k.useCallback(async(i,s={})=>{let{action:o,method:u,encType:f,formData:h,body:d}=Mx(i,e);if(s.navigate===!1){let y=s.fetcherKey||tP();await n.fetch(y,t,s.action||o,{preventScrollReset:s.preventScrollReset,formData:h,body:d,formMethod:s.method||u,formEncType:s.encType||f,flushSync:s.flushSync})}else await n.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:h,body:d,formMethod:s.method||u,formEncType:s.encType||f,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function iP(n,{relative:e}={}){let{basename:t}=k.useContext(hs),i=k.useContext(Nr);Je(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),o={...Rh(n||".",{relative:e})},u=co();if(n==null){o.search=u.search;let f=new URLSearchParams(o.search),h=f.getAll("index");if(h.some(y=>y==="")){f.delete("index"),h.filter(_=>_).forEach(_=>f.append("index",_));let y=f.toString();o.search=y?`?${y}`:""}}return(!n||n===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Wr([t,o.pathname])),ss(o)}function rP(n,{relative:e}={}){let t=k.useContext(_v);Je(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=dR("useViewTransitionState"),s=Rh(n,{relative:e});if(!t.isTransitioning)return!1;let o=hr(t.currentLocation.pathname,i)||t.currentLocation.pathname,u=hr(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Wd(s.pathname,u)!=null||Wd(s.pathname,o)!=null}var mR=BC();function sP(n){return k.createElement(vx,{flushSync:mR.flushSync,...n})}function gR(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=gR(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function Go(){for(var n,e,t=0,i="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=gR(n))&&(i&&(i+=" "),i+=e);return i}function aP(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}aP(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Ah=n=>typeof n=="number"&&!isNaN(n),Qo=n=>typeof n=="string",Qs=n=>typeof n=="function",oP=n=>Qo(n)||Ah(n),f_=n=>Qo(n)||Qs(n)?n:null,lP=(n,e)=>n===!1||Ah(n)&&n>0?n:e,d_=n=>k.isValidElement(n)||Qo(n)||Qs(n)||Ah(n);function uP(n,e,t=300){let{scrollHeight:i,style:s}=n;requestAnimationFrame(()=>{s.minHeight="initial",s.height=i+"px",s.transition=`all ${t}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(e,t)})})}function cP({enter:n,exit:e,appendPosition:t=!1,collapse:i=!0,collapseDuration:s=300}){return function({children:o,position:u,preventExitTransition:f,done:h,nodeRef:d,isIn:y,playToast:_}){let b=t?`${n}--${u}`:n,w=t?`${e}--${u}`:e,I=k.useRef(0);return k.useLayoutEffect(()=>{let O=d.current,A=b.split(" "),U=V=>{V.target===d.current&&(_(),O.removeEventListener("animationend",U),O.removeEventListener("animationcancel",U),I.current===0&&V.type!=="animationcancel"&&O.classList.remove(...A))};O.classList.add(...A),O.addEventListener("animationend",U),O.addEventListener("animationcancel",U)},[]),k.useEffect(()=>{let O=d.current,A=()=>{O.removeEventListener("animationend",A),i?uP(O,h,s):h()};y||(f?A():(I.current=1,O.className+=` ${w}`,O.addEventListener("animationend",A)))},[y]),wt.createElement(wt.Fragment,null,o)}}function WS(n,e){return{content:yR(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:e}}function yR(n,e,t=!1){return k.isValidElement(n)&&!Qo(n.type)?k.cloneElement(n,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):Qs(n)?n({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):n}function hP({closeToast:n,theme:e,ariaLabel:t="close"}){return wt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:i=>{i.stopPropagation(),n(!0)},"aria-label":t},wt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},wt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function fP({delay:n,isRunning:e,closeToast:t,type:i="default",hide:s,className:o,controlledProgress:u,progress:f,rtl:h,isIn:d,theme:y}){let _=s||u&&f===0,b={animationDuration:`${n}ms`,animationPlayState:e?"running":"paused"};u&&(b.transform=`scaleX(${f})`);let w=Go("Toastify__progress-bar",u?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${y}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":h}),I=Qs(o)?o({rtl:h,type:i,defaultClassName:w}):Go(w,o),O={[u&&f>=1?"onTransitionEnd":"onAnimationEnd"]:u&&f<1?null:()=>{d&&t()}};return wt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":_},wt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${y} Toastify__progress-bar--${i}`}),wt.createElement("div",{role:"progressbar","aria-hidden":_?"true":"false","aria-label":"notification timer",className:I,style:b,...O}))}var dP=1,_R=()=>`${dP++}`;function pP(n,e,t){let i=1,s=0,o=[],u=[],f=e,h=new Map,d=new Set,y=V=>(d.add(V),()=>d.delete(V)),_=()=>{u=Array.from(h.values()),d.forEach(V=>V())},b=({containerId:V,toastId:z,updateId:Q})=>{let H=V?V!==n:n!==1,ie=h.has(z)&&Q==null;return H||ie},w=(V,z)=>{h.forEach(Q=>{var H;(z==null||z===Q.props.toastId)&&((H=Q.toggle)==null||H.call(Q,V))})},I=V=>{var z,Q;(Q=(z=V.props)==null?void 0:z.onClose)==null||Q.call(z,V.removalReason),V.isActive=!1},O=V=>{if(V==null)h.forEach(I);else{let z=h.get(V);z&&I(z)}_()},A=()=>{s-=o.length,o=[]},U=V=>{var z,Q;let{toastId:H,updateId:ie}=V.props,S=ie==null;V.staleId&&h.delete(V.staleId),V.isActive=!0,h.set(H,V),_(),t(WS(V,S?"added":"updated")),S&&((Q=(z=V.props).onOpen)==null||Q.call(z))};return{id:n,props:f,observe:y,toggle:w,removeToast:O,toasts:h,clearQueue:A,buildToast:(V,z)=>{if(b(z))return;let{toastId:Q,updateId:H,data:ie,staleId:S,delay:C}=z,x=H==null;x&&s++;let N={...f,style:f.toastStyle,key:i++,...Object.fromEntries(Object.entries(z).filter(([P,M])=>M!=null)),toastId:Q,updateId:H,data:ie,isIn:!1,className:f_(z.className||f.toastClassName),progressClassName:f_(z.progressClassName||f.progressClassName),autoClose:z.isLoading?!1:lP(z.autoClose,f.autoClose),closeToast(P){h.get(Q).removalReason=P,O(Q)},deleteToast(){let P=h.get(Q);if(P!=null){if(t(WS(P,"removed")),h.delete(Q),s--,s<0&&(s=0),o.length>0){U(o.shift());return}_()}}};N.closeButton=f.closeButton,z.closeButton===!1||d_(z.closeButton)?N.closeButton=z.closeButton:z.closeButton===!0&&(N.closeButton=d_(f.closeButton)?f.closeButton:!0);let L={content:V,props:N,staleId:S};f.limit&&f.limit>0&&s>f.limit&&x?o.push(L):Ah(C)?setTimeout(()=>{U(L)},C):U(L)},setProps(V){f=V},setToggle:(V,z)=>{let Q=h.get(V);Q&&(Q.toggle=z)},isToastActive:V=>{var z;return(z=h.get(V))==null?void 0:z.isActive},getSnapshot:()=>u}}var mi=new Map,ch=[],p_=new Set,mP=n=>p_.forEach(e=>e(n)),vR=()=>mi.size>0;function gP(){ch.forEach(n=>ER(n.content,n.options)),ch=[]}var yP=(n,{containerId:e})=>{var t;return(t=mi.get(e||1))==null?void 0:t.toasts.get(n)};function bR(n,e){var t;if(e)return!!((t=mi.get(e))!=null&&t.isToastActive(n));let i=!1;return mi.forEach(s=>{s.isToastActive(n)&&(i=!0)}),i}function _P(n){if(!vR()){ch=ch.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||oP(n))mi.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=mi.get(n.containerId);e?e.removeToast(n.id):mi.forEach(t=>{t.removeToast(n.id)})}}var vP=(n={})=>{mi.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function ER(n,e){d_(n)&&(vR()||ch.push({content:n,options:e}),mi.forEach(t=>{t.buildToast(n,e)}))}function bP(n){var e;(e=mi.get(n.containerId||1))==null||e.setToggle(n.id,n.fn)}function TR(n,e){mi.forEach(t=>{(e==null||!(e!=null&&e.containerId)||e?.containerId===t.id)&&t.toggle(n,e?.id)})}function EP(n){let e=n.containerId||1;return{subscribe(t){let i=pP(e,n,mP);mi.set(e,i);let s=i.observe(t);return gP(),()=>{s(),mi.delete(e)}},setProps(t){var i;(i=mi.get(e))==null||i.setProps(t)},getSnapshot(){var t;return(t=mi.get(e))==null?void 0:t.getSnapshot()}}}function TP(n){return p_.add(n),()=>{p_.delete(n)}}function SP(n){return n&&(Qo(n.toastId)||Ah(n.toastId))?n.toastId:_R()}function Ih(n,e){return ER(n,e),e.toastId}function jp(n,e){return{...e,type:e&&e.type||n,toastId:SP(e)}}function Hp(n){return(e,t)=>Ih(e,jp(n,t))}function ft(n,e){return Ih(n,jp("default",e))}ft.loading=(n,e)=>Ih(n,jp("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function wP(n,{pending:e,error:t,success:i},s){let o;e&&(o=Qo(e)?ft.loading(e,s):ft.loading(e.render,{...s,...e}));let u={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},f=(d,y,_)=>{if(y==null){ft.dismiss(o);return}let b={type:d,...u,...s,data:_},w=Qo(y)?{render:y}:y;return o?ft.update(o,{...b,...w}):ft(w.render,{...b,...w}),_},h=Qs(n)?n():n;return h.then(d=>f("success",i,d)).catch(d=>f("error",t,d)),h}ft.promise=wP;ft.success=Hp("success");ft.info=Hp("info");ft.error=Hp("error");ft.warning=Hp("warning");ft.warn=ft.warning;ft.dark=(n,e)=>Ih(n,jp("default",{theme:"dark",...e}));function CP(n){_P(n)}ft.dismiss=CP;ft.clearWaitingQueue=vP;ft.isActive=bR;ft.update=(n,e={})=>{let t=yP(n,e);if(t){let{props:i,content:s}=t,o={delay:100,...i,...e,toastId:e.toastId||n,updateId:_R()};o.toastId!==n&&(o.staleId=n);let u=o.render||s;delete o.render,Ih(u,o)}};ft.done=n=>{ft.update(n,{progress:1})};ft.onChange=TP;ft.play=n=>TR(!0,n);ft.pause=n=>TR(!1,n);function RP(n){var e;let{subscribe:t,getSnapshot:i,setProps:s}=k.useRef(EP(n)).current;s(n);let o=(e=k.useSyncExternalStore(t,i,i))==null?void 0:e.slice();function u(f){if(!o)return[];let h=new Map;return n.newestOnTop&&o.reverse(),o.forEach(d=>{let{position:y}=d.props;h.has(y)||h.set(y,[]),h.get(y).push(d)}),Array.from(h,d=>f(d[0],d[1]))}return{getToastToRender:u,isToastActive:bR,count:o?.length}}function AP(n){let[e,t]=k.useState(!1),[i,s]=k.useState(!1),o=k.useRef(null),u=k.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:f,pauseOnHover:h,closeToast:d,onClick:y,closeOnClick:_}=n;bP({id:n.toastId,containerId:n.containerId,fn:t}),k.useEffect(()=>{if(n.pauseOnFocusLoss)return b(),()=>{w()}},[n.pauseOnFocusLoss]);function b(){document.hasFocus()||U(),window.addEventListener("focus",A),window.addEventListener("blur",U)}function w(){window.removeEventListener("focus",A),window.removeEventListener("blur",U)}function I(S){if(n.draggable===!0||n.draggable===S.pointerType){V();let C=o.current;u.canCloseOnClick=!0,u.canDrag=!0,C.style.transition="none",n.draggableDirection==="x"?(u.start=S.clientX,u.removalDistance=C.offsetWidth*(n.draggablePercent/100)):(u.start=S.clientY,u.removalDistance=C.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function O(S){let{top:C,bottom:x,left:N,right:L}=o.current.getBoundingClientRect();S.nativeEvent.type!=="touchend"&&n.pauseOnHover&&S.clientX>=N&&S.clientX<=L&&S.clientY>=C&&S.clientY<=x?U():A()}function A(){t(!0)}function U(){t(!1)}function V(){u.didMove=!1,document.addEventListener("pointermove",Q),document.addEventListener("pointerup",H)}function z(){document.removeEventListener("pointermove",Q),document.removeEventListener("pointerup",H)}function Q(S){let C=o.current;if(u.canDrag&&C){u.didMove=!0,e&&U(),n.draggableDirection==="x"?u.delta=S.clientX-u.start:u.delta=S.clientY-u.start,u.start!==S.clientX&&(u.canCloseOnClick=!1);let x=n.draggableDirection==="x"?`${u.delta}px, var(--y)`:`0, calc(${u.delta}px + var(--y))`;C.style.transform=`translate3d(${x},0)`,C.style.opacity=`${1-Math.abs(u.delta/u.removalDistance)}`}}function H(){z();let S=o.current;if(u.canDrag&&u.didMove&&S){if(u.canDrag=!1,Math.abs(u.delta)>u.removalDistance){s(!0),n.closeToast(!0),n.collapseAll();return}S.style.transition="transform 0.2s, opacity 0.2s",S.style.removeProperty("transform"),S.style.removeProperty("opacity")}}let ie={onPointerDown:I,onPointerUp:O};return f&&h&&(ie.onMouseEnter=U,n.stacked||(ie.onMouseLeave=A)),_&&(ie.onClick=S=>{y&&y(S),u.canCloseOnClick&&d(!0)}),{playToast:A,pauseToast:U,isRunning:e,preventExitTransition:i,toastRef:o,eventHandlers:ie}}var IP=typeof window<"u"?k.useLayoutEffect:k.useEffect,qp=({theme:n,type:e,isLoading:t,...i})=>wt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...i});function OP(n){return wt.createElement(qp,{...n},wt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function DP(n){return wt.createElement(qp,{...n},wt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function NP(n){return wt.createElement(qp,{...n},wt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function MP(n){return wt.createElement(qp,{...n},wt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function xP(){return wt.createElement("div",{className:"Toastify__spinner"})}var m_={info:DP,warning:OP,success:NP,error:MP,spinner:xP},PP=n=>n in m_;function kP({theme:n,type:e,isLoading:t,icon:i}){let s=null,o={theme:n,type:e};return i===!1||(Qs(i)?s=i({...o,isLoading:t}):k.isValidElement(i)?s=k.cloneElement(i,o):t?s=m_.spinner():PP(e)&&(s=m_[e](o))),s}var LP=n=>{let{isRunning:e,preventExitTransition:t,toastRef:i,eventHandlers:s,playToast:o}=AP(n),{closeButton:u,children:f,autoClose:h,onClick:d,type:y,hideProgressBar:_,closeToast:b,transition:w,position:I,className:O,style:A,progressClassName:U,updateId:V,role:z,progress:Q,rtl:H,toastId:ie,deleteToast:S,isIn:C,isLoading:x,closeOnClick:N,theme:L,ariaLabel:P}=n,M=Go("Toastify__toast",`Toastify__toast-theme--${L}`,`Toastify__toast--${y}`,{"Toastify__toast--rtl":H},{"Toastify__toast--close-on-click":N}),ye=Qs(O)?O({rtl:H,position:I,type:y,defaultClassName:M}):Go(M,O),ne=kP(n),$=!!Q||!h,ee={closeToast:b,type:y,theme:L},me=null;return u===!1||(Qs(u)?me=u(ee):k.isValidElement(u)?me=k.cloneElement(u,ee):me=hP(ee)),wt.createElement(w,{isIn:C,done:S,position:I,preventExitTransition:t,nodeRef:i,playToast:o},wt.createElement("div",{id:ie,tabIndex:0,onClick:d,"data-in":C,className:ye,...s,style:A,ref:i,...C&&{role:z,"aria-label":P}},ne!=null&&wt.createElement("div",{className:Go("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!x})},ne),yR(f,n,!e),me,!n.customProgressBar&&wt.createElement(fP,{...V&&!$?{key:`p-${V}`}:{},rtl:H,theme:L,delay:h,isRunning:e,isIn:C,closeToast:b,hide:_,type:y,className:U,controlledProgress:$,progress:Q||0})))},VP=(n,e=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}),UP=cP(VP("bounce",!0)),zP={position:"top-right",transition:UP,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function FP(n){let e={...zP,...n},t=n.stacked,[i,s]=k.useState(!0),o=k.useRef(null),{getToastToRender:u,isToastActive:f,count:h}=RP(e),{className:d,style:y,rtl:_,containerId:b,hotKeys:w}=e;function I(A){let U=Go("Toastify__toast-container",`Toastify__toast-container--${A}`,{"Toastify__toast-container--rtl":_});return Qs(d)?d({position:A,rtl:_,defaultClassName:U}):Go(U,f_(d))}function O(){t&&(s(!0),ft.play())}return IP(()=>{var A;if(t){let U=o.current.querySelectorAll('[data-in="true"]'),V=12,z=(A=e.position)==null?void 0:A.includes("top"),Q=0,H=0;Array.from(U).reverse().forEach((ie,S)=>{let C=ie;C.classList.add("Toastify__toast--stacked"),S>0&&(C.dataset.collapsed=`${i}`),C.dataset.pos||(C.dataset.pos=z?"top":"bot");let x=Q*(i?.2:1)+(i?0:V*S);C.style.setProperty("--y",`${z?x:x*-1}px`),C.style.setProperty("--g",`${V}`),C.style.setProperty("--s",`${1-(i?H:0)}`),Q+=C.offsetHeight,H+=.025})}},[i,h,t]),k.useEffect(()=>{function A(U){var V;let z=o.current;w(U)&&((V=z.querySelector('[tabIndex="0"]'))==null||V.focus(),s(!1),ft.pause()),U.key==="Escape"&&(document.activeElement===z||z!=null&&z.contains(document.activeElement))&&(s(!0),ft.play())}return document.addEventListener("keydown",A),()=>{document.removeEventListener("keydown",A)}},[w]),wt.createElement("section",{ref:o,className:"Toastify",id:b,onMouseEnter:()=>{t&&(s(!1),ft.pause())},onMouseLeave:O,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},u((A,U)=>{let V=U.length?{...y}:{...y,pointerEvents:"none"};return wt.createElement("div",{tabIndex:-1,className:I(A),"data-stacked":t,style:V,key:`c-${A}`},U.map(({content:z,props:Q})=>wt.createElement(LP,{...Q,stacked:t,collapseAll:O,isIn:f(Q.toastId,Q.containerId),key:`t-${Q.key}`},z)))}))}const XS=n=>{let e;const t=new Set,i=(d,y)=>{const _=typeof d=="function"?d(e):d;if(!Object.is(_,e)){const b=e;e=y??(typeof _!="object"||_===null)?_:Object.assign({},e,_),t.forEach(w=>w(e,b))}},s=()=>e,f={setState:i,getState:s,getInitialState:()=>h,subscribe:d=>(t.add(d),()=>t.delete(d))},h=e=n(i,s,f);return f},BP=(n=>n?XS(n):XS),jP=n=>n;function HP(n,e=jP){const t=wt.useSyncExternalStore(n.subscribe,wt.useCallback(()=>e(n.getState()),[n,e]),wt.useCallback(()=>e(n.getInitialState()),[n,e]));return wt.useDebugValue(t),t}const JS=n=>{const e=BP(n),t=i=>HP(e,i);return Object.assign(t,e),t},qP=(n=>n?JS(n):JS);function $P(n,e){let t;try{t=n()}catch{return}return{getItem:s=>{var o;const u=h=>h===null?null:JSON.parse(h,void 0),f=(o=t.getItem(s))!=null?o:null;return f instanceof Promise?f.then(u):u(f)},setItem:(s,o)=>t.setItem(s,JSON.stringify(o,void 0)),removeItem:s=>t.removeItem(s)}}const g_=n=>e=>{try{const t=n(e);return t instanceof Promise?t:{then(i){return g_(i)(t)},catch(i){return this}}}catch(t){return{then(i){return this},catch(i){return g_(i)(t)}}}},GP=(n,e)=>(t,i,s)=>{let o={storage:$P(()=>localStorage),partialize:O=>O,version:0,merge:(O,A)=>({...A,...O}),...e},u=!1;const f=new Set,h=new Set;let d=o.storage;if(!d)return n((...O)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),t(...O)},i,s);const y=()=>{const O=o.partialize({...i()});return d.setItem(o.name,{state:O,version:o.version})},_=s.setState;s.setState=(O,A)=>(_(O,A),y());const b=n((...O)=>(t(...O),y()),i,s);s.getInitialState=()=>b;let w;const I=()=>{var O,A;if(!d)return;u=!1,f.forEach(V=>{var z;return V((z=i())!=null?z:b)});const U=((A=o.onRehydrateStorage)==null?void 0:A.call(o,(O=i())!=null?O:b))||void 0;return g_(d.getItem.bind(d))(o.name).then(V=>{if(V)if(typeof V.version=="number"&&V.version!==o.version){if(o.migrate){const z=o.migrate(V.state,V.version);return z instanceof Promise?z.then(Q=>[!0,Q]):[!0,z]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,V.state];return[!1,void 0]}).then(V=>{var z;const[Q,H]=V;if(w=o.merge(H,(z=i())!=null?z:b),t(w,!0),Q)return y()}).then(()=>{U?.(w,void 0),w=i(),u=!0,h.forEach(V=>V(w))}).catch(V=>{U?.(void 0,V)})};return s.persist={setOptions:O=>{o={...o,...O},O.storage&&(d=O.storage)},clearStorage:()=>{d?.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>I(),hasHydrated:()=>u,onHydrate:O=>(f.add(O),()=>{f.delete(O)}),onFinishHydration:O=>(h.add(O),()=>{h.delete(O)})},o.skipHydration||I(),w||b},KP=GP,Wo=qP(KP(n=>({user:void 0,setUser:(e,t=!0)=>{n({user:e}),t||localStorage.removeItem("auth-storage")},clearUser:()=>n({user:null})}),{name:"auth-storage",skipHydration:!1})),YP=()=>{};var ZS={};const SR={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};const be=function(n,e){if(!n)throw Ou(e)},Ou=function(n){return new Error("Firebase Database ("+SR.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};const wR=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},QP=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const s=n[t++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const o=n[t++];e[i++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=n[t++],u=n[t++],f=n[t++],h=((s&7)<<18|(o&63)<<12|(u&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const o=n[t++],u=n[t++];e[i++]=String.fromCharCode((s&15)<<12|(o&63)<<6|u&63)}}return e.join("")},wv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<n.length;s+=3){const o=n[s],u=s+1<n.length,f=u?n[s+1]:0,h=s+2<n.length,d=h?n[s+2]:0,y=o>>2,_=(o&3)<<4|f>>4;let b=(f&15)<<2|d>>6,w=d&63;h||(w=64,u||(b=64)),i.push(t[y],t[_],t[b],t[w])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(wR(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):QP(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<n.length;){const o=t[n.charAt(s++)],f=s<n.length?t[n.charAt(s)]:0;++s;const d=s<n.length?t[n.charAt(s)]:64;++s;const _=s<n.length?t[n.charAt(s)]:64;if(++s,o==null||f==null||d==null||_==null)throw new WP;const b=o<<2|f>>4;if(i.push(b),d!==64){const w=f<<4&240|d>>2;if(i.push(w),_!==64){const I=d<<6&192|_;i.push(I)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class WP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CR=function(n){const e=wR(n);return wv.encodeByteArray(e,!0)},Zd=function(n){return CR(n).replace(/\./g,"")},ep=function(n){try{return wv.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function XP(n){return RR(void 0,n)}function RR(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!JP(t)||(n[t]=RR(n[t],e[t]));return n}function JP(n){return n!=="__proto__"}function ZP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const ek=()=>ZP().__FIREBASE_DEFAULTS__,tk=()=>{if(typeof process>"u"||typeof ZS>"u")return;const n=ZS.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},nk=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&ep(n[1]);return e&&JSON.parse(e)},$p=()=>{try{return YP()||ek()||tk()||nk()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},AR=n=>$p()?.emulatorHosts?.[n],Cv=n=>{const e=AR(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},IR=()=>$p()?.config,OR=n=>$p()?.[`_${n}`];class Rv{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}function ra(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Gp(n){return(await fetch(n,{credentials:"include"})).ok}function Av(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",s=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Zd(JSON.stringify(t)),Zd(JSON.stringify(u)),""].join(".")}const Xc={};function ik(){const n={prod:[],emulator:[]};for(const e of Object.keys(Xc))Xc[e]?n.emulator.push(e):n.prod.push(e);return n}function rk(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let e1=!1;function Kp(n,e){if(typeof window>"u"||typeof document>"u"||!ra(window.location.host)||Xc[n]===e||Xc[n]||e1)return;Xc[n]=e;function t(b){return`__firebase__banner__${b}`}const i="__firebase__banner",o=ik().prod.length>0;function u(){const b=document.getElementById(i);b&&b.remove()}function f(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function h(b,w){b.setAttribute("width","24"),b.setAttribute("id",w),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function d(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{e1=!0,u()},b}function y(b,w){b.setAttribute("id",w),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function _(){const b=rk(i),w=t("text"),I=document.getElementById(w)||document.createElement("span"),O=t("learnmore"),A=document.getElementById(O)||document.createElement("a"),U=t("preprendIcon"),V=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const z=b.element;f(z),y(A,O);const Q=d();h(V,U),z.append(V,I,A,Q),document.body.appendChild(z)}o?(I.innerText="Preview backend disconnected.",V.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(V.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function si(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Iv(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(si())}function sk(){const n=$p()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ak(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ok(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function DR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lk(){const n=si();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function uk(){return SR.NODE_ADMIN===!0}function ck(){return!sk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hk(){try{return typeof indexedDB=="object"}catch{return!1}}function fk(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(t){e(t)}})}const dk="FirebaseError";class fs extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=dk,Object.setPrototypeOf(this,fs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Oh.prototype.create)}}class Oh{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},s=`${this.service}/${e}`,o=this.errors[e],u=o?pk(o,i):"Error",f=`${this.serviceName}: ${u} (${s}).`;return new fs(s,f,i)}}function pk(n,e){return n.replace(mk,(t,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const mk=/\{\$([^}]+)}/g;function hh(n){return JSON.parse(n)}function Gn(n){return JSON.stringify(n)}const NR=function(n){let e={},t={},i={},s="";try{const o=n.split(".");e=hh(ep(o[0])||""),t=hh(ep(o[1])||""),s=o[2],i=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:i,signature:s}},gk=function(n){const e=NR(n),t=e.claims;return!!t&&typeof t=="object"&&t.hasOwnProperty("iat")},yk=function(n){const e=NR(n).claims;return typeof e=="object"&&e.admin===!0};function sa(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function gu(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function y_(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function tp(n,e,t){const i={};for(const s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=e.call(t,n[s],s,n));return i}function as(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const s of t){if(!i.includes(s))return!1;const o=n[s],u=e[s];if(t1(o)&&t1(u)){if(!as(o,u))return!1}else if(o!==u)return!1}for(const s of i)if(!t.includes(s))return!1;return!0}function t1(n){return n!==null&&typeof n=="object"}function Du(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}class _k{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const i=this.W_;if(typeof e=="string")for(let _=0;_<16;_++)i[_]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let _=0;_<16;_++)i[_]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let _=16;_<80;_++){const b=i[_-3]^i[_-8]^i[_-14]^i[_-16];i[_]=(b<<1|b>>>31)&4294967295}let s=this.chain_[0],o=this.chain_[1],u=this.chain_[2],f=this.chain_[3],h=this.chain_[4],d,y;for(let _=0;_<80;_++){_<40?_<20?(d=f^o&(u^f),y=1518500249):(d=o^u^f,y=1859775393):_<60?(d=o&u|f&(o|u),y=2400959708):(d=o^u^f,y=3395469782);const b=(s<<5|s>>>27)+d+h+y+i[_]&4294967295;h=f,f=u,u=(o<<30|o>>>2)&4294967295,o=s,s=b}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+f&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295}update(e,t){if(e==null)return;t===void 0&&(t=e.length);const i=t-this.blockSize;let s=0;const o=this.buf_;let u=this.inbuf_;for(;s<t;){if(u===0)for(;s<=i;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<t;)if(o[u]=e.charCodeAt(s),++u,++s,u===this.blockSize){this.compress_(o),u=0;break}}else for(;s<t;)if(o[u]=e[s],++u,++s,u===this.blockSize){this.compress_(o),u=0;break}}this.inbuf_=u,this.total_+=t}digest(){const e=[];let t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=t&255,t/=256;this.compress_(this.buf_);let i=0;for(let s=0;s<5;s++)for(let o=24;o>=0;o-=8)e[i]=this.chain_[s]>>o&255,++i;return e}}function vk(n,e){const t=new bk(n,e);return t.subscribe.bind(t)}class bk{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let s;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");Ek(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:i},s.next===void 0&&(s.next=My),s.error===void 0&&(s.error=My),s.complete===void 0&&(s.complete=My);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ek(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function My(){}function Tk(n,e){return`${n} failed: ${e} argument `}const Sk=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);if(s>=55296&&s<=56319){const o=s-55296;i++,be(i<n.length,"Surrogate pair missing trail surrogate.");const u=n.charCodeAt(i)-56320;s=65536+(o<<10)+u}s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):s<65536?(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},Yp=function(n){let e=0;for(let t=0;t<n.length;t++){const i=n.charCodeAt(t);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,t++):e+=3}return e};function Yn(n){return n&&n._delegate?n._delegate:n}class Ws{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Fo="[DEFAULT]";class wk{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new Rv;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Rk(e))try{this.getOrInitializeService({instanceIdentifier:Fo})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:s});i.resolve(o)}catch{}}}}clearInstance(e=Fo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fo){return this.instances.has(e)}getOptions(e=Fo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[o,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(o);i===f&&u.resolve(s)}return s}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(i)??new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const s of i)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Ck(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Fo){return this.component?this.component.multipleInstances?e:Fo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ck(n){return n===Fo?void 0:n}function Rk(n){return n.instantiationMode==="EAGER"}class Ak{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new wk(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var tt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(tt||(tt={}));const Ik={debug:tt.DEBUG,verbose:tt.VERBOSE,info:tt.INFO,warn:tt.WARN,error:tt.ERROR,silent:tt.SILENT},Ok=tt.INFO,Dk={[tt.DEBUG]:"log",[tt.VERBOSE]:"log",[tt.INFO]:"info",[tt.WARN]:"warn",[tt.ERROR]:"error"},Nk=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),s=Dk[e];if(s)console[s](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qp{constructor(e){this.name=e,this._logLevel=Ok,this._logHandler=Nk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in tt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ik[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,tt.DEBUG,...e),this._logHandler(this,tt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,tt.VERBOSE,...e),this._logHandler(this,tt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,tt.INFO,...e),this._logHandler(this,tt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,tt.WARN,...e),this._logHandler(this,tt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,tt.ERROR,...e),this._logHandler(this,tt.ERROR,...e)}}const Mk=(n,e)=>e.some(t=>n instanceof t);let n1,i1;function xk(){return n1||(n1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Pk(){return i1||(i1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const MR=new WeakMap,__=new WeakMap,xR=new WeakMap,xy=new WeakMap,Ov=new WeakMap;function kk(n){const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(Qa(n.result)),s()},u=()=>{i(n.error),s()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&MR.set(t,n)}).catch(()=>{}),Ov.set(e,n),e}function Lk(n){if(__.has(n))return;const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),s()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});__.set(n,e)}let v_={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return __.get(n);if(e==="objectStoreNames")return n.objectStoreNames||xR.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Qa(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Vk(n){v_=n(v_)}function Uk(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Py(this),e,...t);return xR.set(i,e.sort?e.sort():[e]),Qa(i)}:Pk().includes(n)?function(...e){return n.apply(Py(this),e),Qa(MR.get(this))}:function(...e){return Qa(n.apply(Py(this),e))}}function zk(n){return typeof n=="function"?Uk(n):(n instanceof IDBTransaction&&Lk(n),Mk(n,xk())?new Proxy(n,v_):n)}function Qa(n){if(n instanceof IDBRequest)return kk(n);if(xy.has(n))return xy.get(n);const e=zk(n);return e!==n&&(xy.set(n,e),Ov.set(e,n)),e}const Py=n=>Ov.get(n);function Fk(n,e,{blocked:t,upgrade:i,blocking:s,terminated:o}={}){const u=indexedDB.open(n,e),f=Qa(u);return i&&u.addEventListener("upgradeneeded",h=>{i(Qa(u.result),h.oldVersion,h.newVersion,Qa(u.transaction),h)}),t&&u.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),f.then(h=>{o&&h.addEventListener("close",()=>o()),s&&h.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),f}const Bk=["get","getKey","getAll","getAllKeys","count"],jk=["put","add","delete","clear"],ky=new Map;function r1(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(ky.get(e))return ky.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,s=jk.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(s||Bk.includes(t)))return;const o=async function(u,...f){const h=this.transaction(u,s?"readwrite":"readonly");let d=h.store;return i&&(d=d.index(f.shift())),(await Promise.all([d[t](...f),s&&h.done]))[0]};return ky.set(e,o),o}Vk(n=>({...n,get:(e,t,i)=>r1(e,t)||n.get(e,t,i),has:(e,t)=>!!r1(e,t)||n.has(e,t)}));class Hk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(qk(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function qk(n){return n.getComponent()?.type==="VERSION"}const b_="@firebase/app",s1="0.14.5";const Xs=new Qp("@firebase/app"),$k="@firebase/app-compat",Gk="@firebase/analytics-compat",Kk="@firebase/analytics",Yk="@firebase/app-check-compat",Qk="@firebase/app-check",Wk="@firebase/auth",Xk="@firebase/auth-compat",Jk="@firebase/database",Zk="@firebase/data-connect",eL="@firebase/database-compat",tL="@firebase/functions",nL="@firebase/functions-compat",iL="@firebase/installations",rL="@firebase/installations-compat",sL="@firebase/messaging",aL="@firebase/messaging-compat",oL="@firebase/performance",lL="@firebase/performance-compat",uL="@firebase/remote-config",cL="@firebase/remote-config-compat",hL="@firebase/storage",fL="@firebase/storage-compat",dL="@firebase/firestore",pL="@firebase/ai",mL="@firebase/firestore-compat",gL="firebase",yL="12.5.0";const E_="[DEFAULT]",_L={[b_]:"fire-core",[$k]:"fire-core-compat",[Kk]:"fire-analytics",[Gk]:"fire-analytics-compat",[Qk]:"fire-app-check",[Yk]:"fire-app-check-compat",[Wk]:"fire-auth",[Xk]:"fire-auth-compat",[Jk]:"fire-rtdb",[Zk]:"fire-data-connect",[eL]:"fire-rtdb-compat",[tL]:"fire-fn",[nL]:"fire-fn-compat",[iL]:"fire-iid",[rL]:"fire-iid-compat",[sL]:"fire-fcm",[aL]:"fire-fcm-compat",[oL]:"fire-perf",[lL]:"fire-perf-compat",[uL]:"fire-rc",[cL]:"fire-rc-compat",[hL]:"fire-gcs",[fL]:"fire-gcs-compat",[dL]:"fire-fst",[mL]:"fire-fst-compat",[pL]:"fire-vertex","fire-js":"fire-js",[gL]:"fire-js-all"};const np=new Map,vL=new Map,T_=new Map;function a1(n,e){try{n.container.addComponent(e)}catch(t){Xs.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function to(n){const e=n.name;if(T_.has(e))return Xs.debug(`There were multiple attempts to register component ${e}.`),!1;T_.set(e,n);for(const t of np.values())a1(t,n);for(const t of vL.values())a1(t,n);return!0}function Dh(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function zi(n){return n==null?!1:n.settings!==void 0}const bL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wa=new Oh("app","Firebase",bL);class EL{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ws("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wa.create("app-deleted",{appName:this._name})}}const ho=yL;function PR(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i={name:E_,automaticDataCollectionEnabled:!0,...e},s=i.name;if(typeof s!="string"||!s)throw Wa.create("bad-app-name",{appName:String(s)});if(t||(t=IR()),!t)throw Wa.create("no-options");const o=np.get(s);if(o){if(as(t,o.options)&&as(i,o.config))return o;throw Wa.create("duplicate-app",{appName:s})}const u=new Ak(s);for(const h of T_.values())u.addComponent(h);const f=new EL(t,i,u);return np.set(s,f),f}function Wp(n=E_){const e=np.get(n);if(!e&&n===E_&&IR())return PR();if(!e)throw Wa.create("no-app",{appName:n});return e}function ur(n,e,t){let i=_L[n]??n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const u=[`Unable to register library "${i}" with version "${e}":`];s&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xs.warn(u.join(" "));return}to(new Ws(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const TL="firebase-heartbeat-database",SL=1,fh="firebase-heartbeat-store";let Ly=null;function kR(){return Ly||(Ly=Fk(TL,SL,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(fh)}catch(t){console.warn(t)}}}}).catch(n=>{throw Wa.create("idb-open",{originalErrorMessage:n.message})})),Ly}async function wL(n){try{const t=(await kR()).transaction(fh),i=await t.objectStore(fh).get(LR(n));return await t.done,i}catch(e){if(e instanceof fs)Xs.warn(e.message);else{const t=Wa.create("idb-get",{originalErrorMessage:e?.message});Xs.warn(t.message)}}}async function o1(n,e){try{const i=(await kR()).transaction(fh,"readwrite");await i.objectStore(fh).put(e,LR(n)),await i.done}catch(t){if(t instanceof fs)Xs.warn(t.message);else{const i=Wa.create("idb-set",{originalErrorMessage:t?.message});Xs.warn(i.message)}}}function LR(n){return`${n.name}!${n.options.appId}`}const CL=1024,RL=30;class AL{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new OL(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=l1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>RL){const s=DL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Xs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=l1(),{heartbeatsToSend:t,unsentEntries:i}=IL(this._heartbeatsCache.heartbeats),s=Zd(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return Xs.warn(e),""}}}function l1(){return new Date().toISOString().substring(0,10)}function IL(n,e=CL){const t=[];let i=n.slice();for(const s of n){const o=t.find(u=>u.agent===s.agent);if(o){if(o.dates.push(s.date),u1(t)>e){o.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),u1(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class OL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hk()?fk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await wL(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return o1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return o1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function u1(n){return Zd(JSON.stringify({version:2,heartbeats:n})).length}function DL(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}function NL(n){to(new Ws("platform-logger",e=>new Hk(e),"PRIVATE")),to(new Ws("heartbeat",e=>new AL(e),"PRIVATE")),ur(b_,s1,n),ur(b_,s1,"esm2020"),ur("fire-js","")}NL("");function VR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ML=VR,UR=new Oh("auth","Firebase",VR());const ip=new Qp("@firebase/auth");function xL(n,...e){ip.logLevel<=tt.WARN&&ip.warn(`Auth (${ho}): ${n}`,...e)}function kd(n,...e){ip.logLevel<=tt.ERROR&&ip.error(`Auth (${ho}): ${n}`,...e)}function os(n,...e){throw Nv(n,...e)}function Or(n,...e){return Nv(n,...e)}function Dv(n,e,t){const i={...ML(),[e]:t};return new Oh("auth","Firebase",i).create(e,{appName:n.name})}function Ko(n){return Dv(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function PL(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&os(n,"argument-error"),Dv(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Nv(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return UR.create(n,...e)}function He(n,e,...t){if(!n)throw Nv(e,...t)}function js(n){const e="INTERNAL ASSERTION FAILED: "+n;throw kd(e),new Error(e)}function Js(n,e){n||js(e)}function S_(){return typeof self<"u"&&self.location?.href||""}function kL(){return c1()==="http:"||c1()==="https:"}function c1(){return typeof self<"u"&&self.location?.protocol||null}function LL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kL()||ok()||"connection"in navigator)?navigator.onLine:!0}function VL(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Nh{constructor(e,t){this.shortDelay=e,this.longDelay=t,Js(t>e,"Short delay should be less than long delay!"),this.isMobile=Iv()||DR()}get(){return LL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Mv(n,e){Js(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class zR{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;js("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;js("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;js("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const UL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const zL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],FL=new Nh(3e4,6e4);function xv(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Nu(n,e,t,i,s={}){return FR(n,s,async()=>{let o={},u={};i&&(e==="GET"?u=i:o={body:JSON.stringify(i)});const f=Du({key:n.config.apiKey,...u}).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const d={method:e,headers:h,...o};return ak()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&ra(n.emulatorConfig.host)&&(d.credentials="include"),zR.fetch()(await BR(n,n.config.apiHost,t,f),d)})}async function FR(n,e,t){n._canInitEmulator=!1;const i={...UL,...e};try{const s=new jL(n),o=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw md(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const f=o.ok?u.errorMessage:u.error.message,[h,d]=f.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw md(n,"credential-already-in-use",u);if(h==="EMAIL_EXISTS")throw md(n,"email-already-in-use",u);if(h==="USER_DISABLED")throw md(n,"user-disabled",u);const y=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Dv(n,y,d);os(n,y)}}catch(s){if(s instanceof fs)throw s;os(n,"network-request-failed",{message:String(s)})}}async function BL(n,e,t,i,s={}){const o=await Nu(n,e,t,i,s);return"mfaPendingCredential"in o&&os(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function BR(n,e,t,i){const s=`${e}${t}?${i}`,o=n,u=o.config.emulator?Mv(n.config,s):`${n.config.apiScheme}://${s}`;return zL.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}class jL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Or(this.auth,"network-request-failed")),FL.get())})}}function md(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const s=Or(n,e,i);return s.customData._tokenResponse=t,s}async function HL(n,e){return Nu(n,"POST","/v1/accounts:delete",e)}async function rp(n,e){return Nu(n,"POST","/v1/accounts:lookup",e)}function Jc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function qL(n,e=!1){const t=Yn(n),i=await t.getIdToken(e),s=Pv(i);He(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,u=o?.sign_in_provider;return{claims:s,token:i,authTime:Jc(Vy(s.auth_time)),issuedAtTime:Jc(Vy(s.iat)),expirationTime:Jc(Vy(s.exp)),signInProvider:u||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Vy(n){return Number(n)*1e3}function Pv(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return kd("JWT malformed, contained fewer than 3 sections"),null;try{const s=ep(t);return s?JSON.parse(s):(kd("Failed to decode base64 JWT payload"),null)}catch(s){return kd("Caught error parsing JWT payload as JSON",s?.toString()),null}}function h1(n){const e=Pv(n);return He(e,"internal-error"),He(typeof e.exp<"u","internal-error"),He(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function dh(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof fs&&$L(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function $L({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class GL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class w_{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jc(this.lastLoginAt),this.creationTime=Jc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function sp(n){const e=n.auth,t=await n.getIdToken(),i=await dh(n,rp(e,{idToken:t}));He(i?.users.length,e,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=s.providerUserInfo?.length?jR(s.providerUserInfo):[],u=YL(n.providerData,o),f=n.isAnonymous,h=!(n.email&&s.passwordHash)&&!u?.length,d=f?h:!1,y={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new w_(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(n,y)}async function KL(n){const e=Yn(n);await sp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function YL(n,e){return[...n.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function jR(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function QL(n,e){const t=await FR(n,{},async()=>{const i=Du({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=n.config,u=await BR(n,s,"/v1/token",`key=${o}`),f=await n._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:f,body:i};return n.emulatorConfig&&ra(n.emulatorConfig.host)&&(h.credentials="include"),zR.fetch()(u,h)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function WL(n,e){return Nu(n,"POST","/v2/accounts:revokeToken",xv(n,e))}class lu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){He(e.idToken,"internal-error"),He(typeof e.idToken<"u","internal-error"),He(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):h1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){He(e.length!==0,"internal-error");const t=h1(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(He(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:s,expiresIn:o}=await QL(e,t);this.updateTokensAndExpiration(i,s,Number(o))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:s,expirationTime:o}=t,u=new lu;return i&&(He(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),s&&(He(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),o&&(He(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new lu,this.toJSON())}_performRefresh(){return js("not implemented")}}function Ba(n,e){He(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Rr{constructor({uid:e,auth:t,stsTokenManager:i,...s}){this.providerId="firebase",this.proactiveRefresh=new GL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new w_(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await dh(this,this.stsTokenManager.getToken(this.auth,e));return He(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return qL(this,e)}reload(){return KL(this)}_assign(e){this!==e&&(He(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Rr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){He(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await sp(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zi(this.auth.app))return Promise.reject(Ko(this.auth));const e=await this.getIdToken();return await dh(this,HL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,s=t.email??void 0,o=t.phoneNumber??void 0,u=t.photoURL??void 0,f=t.tenantId??void 0,h=t._redirectEventId??void 0,d=t.createdAt??void 0,y=t.lastLoginAt??void 0,{uid:_,emailVerified:b,isAnonymous:w,providerData:I,stsTokenManager:O}=t;He(_&&O,e,"internal-error");const A=lu.fromJSON(this.name,O);He(typeof _=="string",e,"internal-error"),Ba(i,e.name),Ba(s,e.name),He(typeof b=="boolean",e,"internal-error"),He(typeof w=="boolean",e,"internal-error"),Ba(o,e.name),Ba(u,e.name),Ba(f,e.name),Ba(h,e.name),Ba(d,e.name),Ba(y,e.name);const U=new Rr({uid:_,auth:e,email:s,emailVerified:b,displayName:i,isAnonymous:w,photoURL:u,phoneNumber:o,tenantId:f,stsTokenManager:A,createdAt:d,lastLoginAt:y});return I&&Array.isArray(I)&&(U.providerData=I.map(V=>({...V}))),h&&(U._redirectEventId=h),U}static async _fromIdTokenResponse(e,t,i=!1){const s=new lu;s.updateFromServerResponse(t);const o=new Rr({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await sp(o),o}static async _fromGetAccountInfoResponse(e,t,i){const s=t.users[0];He(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?jR(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!o?.length,f=new lu;f.updateFromIdToken(i);const h=new Rr({uid:s.localId,auth:e,stsTokenManager:f,isAnonymous:u}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new w_(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!o?.length};return Object.assign(h,d),h}}const f1=new Map;function Hs(n){Js(n instanceof Function,"Expected a class definition");let e=f1.get(n);return e?(Js(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,f1.set(n,e),e)}class HR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}HR.type="NONE";const d1=HR;function Ld(n,e,t){return`firebase:${n}:${e}:${t}`}class uu{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:s,name:o}=this.auth;this.fullUserKey=Ld(this.userKey,s.apiKey,o),this.fullPersistenceKey=Ld("persistence",s.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await rp(this.auth,{idToken:e}).catch(()=>{});return t?Rr._fromGetAccountInfoResponse(this.auth,t,e):null}return Rr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new uu(Hs(d1),e,i);const s=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=s[0]||Hs(d1);const u=Ld(i,e.config.apiKey,e.name);let f=null;for(const d of t)try{const y=await d._get(u);if(y){let _;if(typeof y=="string"){const b=await rp(e,{idToken:y}).catch(()=>{});if(!b)break;_=await Rr._fromGetAccountInfoResponse(e,b,y)}else _=Rr._fromJSON(e,y);d!==o&&(f=_),o=d;break}}catch{}const h=s.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new uu(o,e,i):(o=h[0],f&&await o._set(u,f.toJSON()),await Promise.all(t.map(async d=>{if(d!==o)try{await d._remove(u)}catch{}})),new uu(o,e,i))}}function p1(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(KR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(qR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(QR(e))return"Blackberry";if(WR(e))return"Webos";if($R(e))return"Safari";if((e.includes("chrome/")||GR(e))&&!e.includes("edge/"))return"Chrome";if(YR(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function qR(n=si()){return/firefox\//i.test(n)}function $R(n=si()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function GR(n=si()){return/crios\//i.test(n)}function KR(n=si()){return/iemobile/i.test(n)}function YR(n=si()){return/android/i.test(n)}function QR(n=si()){return/blackberry/i.test(n)}function WR(n=si()){return/webos/i.test(n)}function kv(n=si()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function XL(n=si()){return kv(n)&&!!window.navigator?.standalone}function JL(){return lk()&&document.documentMode===10}function XR(n=si()){return kv(n)||YR(n)||WR(n)||QR(n)||/windows phone/i.test(n)||KR(n)}function JR(n,e=[]){let t;switch(n){case"Browser":t=p1(si());break;case"Worker":t=`${p1(si())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ho}/${i}`}class ZL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=o=>new Promise((u,f)=>{try{const h=e(o);u(h)}catch(h){f(h)}});i.onAbort=t,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function e4(n,e={}){return Nu(n,"GET","/v2/passwordPolicy",xv(n,e))}const t4=6;class n4{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??t4,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class i4{constructor(e,t,i,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new m1(this),this.idTokenSubscription=new m1(this),this.beforeStateQueue=new ZL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=UR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Hs(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await uu.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await rp(this,{idToken:e}),i=await Rr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(zi(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,u=i?._redirectEventId,f=await this.tryRedirectSignIn(e);(!o||o===u)&&f?.user&&(i=f.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return He(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await sp(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=VL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zi(this.app))return Promise.reject(Ko(this));const t=e?Yn(e):null;return t&&He(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&He(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return zi(this.app)?Promise.reject(Ko(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zi(this.app)?Promise.reject(Ko(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Hs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await e4(this),t=new n4(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Oh("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await WL(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Hs(e)||this._popupRedirectResolver;He(t,this,"argument-error"),this.redirectPersistenceManager=await uu.create(this,[Hs(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,s){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(He(f,this,"internal-error"),f.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,i,s);return()=>{u=!0,h()}}else{const h=e.addObserver(t);return()=>{u=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return He(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=JR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(zi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&xL(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Xp(n){return Yn(n)}class m1{constructor(e){this.auth=e,this.observer=null,this.addObserver=vk(t=>this.observer=t)}get next(){return He(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Lv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function r4(n){Lv=n}function s4(n){return Lv.loadJS(n)}function a4(){return Lv.gapiScript}function o4(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function l4(n,e){const t=Dh(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),o=t.getOptions();if(as(o,e??{}))return s;os(s,"already-initialized")}return t.initialize({options:e})}function u4(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Hs);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function c4(n,e,t){const i=Xp(n);He(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,o=ZR(e),{host:u,port:f}=h4(e),h=f===null?"":`:${f}`,d={url:`${o}//${u}${h}/`},y=Object.freeze({host:u,port:f,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){He(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),He(as(d,i.config.emulator)&&as(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=d,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,ra(u)?(Gp(`${o}//${u}${h}`),Kp("Auth",!0)):f4()}function ZR(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function h4(n){const e=ZR(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const o=s[1];return{host:o,port:g1(i.substr(o.length+1))}}else{const[o,u]=i.split(":");return{host:o,port:g1(u)}}}function g1(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function f4(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class eA{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return js("not implemented")}_getIdTokenResponse(e){return js("not implemented")}_linkToIdToken(e,t){return js("not implemented")}_getReauthenticationResolver(e){return js("not implemented")}}async function cu(n,e){return BL(n,"POST","/v1/accounts:signInWithIdp",xv(n,e))}const d4="http://localhost";class Xo extends eA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Xo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):os("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s,...o}=t;if(!i||!s)return null;const u=new Xo(i,s);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return cu(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,cu(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,cu(e,t)}buildRequest(){const e={requestUri:d4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Du(t)}return e}}class Vv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Mh extends Vv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class qa extends Mh{constructor(){super("facebook.com")}static credential(e){return Xo._fromParams({providerId:qa.PROVIDER_ID,signInMethod:qa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qa.credentialFromTaggedObject(e)}static credentialFromError(e){return qa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qa.credential(e.oauthAccessToken)}catch{return null}}}qa.FACEBOOK_SIGN_IN_METHOD="facebook.com";qa.PROVIDER_ID="facebook.com";class Bs extends Mh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Xo._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Bs.credentialFromTaggedObject(e)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Bs.credential(t,i)}catch{return null}}}Bs.GOOGLE_SIGN_IN_METHOD="google.com";Bs.PROVIDER_ID="google.com";class $a extends Mh{constructor(){super("github.com")}static credential(e){return Xo._fromParams({providerId:$a.PROVIDER_ID,signInMethod:$a.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $a.credentialFromTaggedObject(e)}static credentialFromError(e){return $a.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $a.credential(e.oauthAccessToken)}catch{return null}}}$a.GITHUB_SIGN_IN_METHOD="github.com";$a.PROVIDER_ID="github.com";class Ga extends Mh{constructor(){super("twitter.com")}static credential(e,t){return Xo._fromParams({providerId:Ga.PROVIDER_ID,signInMethod:Ga.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ga.credentialFromTaggedObject(e)}static credentialFromError(e){return Ga.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Ga.credential(t,i)}catch{return null}}}Ga.TWITTER_SIGN_IN_METHOD="twitter.com";Ga.PROVIDER_ID="twitter.com";class yu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,s=!1){const o=await Rr._fromIdTokenResponse(e,i,s),u=y1(i);return new yu({user:o,providerId:u,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const s=y1(i);return new yu({user:e,providerId:s,_tokenResponse:i,operationType:t})}}function y1(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class ap extends fs{constructor(e,t,i,s){super(t.code,t.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,ap.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,s){return new ap(e,t,i,s)}}function tA(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?ap._fromErrorAndOperation(n,o,e,i):o})}async function p4(n,e,t=!1){const i=await dh(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return yu._forOperation(n,"link",i)}async function m4(n,e,t=!1){const{auth:i}=n;if(zi(i.app))return Promise.reject(Ko(i));const s="reauthenticate";try{const o=await dh(n,tA(i,s,e,n),t);He(o.idToken,i,"internal-error");const u=Pv(o.idToken);He(u,i,"internal-error");const{sub:f}=u;return He(n.uid===f,i,"user-mismatch"),yu._forOperation(n,s,o)}catch(o){throw o?.code==="auth/user-not-found"&&os(i,"user-mismatch"),o}}async function g4(n,e,t=!1){if(zi(n.app))return Promise.reject(Ko(n));const i="signIn",s=await tA(n,i,e),o=await yu._fromIdTokenResponse(n,i,s);return t||await n._updateCurrentUser(o.user),o}function y4(n,e,t,i){return Yn(n).onIdTokenChanged(e,t,i)}function _4(n,e,t){return Yn(n).beforeAuthStateChanged(e,t)}const op="__sak";class nA{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(op,"1"),this.storage.removeItem(op),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const v4=1e3,b4=10;class iA extends nA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=XR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),s=this.localCache[t];i!==s&&e(t,s,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,f,h)=>{this.notifyListeners(u,h)});return}const i=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(i);!t&&this.localCache[i]===u||this.notifyListeners(i,u)},o=this.storage.getItem(i);JL()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,b4):s()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},v4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}iA.type="LOCAL";const E4=iA;class rA extends nA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}rA.type="SESSION";const sA=rA;function T4(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Jp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const i=new Jp(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:s,data:o}=t.data,u=this.handlersMap[s];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const f=Array.from(u).map(async d=>d(t.origin,o)),h=await T4(f);t.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jp.receivers=[];function Uv(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}class S4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,u;return new Promise((f,h)=>{const d=Uv("",20);s.port1.start();const y=setTimeout(()=>{h(new Error("unsupported_event"))},i);u={messageChannel:s,onMessage(_){const b=_;if(b.data.eventId===d)switch(b.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),f(b.data.response);break;default:clearTimeout(y),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function Xr(){return window}function w4(n){Xr().location.href=n}function aA(){return typeof Xr().WorkerGlobalScope<"u"&&typeof Xr().importScripts=="function"}async function C4(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function R4(){return navigator?.serviceWorker?.controller||null}function A4(){return aA()?self:null}const oA="firebaseLocalStorageDb",I4=1,lp="firebaseLocalStorage",lA="fbase_key";class xh{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Zp(n,e){return n.transaction([lp],e?"readwrite":"readonly").objectStore(lp)}function O4(){const n=indexedDB.deleteDatabase(oA);return new xh(n).toPromise()}function C_(){const n=indexedDB.open(oA,I4);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(lp,{keyPath:lA})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(lp)?e(i):(i.close(),await O4(),e(await C_()))})})}async function _1(n,e,t){const i=Zp(n,!0).put({[lA]:e,value:t});return new xh(i).toPromise()}async function D4(n,e){const t=Zp(n,!1).get(e),i=await new xh(t).toPromise();return i===void 0?null:i.value}function v1(n,e){const t=Zp(n,!0).delete(e);return new xh(t).toPromise()}const N4=800,M4=3;class uA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await C_(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>M4)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return aA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jp._getInstance(A4()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await C4(),!this.activeServiceWorker)return;this.sender=new S4(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||R4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await C_();return await _1(e,op,"1"),await v1(e,op),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>_1(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>D4(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>v1(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=Zp(s,!1).getAll();return new xh(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),N4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}uA.type="LOCAL";const x4=uA;new Nh(3e4,6e4);function cA(n,e){return e?Hs(e):(He(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class zv extends eA{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return cu(e,this._buildIdpRequest())}_linkToIdToken(e,t){return cu(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return cu(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function P4(n){return g4(n.auth,new zv(n),n.bypassAuthState)}function k4(n){const{auth:e,user:t}=n;return He(t,e,"internal-error"),m4(t,new zv(n),n.bypassAuthState)}async function L4(n){const{auth:e,user:t}=n;return He(t,e,"internal-error"),p4(t,new zv(n),n.bypassAuthState)}class hA{constructor(e,t,i,s,o=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:s,tenantId:o,error:u,type:f}=e;if(u){this.reject(u);return}const h={auth:this.auth,requestUri:t,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(h))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return P4;case"linkViaPopup":case"linkViaRedirect":return L4;case"reauthViaPopup":case"reauthViaRedirect":return k4;default:os(this.auth,"internal-error")}}resolve(e){Js(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Js(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const V4=new Nh(2e3,1e4);async function U4(n,e,t){if(zi(n.app))return Promise.reject(Or(n,"operation-not-supported-in-this-environment"));const i=Xp(n);PL(n,e,Vv);const s=cA(i,t);return new Ho(i,"signInViaPopup",e,s).executeNotNull()}class Ho extends hA{constructor(e,t,i,s,o){super(e,t,s,o),this.provider=i,this.authWindow=null,this.pollId=null,Ho.currentPopupAction&&Ho.currentPopupAction.cancel(),Ho.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return He(e,this.auth,"internal-error"),e}async onExecution(){Js(this.filter.length===1,"Popup operations only handle one event");const e=Uv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Or(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Or(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ho.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Or(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,V4.get())};e()}}Ho.currentPopupAction=null;const z4="pendingRedirect",Vd=new Map;class F4 extends hA{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Vd.get(this.auth._key());if(!e){try{const i=await B4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Vd.set(this.auth._key(),e)}return this.bypassAuthState||Vd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function B4(n,e){const t=q4(e),i=H4(n);if(!await i._isAvailable())return!1;const s=await i._get(t)==="true";return await i._remove(t),s}function j4(n,e){Vd.set(n._key(),e)}function H4(n){return Hs(n._redirectPersistence)}function q4(n){return Ld(z4,n.config.apiKey,n.name)}async function $4(n,e,t=!1){if(zi(n.app))return Promise.reject(Ko(n));const i=Xp(n),s=cA(i,e),u=await new F4(i,s,t).execute();return u&&!t&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}const G4=600*1e3;class K4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Y4(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!fA(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Or(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=G4&&this.cachedEventUids.clear(),this.cachedEventUids.has(b1(e))}saveEventToCache(e){this.cachedEventUids.add(b1(e)),this.lastProcessedEventTime=Date.now()}}function b1(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function fA({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function Y4(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fA(n);default:return!1}}async function Q4(n,e={}){return Nu(n,"GET","/v1/projects",e)}const W4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,X4=/^https?/;async function J4(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Q4(n);for(const t of e)try{if(Z4(t))return}catch{}os(n,"unauthorized-domain")}function Z4(n){const e=S_(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===i}if(!X4.test(t))return!1;if(W4.test(n))return i===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}const eV=new Nh(3e4,6e4);function E1(){const n=Xr().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function tV(n){return new Promise((e,t)=>{function i(){E1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{E1(),t(Or(n,"network-request-failed"))},timeout:eV.get()})}if(Xr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Xr().gapi?.load)i();else{const s=o4("iframefcb");return Xr()[s]=()=>{gapi.load?i():t(Or(n,"network-request-failed"))},s4(`${a4()}?onload=${s}`).catch(o=>t(o))}}).catch(e=>{throw Ud=null,e})}let Ud=null;function nV(n){return Ud=Ud||tV(n),Ud}const iV=new Nh(5e3,15e3),rV="__/auth/iframe",sV="emulator/auth/iframe",aV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lV(n){const e=n.config;He(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Mv(e,sV):`https://${n.config.authDomain}/${rV}`,i={apiKey:e.apiKey,appName:n.name,v:ho},s=oV.get(n.config.apiHost);s&&(i.eid=s);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${t}?${Du(i).slice(1)}`}async function uV(n){const e=await nV(n),t=Xr().gapi;return He(t,n,"internal-error"),e.open({where:document.body,url:lV(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aV,dontclear:!0},i=>new Promise(async(s,o)=>{await i.restyle({setHideOnLeave:!1});const u=Or(n,"network-request-failed"),f=Xr().setTimeout(()=>{o(u)},iV.get());function h(){Xr().clearTimeout(f),s(i)}i.ping(h).then(h,()=>{o(u)})}))}const cV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hV=500,fV=600,dV="_blank",pV="http://localhost";class T1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function mV(n,e,t,i=hV,s=fV){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const h={...cV,width:i.toString(),height:s.toString(),top:o,left:u},d=si().toLowerCase();t&&(f=GR(d)?dV:t),qR(d)&&(e=e||pV,h.scrollbars="yes");const y=Object.entries(h).reduce((b,[w,I])=>`${b}${w}=${I},`,"");if(XL(d)&&f!=="_self")return gV(e||"",f),new T1(null);const _=window.open(e||"",f,y);He(_,n,"popup-blocked");try{_.focus()}catch{}return new T1(_)}function gV(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}const yV="__/auth/handler",_V="emulator/auth/handler",vV=encodeURIComponent("fac");async function S1(n,e,t,i,s,o){He(n.config.authDomain,n,"auth-domain-config-required"),He(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:ho,eventId:s};if(e instanceof Vv){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",y_(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))u[y]=_}if(e instanceof Mh){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(u.scopes=y.join(","))}n.tenantId&&(u.tid=n.tenantId);const f=u;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const h=await n._getAppCheckToken(),d=h?`#${vV}=${encodeURIComponent(h)}`:"";return`${bV(n)}?${Du(f).slice(1)}${d}`}function bV({config:n}){return n.emulator?Mv(n,_V):`https://${n.authDomain}/${yV}`}const Uy="webStorageSupport";class EV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sA,this._completeRedirectFn=$4,this._overrideRedirectResult=j4}async _openPopup(e,t,i,s){Js(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await S1(e,t,i,S_(),s);return mV(e,o,Uv())}async _openRedirect(e,t,i,s){await this._originValidation(e);const o=await S1(e,t,i,S_(),s);return w4(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:o}=this.eventManagers[t];return s?Promise.resolve(s):(Js(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await uV(e),i=new K4(e);return t.register("authEvent",s=>(He(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Uy,{type:Uy},s=>{const o=s?.[0]?.[Uy];o!==void 0&&t(!!o),os(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=J4(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return XR()||$R()||kv()}}const TV=EV;var w1="@firebase/auth",C1="1.11.1";class SV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){He(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function wV(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function CV(n){to(new Ws("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=i.options;He(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:u,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:JR(n)},d=new i4(i,s,o,h);return u4(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),to(new Ws("auth-internal",e=>{const t=Xp(e.getProvider("auth").getImmediate());return(i=>new SV(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ur(w1,C1,wV(n)),ur(w1,C1,"esm2020")}const RV=300,AV=OR("authIdTokenMaxAge")||RV;let R1=null;const IV=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>AV)return;const s=t?.token;R1!==s&&(R1=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function OV(n=Wp()){const e=Dh(n,"auth");if(e.isInitialized())return e.getImmediate();const t=l4(n,{popupRedirectResolver:TV,persistence:[x4,E4,sA]}),i=OR("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const u=IV(o.toString());_4(t,u,()=>u(t.currentUser)),y4(t,f=>u(f))}}const s=AR("auth");return s&&c4(t,`http://${s}`),t}function DV(){return document.getElementsByTagName("head")?.[0]??document}r4({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=s=>{const o=Or("internal-error");o.customData=s,t(o)},i.type="text/javascript",i.charset="UTF-8",DV().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});CV("Browser");var A1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Xa,dA;(function(){var n;function e(S,C){function x(){}x.prototype=C.prototype,S.F=C.prototype,S.prototype=new x,S.prototype.constructor=S,S.D=function(N,L,P){for(var M=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)M[ye-2]=arguments[ye];return C.prototype[L].apply(N,M)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,t),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(S,C,x){x||(x=0);const N=Array(16);if(typeof C=="string")for(var L=0;L<16;++L)N[L]=C.charCodeAt(x++)|C.charCodeAt(x++)<<8|C.charCodeAt(x++)<<16|C.charCodeAt(x++)<<24;else for(L=0;L<16;++L)N[L]=C[x++]|C[x++]<<8|C[x++]<<16|C[x++]<<24;C=S.g[0],x=S.g[1],L=S.g[2];let P=S.g[3],M;M=C+(P^x&(L^P))+N[0]+3614090360&4294967295,C=x+(M<<7&4294967295|M>>>25),M=P+(L^C&(x^L))+N[1]+3905402710&4294967295,P=C+(M<<12&4294967295|M>>>20),M=L+(x^P&(C^x))+N[2]+606105819&4294967295,L=P+(M<<17&4294967295|M>>>15),M=x+(C^L&(P^C))+N[3]+3250441966&4294967295,x=L+(M<<22&4294967295|M>>>10),M=C+(P^x&(L^P))+N[4]+4118548399&4294967295,C=x+(M<<7&4294967295|M>>>25),M=P+(L^C&(x^L))+N[5]+1200080426&4294967295,P=C+(M<<12&4294967295|M>>>20),M=L+(x^P&(C^x))+N[6]+2821735955&4294967295,L=P+(M<<17&4294967295|M>>>15),M=x+(C^L&(P^C))+N[7]+4249261313&4294967295,x=L+(M<<22&4294967295|M>>>10),M=C+(P^x&(L^P))+N[8]+1770035416&4294967295,C=x+(M<<7&4294967295|M>>>25),M=P+(L^C&(x^L))+N[9]+2336552879&4294967295,P=C+(M<<12&4294967295|M>>>20),M=L+(x^P&(C^x))+N[10]+4294925233&4294967295,L=P+(M<<17&4294967295|M>>>15),M=x+(C^L&(P^C))+N[11]+2304563134&4294967295,x=L+(M<<22&4294967295|M>>>10),M=C+(P^x&(L^P))+N[12]+1804603682&4294967295,C=x+(M<<7&4294967295|M>>>25),M=P+(L^C&(x^L))+N[13]+4254626195&4294967295,P=C+(M<<12&4294967295|M>>>20),M=L+(x^P&(C^x))+N[14]+2792965006&4294967295,L=P+(M<<17&4294967295|M>>>15),M=x+(C^L&(P^C))+N[15]+1236535329&4294967295,x=L+(M<<22&4294967295|M>>>10),M=C+(L^P&(x^L))+N[1]+4129170786&4294967295,C=x+(M<<5&4294967295|M>>>27),M=P+(x^L&(C^x))+N[6]+3225465664&4294967295,P=C+(M<<9&4294967295|M>>>23),M=L+(C^x&(P^C))+N[11]+643717713&4294967295,L=P+(M<<14&4294967295|M>>>18),M=x+(P^C&(L^P))+N[0]+3921069994&4294967295,x=L+(M<<20&4294967295|M>>>12),M=C+(L^P&(x^L))+N[5]+3593408605&4294967295,C=x+(M<<5&4294967295|M>>>27),M=P+(x^L&(C^x))+N[10]+38016083&4294967295,P=C+(M<<9&4294967295|M>>>23),M=L+(C^x&(P^C))+N[15]+3634488961&4294967295,L=P+(M<<14&4294967295|M>>>18),M=x+(P^C&(L^P))+N[4]+3889429448&4294967295,x=L+(M<<20&4294967295|M>>>12),M=C+(L^P&(x^L))+N[9]+568446438&4294967295,C=x+(M<<5&4294967295|M>>>27),M=P+(x^L&(C^x))+N[14]+3275163606&4294967295,P=C+(M<<9&4294967295|M>>>23),M=L+(C^x&(P^C))+N[3]+4107603335&4294967295,L=P+(M<<14&4294967295|M>>>18),M=x+(P^C&(L^P))+N[8]+1163531501&4294967295,x=L+(M<<20&4294967295|M>>>12),M=C+(L^P&(x^L))+N[13]+2850285829&4294967295,C=x+(M<<5&4294967295|M>>>27),M=P+(x^L&(C^x))+N[2]+4243563512&4294967295,P=C+(M<<9&4294967295|M>>>23),M=L+(C^x&(P^C))+N[7]+1735328473&4294967295,L=P+(M<<14&4294967295|M>>>18),M=x+(P^C&(L^P))+N[12]+2368359562&4294967295,x=L+(M<<20&4294967295|M>>>12),M=C+(x^L^P)+N[5]+4294588738&4294967295,C=x+(M<<4&4294967295|M>>>28),M=P+(C^x^L)+N[8]+2272392833&4294967295,P=C+(M<<11&4294967295|M>>>21),M=L+(P^C^x)+N[11]+1839030562&4294967295,L=P+(M<<16&4294967295|M>>>16),M=x+(L^P^C)+N[14]+4259657740&4294967295,x=L+(M<<23&4294967295|M>>>9),M=C+(x^L^P)+N[1]+2763975236&4294967295,C=x+(M<<4&4294967295|M>>>28),M=P+(C^x^L)+N[4]+1272893353&4294967295,P=C+(M<<11&4294967295|M>>>21),M=L+(P^C^x)+N[7]+4139469664&4294967295,L=P+(M<<16&4294967295|M>>>16),M=x+(L^P^C)+N[10]+3200236656&4294967295,x=L+(M<<23&4294967295|M>>>9),M=C+(x^L^P)+N[13]+681279174&4294967295,C=x+(M<<4&4294967295|M>>>28),M=P+(C^x^L)+N[0]+3936430074&4294967295,P=C+(M<<11&4294967295|M>>>21),M=L+(P^C^x)+N[3]+3572445317&4294967295,L=P+(M<<16&4294967295|M>>>16),M=x+(L^P^C)+N[6]+76029189&4294967295,x=L+(M<<23&4294967295|M>>>9),M=C+(x^L^P)+N[9]+3654602809&4294967295,C=x+(M<<4&4294967295|M>>>28),M=P+(C^x^L)+N[12]+3873151461&4294967295,P=C+(M<<11&4294967295|M>>>21),M=L+(P^C^x)+N[15]+530742520&4294967295,L=P+(M<<16&4294967295|M>>>16),M=x+(L^P^C)+N[2]+3299628645&4294967295,x=L+(M<<23&4294967295|M>>>9),M=C+(L^(x|~P))+N[0]+4096336452&4294967295,C=x+(M<<6&4294967295|M>>>26),M=P+(x^(C|~L))+N[7]+1126891415&4294967295,P=C+(M<<10&4294967295|M>>>22),M=L+(C^(P|~x))+N[14]+2878612391&4294967295,L=P+(M<<15&4294967295|M>>>17),M=x+(P^(L|~C))+N[5]+4237533241&4294967295,x=L+(M<<21&4294967295|M>>>11),M=C+(L^(x|~P))+N[12]+1700485571&4294967295,C=x+(M<<6&4294967295|M>>>26),M=P+(x^(C|~L))+N[3]+2399980690&4294967295,P=C+(M<<10&4294967295|M>>>22),M=L+(C^(P|~x))+N[10]+4293915773&4294967295,L=P+(M<<15&4294967295|M>>>17),M=x+(P^(L|~C))+N[1]+2240044497&4294967295,x=L+(M<<21&4294967295|M>>>11),M=C+(L^(x|~P))+N[8]+1873313359&4294967295,C=x+(M<<6&4294967295|M>>>26),M=P+(x^(C|~L))+N[15]+4264355552&4294967295,P=C+(M<<10&4294967295|M>>>22),M=L+(C^(P|~x))+N[6]+2734768916&4294967295,L=P+(M<<15&4294967295|M>>>17),M=x+(P^(L|~C))+N[13]+1309151649&4294967295,x=L+(M<<21&4294967295|M>>>11),M=C+(L^(x|~P))+N[4]+4149444226&4294967295,C=x+(M<<6&4294967295|M>>>26),M=P+(x^(C|~L))+N[11]+3174756917&4294967295,P=C+(M<<10&4294967295|M>>>22),M=L+(C^(P|~x))+N[2]+718787259&4294967295,L=P+(M<<15&4294967295|M>>>17),M=x+(P^(L|~C))+N[9]+3951481745&4294967295,S.g[0]=S.g[0]+C&4294967295,S.g[1]=S.g[1]+(L+(M<<21&4294967295|M>>>11))&4294967295,S.g[2]=S.g[2]+L&4294967295,S.g[3]=S.g[3]+P&4294967295}i.prototype.v=function(S,C){C===void 0&&(C=S.length);const x=C-this.blockSize,N=this.C;let L=this.h,P=0;for(;P<C;){if(L==0)for(;P<=x;)s(this,S,P),P+=this.blockSize;if(typeof S=="string"){for(;P<C;)if(N[L++]=S.charCodeAt(P++),L==this.blockSize){s(this,N),L=0;break}}else for(;P<C;)if(N[L++]=S[P++],L==this.blockSize){s(this,N),L=0;break}}this.h=L,this.o+=C},i.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var C=1;C<S.length-8;++C)S[C]=0;C=this.o*8;for(var x=S.length-8;x<S.length;++x)S[x]=C&255,C/=256;for(this.v(S),S=Array(16),C=0,x=0;x<4;++x)for(let N=0;N<32;N+=8)S[C++]=this.g[x]>>>N&255;return S};function o(S,C){var x=f;return Object.prototype.hasOwnProperty.call(x,S)?x[S]:x[S]=C(S)}function u(S,C){this.h=C;const x=[];let N=!0;for(let L=S.length-1;L>=0;L--){const P=S[L]|0;N&&P==C||(x[L]=P,N=!1)}this.g=x}var f={};function h(S){return-128<=S&&S<128?o(S,function(C){return new u([C|0],C<0?-1:0)}):new u([S|0],S<0?-1:0)}function d(S){if(isNaN(S)||!isFinite(S))return _;if(S<0)return A(d(-S));const C=[];let x=1;for(let N=0;S>=x;N++)C[N]=S/x|0,x*=4294967296;return new u(C,0)}function y(S,C){if(S.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(S.charAt(0)=="-")return A(y(S.substring(1),C));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=d(Math.pow(C,8));let N=_;for(let P=0;P<S.length;P+=8){var L=Math.min(8,S.length-P);const M=parseInt(S.substring(P,P+L),C);L<8?(L=d(Math.pow(C,L)),N=N.j(L).add(d(M))):(N=N.j(x),N=N.add(d(M)))}return N}var _=h(0),b=h(1),w=h(16777216);n=u.prototype,n.m=function(){if(O(this))return-A(this).m();let S=0,C=1;for(let x=0;x<this.g.length;x++){const N=this.i(x);S+=(N>=0?N:4294967296+N)*C,C*=4294967296}return S},n.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(I(this))return"0";if(O(this))return"-"+A(this).toString(S);const C=d(Math.pow(S,6));var x=this;let N="";for(;;){const L=Q(x,C).g;x=U(x,L.j(C));let P=((x.g.length>0?x.g[0]:x.h)>>>0).toString(S);if(x=L,I(x))return P+N;for(;P.length<6;)P="0"+P;N=P+N}},n.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function I(S){if(S.h!=0)return!1;for(let C=0;C<S.g.length;C++)if(S.g[C]!=0)return!1;return!0}function O(S){return S.h==-1}n.l=function(S){return S=U(this,S),O(S)?-1:I(S)?0:1};function A(S){const C=S.g.length,x=[];for(let N=0;N<C;N++)x[N]=~S.g[N];return new u(x,~S.h).add(b)}n.abs=function(){return O(this)?A(this):this},n.add=function(S){const C=Math.max(this.g.length,S.g.length),x=[];let N=0;for(let L=0;L<=C;L++){let P=N+(this.i(L)&65535)+(S.i(L)&65535),M=(P>>>16)+(this.i(L)>>>16)+(S.i(L)>>>16);N=M>>>16,P&=65535,M&=65535,x[L]=M<<16|P}return new u(x,x[x.length-1]&-2147483648?-1:0)};function U(S,C){return S.add(A(C))}n.j=function(S){if(I(this)||I(S))return _;if(O(this))return O(S)?A(this).j(A(S)):A(A(this).j(S));if(O(S))return A(this.j(A(S)));if(this.l(w)<0&&S.l(w)<0)return d(this.m()*S.m());const C=this.g.length+S.g.length,x=[];for(var N=0;N<2*C;N++)x[N]=0;for(N=0;N<this.g.length;N++)for(let L=0;L<S.g.length;L++){const P=this.i(N)>>>16,M=this.i(N)&65535,ye=S.i(L)>>>16,ne=S.i(L)&65535;x[2*N+2*L]+=M*ne,V(x,2*N+2*L),x[2*N+2*L+1]+=P*ne,V(x,2*N+2*L+1),x[2*N+2*L+1]+=M*ye,V(x,2*N+2*L+1),x[2*N+2*L+2]+=P*ye,V(x,2*N+2*L+2)}for(S=0;S<C;S++)x[S]=x[2*S+1]<<16|x[2*S];for(S=C;S<2*C;S++)x[S]=0;return new u(x,0)};function V(S,C){for(;(S[C]&65535)!=S[C];)S[C+1]+=S[C]>>>16,S[C]&=65535,C++}function z(S,C){this.g=S,this.h=C}function Q(S,C){if(I(C))throw Error("division by zero");if(I(S))return new z(_,_);if(O(S))return C=Q(A(S),C),new z(A(C.g),A(C.h));if(O(C))return C=Q(S,A(C)),new z(A(C.g),C.h);if(S.g.length>30){if(O(S)||O(C))throw Error("slowDivide_ only works with positive integers.");for(var x=b,N=C;N.l(S)<=0;)x=H(x),N=H(N);var L=ie(x,1),P=ie(N,1);for(N=ie(N,2),x=ie(x,2);!I(N);){var M=P.add(N);M.l(S)<=0&&(L=L.add(x),P=M),N=ie(N,1),x=ie(x,1)}return C=U(S,L.j(C)),new z(L,C)}for(L=_;S.l(C)>=0;){for(x=Math.max(1,Math.floor(S.m()/C.m())),N=Math.ceil(Math.log(x)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),P=d(x),M=P.j(C);O(M)||M.l(S)>0;)x-=N,P=d(x),M=P.j(C);I(P)&&(P=b),L=L.add(P),S=U(S,M)}return new z(L,S)}n.B=function(S){return Q(this,S).h},n.and=function(S){const C=Math.max(this.g.length,S.g.length),x=[];for(let N=0;N<C;N++)x[N]=this.i(N)&S.i(N);return new u(x,this.h&S.h)},n.or=function(S){const C=Math.max(this.g.length,S.g.length),x=[];for(let N=0;N<C;N++)x[N]=this.i(N)|S.i(N);return new u(x,this.h|S.h)},n.xor=function(S){const C=Math.max(this.g.length,S.g.length),x=[];for(let N=0;N<C;N++)x[N]=this.i(N)^S.i(N);return new u(x,this.h^S.h)};function H(S){const C=S.g.length+1,x=[];for(let N=0;N<C;N++)x[N]=S.i(N)<<1|S.i(N-1)>>>31;return new u(x,S.h)}function ie(S,C){const x=C>>5;C%=32;const N=S.g.length-x,L=[];for(let P=0;P<N;P++)L[P]=C>0?S.i(P+x)>>>C|S.i(P+x+1)<<32-C:S.i(P+x);return new u(L,S.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,dA=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=d,u.fromString=y,Xa=u}).apply(typeof A1<"u"?A1:typeof self<"u"?self:typeof window<"u"?window:{});var gd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var pA,Gc,mA,zd,R_,gA,yA,_A;(function(){var n,e=Object.defineProperty;function t(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof gd=="object"&&gd];for(var v=0;v<p.length;++v){var T=p[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=t(this);function s(p,v){if(v)e:{var T=i;p=p.split(".");for(var D=0;D<p.length-1;D++){var Y=p[D];if(!(Y in T))break e;T=T[Y]}p=p[p.length-1],D=T[p],v=v(D),v!=D&&v!=null&&e(T,p,{configurable:!0,writable:!0,value:v})}}s("Symbol.dispose",function(p){return p||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(p){return p||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(p){return p||function(v){var T=[],D;for(D in v)Object.prototype.hasOwnProperty.call(v,D)&&T.push([D,v[D]]);return T}});var o=o||{},u=this||self;function f(p){var v=typeof p;return v=="object"&&p!=null||v=="function"}function h(p,v,T){return p.call.apply(p.bind,arguments)}function d(p,v,T){return d=h,d.apply(null,arguments)}function y(p,v){var T=Array.prototype.slice.call(arguments,1);return function(){var D=T.slice();return D.push.apply(D,arguments),p.apply(this,D)}}function _(p,v){function T(){}T.prototype=v.prototype,p.Z=v.prototype,p.prototype=new T,p.prototype.constructor=p,p.Ob=function(D,Y,re){for(var ve=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)ve[Ke-2]=arguments[Ke];return v.prototype[Y].apply(D,ve)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?p=>p&&AsyncContext.Snapshot.wrap(p):p=>p;function w(p){const v=p.length;if(v>0){const T=Array(v);for(let D=0;D<v;D++)T[D]=p[D];return T}return[]}function I(p,v){for(let D=1;D<arguments.length;D++){const Y=arguments[D];var T=typeof Y;if(T=T!="object"?T:Y?Array.isArray(Y)?"array":T:"null",T=="array"||T=="object"&&typeof Y.length=="number"){T=p.length||0;const re=Y.length||0;p.length=T+re;for(let ve=0;ve<re;ve++)p[T+ve]=Y[ve]}else p.push(Y)}}class O{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function A(p){u.setTimeout(()=>{throw p},0)}function U(){var p=S;let v=null;return p.g&&(v=p.g,p.g=p.g.next,p.g||(p.h=null),v.next=null),v}class V{constructor(){this.h=this.g=null}add(v,T){const D=z.get();D.set(v,T),this.h?this.h.next=D:this.g=D,this.h=D}}var z=new O(()=>new Q,p=>p.reset());class Q{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let H,ie=!1,S=new V,C=()=>{const p=Promise.resolve(void 0);H=()=>{p.then(x)}};function x(){for(var p;p=U();){try{p.h.call(p.g)}catch(T){A(T)}var v=z;v.j(p),v.h<100&&(v.h++,p.next=v.g,v.g=p)}ie=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(p,v){this.type=p,this.g=this.target=v,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var p=!1,v=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const T=()=>{};u.addEventListener("test",T,v),u.removeEventListener("test",T,v)}catch{}return p})();function M(p){return/^[\s\xa0]*$/.test(p)}function ye(p,v){L.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p&&this.init(p,v)}_(ye,L),ye.prototype.init=function(p,v){const T=this.type=p.type,D=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;this.target=p.target||p.srcElement,this.g=v,v=p.relatedTarget,v||(T=="mouseover"?v=p.fromElement:T=="mouseout"&&(v=p.toElement)),this.relatedTarget=v,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=p.pointerType,this.state=p.state,this.i=p,p.defaultPrevented&&ye.Z.h.call(this)},ye.prototype.h=function(){ye.Z.h.call(this);const p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var ne="closure_listenable_"+(Math.random()*1e6|0),$=0;function ee(p,v,T,D,Y){this.listener=p,this.proxy=null,this.src=v,this.type=T,this.capture=!!D,this.ha=Y,this.key=++$,this.da=this.fa=!1}function me(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function De(p,v,T){for(const D in p)v.call(T,p[D],D,p)}function Ve(p,v){for(const T in p)v.call(void 0,p[T],T,p)}function j(p){const v={};for(const T in p)v[T]=p[T];return v}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function he(p,v){let T,D;for(let Y=1;Y<arguments.length;Y++){D=arguments[Y];for(T in D)p[T]=D[T];for(let re=0;re<J.length;re++)T=J[re],Object.prototype.hasOwnProperty.call(D,T)&&(p[T]=D[T])}}function le(p){this.src=p,this.g={},this.h=0}le.prototype.add=function(p,v,T,D,Y){const re=p.toString();p=this.g[re],p||(p=this.g[re]=[],this.h++);const ve=Se(p,v,D,Y);return ve>-1?(v=p[ve],T||(v.fa=!1)):(v=new ee(v,this.src,re,!!D,Y),v.fa=T,p.push(v)),v};function ge(p,v){const T=v.type;if(T in p.g){var D=p.g[T],Y=Array.prototype.indexOf.call(D,v,void 0),re;(re=Y>=0)&&Array.prototype.splice.call(D,Y,1),re&&(me(v),p.g[T].length==0&&(delete p.g[T],p.h--))}}function Se(p,v,T,D){for(let Y=0;Y<p.length;++Y){const re=p[Y];if(!re.da&&re.listener==v&&re.capture==!!T&&re.ha==D)return Y}return-1}var Me="closure_lm_"+(Math.random()*1e6|0),gt={};function yt(p,v,T,D,Y){if(Array.isArray(v)){for(let re=0;re<v.length;re++)yt(p,v[re],T,D,Y);return null}return T=oa(T),p&&p[ne]?p.J(v,T,f(D)?!!D.capture:!1,Y):dr(p,v,T,!1,D,Y)}function dr(p,v,T,D,Y,re){if(!v)throw Error("Invalid event type");const ve=f(Y)?!!Y.capture:!!Y;let Ke=ps(p);if(Ke||(p[Me]=Ke=new le(p)),T=Ke.add(v,T,D,ve,re),T.proxy)return T;if(D=Lt(),T.proxy=D,D.src=p,D.listener=T,p.addEventListener)P||(Y=ve),Y===void 0&&(Y=!1),p.addEventListener(v.toString(),D,Y);else if(p.attachEvent)p.attachEvent(ai(v.toString()),D);else if(p.addListener&&p.removeListener)p.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Lt(){function p(T){return v.call(p.src,p.listener,T)}const v=oi;return p}function Wn(p,v,T,D,Y){if(Array.isArray(v))for(var re=0;re<v.length;re++)Wn(p,v[re],T,D,Y);else D=f(D)?!!D.capture:!!D,T=oa(T),p&&p[ne]?(p=p.i,re=String(v).toString(),re in p.g&&(v=p.g[re],T=Se(v,T,D,Y),T>-1&&(me(v[T]),Array.prototype.splice.call(v,T,1),v.length==0&&(delete p.g[re],p.h--)))):p&&(p=ps(p))&&(v=p.g[v.toString()],p=-1,v&&(p=Se(v,T,D,Y)),(T=p>-1?v[p]:null)&&pr(T))}function pr(p){if(typeof p!="number"&&p&&!p.da){var v=p.src;if(v&&v[ne])ge(v.i,p);else{var T=p.type,D=p.proxy;v.removeEventListener?v.removeEventListener(T,D,p.capture):v.detachEvent?v.detachEvent(ai(T),D):v.addListener&&v.removeListener&&v.removeListener(D),(T=ps(v))?(ge(T,p),T.h==0&&(T.src=null,v[Me]=null)):me(p)}}}function ai(p){return p in gt?gt[p]:gt[p]="on"+p}function oi(p,v){if(p.da)p=!0;else{v=new ye(v,this);const T=p.listener,D=p.ha||p.src;p.fa&&pr(p),p=T.call(D,v)}return p}function ps(p){return p=p[Me],p instanceof le?p:null}var mo="__closure_events_fn_"+(Math.random()*1e9>>>0);function oa(p){return typeof p=="function"?p:(p[mo]||(p[mo]=function(v){return p.handleEvent(v)}),p[mo])}function Xt(){N.call(this),this.i=new le(this),this.M=this,this.G=null}_(Xt,N),Xt.prototype[ne]=!0,Xt.prototype.removeEventListener=function(p,v,T,D){Wn(this,p,v,T,D)};function an(p,v){var T,D=p.G;if(D)for(T=[];D;D=D.G)T.push(D);if(p=p.M,D=v.type||v,typeof v=="string")v=new L(v,p);else if(v instanceof L)v.target=v.target||p;else{var Y=v;v=new L(D,p),he(v,Y)}Y=!0;let re,ve;if(T)for(ve=T.length-1;ve>=0;ve--)re=v.g=T[ve],Y=Mr(re,D,!0,v)&&Y;if(re=v.g=p,Y=Mr(re,D,!0,v)&&Y,Y=Mr(re,D,!1,v)&&Y,T)for(ve=0;ve<T.length;ve++)re=v.g=T[ve],Y=Mr(re,D,!1,v)&&Y}Xt.prototype.N=function(){if(Xt.Z.N.call(this),this.i){var p=this.i;for(const v in p.g){const T=p.g[v];for(let D=0;D<T.length;D++)me(T[D]);delete p.g[v],p.h--}}this.G=null},Xt.prototype.J=function(p,v,T,D){return this.i.add(String(p),v,!1,T,D)},Xt.prototype.K=function(p,v,T,D){return this.i.add(String(p),v,!0,T,D)};function Mr(p,v,T,D){if(v=p.i.g[String(v)],!v)return!0;v=v.concat();let Y=!0;for(let re=0;re<v.length;++re){const ve=v[re];if(ve&&!ve.da&&ve.capture==T){const Ke=ve.listener,cn=ve.ha||ve.src;ve.fa&&ge(p.i,ve),Y=Ke.call(cn,D)!==!1&&Y}}return Y&&!D.defaultPrevented}function Bu(p,v){if(typeof p!="function")if(p&&typeof p.handleEvent=="function")p=d(p.handleEvent,p);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:u.setTimeout(p,v||0)}function Hi(p){p.g=Bu(()=>{p.g=null,p.i&&(p.i=!1,Hi(p))},p.l);const v=p.h;p.h=null,p.m.apply(null,v)}class on extends N{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Hi(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xr(p){N.call(this),this.h=p,this.g={}}_(xr,N);var ms=[];function li(p){De(p.g,function(v,T){this.g.hasOwnProperty(T)&&pr(v)},p),p.g={}}xr.prototype.N=function(){xr.Z.N.call(this),li(this)},xr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Nn=u.JSON.stringify,cl=u.JSON.parse,hl=class{stringify(p){return u.JSON.stringify(p,void 0)}parse(p){return u.JSON.parse(p,void 0)}};function la(){}function fl(){}var ln={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function mn(){L.call(this,"d")}_(mn,L);function ui(){L.call(this,"c")}_(ui,L);var $t={},dl=null;function gs(){return dl=dl||new Xt}$t.Ia="serverreachability";function ys(p){L.call(this,$t.Ia,p)}_(ys,L);function Ii(p){const v=gs();an(v,new ys(v))}$t.STAT_EVENT="statevent";function mr(p,v){L.call(this,$t.STAT_EVENT,p),this.stat=v}_(mr,L);function Jt(p){const v=gs();an(v,new mr(v,p))}$t.Ja="timingevent";function Oi(p,v){L.call(this,$t.Ja,p),this.size=v}_(Oi,L);function qi(p,v){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){p()},v)}function gi(){this.g=!0}gi.prototype.ua=function(){this.g=!1};function ua(p,v,T,D,Y,re){p.info(function(){if(p.g)if(re){var ve="",Ke=re.split("&");for(let _t=0;_t<Ke.length;_t++){var cn=Ke[_t].split("=");if(cn.length>1){const Kt=cn[0];cn=cn[1];const Wi=Kt.split("_");ve=Wi.length>=2&&Wi[1]=="type"?ve+(Kt+"="+cn+"&"):ve+(Kt+"=redacted&")}}}else ve=null;else ve=re;return"XMLHTTP REQ ("+D+") [attempt "+Y+"]: "+v+`
`+T+`
`+ve})}function _s(p,v,T,D,Y,re,ve){p.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+Y+"]: "+v+`
`+T+`
`+re+" "+ve})}function $i(p,v,T,D){p.info(function(){return"XMLHTTP TEXT ("+v+"): "+B(p,T)+(D?" "+D:"")})}function vs(p,v){p.info(function(){return"TIMEOUT: "+v})}gi.prototype.info=function(){};function B(p,v){if(!p.g)return v;if(!v)return null;try{const re=JSON.parse(v);if(re){for(p=0;p<re.length;p++)if(Array.isArray(re[p])){var T=re[p];if(!(T.length<2)){var D=T[1];if(Array.isArray(D)&&!(D.length<1)){var Y=D[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(let ve=1;ve<D.length;ve++)D[ve]=""}}}}return Nn(re)}catch{return v}}var K={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},te={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},pe;function _e(){}_(_e,la),_e.prototype.g=function(){return new XMLHttpRequest},pe=new _e;function Ae(p){return encodeURIComponent(String(p))}function Pe(p){var v=1;p=p.split(":");const T=[];for(;v>0&&p.length;)T.push(p.shift()),v--;return p.length&&T.push(p.join(":")),T}function Te(p,v,T,D){this.j=p,this.i=v,this.l=T,this.S=D||1,this.V=new xr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ie}function Ie(){this.i=null,this.g="",this.h=!1}var we={},Ee={};function Re(p,v,T){p.M=1,p.A=go(Wt(v)),p.u=T,p.R=!0,We(p,null)}function We(p,v){p.F=Date.now(),lt(p),p.B=Wt(p.A);var T=p.B,D=p.S;Array.isArray(D)||(D=[String(D)]),ml(T.i,"t",D),p.C=0,T=p.j.L,p.h=new Ie,p.g=sf(p.j,T?v:null,!p.u),p.P>0&&(p.O=new on(d(p.Y,p,p.g),p.P)),v=p.V,T=p.g,D=p.ba;var Y="readystatechange";Array.isArray(Y)||(Y&&(ms[0]=Y.toString()),Y=ms);for(let re=0;re<Y.length;re++){const ve=yt(T,Y[re],D||v.handleEvent,!1,v.h||v);if(!ve)break;v.g[ve.key]=ve}v=p.J?j(p.J):{},p.u?(p.v||(p.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.B,p.v,p.u,v)):(p.v="GET",p.g.ea(p.B,p.v,null,v)),Ii(),ua(p.i,p.v,p.B,p.l,p.S,p.u)}Te.prototype.ba=function(p){p=p.target;const v=this.O;v&&vr(p)==3?v.j():this.Y(p)},Te.prototype.Y=function(p){try{if(p==this.g)e:{const Ke=vr(this.g),cn=this.g.ya(),_t=this.g.ca();if(!(Ke<3)&&(Ke!=3||this.g&&(this.h.h||this.g.la()||Fn(this.g)))){this.K||Ke!=4||cn==7||(cn==8||_t<=0?Ii(3):Ii(2)),Mn(this);var v=this.g.ca();this.X=v;var T=Ot(this);if(this.o=v==200,_s(this.i,this.v,this.B,this.l,this.S,Ke,v),this.o){if(this.U&&!this.L){t:{if(this.g){var D,Y=this.g;if((D=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(D)){var re=D;break t}}re=null}if(p=re)$i(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,un(this,p);else{this.o=!1,this.m=3,Jt(12),Zt(this),xn(this);break e}}if(this.R){p=!0;let Kt;for(;!this.K&&this.C<T.length;)if(Kt=gn(this,T),Kt==Ee){Ke==4&&(this.m=4,Jt(14),p=!1),$i(this.i,this.l,null,"[Incomplete Response]");break}else if(Kt==we){this.m=4,Jt(15),$i(this.i,this.l,T,"[Invalid Chunk]"),p=!1;break}else $i(this.i,this.l,Kt,null),un(this,Kt);if(Qt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ke!=4||T.length!=0||this.h.h||(this.m=1,Jt(16),p=!1),this.o=this.o&&p,!p)$i(this.i,this.l,T,"[Invalid Chunked Response]"),Zt(this),xn(this);else if(T.length>0&&!this.W){this.W=!0;var ve=this.j;ve.g==this&&ve.aa&&!ve.P&&(ve.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Xu(ve),ve.P=!0,Jt(11))}}else $i(this.i,this.l,T,null),un(this,T);Ke==4&&Zt(this),this.o&&!this.K&&(Ke==4?ef(this.j,this):(this.o=!1,lt(this)))}else Es(this.g),v==400&&T.indexOf("Unknown SID")>0?(this.m=3,Jt(12)):(this.m=0,Jt(13)),Zt(this),xn(this)}}}catch{}finally{}};function Ot(p){if(!Qt(p))return p.g.la();const v=Fn(p.g);if(v==="")return"";let T="";const D=v.length,Y=vr(p.g)==4;if(!p.h.i){if(typeof TextDecoder>"u")return Zt(p),xn(p),"";p.h.i=new u.TextDecoder}for(let re=0;re<D;re++)p.h.h=!0,T+=p.h.i.decode(v[re],{stream:!(Y&&re==D-1)});return v.length=0,p.h.g+=T,p.C=0,p.h.g}function Qt(p){return p.g?p.v=="GET"&&p.M!=2&&p.j.Aa:!1}function gn(p,v){var T=p.C,D=v.indexOf(`
`,T);return D==-1?Ee:(T=Number(v.substring(T,D)),isNaN(T)?we:(D+=1,D+T>v.length?Ee:(v=v.slice(D,D+T),p.C=D+T,v)))}Te.prototype.cancel=function(){this.K=!0,Zt(this)};function lt(p){p.T=Date.now()+p.H,dt(p,p.H)}function dt(p,v){if(p.D!=null)throw Error("WatchDog timer not null");p.D=qi(d(p.aa,p),v)}function Mn(p){p.D&&(u.clearTimeout(p.D),p.D=null)}Te.prototype.aa=function(){this.D=null;const p=Date.now();p-this.T>=0?(vs(this.i,this.B),this.M!=2&&(Ii(),Jt(17)),Zt(this),this.m=2,xn(this)):dt(this,this.T-p)};function xn(p){p.j.I==0||p.K||ef(p.j,p)}function Zt(p){Mn(p);var v=p.O;v&&typeof v.dispose=="function"&&v.dispose(),p.O=null,li(p.V),p.g&&(v=p.g,p.g=null,v.abort(),v.dispose())}function un(p,v){try{var T=p.j;if(T.I!=0&&(T.g==p||hi(T.h,p))){if(!p.L&&hi(T.h,p)&&T.I==3){try{var D=T.Ba.g.parse(v)}catch{D=null}if(Array.isArray(D)&&D.length==3){var Y=D;if(Y[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<p.F)bl(T),ya(T);else break e;So(T),Jt(18)}}else T.xa=Y[1],0<T.xa-T.K&&Y[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=qi(d(T.Va,T),6e3));ci(T.h)<=1&&T.ta&&(T.ta=void 0)}else zr(T,11)}else if((p.L||T.g==p)&&bl(T),!M(v))for(Y=T.Ba.g.parse(v),v=0;v<Y.length;v++){let _t=Y[v];const Kt=_t[0];if(!(Kt<=T.K))if(T.K=Kt,_t=_t[1],T.I==2)if(_t[0]=="c"){T.M=_t[1],T.ba=_t[2];const Wi=_t[3];Wi!=null&&(T.ka=Wi,T.j.info("VER="+T.ka));const Fr=_t[4];Fr!=null&&(T.za=Fr,T.j.info("SVER="+T.za));const br=_t[5];br!=null&&typeof br=="number"&&br>0&&(D=1.5*br,T.O=D,T.j.info("backChannelRequestTimeoutMs_="+D)),D=T;const Er=p.g;if(Er){const wo=Er.g?Er.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wo){var re=D.h;re.g||wo.indexOf("spdy")==-1&&wo.indexOf("quic")==-1&&wo.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(Xe(re,re.h),re.h=null))}if(D.G){const El=Er.g?Er.g.getResponseHeader("X-HTTP-Session-Id"):null;El&&(D.wa=El,Rt(D.J,D.G,El))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-p.F,T.j.info("Handshake RTT: "+T.T+"ms")),D=T;var ve=p;if(D.na=rf(D,D.L?D.ba:null,D.W),ve.L){en(D.h,ve);var Ke=ve,cn=D.O;cn&&(Ke.H=cn),Ke.D&&(Mn(Ke),lt(Ke)),D.g=ve}else Jh(D);T.i.length>0&&Ur(T)}else _t[0]!="stop"&&_t[0]!="close"||zr(T,7);else T.I==3&&(_t[0]=="stop"||_t[0]=="close"?_t[0]=="stop"?zr(T,7):Qu(T):_t[0]!="noop"&&T.l&&T.l.qa(_t),T.A=0)}}Ii(4)}catch{}}var Gt=class{constructor(p,v){this.g=p,this.map=v}};function gr(p){this.l=p||10,u.PerformanceNavigationTiming?(p=u.performance.getEntriesByType("navigation"),p=p.length>0&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Di(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function ci(p){return p.h?1:p.g?p.g.size:0}function hi(p,v){return p.h?p.h==v:p.g?p.g.has(v):!1}function Xe(p,v){p.g?p.g.add(v):p.h=v}function en(p,v){p.h&&p.h==v?p.h=null:p.g&&p.g.has(v)&&p.g.delete(v)}gr.prototype.cancel=function(){if(this.i=Gi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Gi(p){if(p.h!=null)return p.i.concat(p.h.G);if(p.g!=null&&p.g.size!==0){let v=p.i;for(const T of p.g.values())v=v.concat(T.G);return v}return w(p.i)}var Ki=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vt(p,v){if(p){p=p.split("&");for(let T=0;T<p.length;T++){const D=p[T].indexOf("=");let Y,re=null;D>=0?(Y=p[T].substring(0,D),re=p[T].substring(D+1)):Y=p[T],v(Y,re?decodeURIComponent(re.replace(/\+/g," ")):"")}}}function Pn(p){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;p instanceof Pn?(this.l=p.l,yn(this,p.j),this.o=p.o,this.g=p.g,ca(this,p.u),this.h=p.h,ju(this,Wh(p.i)),this.m=p.m):p&&(v=String(p).match(Ki))?(this.l=!1,yn(this,v[1]||"",!0),this.o=Pr(v[2]||""),this.g=Pr(v[3]||"",!0),ca(this,v[4]),this.h=Pr(v[5]||"",!0),ju(this,v[6]||"",!0),this.m=Pr(v[7]||"")):(this.l=!1,this.i=new fa(null,this.l))}Pn.prototype.toString=function(){const p=[];var v=this.j;v&&p.push(yo(v,pl,!0),":");var T=this.g;return(T||v=="file")&&(p.push("//"),(v=this.o)&&p.push(yo(v,pl,!0),"@"),p.push(Ae(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&p.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&p.push("/"),p.push(yo(T,T.charAt(0)=="/"?Hu:Kh,!0))),(T=this.i.toString())&&p.push("?",T),(T=this.m)&&p.push("#",yo(T,Yh)),p.join("")},Pn.prototype.resolve=function(p){const v=Wt(this);let T=!!p.j;T?yn(v,p.j):T=!!p.o,T?v.o=p.o:T=!!p.g,T?v.g=p.g:T=p.u!=null;var D=p.h;if(T)ca(v,p.u);else if(T=!!p.h){if(D.charAt(0)!="/")if(this.g&&!this.h)D="/"+D;else{var Y=v.h.lastIndexOf("/");Y!=-1&&(D=v.h.slice(0,Y+1)+D)}if(Y=D,Y==".."||Y==".")D="";else if(Y.indexOf("./")!=-1||Y.indexOf("/.")!=-1){D=Y.lastIndexOf("/",0)==0,Y=Y.split("/");const re=[];for(let ve=0;ve<Y.length;){const Ke=Y[ve++];Ke=="."?D&&ve==Y.length&&re.push(""):Ke==".."?((re.length>1||re.length==1&&re[0]!="")&&re.pop(),D&&ve==Y.length&&re.push("")):(re.push(Ke),D=!0)}D=re.join("/")}else D=Y}return T?v.h=D:T=p.i.toString()!=="",T?ju(v,Wh(p.i)):T=!!p.m,T&&(v.m=p.m),v};function Wt(p){return new Pn(p)}function yn(p,v,T){p.j=T?Pr(v,!0):v,p.j&&(p.j=p.j.replace(/:$/,""))}function ca(p,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);p.u=v}else p.u=null}function ju(p,v,T){v instanceof fa?(p.i=v,gl(p.i,p.l)):(T||(v=yo(v,ha)),p.i=new fa(v,p.l))}function Rt(p,v,T){p.i.set(v,T)}function go(p){return Rt(p,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),p}function Pr(p,v){return p?v?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function yo(p,v,T){return typeof p=="string"?(p=encodeURI(p).replace(v,yi),T&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function yi(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var pl=/[#\/\?@]/g,Kh=/[#\?:]/g,Hu=/[#\?]/g,ha=/[#\?@]/g,Yh=/#/g;function fa(p,v){this.h=this.g=null,this.i=p||null,this.j=!!v}function _i(p){p.g||(p.g=new Map,p.h=0,p.i&&Vt(p.i,function(v,T){p.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}n=fa.prototype,n.add=function(p,v){_i(this),this.i=null,p=da(this,p);let T=this.g.get(p);return T||this.g.set(p,T=[]),T.push(v),this.h+=1,this};function Qh(p,v){_i(p),v=da(p,v),p.g.has(v)&&(p.i=null,p.h-=p.g.get(v).length,p.g.delete(v))}function qu(p,v){return _i(p),v=da(p,v),p.g.has(v)}n.forEach=function(p,v){_i(this),this.g.forEach(function(T,D){T.forEach(function(Y){p.call(v,Y,D,this)},this)},this)};function $u(p,v){_i(p);let T=[];if(typeof v=="string")qu(p,v)&&(T=T.concat(p.g.get(da(p,v))));else for(p=Array.from(p.g.values()),v=0;v<p.length;v++)T=T.concat(p[v]);return T}n.set=function(p,v){return _i(this),this.i=null,p=da(this,p),qu(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[v]),this.h+=1,this},n.get=function(p,v){return p?(p=$u(this,p),p.length>0?String(p[0]):v):v};function ml(p,v,T){Qh(p,v),T.length>0&&(p.i=null,p.g.set(da(p,v),w(T)),p.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],v=Array.from(this.g.keys());for(let D=0;D<v.length;D++){var T=v[D];const Y=Ae(T);T=$u(this,T);for(let re=0;re<T.length;re++){let ve=Y;T[re]!==""&&(ve+="="+Ae(T[re])),p.push(ve)}}return this.i=p.join("&")};function Wh(p){const v=new fa;return v.i=p.i,p.g&&(v.g=new Map(p.g),v.h=p.h),v}function da(p,v){return v=String(v),p.j&&(v=v.toLowerCase()),v}function gl(p,v){v&&!p.j&&(_i(p),p.i=null,p.g.forEach(function(T,D){const Y=D.toLowerCase();D!=Y&&(Qh(this,D),ml(this,Y,T))},p)),p.j=v}function yr(p,v){const T=new gi;if(u.Image){const D=new Image;D.onload=y(Yi,T,"TestLoadImage: loaded",!0,v,D),D.onerror=y(Yi,T,"TestLoadImage: error",!1,v,D),D.onabort=y(Yi,T,"TestLoadImage: abort",!1,v,D),D.ontimeout=y(Yi,T,"TestLoadImage: timeout",!1,v,D),u.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=p}else v(!1)}function Gu(p,v){const T=new gi,D=new AbortController,Y=setTimeout(()=>{D.abort(),Yi(T,"TestPingServer: timeout",!1,v)},1e4);fetch(p,{signal:D.signal}).then(re=>{clearTimeout(Y),re.ok?Yi(T,"TestPingServer: ok",!0,v):Yi(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(Y),Yi(T,"TestPingServer: error",!1,v)})}function Yi(p,v,T,D,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),D(T)}catch{}}function pa(){this.g=new hl}function kr(p){this.i=p.Sb||null,this.h=p.ab||!1}_(kr,la),kr.prototype.g=function(){return new _o(this.i,this.h)};function _o(p,v){Xt.call(this),this.H=p,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(_o,Xt),n=_o.prototype,n.open=function(p,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=p,this.D=v,this.readyState=1,_r(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};p&&(v.body=p),(this.H||u).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ma(this)),this.readyState=0},n.Pa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,_r(this)),this.g&&(this.readyState=3,_r(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;yl(this)}else p.text().then(this.Oa.bind(this),this.ga.bind(this))};function yl(p){p.j.read().then(p.Ma.bind(p)).catch(p.ga.bind(p))}n.Ma=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var v=p.value?p.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!p.done}))&&(this.response=this.responseText+=v)}p.done?ma(this):_r(this),this.readyState==3&&yl(this)}},n.Oa=function(p){this.g&&(this.response=this.responseText=p,ma(this))},n.Na=function(p){this.g&&(this.response=p,ma(this))},n.ga=function(){this.g&&ma(this)};function ma(p){p.readyState=4,p.l=null,p.j=null,p.B=null,_r(p)}n.setRequestHeader=function(p,v){this.A.append(p,v)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,p.push(T[0]+": "+T[1]),T=v.next();return p.join(`\r
`)};function _r(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(_o.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function Qi(p){let v="";return De(p,function(T,D){v+=D,v+=":",v+=T,v+=`\r
`}),v}function vo(p,v,T){e:{for(D in T){var D=!1;break e}D=!0}D||(T=Qi(T),typeof p=="string"?T!=null&&Ae(T):Rt(p,v,T))}function Dt(p){Xt.call(this),this.headers=new Map,this.L=p||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(Dt,Xt);var Lr=/^https?$/i,Ku=["POST","PUT"];n=Dt.prototype,n.Fa=function(p){this.H=p},n.ea=function(p,v,T,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);v=v?v.toUpperCase():"GET",this.D=p,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():pe.g(),this.g.onreadystatechange=b(d(this.Ca,this));try{this.B=!0,this.g.open(v,String(p),!0),this.B=!1}catch(re){bo(this,re);return}if(p=T||"",T=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var Y in D)T.set(Y,D[Y]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const re of D.keys())T.set(re,D.get(re));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(T.keys()).find(re=>re.toLowerCase()=="content-type"),Y=u.FormData&&p instanceof u.FormData,!(Array.prototype.indexOf.call(Ku,v,void 0)>=0)||D||Y||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,ve]of T)this.g.setRequestHeader(re,ve);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(p),this.v=!1}catch(re){bo(this,re)}};function bo(p,v){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=v,p.o=5,Yu(p),bs(p)}function Yu(p){p.A||(p.A=!0,an(p,"complete"),an(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=p||7,an(this,"complete"),an(this,"abort"),bs(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),bs(this,!0)),Dt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Eo(this):this.Xa())},n.Xa=function(){Eo(this)};function Eo(p){if(p.h&&typeof o<"u"){if(p.v&&vr(p)==4)setTimeout(p.Ca.bind(p),0);else if(an(p,"readystatechange"),vr(p)==4){p.h=!1;try{const re=p.ca();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var T;if(!(T=v)){var D;if(D=re===0){let ve=String(p.D).match(Ki)[1]||null;!ve&&u.self&&u.self.location&&(ve=u.self.location.protocol.slice(0,-1)),D=!Lr.test(ve?ve.toLowerCase():"")}T=D}if(T)an(p,"complete"),an(p,"success");else{p.o=6;try{var Y=vr(p)>2?p.g.statusText:""}catch{Y=""}p.l=Y+" ["+p.ca()+"]",Yu(p)}}finally{bs(p)}}}}function bs(p,v){if(p.g){p.m&&(clearTimeout(p.m),p.m=null);const T=p.g;p.g=null,v||an(p,"ready");try{T.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function vr(p){return p.g?p.g.readyState:0}n.ca=function(){try{return vr(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(p){if(this.g){var v=this.g.responseText;return p&&v.indexOf(p)==0&&(v=v.substring(p.length)),cl(v)}};function Fn(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.F){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Es(p){const v={};p=(p.g&&vr(p)>=2&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<p.length;D++){if(M(p[D]))continue;var T=Pe(p[D]);const Y=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const re=v[Y]||[];v[Y]=re,re.push(T)}Ve(v,function(D){return D.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vr(p,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[p]||v}function ga(p){this.za=0,this.i=[],this.j=new gi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Vr("failFast",!1,p),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Vr("baseRetryDelayMs",5e3,p),this.Za=Vr("retryDelaySeedMs",1e4,p),this.Ta=Vr("forwardChannelMaxRetries",2,p),this.va=Vr("forwardChannelRequestTimeoutMs",2e4,p),this.ma=p&&p.xmlHttpFactory||void 0,this.Ua=p&&p.Rb||void 0,this.Aa=p&&p.useFetchStreams||!1,this.O=void 0,this.L=p&&p.supportsCrossDomainXhr||!1,this.M="",this.h=new gr(p&&p.concurrentRequestLimit),this.Ba=new pa,this.S=p&&p.fastHandshake||!1,this.R=p&&p.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=p&&p.Pb||!1,p&&p.ua&&this.j.ua(),p&&p.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&p&&p.detectBufferingProxy||!1,this.ia=void 0,p&&p.longPollingTimeout&&p.longPollingTimeout>0&&(this.ia=p.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=ga.prototype,n.ka=8,n.I=1,n.connect=function(p,v,T,D){Jt(0),this.W=p,this.H=v||{},T&&D!==void 0&&(this.H.OSID=T,this.H.OAID=D),this.F=this.X,this.J=rf(this,null,this.W),Ur(this)};function Qu(p){if(_l(p),p.I==3){var v=p.V++,T=Wt(p.J);if(Rt(T,"SID",p.M),Rt(T,"RID",v),Rt(T,"TYPE","terminate"),To(p,T),v=new Te(p,p.j,v),v.M=2,v.A=go(Wt(T)),T=!1,u.navigator&&u.navigator.sendBeacon)try{T=u.navigator.sendBeacon(v.A.toString(),"")}catch{}!T&&u.Image&&(new Image().src=v.A,T=!0),T||(v.g=sf(v.j,null),v.g.ea(v.A)),v.F=Date.now(),lt(v)}nf(p)}function ya(p){p.g&&(Xu(p),p.g.cancel(),p.g=null)}function _l(p){ya(p),p.v&&(u.clearTimeout(p.v),p.v=null),bl(p),p.h.cancel(),p.m&&(typeof p.m=="number"&&u.clearTimeout(p.m),p.m=null)}function Ur(p){if(!Di(p.h)&&!p.m){p.m=!0;var v=p.Ea;H||C(),ie||(H(),ie=!0),S.add(v,p),p.D=0}}function vl(p,v){return ci(p.h)>=p.h.j-(p.m?1:0)?!1:p.m?(p.i=v.G.concat(p.i),!0):p.I==1||p.I==2||p.D>=(p.Sa?0:p.Ta)?!1:(p.m=qi(d(p.Ea,p,v),tf(p,p.D)),p.D++,!0)}n.Ea=function(p){if(this.m)if(this.m=null,this.I==1){if(!p){this.V=Math.floor(Math.random()*1e5),p=this.V++;const Y=new Te(this,this.j,p);let re=this.o;if(this.U&&(re?(re=j(re),he(re,this.U)):re=this.U),this.u!==null||this.R||(Y.J=re,re=null),this.S)e:{for(var v=0,T=0;T<this.i.length;T++){t:{var D=this.i[T];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(v+=D,v>4096){v=T;break e}if(v===4096||T===this.i.length-1){v=T+1;break e}}v=1e3}else v=1e3;v=Xh(this,Y,v),T=Wt(this.J),Rt(T,"RID",p),Rt(T,"CVER",22),this.G&&Rt(T,"X-HTTP-Session-Id",this.G),To(this,T),re&&(this.R?v="headers="+Ae(Qi(re))+"&"+v:this.u&&vo(T,this.u,re)),Xe(this.h,Y),this.Ra&&Rt(T,"TYPE","init"),this.S?(Rt(T,"$req",v),Rt(T,"SID","null"),Y.U=!0,Re(Y,T,null)):Re(Y,T,v),this.I=2}}else this.I==3&&(p?Wu(this,p):this.i.length==0||Di(this.h)||Wu(this))};function Wu(p,v){var T;v?T=v.l:T=p.V++;const D=Wt(p.J);Rt(D,"SID",p.M),Rt(D,"RID",T),Rt(D,"AID",p.K),To(p,D),p.u&&p.o&&vo(D,p.u,p.o),T=new Te(p,p.j,T,p.D+1),p.u===null&&(T.J=p.o),v&&(p.i=v.G.concat(p.i)),v=Xh(p,T,1e3),T.H=Math.round(p.va*.5)+Math.round(p.va*.5*Math.random()),Xe(p.h,T),Re(T,D,v)}function To(p,v){p.H&&De(p.H,function(T,D){Rt(v,D,T)}),p.l&&De({},function(T,D){Rt(v,D,T)})}function Xh(p,v,T){T=Math.min(p.i.length,T);const D=p.l?d(p.l.Ka,p.l,p):null;e:{var Y=p.i;let Ke=-1;for(;;){const cn=["count="+T];Ke==-1?T>0?(Ke=Y[0].g,cn.push("ofs="+Ke)):Ke=0:cn.push("ofs="+Ke);let _t=!0;for(let Kt=0;Kt<T;Kt++){var re=Y[Kt].g;const Wi=Y[Kt].map;if(re-=Ke,re<0)Ke=Math.max(0,Y[Kt].g-100),_t=!1;else try{re="req"+re+"_"||"";try{var ve=Wi instanceof Map?Wi:Object.entries(Wi);for(const[Fr,br]of ve){let Er=br;f(br)&&(Er=Nn(br)),cn.push(re+Fr+"="+encodeURIComponent(Er))}}catch(Fr){throw cn.push(re+"type="+encodeURIComponent("_badmap")),Fr}}catch{D&&D(Wi)}}if(_t){ve=cn.join("&");break e}}ve=void 0}return p=p.i.splice(0,T),v.G=p,ve}function Jh(p){if(!p.g&&!p.v){p.Y=1;var v=p.Da;H||C(),ie||(H(),ie=!0),S.add(v,p),p.A=0}}function So(p){return p.g||p.v||p.A>=3?!1:(p.Y++,p.v=qi(d(p.Da,p),tf(p,p.A)),p.A++,!0)}n.Da=function(){if(this.v=null,Zh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var p=4*this.T;this.j.info("BP detection timer enabled: "+p),this.B=qi(d(this.Wa,this),p)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Jt(10),ya(this),Zh(this))};function Xu(p){p.B!=null&&(u.clearTimeout(p.B),p.B=null)}function Zh(p){p.g=new Te(p,p.j,"rpc",p.Y),p.u===null&&(p.g.J=p.o),p.g.P=0;var v=Wt(p.na);Rt(v,"RID","rpc"),Rt(v,"SID",p.M),Rt(v,"AID",p.K),Rt(v,"CI",p.F?"0":"1"),!p.F&&p.ia&&Rt(v,"TO",p.ia),Rt(v,"TYPE","xmlhttp"),To(p,v),p.u&&p.o&&vo(v,p.u,p.o),p.O&&(p.g.H=p.O);var T=p.g;p=p.ba,T.M=1,T.A=go(Wt(v)),T.u=null,T.R=!0,We(T,p)}n.Va=function(){this.C!=null&&(this.C=null,ya(this),So(this),Jt(19))};function bl(p){p.C!=null&&(u.clearTimeout(p.C),p.C=null)}function ef(p,v){var T=null;if(p.g==v){bl(p),Xu(p),p.g=null;var D=2}else if(hi(p.h,v))T=v.G,en(p.h,v),D=1;else return;if(p.I!=0){if(v.o)if(D==1){T=v.u?v.u.length:0,v=Date.now()-v.F;var Y=p.D;D=gs(),an(D,new Oi(D,T)),Ur(p)}else Jh(p);else if(Y=v.m,Y==3||Y==0&&v.X>0||!(D==1&&vl(p,v)||D==2&&So(p)))switch(T&&T.length>0&&(v=p.h,v.i=v.i.concat(T)),Y){case 1:zr(p,5);break;case 4:zr(p,10);break;case 3:zr(p,6);break;default:zr(p,2)}}}function tf(p,v){let T=p.Qa+Math.floor(Math.random()*p.Za);return p.isActive()||(T*=2),T*v}function zr(p,v){if(p.j.info("Error code "+v),v==2){var T=d(p.bb,p),D=p.Ua;const Y=!D;D=new Pn(D||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||yn(D,"https"),go(D),Y?yr(D.toString(),T):Gu(D.toString(),T)}else Jt(2);p.I=0,p.l&&p.l.pa(v),nf(p),_l(p)}n.bb=function(p){p?(this.j.info("Successfully pinged google.com"),Jt(2)):(this.j.info("Failed to ping google.com"),Jt(1))};function nf(p){if(p.I=0,p.ja=[],p.l){const v=Gi(p.h);(v.length!=0||p.i.length!=0)&&(I(p.ja,v),I(p.ja,p.i),p.h.i.length=0,w(p.i),p.i.length=0),p.l.oa()}}function rf(p,v,T){var D=T instanceof Pn?Wt(T):new Pn(T);if(D.g!="")v&&(D.g=v+"."+D.g),ca(D,D.u);else{var Y=u.location;D=Y.protocol,v=v?v+"."+Y.hostname:Y.hostname,Y=+Y.port;const re=new Pn(null);D&&yn(re,D),v&&(re.g=v),Y&&ca(re,Y),T&&(re.h=T),D=re}return T=p.G,v=p.wa,T&&v&&Rt(D,T,v),Rt(D,"VER",p.ka),To(p,D),D}function sf(p,v,T){if(v&&!p.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=p.Aa&&!p.ma?new Dt(new kr({ab:T})):new Dt(p.ma),v.Fa(p.L),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function af(){}n=af.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function _a(){}_a.prototype.g=function(p,v){return new fi(p,v)};function fi(p,v){Xt.call(this),this.g=new ga(v),this.l=p,this.h=v&&v.messageUrlParams||null,p=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(p?p["X-WebChannel-Content-Type"]=v.messageContentType:p={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(p?p["X-WebChannel-Client-Profile"]=v.sa:p={"X-WebChannel-Client-Profile":v.sa}),this.g.U=p,(p=v&&v.Qb)&&!M(p)&&(this.g.u=p),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!M(v)&&(this.g.G=v,p=this.h,p!==null&&v in p&&(p=this.h,v in p&&delete p[v])),this.j=new Ts(this)}_(fi,Xt),fi.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},fi.prototype.close=function(){Qu(this.g)},fi.prototype.o=function(p){var v=this.g;if(typeof p=="string"){var T={};T.__data__=p,p=T}else this.v&&(T={},T.__data__=Nn(p),p=T);v.i.push(new Gt(v.Ya++,p)),v.I==3&&Ur(v)},fi.prototype.N=function(){this.g.l=null,delete this.j,Qu(this.g),delete this.g,fi.Z.N.call(this)};function of(p){mn.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var v=p.__sm__;if(v){e:{for(const T in v){p=T;break e}p=void 0}(this.i=p)&&(p=this.i,v=v!==null&&p in v?v[p]:void 0),this.data=v}else this.data=p}_(of,mn);function lf(){ui.call(this),this.status=1}_(lf,ui);function Ts(p){this.g=p}_(Ts,af),Ts.prototype.ra=function(){an(this.g,"a")},Ts.prototype.qa=function(p){an(this.g,new of(p))},Ts.prototype.pa=function(p){an(this.g,new lf)},Ts.prototype.oa=function(){an(this.g,"b")},_a.prototype.createWebChannel=_a.prototype.g,fi.prototype.send=fi.prototype.o,fi.prototype.open=fi.prototype.m,fi.prototype.close=fi.prototype.close,_A=function(){return new _a},yA=function(){return gs()},gA=$t,R_={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},K.NO_ERROR=0,K.TIMEOUT=8,K.HTTP_ERROR=6,zd=K,te.COMPLETE="complete",mA=te,fl.EventType=ln,ln.OPEN="a",ln.CLOSE="b",ln.ERROR="c",ln.MESSAGE="d",Xt.prototype.listen=Xt.prototype.J,Gc=fl,Dt.prototype.listenOnce=Dt.prototype.K,Dt.prototype.getLastError=Dt.prototype.Ha,Dt.prototype.getLastErrorCode=Dt.prototype.ya,Dt.prototype.getStatus=Dt.prototype.ca,Dt.prototype.getResponseJson=Dt.prototype.La,Dt.prototype.getResponseText=Dt.prototype.la,Dt.prototype.send=Dt.prototype.ea,Dt.prototype.setWithCredentials=Dt.prototype.Fa,pA=Dt}).apply(typeof gd<"u"?gd:typeof self<"u"?self:typeof window<"u"?window:{});const I1="@firebase/firestore",O1="4.9.2";class ei{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ei.UNAUTHENTICATED=new ei(null),ei.GOOGLE_CREDENTIALS=new ei("google-credentials-uid"),ei.FIRST_PARTY=new ei("first-party-uid"),ei.MOCK_USER=new ei("mock-user");let Mu="12.3.0";const Jo=new Qp("@firebase/firestore");function eu(){return Jo.logLevel}function Ce(n,...e){if(Jo.logLevel<=tt.DEBUG){const t=e.map(Fv);Jo.debug(`Firestore (${Mu}): ${n}`,...t)}}function Zs(n,...e){if(Jo.logLevel<=tt.ERROR){const t=e.map(Fv);Jo.error(`Firestore (${Mu}): ${n}`,...t)}}function _u(n,...e){if(Jo.logLevel<=tt.WARN){const t=e.map(Fv);Jo.warn(`Firestore (${Mu}): ${n}`,...t)}}function Fv(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function je(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,vA(n,i,t)}function vA(n,e,t){let i=`FIRESTORE (${Mu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Zs(i),new Error(i)}function Ct(n,e,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,n||vA(e,s,i)}function Ge(n,e){return n}const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends fs{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Gs{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class bA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class NV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(ei.UNAUTHENTICATED)))}shutdown(){}}class MV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class xV{constructor(e){this.t=e,this.currentUser=ei.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ct(this.o===void 0,42304);let i=this.i;const s=h=>this.i!==i?(i=this.i,t(h)):Promise.resolve();let o=new Gs;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Gs,e.enqueueRetryable((()=>s(this.currentUser)))};const u=()=>{const h=o;e.enqueueRetryable((async()=>{await h.promise,await s(this.currentUser)}))},f=h=>{Ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((h=>f(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?f(h):(Ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Gs)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(Ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ct(typeof i.accessToken=="string",31837,{l:i}),new bA(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ct(e===null||typeof e=="string",2055,{h:e}),new ei(e)}}class PV{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=ei.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class kV{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new PV(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(ei.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class D1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class LV{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,zi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ct(this.o===void 0,3512);const i=o=>{o.error!=null&&Ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,Ce("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>i(o)))};const s=o=>{Ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>s(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):Ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new D1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ct(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new D1(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function VV(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class Bv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=VV(40);for(let o=0;o<s.length;++o)i.length<20&&s[o]<t&&(i+=e.charAt(s[o]%62))}return i}}function rt(n,e){return n<e?-1:n>e?1:0}function A_(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++){const s=n.charAt(i),o=e.charAt(i);if(s!==o)return zy(s)===zy(o)?rt(s,o):zy(s)?1:-1}return rt(n.length,e.length)}const UV=55296,zV=57343;function zy(n){const e=n.charCodeAt(0);return e>=UV&&e<=zV}function vu(n,e,t){return n.length===e.length&&n.every(((i,s)=>t(i,e[s])))}const N1="__name__";class $r{constructor(e,t,i){t===void 0?t=0:t>e.length&&je(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&je(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return $r.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof $r?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let s=0;s<i;s++){const o=$r.compareSegments(e.get(s),t.get(s));if(o!==0)return o}return rt(e.length,t.length)}static compareSegments(e,t){const i=$r.isNumericId(e),s=$r.isNumericId(t);return i&&!s?-1:!i&&s?1:i&&s?$r.extractNumericId(e).compare($r.extractNumericId(t)):A_(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Xa.fromString(e.substring(4,e.length-2))}}class jt extends $r{construct(e,t,i){return new jt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ne(de.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((s=>s.length>0)))}return new jt(t)}static emptyPath(){return new jt([])}}const FV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kn extends $r{construct(e,t,i){return new Kn(e,t,i)}static isValidIdentifier(e){return FV.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===N1}static keyField(){return new Kn([N1])}static fromServerFormat(e){const t=[];let i="",s=0;const o=()=>{if(i.length===0)throw new Ne(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;s<e.length;){const f=e[s];if(f==="\\"){if(s+1===e.length)throw new Ne(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Ne(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=h,s+=2}else f==="`"?(u=!u,s++):f!=="."||u?(i+=f,s++):(o(),s++)}if(o(),u)throw new Ne(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kn(t)}static emptyPath(){return new Kn([])}}class Ue{constructor(e){this.path=e}static fromPath(e){return new Ue(jt.fromString(e))}static fromName(e){return new Ue(jt.fromString(e).popFirst(5))}static empty(){return new Ue(jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&jt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return jt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ue(new jt(e.slice()))}}function EA(n,e,t){if(!t)throw new Ne(de.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function BV(n,e,t,i){if(e===!0&&i===!0)throw new Ne(de.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function M1(n){if(!Ue.isDocumentKey(n))throw new Ne(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function x1(n){if(Ue.isDocumentKey(n))throw new Ne(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function TA(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function jv(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":je(12329,{type:typeof n})}function ea(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ne(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=jv(n);throw new Ne(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function wn(n,e){const t={typeString:n};return e&&(t.value=e),t}function Ph(n,e){if(!TA(n))throw new Ne(de.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const s=e[i].typeString,o="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const u=n[i];if(s&&typeof u!==s){t=`JSON field '${i}' must be a ${s}.`;break}if(o!==void 0&&u!==o.value){t=`Expected '${i}' field to equal '${o.value}'`;break}}if(t)throw new Ne(de.INVALID_ARGUMENT,t);return!0}const P1=-62135596800,k1=1e6;class Ht{static now(){return Ht.fromMillis(Date.now())}static fromDate(e){return Ht.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*k1);return new Ht(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ne(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ne(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<P1)throw new Ne(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ne(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/k1}_compareTo(e){return this.seconds===e.seconds?rt(this.nanoseconds,e.nanoseconds):rt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ht._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ph(e,Ht._jsonSchema))return new Ht(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-P1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ht._jsonSchemaVersion="firestore/timestamp/1.0",Ht._jsonSchema={type:wn("string",Ht._jsonSchemaVersion),seconds:wn("number"),nanoseconds:wn("number")};class qe{static fromTimestamp(e){return new qe(e)}static min(){return new qe(new Ht(0,0))}static max(){return new qe(new Ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ph=-1;function jV(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,s=qe.fromTimestamp(i===1e9?new Ht(t+1,0):new Ht(t,i));return new no(s,Ue.empty(),e)}function HV(n){return new no(n.readTime,n.key,ph)}class no{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new no(qe.min(),Ue.empty(),ph)}static max(){return new no(qe.max(),Ue.empty(),ph)}}function qV(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ue.comparator(n.documentKey,e.documentKey),t!==0?t:rt(n.largestBatchId,e.largestBatchId))}const $V="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function xu(n){if(n.code!==de.FAILED_PRECONDITION||n.message!==$V)throw n;Ce("LocalStore","Unexpectedly lost primary lease")}class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&je(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new fe(((i,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,s)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof fe?t:fe.resolve(t)}catch(t){return fe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):fe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):fe.reject(t)}static resolve(e){return new fe(((t,i)=>{t(e)}))}static reject(e){return new fe(((t,i)=>{i(e)}))}static waitFor(e){return new fe(((t,i)=>{let s=0,o=0,u=!1;e.forEach((f=>{++s,f.next((()=>{++o,u&&o===s&&t()}),(h=>i(h)))})),u=!0,o===s&&t()}))}static or(e){let t=fe.resolve(!1);for(const i of e)t=t.next((s=>s?fe.resolve(s):i()));return t}static forEach(e,t){const i=[];return e.forEach(((s,o)=>{i.push(t.call(this,s,o))})),this.waitFor(i)}static mapArray(e,t){return new fe(((i,s)=>{const o=e.length,u=new Array(o);let f=0;for(let h=0;h<o;h++){const d=h;t(e[d]).next((y=>{u[d]=y,++f,f===o&&i(u)}),(y=>s(y)))}}))}static doWhile(e,t){return new fe(((i,s)=>{const o=()=>{e()===!0?t().next((()=>{o()}),s):i()};o()}))}}function KV(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Pu(n){return n.name==="IndexedDbTransactionError"}class em{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}em.ce=-1;const Hv=-1;function tm(n){return n==null}function up(n){return n===0&&1/n==-1/0}function YV(n){return typeof n=="number"&&Number.isInteger(n)&&!up(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const SA="";function QV(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=L1(e)),e=WV(n.get(t),e);return L1(e)}function WV(n,e){let t=e;const i=n.length;for(let s=0;s<i;s++){const o=n.charAt(s);switch(o){case"\0":t+="";break;case SA:t+="";break;default:t+=o}}return t}function L1(n){return n+SA+""}function V1(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function fo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function wA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}let Rn=class I_{constructor(e,t){this.comparator=e,this.root=t||Ja.EMPTY}insert(e,t){return new I_(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ja.BLACK,null,null))}remove(e){return new I_(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ja.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return t+i.left.size;s<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yd(this.root,e,this.comparator,!1)}getReverseIterator(){return new yd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yd(this.root,e,this.comparator,!0)}},yd=class{constructor(e,t,i,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Ja=class Fs{constructor(e,t,i,s,o){this.key=e,this.value=t,this.color=i??Fs.RED,this.left=s??Fs.EMPTY,this.right=o??Fs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,s,o){return new Fs(e??this.key,t??this.value,i??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let s=this;const o=i(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,t,i),null):o===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Fs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Fs.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Fs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Fs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw je(43730,{key:this.key,value:this.value});if(this.right.isRed())throw je(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw je(27949);return e+(this.isRed()?0:1)}};Ja.EMPTY=null,Ja.RED=!0,Ja.BLACK=!1;Ja.EMPTY=new class{constructor(){this.size=0}get key(){throw je(57766)}get value(){throw je(16141)}get color(){throw je(16727)}get left(){throw je(29726)}get right(){throw je(36894)}copy(e,t,i,s,o){return this}insert(e,t,i){return new Ja(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Dn{constructor(e){this.comparator=e,this.data=new Rn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new U1(this.data.getIterator())}getIteratorFrom(e){return new U1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof Dn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=i.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Dn(this.comparator);return t.data=e,t}}class U1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Fi{constructor(e){this.fields=e,e.sort(Kn.comparator)}static empty(){return new Fi([])}unionWith(e){let t=new Dn(Kn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Fi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return vu(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}class CA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new CA("Invalid base64 string: "+o):o}})(e);return new Qn(t)}static fromUint8Array(e){const t=(function(s){let o="";for(let u=0;u<s.length;++u)o+=String.fromCharCode(s[u]);return o})(e);return new Qn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let s=0;s<t.length;s++)i[s]=t.charCodeAt(s);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return rt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qn.EMPTY_BYTE_STRING=new Qn("");const XV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function io(n){if(Ct(!!n,39018),typeof n=="string"){let e=0;const t=XV.exec(n);if(Ct(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:dn(n.seconds),nanos:dn(n.nanos)}}function dn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ro(n){return typeof n=="string"?Qn.fromBase64String(n):Qn.fromUint8Array(n)}const RA="server_timestamp",AA="__type__",IA="__previous_value__",OA="__local_write_time__";function qv(n){return(n?.mapValue?.fields||{})[AA]?.stringValue===RA}function nm(n){const e=n.mapValue.fields[IA];return qv(e)?nm(e):e}function mh(n){const e=io(n.mapValue.fields[OA].timestampValue);return new Ht(e.seconds,e.nanos)}class JV{constructor(e,t,i,s,o,u,f,h,d,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=s,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=h,this.useFetchStreams=d,this.isUsingEmulator=y}}const cp="(default)";class gh{constructor(e,t){this.projectId=e,this.database=t||cp}static empty(){return new gh("","")}get isDefaultDatabase(){return this.database===cp}isEqual(e){return e instanceof gh&&e.projectId===this.projectId&&e.database===this.database}}const DA="__type__",ZV="__max__",_d={mapValue:{}},NA="__vector__",hp="value";function so(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?qv(n)?4:t3(n)?9007199254740991:e3(n)?10:11:je(28295,{value:n})}function ls(n,e){if(n===e)return!0;const t=so(n);if(t!==so(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return mh(n).isEqual(mh(e));case 3:return(function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const u=io(s.timestampValue),f=io(o.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(s,o){return ro(s.bytesValue).isEqual(ro(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(s,o){return dn(s.geoPointValue.latitude)===dn(o.geoPointValue.latitude)&&dn(s.geoPointValue.longitude)===dn(o.geoPointValue.longitude)})(n,e);case 2:return(function(s,o){if("integerValue"in s&&"integerValue"in o)return dn(s.integerValue)===dn(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const u=dn(s.doubleValue),f=dn(o.doubleValue);return u===f?up(u)===up(f):isNaN(u)&&isNaN(f)}return!1})(n,e);case 9:return vu(n.arrayValue.values||[],e.arrayValue.values||[],ls);case 10:case 11:return(function(s,o){const u=s.mapValue.fields||{},f=o.mapValue.fields||{};if(V1(u)!==V1(f))return!1;for(const h in u)if(u.hasOwnProperty(h)&&(f[h]===void 0||!ls(u[h],f[h])))return!1;return!0})(n,e);default:return je(52216,{left:n})}}function yh(n,e){return(n.values||[]).find((t=>ls(t,e)))!==void 0}function bu(n,e){if(n===e)return 0;const t=so(n),i=so(e);if(t!==i)return rt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return rt(n.booleanValue,e.booleanValue);case 2:return(function(o,u){const f=dn(o.integerValue||o.doubleValue),h=dn(u.integerValue||u.doubleValue);return f<h?-1:f>h?1:f===h?0:isNaN(f)?isNaN(h)?0:-1:1})(n,e);case 3:return z1(n.timestampValue,e.timestampValue);case 4:return z1(mh(n),mh(e));case 5:return A_(n.stringValue,e.stringValue);case 6:return(function(o,u){const f=ro(o),h=ro(u);return f.compareTo(h)})(n.bytesValue,e.bytesValue);case 7:return(function(o,u){const f=o.split("/"),h=u.split("/");for(let d=0;d<f.length&&d<h.length;d++){const y=rt(f[d],h[d]);if(y!==0)return y}return rt(f.length,h.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,u){const f=rt(dn(o.latitude),dn(u.latitude));return f!==0?f:rt(dn(o.longitude),dn(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return F1(n.arrayValue,e.arrayValue);case 10:return(function(o,u){const f=o.fields||{},h=u.fields||{},d=f[hp]?.arrayValue,y=h[hp]?.arrayValue,_=rt(d?.values?.length||0,y?.values?.length||0);return _!==0?_:F1(d,y)})(n.mapValue,e.mapValue);case 11:return(function(o,u){if(o===_d.mapValue&&u===_d.mapValue)return 0;if(o===_d.mapValue)return 1;if(u===_d.mapValue)return-1;const f=o.fields||{},h=Object.keys(f),d=u.fields||{},y=Object.keys(d);h.sort(),y.sort();for(let _=0;_<h.length&&_<y.length;++_){const b=A_(h[_],y[_]);if(b!==0)return b;const w=bu(f[h[_]],d[y[_]]);if(w!==0)return w}return rt(h.length,y.length)})(n.mapValue,e.mapValue);default:throw je(23264,{he:t})}}function z1(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return rt(n,e);const t=io(n),i=io(e),s=rt(t.seconds,i.seconds);return s!==0?s:rt(t.nanos,i.nanos)}function F1(n,e){const t=n.values||[],i=e.values||[];for(let s=0;s<t.length&&s<i.length;++s){const o=bu(t[s],i[s]);if(o)return o}return rt(t.length,i.length)}function Eu(n){return O_(n)}function O_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const i=io(t);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return ro(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Ue.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let i="[",s=!0;for(const o of t.values||[])s?s=!1:i+=",",i+=O_(o);return i+"]"})(n.arrayValue):"mapValue"in n?(function(t){const i=Object.keys(t.fields||{}).sort();let s="{",o=!0;for(const u of i)o?o=!1:s+=",",s+=`${u}:${O_(t.fields[u])}`;return s+"}"})(n.mapValue):je(61005,{value:n})}function Fd(n){switch(so(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=nm(n);return e?16+Fd(e):16;case 5:return 2*n.stringValue.length;case 6:return ro(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((s,o)=>s+Fd(o)),0)})(n.arrayValue);case 10:case 11:return(function(i){let s=0;return fo(i.fields,((o,u)=>{s+=o.length+Fd(u)})),s})(n.mapValue);default:throw je(13486,{value:n})}}function D_(n){return!!n&&"integerValue"in n}function $v(n){return!!n&&"arrayValue"in n}function B1(n){return!!n&&"nullValue"in n}function j1(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Bd(n){return!!n&&"mapValue"in n}function e3(n){return(n?.mapValue?.fields||{})[DA]?.stringValue===NA}function Zc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return fo(n.mapValue.fields,((t,i)=>e.mapValue.fields[t]=Zc(i))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Zc(n.arrayValue.values[t]);return e}return{...n}}function t3(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===ZV}class Ci{constructor(e){this.value=e}static empty(){return new Ci({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Bd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zc(t)}setAll(e){let t=Kn.emptyPath(),i={},s=[];e.forEach(((u,f)=>{if(!t.isImmediateParentOf(f)){const h=this.getFieldsMap(t);this.applyChanges(h,i,s),i={},s=[],t=f.popLast()}u?i[f.lastSegment()]=Zc(u):s.push(f.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,i,s)}delete(e){const t=this.field(e.popLast());Bd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ls(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=t.mapValue.fields[e.get(i)];Bd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,i){fo(t,((s,o)=>e[s]=o));for(const s of i)delete e[s]}clone(){return new Ci(Zc(this.value))}}function MA(n){const e=[];return fo(n.fields,((t,i)=>{const s=new Kn([t]);if(Bd(i)){const o=MA(i.mapValue).fields;if(o.length===0)e.push(s);else for(const u of o)e.push(s.child(u))}else e.push(s)})),new Fi(e)}class ti{constructor(e,t,i,s,o,u,f){this.key=e,this.documentType=t,this.version=i,this.readTime=s,this.createTime=o,this.data=u,this.documentState=f}static newInvalidDocument(e){return new ti(e,0,qe.min(),qe.min(),qe.min(),Ci.empty(),0)}static newFoundDocument(e,t,i,s){return new ti(e,1,t,qe.min(),i,s,0)}static newNoDocument(e,t){return new ti(e,2,t,qe.min(),qe.min(),Ci.empty(),0)}static newUnknownDocument(e,t){return new ti(e,3,t,qe.min(),qe.min(),Ci.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(qe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ci.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ci.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ti&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ti(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class fp{constructor(e,t){this.position=e,this.inclusive=t}}function H1(n,e,t){let i=0;for(let s=0;s<n.position.length;s++){const o=e[s],u=n.position[s];if(o.field.isKeyField()?i=Ue.comparator(Ue.fromName(u.referenceValue),t.key):i=bu(u,t.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function q1(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ls(n.position[t],e.position[t]))return!1;return!0}class dp{constructor(e,t="asc"){this.field=e,this.dir=t}}function n3(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class xA{}class On extends xA{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new r3(e,t,i):t==="array-contains"?new o3(e,i):t==="in"?new l3(e,i):t==="not-in"?new u3(e,i):t==="array-contains-any"?new c3(e,i):new On(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new s3(e,i):new a3(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(bu(t,this.value)):t!==null&&so(this.value)===so(t)&&this.matchesComparison(bu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return je(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class us extends xA{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new us(e,t)}matches(e){return PA(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function PA(n){return n.op==="and"}function kA(n){return i3(n)&&PA(n)}function i3(n){for(const e of n.filters)if(e instanceof us)return!1;return!0}function N_(n){if(n instanceof On)return n.field.canonicalString()+n.op.toString()+Eu(n.value);if(kA(n))return n.filters.map((e=>N_(e))).join(",");{const e=n.filters.map((t=>N_(t))).join(",");return`${n.op}(${e})`}}function LA(n,e){return n instanceof On?(function(i,s){return s instanceof On&&i.op===s.op&&i.field.isEqual(s.field)&&ls(i.value,s.value)})(n,e):n instanceof us?(function(i,s){return s instanceof us&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce(((o,u,f)=>o&&LA(u,s.filters[f])),!0):!1})(n,e):void je(19439)}function VA(n){return n instanceof On?(function(t){return`${t.field.canonicalString()} ${t.op} ${Eu(t.value)}`})(n):n instanceof us?(function(t){return t.op.toString()+" {"+t.getFilters().map(VA).join(" ,")+"}"})(n):"Filter"}class r3 extends On{constructor(e,t,i){super(e,t,i),this.key=Ue.fromName(i.referenceValue)}matches(e){const t=Ue.comparator(e.key,this.key);return this.matchesComparison(t)}}class s3 extends On{constructor(e,t){super(e,"in",t),this.keys=UA("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class a3 extends On{constructor(e,t){super(e,"not-in",t),this.keys=UA("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function UA(n,e){return(e.arrayValue?.values||[]).map((t=>Ue.fromName(t.referenceValue)))}class o3 extends On{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return $v(t)&&yh(t.arrayValue,this.value)}}class l3 extends On{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&yh(this.value.arrayValue,t)}}class u3 extends On{constructor(e,t){super(e,"not-in",t)}matches(e){if(yh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!yh(this.value.arrayValue,t)}}class c3 extends On{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!$v(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>yh(this.value.arrayValue,i)))}}class h3{constructor(e,t=null,i=[],s=[],o=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=s,this.limit=o,this.startAt=u,this.endAt=f,this.Te=null}}function $1(n,e=null,t=[],i=[],s=null,o=null,u=null){return new h3(n,e,t,i,s,o,u)}function Gv(n){const e=Ge(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>N_(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(o){return o.field.canonicalString()+o.dir})(i))).join(","),tm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>Eu(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>Eu(i))).join(",")),e.Te=t}return e.Te}function Kv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!n3(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!LA(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!q1(n.startAt,e.startAt)&&q1(n.endAt,e.endAt)}function M_(n){return Ue.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class im{constructor(e,t=null,i=[],s=[],o=null,u="F",f=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=s,this.limit=o,this.limitType=u,this.startAt=f,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function f3(n,e,t,i,s,o,u,f){return new im(n,e,t,i,s,o,u,f)}function Yv(n){return new im(n)}function G1(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function d3(n){return n.collectionGroup!==null}function eh(n){const e=Ge(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new Dn(Kn.comparator);return u.filters.forEach((h=>{h.getFlattenedFilters().forEach((d=>{d.isInequality()&&(f=f.add(d.field))}))})),f})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new dp(o,i))})),t.has(Kn.keyField().canonicalString())||e.Ie.push(new dp(Kn.keyField(),i))}return e.Ie}function Jr(n){const e=Ge(n);return e.Ee||(e.Ee=p3(e,eh(n))),e.Ee}function p3(n,e){if(n.limitType==="F")return $1(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((s=>{const o=s.dir==="desc"?"asc":"desc";return new dp(s.field,o)}));const t=n.endAt?new fp(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new fp(n.startAt.position,n.startAt.inclusive):null;return $1(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function x_(n,e,t){return new im(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function rm(n,e){return Kv(Jr(n),Jr(e))&&n.limitType===e.limitType}function zA(n){return`${Gv(Jr(n))}|lt:${n.limitType}`}function tu(n){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((s=>VA(s))).join(", ")}]`),tm(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((s=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(s))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((s=>Eu(s))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((s=>Eu(s))).join(",")),`Target(${i})`})(Jr(n))}; limitType=${n.limitType})`}function sm(n,e){return e.isFoundDocument()&&(function(i,s){const o=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Ue.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)})(n,e)&&(function(i,s){for(const o of eh(i))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(i,s){for(const o of i.filters)if(!o.matches(s))return!1;return!0})(n,e)&&(function(i,s){return!(i.startAt&&!(function(u,f,h){const d=H1(u,f,h);return u.inclusive?d<=0:d<0})(i.startAt,eh(i),s)||i.endAt&&!(function(u,f,h){const d=H1(u,f,h);return u.inclusive?d>=0:d>0})(i.endAt,eh(i),s))})(n,e)}function m3(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function FA(n){return(e,t)=>{let i=!1;for(const s of eh(n)){const o=g3(s,e,t);if(o!==0)return o;i=i||s.field.isKeyField()}return 0}}function g3(n,e,t){const i=n.field.isKeyField()?Ue.comparator(e.key,t.key):(function(o,u,f){const h=u.data.field(o),d=f.data.field(o);return h!==null&&d!==null?bu(h,d):je(42886)})(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return je(19790,{direction:n.dir})}}class al{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[s,o]of i)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[t]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){fo(this.inner,((t,i)=>{for(const[s,o]of i)e(s,o)}))}isEmpty(){return wA(this.inner)}size(){return this.innerSize}}const y3=new Rn(Ue.comparator);function ta(){return y3}const BA=new Rn(Ue.comparator);function Kc(...n){let e=BA;for(const t of n)e=e.insert(t.key,t);return e}function jA(n){let e=BA;return n.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function qo(){return th()}function HA(){return th()}function th(){return new al((n=>n.toString()),((n,e)=>n.isEqual(e)))}const _3=new Rn(Ue.comparator),v3=new Dn(Ue.comparator);function st(...n){let e=v3;for(const t of n)e=e.add(t);return e}const b3=new Dn(rt);function E3(){return b3}function Qv(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:up(e)?"-0":e}}function qA(n){return{integerValue:""+n}}function T3(n,e){return YV(e)?qA(e):Qv(n,e)}class am{constructor(){this._=void 0}}function S3(n,e,t){return n instanceof pp?(function(s,o){const u={fields:{[AA]:{stringValue:RA},[OA]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&qv(o)&&(o=nm(o)),o&&(u.fields[IA]=o),{mapValue:u}})(t,e):n instanceof Tu?GA(n,e):n instanceof Su?KA(n,e):(function(s,o){const u=$A(s,o),f=K1(u)+K1(s.Ae);return D_(u)&&D_(s.Ae)?qA(f):Qv(s.serializer,f)})(n,e)}function w3(n,e,t){return n instanceof Tu?GA(n,e):n instanceof Su?KA(n,e):t}function $A(n,e){return n instanceof mp?(function(i){return D_(i)||(function(o){return!!o&&"doubleValue"in o})(i)})(e)?e:{integerValue:0}:null}class pp extends am{}class Tu extends am{constructor(e){super(),this.elements=e}}function GA(n,e){const t=YA(e);for(const i of n.elements)t.some((s=>ls(s,i)))||t.push(i);return{arrayValue:{values:t}}}class Su extends am{constructor(e){super(),this.elements=e}}function KA(n,e){let t=YA(e);for(const i of n.elements)t=t.filter((s=>!ls(s,i)));return{arrayValue:{values:t}}}class mp extends am{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function K1(n){return dn(n.integerValue||n.doubleValue)}function YA(n){return $v(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class QA{constructor(e,t){this.field=e,this.transform=t}}function C3(n,e){return n.field.isEqual(e.field)&&(function(i,s){return i instanceof Tu&&s instanceof Tu||i instanceof Su&&s instanceof Su?vu(i.elements,s.elements,ls):i instanceof mp&&s instanceof mp?ls(i.Ae,s.Ae):i instanceof pp&&s instanceof pp})(n.transform,e.transform)}class R3{constructor(e,t){this.version=e,this.transformResults=t}}class Zr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Zr}static exists(e){return new Zr(void 0,e)}static updateTime(e){return new Zr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class om{}function WA(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new JA(n.key,Zr.none()):new kh(n.key,n.data,Zr.none());{const t=n.data,i=Ci.empty();let s=new Dn(Kn.comparator);for(let o of e.fields)if(!s.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?i.delete(o):i.set(o,u),s=s.add(o)}return new po(n.key,i,new Fi(s.toArray()),Zr.none())}}function A3(n,e,t){n instanceof kh?(function(s,o,u){const f=s.value.clone(),h=Q1(s.fieldTransforms,o,u.transformResults);f.setAll(h),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(n,e,t):n instanceof po?(function(s,o,u){if(!jd(s.precondition,o))return void o.convertToUnknownDocument(u.version);const f=Q1(s.fieldTransforms,o,u.transformResults),h=o.data;h.setAll(XA(s)),h.setAll(f),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(n,e,t):(function(s,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function nh(n,e,t,i){return n instanceof kh?(function(o,u,f,h){if(!jd(o.precondition,u))return f;const d=o.value.clone(),y=W1(o.fieldTransforms,h,u);return d.setAll(y),u.convertToFoundDocument(u.version,d).setHasLocalMutations(),null})(n,e,t,i):n instanceof po?(function(o,u,f,h){if(!jd(o.precondition,u))return f;const d=W1(o.fieldTransforms,h,u),y=u.data;return y.setAll(XA(o)),y.setAll(d),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),f===null?null:f.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((_=>_.field)))})(n,e,t,i):(function(o,u,f){return jd(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f})(n,e,t)}function I3(n,e){let t=null;for(const i of n.fieldTransforms){const s=e.data.field(i.field),o=$A(i.transform,s||null);o!=null&&(t===null&&(t=Ci.empty()),t.set(i.field,o))}return t||null}function Y1(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&vu(i,s,((o,u)=>C3(o,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class kh extends om{constructor(e,t,i,s=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class po extends om{constructor(e,t,i,s,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function XA(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}})),e}function Q1(n,e,t){const i=new Map;Ct(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let s=0;s<t.length;s++){const o=n[s],u=o.transform,f=e.data.field(o.field);i.set(o.field,w3(u,f,t[s]))}return i}function W1(n,e,t){const i=new Map;for(const s of n){const o=s.transform,u=t.data.field(s.field);i.set(s.field,S3(o,u,e))}return i}class JA extends om{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class O3 extends om{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class D3{constructor(e,t,i,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&A3(o,e,i[s])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=nh(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=nh(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=HA();return this.mutations.forEach((s=>{const o=e.get(s.key),u=o.overlayedDocument;let f=this.applyToLocalView(u,o.mutatedFields);f=t.has(s.key)?null:f;const h=WA(u,f);h!==null&&i.set(s.key,h),u.isValidDocument()||u.convertToNoDocument(qe.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),st())}isEqual(e){return this.batchId===e.batchId&&vu(this.mutations,e.mutations,((t,i)=>Y1(t,i)))&&vu(this.baseMutations,e.baseMutations,((t,i)=>Y1(t,i)))}}class Wv{constructor(e,t,i,s){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=s}static from(e,t,i){Ct(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let s=(function(){return _3})();const o=e.mutations;for(let u=0;u<o.length;u++)s=s.insert(o[u].key,i[u].version);return new Wv(e,t,i,s)}}class N3{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class M3{constructor(e,t){this.count=e,this.unchangedNames=t}}var Tn,ut;function x3(n){switch(n){case de.OK:return je(64938);case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0;default:return je(15467,{code:n})}}function ZA(n){if(n===void 0)return Zs("GRPC error has no .code"),de.UNKNOWN;switch(n){case Tn.OK:return de.OK;case Tn.CANCELLED:return de.CANCELLED;case Tn.UNKNOWN:return de.UNKNOWN;case Tn.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case Tn.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case Tn.INTERNAL:return de.INTERNAL;case Tn.UNAVAILABLE:return de.UNAVAILABLE;case Tn.UNAUTHENTICATED:return de.UNAUTHENTICATED;case Tn.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case Tn.NOT_FOUND:return de.NOT_FOUND;case Tn.ALREADY_EXISTS:return de.ALREADY_EXISTS;case Tn.PERMISSION_DENIED:return de.PERMISSION_DENIED;case Tn.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case Tn.ABORTED:return de.ABORTED;case Tn.OUT_OF_RANGE:return de.OUT_OF_RANGE;case Tn.UNIMPLEMENTED:return de.UNIMPLEMENTED;case Tn.DATA_LOSS:return de.DATA_LOSS;default:return je(39323,{code:n})}}(ut=Tn||(Tn={}))[ut.OK=0]="OK",ut[ut.CANCELLED=1]="CANCELLED",ut[ut.UNKNOWN=2]="UNKNOWN",ut[ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ut[ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ut[ut.NOT_FOUND=5]="NOT_FOUND",ut[ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",ut[ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",ut[ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",ut[ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ut[ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ut[ut.ABORTED=10]="ABORTED",ut[ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",ut[ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",ut[ut.INTERNAL=13]="INTERNAL",ut[ut.UNAVAILABLE=14]="UNAVAILABLE",ut[ut.DATA_LOSS=15]="DATA_LOSS";function P3(){return new TextEncoder}const k3=new Xa([4294967295,4294967295],0);function X1(n){const e=P3().encode(n),t=new dA;return t.update(e),new Uint8Array(t.digest())}function J1(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Xa([t,i],0),new Xa([s,o],0)]}class Xv{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Yc(`Invalid padding: ${t}`);if(i<0)throw new Yc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Yc(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Yc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Xa.fromNumber(this.ge)}ye(e,t,i){let s=e.add(t.multiply(Xa.fromNumber(i)));return s.compare(k3)===1&&(s=new Xa([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=X1(e),[i,s]=J1(t);for(let o=0;o<this.hashCount;o++){const u=this.ye(i,s,o);if(!this.we(u))return!1}return!0}static create(e,t,i){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new Xv(o,s,t);return i.forEach((f=>u.insert(f))),u}insert(e){if(this.ge===0)return;const t=X1(e),[i,s]=J1(t);for(let o=0;o<this.hashCount;o++){const u=this.ye(i,s,o);this.Se(u)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Yc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class lm{constructor(e,t,i,s,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const s=new Map;return s.set(e,Lh.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new lm(qe.min(),s,new Rn(rt),ta(),st())}}class Lh{constructor(e,t,i,s,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Lh(i,t,st(),st(),st())}}class Hd{constructor(e,t,i,s){this.be=e,this.removedTargetIds=t,this.key=i,this.De=s}}class eI{constructor(e,t){this.targetId=e,this.Ce=t}}class tI{constructor(e,t,i=Qn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=s}}class Z1{constructor(){this.ve=0,this.Fe=ew(),this.Me=Qn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=st(),t=st(),i=st();return this.Fe.forEach(((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:i=i.add(s);break;default:je(38017,{changeType:o})}})),new Lh(this.Me,this.xe,e,t,i)}qe(){this.Oe=!1,this.Fe=ew()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ct(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class L3{constructor(e){this.Ge=e,this.ze=new Map,this.je=ta(),this.Je=vd(),this.He=vd(),this.Ye=new Rn(rt)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:je(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,s)=>{this.rt(s)&&t(s)}))}st(e){const t=e.targetId,i=e.Ce.count,s=this.ot(t);if(s){const o=s.target;if(M_(o))if(i===0){const u=new Ue(o.path);this.et(t,u,ti.newNoDocument(u,qe.min()))}else Ct(i===1,20013,{expectedCount:i});else{const u=this._t(t);if(u!==i){const f=this.ut(e),h=f?this.ct(f,e,u):1;if(h!==0){this.it(t);const d=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,d)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:o=0}=t;let u,f;try{u=ro(i).toUint8Array()}catch(h){if(h instanceof CA)return _u("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{f=new Xv(u,s,o)}catch(h){return _u(h instanceof Yc?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return f.ge===0?null:f}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let s=0;return i.forEach((o=>{const u=this.Ge.ht(),f=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(f)||(this.et(t,o,null),s++)})),s}Tt(e){const t=new Map;this.ze.forEach(((o,u)=>{const f=this.ot(u);if(f){if(o.current&&M_(f.target)){const h=new Ue(f.target.path);this.It(h).has(u)||this.Et(u,h)||this.et(u,h,ti.newNoDocument(h,e))}o.Be&&(t.set(u,o.ke()),o.qe())}}));let i=st();this.He.forEach(((o,u)=>{let f=!0;u.forEachWhile((h=>{const d=this.ot(h);return!d||d.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(i=i.add(o))})),this.je.forEach(((o,u)=>u.setReadTime(e)));const s=new lm(e,t,this.Ye,this.je,i);return this.je=ta(),this.Je=vd(),this.He=vd(),this.Ye=new Rn(rt),s}Xe(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,i),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.Qe(t,1):s.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Z1,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Dn(rt),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Dn(rt),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Ce("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Z1),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function vd(){return new Rn(Ue.comparator)}function ew(){return new Rn(Ue.comparator)}const V3={asc:"ASCENDING",desc:"DESCENDING"},U3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},z3={and:"AND",or:"OR"};class F3{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function P_(n,e){return n.useProto3Json||tm(e)?e:{value:e}}function gp(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nI(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function B3(n,e){return gp(n,e.toTimestamp())}function es(n){return Ct(!!n,49232),qe.fromTimestamp((function(t){const i=io(t);return new Ht(i.seconds,i.nanos)})(n))}function Jv(n,e){return k_(n,e).canonicalString()}function k_(n,e){const t=(function(s){return new jt(["projects",s.projectId,"databases",s.database])})(n).child("documents");return e===void 0?t:t.child(e)}function iI(n){const e=jt.fromString(n);return Ct(lI(e),10190,{key:e.toString()}),e}function L_(n,e){return Jv(n.databaseId,e.path)}function Fy(n,e){const t=iI(e);if(t.get(1)!==n.databaseId.projectId)throw new Ne(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ne(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ue(sI(t))}function rI(n,e){return Jv(n.databaseId,e)}function j3(n){const e=iI(n);return e.length===4?jt.emptyPath():sI(e)}function V_(n){return new jt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function sI(n){return Ct(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function tw(n,e,t){return{name:L_(n,e),fields:t.value.mapValue.fields}}function H3(n,e){let t;if("targetChange"in e){e.targetChange;const i=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:je(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=(function(d,y){return d.useProto3Json?(Ct(y===void 0||typeof y=="string",58123),Qn.fromBase64String(y||"")):(Ct(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Qn.fromUint8Array(y||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&(function(d){const y=d.code===void 0?de.UNKNOWN:ZA(d.code);return new Ne(y,d.message||"")})(u);t=new tI(i,s,o,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=Fy(n,i.document.name),o=es(i.document.updateTime),u=i.document.createTime?es(i.document.createTime):qe.min(),f=new Ci({mapValue:{fields:i.document.fields}}),h=ti.newFoundDocument(s,o,u,f),d=i.targetIds||[],y=i.removedTargetIds||[];t=new Hd(d,y,h.key,h)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=Fy(n,i.document),o=i.readTime?es(i.readTime):qe.min(),u=ti.newNoDocument(s,o),f=i.removedTargetIds||[];t=new Hd([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=Fy(n,i.document),o=i.removedTargetIds||[];t=new Hd([],o,s,null)}else{if(!("filter"in e))return je(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:o}=i,u=new M3(s,o),f=i.targetId;t=new eI(f,u)}}return t}function q3(n,e){let t;if(e instanceof kh)t={update:tw(n,e.key,e.value)};else if(e instanceof JA)t={delete:L_(n,e.key)};else if(e instanceof po)t={update:tw(n,e.key,e.data),updateMask:Z3(e.fieldMask)};else{if(!(e instanceof O3))return je(16599,{Vt:e.type});t={verify:L_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(o,u){const f=u.transform;if(f instanceof pp)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Tu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Su)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof mp)return{fieldPath:u.field.canonicalString(),increment:f.Ae};throw je(20930,{transform:u.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(s,o){return o.updateTime!==void 0?{updateTime:B3(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:je(27497)})(n,e.precondition)),t}function $3(n,e){return n&&n.length>0?(Ct(e!==void 0,14353),n.map((t=>(function(s,o){let u=s.updateTime?es(s.updateTime):es(o);return u.isEqual(qe.min())&&(u=es(o)),new R3(u,s.transformResults||[])})(t,e)))):[]}function G3(n,e){return{documents:[rI(n,e.path)]}}function K3(n,e){const t={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=rI(n,s);const o=(function(d){if(d.length!==0)return oI(us.create(d,"and"))})(e.filters);o&&(t.structuredQuery.where=o);const u=(function(d){if(d.length!==0)return d.map((y=>(function(b){return{field:nu(b.field),direction:W3(b.dir)}})(y)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const f=P_(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:t,parent:s}}function Y3(n){let e=j3(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let s=null;if(i>0){Ct(i===1,65062);const y=t.from[0];y.allDescendants?s=y.collectionId:e=e.child(y.collectionId)}let o=[];t.where&&(o=(function(_){const b=aI(_);return b instanceof us&&kA(b)?b.getFilters():[b]})(t.where));let u=[];t.orderBy&&(u=(function(_){return _.map((b=>(function(I){return new dp(iu(I.field),(function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(I.direction))})(b)))})(t.orderBy));let f=null;t.limit&&(f=(function(_){let b;return b=typeof _=="object"?_.value:_,tm(b)?null:b})(t.limit));let h=null;t.startAt&&(h=(function(_){const b=!!_.before,w=_.values||[];return new fp(w,b)})(t.startAt));let d=null;return t.endAt&&(d=(function(_){const b=!_.before,w=_.values||[];return new fp(w,b)})(t.endAt)),f3(e,s,u,o,f,"F",h,d)}function Q3(n,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return je(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function aI(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=iu(t.unaryFilter.field);return On.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=iu(t.unaryFilter.field);return On.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=iu(t.unaryFilter.field);return On.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=iu(t.unaryFilter.field);return On.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return je(61313);default:return je(60726)}})(n):n.fieldFilter!==void 0?(function(t){return On.create(iu(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return je(58110);default:return je(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return us.create(t.compositeFilter.filters.map((i=>aI(i))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return je(1026)}})(t.compositeFilter.op))})(n):je(30097,{filter:n})}function W3(n){return V3[n]}function X3(n){return U3[n]}function J3(n){return z3[n]}function nu(n){return{fieldPath:n.canonicalString()}}function iu(n){return Kn.fromServerFormat(n.fieldPath)}function oI(n){return n instanceof On?(function(t){if(t.op==="=="){if(j1(t.value))return{unaryFilter:{field:nu(t.field),op:"IS_NAN"}};if(B1(t.value))return{unaryFilter:{field:nu(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(j1(t.value))return{unaryFilter:{field:nu(t.field),op:"IS_NOT_NAN"}};if(B1(t.value))return{unaryFilter:{field:nu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nu(t.field),op:X3(t.op),value:t.value}}})(n):n instanceof us?(function(t){const i=t.getFilters().map((s=>oI(s)));return i.length===1?i[0]:{compositeFilter:{op:J3(t.op),filters:i}}})(n):je(54877,{filter:n})}function Z3(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function lI(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class Ya{constructor(e,t,i,s,o=qe.min(),u=qe.min(),f=Qn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=h}withSequenceNumber(e){return new Ya(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ya(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class e6{constructor(e){this.yt=e}}function t6(n){const e=Y3({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?x_(e,e.limit,"L"):e}class n6{constructor(){this.Cn=new i6}addToCollectionParentIndex(e,t){return this.Cn.add(t),fe.resolve()}getCollectionParents(e,t){return fe.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return fe.resolve()}deleteFieldIndex(e,t){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,t){return fe.resolve()}getDocumentsMatchingTarget(e,t){return fe.resolve(null)}getIndexType(e,t){return fe.resolve(0)}getFieldIndexes(e,t){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,t){return fe.resolve(no.min())}getMinOffsetFromCollectionGroup(e,t){return fe.resolve(no.min())}updateCollectionGroup(e,t,i){return fe.resolve()}updateIndexEntries(e,t){return fe.resolve()}}class i6{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t]||new Dn(jt.comparator),o=!s.has(i);return this.index[t]=s.add(i),o}has(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t];return s&&s.has(i)}getEntries(e){return(this.index[e]||new Dn(jt.comparator)).toArray()}}const nw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},uI=41943040;class wi{static withCacheSize(e){return new wi(e,wi.DEFAULT_COLLECTION_PERCENTILE,wi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}wi.DEFAULT_COLLECTION_PERCENTILE=10,wi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wi.DEFAULT=new wi(uI,wi.DEFAULT_COLLECTION_PERCENTILE,wi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wi.DISABLED=new wi(-1,0,0);class wu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new wu(0)}static cr(){return new wu(-1)}}const iw="LruGarbageCollector",r6=1048576;function rw([n,e],[t,i]){const s=rt(n,t);return s===0?rt(e,i):s}class s6{constructor(e){this.Ir=e,this.buffer=new Dn(rw),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();rw(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class a6{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ce(iw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Pu(t)?Ce(iw,"Ignoring IndexedDB error during garbage collection: ",t):await xu(t)}await this.Vr(3e5)}))}}class o6{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return fe.resolve(em.ce);const i=new s6(t);return this.mr.forEachTarget(e,(s=>i.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>i.Ar(s))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.mr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ce("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(nw)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(Ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nw):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let i,s,o,u,f,h,d;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(Ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),s=this.params.maximumSequenceNumbersToCollect):s=_,u=Date.now(),this.nthSequenceNumber(e,s)))).next((_=>(i=_,f=Date.now(),this.removeTargets(e,i,t)))).next((_=>(o=_,h=Date.now(),this.removeOrphanedDocuments(e,i)))).next((_=>(d=Date.now(),eu()<=tt.DEBUG&&Ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${s} in `+(f-u)+`ms
	Removed ${o} targets in `+(h-f)+`ms
	Removed ${_} documents in `+(d-h)+`ms
Total Duration: ${d-y}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:_}))))}}function l6(n,e){return new o6(n,e)}class u6{constructor(){this.changes=new al((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ti.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?fe.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class c6{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class h6{constructor(e,t,i,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(i=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(i!==null&&nh(i.mutation,s,Fi.empty(),Ht.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,st()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=st()){const s=qo();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,i).next((o=>{let u=Kc();return o.forEach(((f,h)=>{u=u.insert(f,h.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const i=qo();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,st())))}populateOverlays(e,t,i){const s=[];return i.forEach((o=>{t.has(o)||s.push(o)})),this.documentOverlayCache.getOverlays(e,s).next((o=>{o.forEach(((u,f)=>{t.set(u,f)}))}))}computeViews(e,t,i,s){let o=ta();const u=th(),f=(function(){return th()})();return t.forEach(((h,d)=>{const y=i.get(d.key);s.has(d.key)&&(y===void 0||y.mutation instanceof po)?o=o.insert(d.key,d):y!==void 0?(u.set(d.key,y.mutation.getFieldMask()),nh(y.mutation,d,y.mutation.getFieldMask(),Ht.now())):u.set(d.key,Fi.empty())})),this.recalculateAndSaveOverlays(e,o).next((h=>(h.forEach(((d,y)=>u.set(d,y))),t.forEach(((d,y)=>f.set(d,new c6(y,u.get(d)??null)))),f)))}recalculateAndSaveOverlays(e,t){const i=th();let s=new Rn(((u,f)=>u-f)),o=st();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const f of u)f.keys().forEach((h=>{const d=t.get(h);if(d===null)return;let y=i.get(h)||Fi.empty();y=f.applyToLocalView(d,y),i.set(h,y);const _=(s.get(f.batchId)||st()).add(h);s=s.insert(f.batchId,_)}))})).next((()=>{const u=[],f=s.getReverseIterator();for(;f.hasNext();){const h=f.getNext(),d=h.key,y=h.value,_=HA();y.forEach((b=>{if(!o.has(b)){const w=WA(t.get(b),i.get(b));w!==null&&_.set(b,w),o=o.add(b)}})),u.push(this.documentOverlayCache.saveOverlays(e,d,_))}return fe.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,s){return(function(u){return Ue.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):d3(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,s):this.getDocumentsMatchingCollectionQuery(e,t,i,s)}getNextDocuments(e,t,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,s).next((o=>{const u=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,s-o.size):fe.resolve(qo());let f=ph,h=o;return u.next((d=>fe.forEach(d,((y,_)=>(f<_.largestBatchId&&(f=_.largestBatchId),o.get(y)?fe.resolve():this.remoteDocumentCache.getEntry(e,y).next((b=>{h=h.insert(y,b)}))))).next((()=>this.populateOverlays(e,d,o))).next((()=>this.computeViews(e,h,d,st()))).next((y=>({batchId:f,changes:jA(y)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ue(t)).next((i=>{let s=Kc();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,s){const o=t.collectionGroup;let u=Kc();return this.indexManager.getCollectionParents(e,o).next((f=>fe.forEach(f,(h=>{const d=(function(_,b){return new im(b,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(t,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,i,s).next((y=>{y.forEach(((_,b)=>{u=u.insert(_,b)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,i,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,o,s)))).next((u=>{o.forEach(((h,d)=>{const y=d.getKey();u.get(y)===null&&(u=u.insert(y,ti.newInvalidDocument(y)))}));let f=Kc();return u.forEach(((h,d)=>{const y=o.get(h);y!==void 0&&nh(y.mutation,d,Fi.empty(),Ht.now()),sm(t,d)&&(f=f.insert(h,d))})),f}))}}class f6{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return fe.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:es(s.createTime)}})(t)),fe.resolve()}getNamedQuery(e,t){return fe.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(s){return{name:s.name,query:t6(s.bundledQuery),readTime:es(s.readTime)}})(t)),fe.resolve()}}class d6{constructor(){this.overlays=new Rn(Ue.comparator),this.qr=new Map}getOverlay(e,t){return fe.resolve(this.overlays.get(t))}getOverlays(e,t){const i=qo();return fe.forEach(t,(s=>this.getOverlay(e,s).next((o=>{o!==null&&i.set(s,o)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((s,o)=>{this.St(e,t,o)})),fe.resolve()}removeOverlaysForBatchId(e,t,i){const s=this.qr.get(i);return s!==void 0&&(s.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(i)),fe.resolve()}getOverlaysForCollection(e,t,i){const s=qo(),o=t.length+1,u=new Ue(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const h=f.getNext().value,d=h.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===o&&h.largestBatchId>i&&s.set(h.getKey(),h)}return fe.resolve(s)}getOverlaysForCollectionGroup(e,t,i,s){let o=new Rn(((d,y)=>d-y));const u=this.overlays.getIterator();for(;u.hasNext();){const d=u.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>i){let y=o.get(d.largestBatchId);y===null&&(y=qo(),o=o.insert(d.largestBatchId,y)),y.set(d.getKey(),d)}}const f=qo(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((d,y)=>f.set(d,y))),!(f.size()>=s)););return fe.resolve(f)}St(e,t,i){const s=this.overlays.get(i.key);if(s!==null){const u=this.qr.get(s.largestBatchId).delete(i.key);this.qr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new N3(t,i));let o=this.qr.get(t);o===void 0&&(o=st(),this.qr.set(t,o)),this.qr.set(t,o.add(i.key))}}class p6{constructor(){this.sessionToken=Qn.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,fe.resolve()}}class Zv{constructor(){this.Qr=new Dn(Vn.$r),this.Ur=new Dn(Vn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const i=new Vn(e,t);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Gr(new Vn(e,t))}zr(e,t){e.forEach((i=>this.removeReference(i,t)))}jr(e){const t=new Ue(new jt([])),i=new Vn(t,e),s=new Vn(t,e+1),o=[];return this.Ur.forEachInRange([i,s],(u=>{this.Gr(u),o.push(u.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Ue(new jt([])),i=new Vn(t,e),s=new Vn(t,e+1);let o=st();return this.Ur.forEachInRange([i,s],(u=>{o=o.add(u.key)})),o}containsKey(e){const t=new Vn(e,0),i=this.Qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Vn{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Ue.comparator(e.key,t.key)||rt(e.Yr,t.Yr)}static Kr(e,t){return rt(e.Yr,t.Yr)||Ue.comparator(e.key,t.key)}}class m6{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Dn(Vn.$r)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,s){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new D3(o,t,i,s);this.mutationQueue.push(u);for(const f of s)this.Zr=this.Zr.add(new Vn(f.key,o)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return fe.resolve(u)}lookupMutationBatch(e,t){return fe.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,s=this.ei(i),o=s<0?0:s;return fe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?Hv:this.tr-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Vn(t,0),s=new Vn(t,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([i,s],(u=>{const f=this.Xr(u.Yr);o.push(f)})),fe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Dn(rt);return t.forEach((s=>{const o=new Vn(s,0),u=new Vn(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,u],(f=>{i=i.add(f.Yr)}))})),fe.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,s=i.length+1;let o=i;Ue.isDocumentKey(o)||(o=o.child(""));const u=new Vn(new Ue(o),0);let f=new Dn(rt);return this.Zr.forEachWhile((h=>{const d=h.key.path;return!!i.isPrefixOf(d)&&(d.length===s&&(f=f.add(h.Yr)),!0)}),u),fe.resolve(this.ti(f))}ti(e){const t=[];return e.forEach((i=>{const s=this.Xr(i);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){Ct(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return fe.forEach(t.mutations,(s=>{const o=new Vn(s.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,t){const i=new Vn(t,0),s=this.Zr.firstAfterOrEqual(i);return fe.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class g6{constructor(e){this.ri=e,this.docs=(function(){return new Rn(Ue.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,s=this.docs.get(i),o=s?s.size:0,u=this.ri(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return fe.resolve(i?i.document.mutableCopy():ti.newInvalidDocument(t))}getEntries(e,t){let i=ta();return t.forEach((s=>{const o=this.docs.get(s);i=i.insert(s,o?o.document.mutableCopy():ti.newInvalidDocument(s))})),fe.resolve(i)}getDocumentsMatchingQuery(e,t,i,s){let o=ta();const u=t.path,f=new Ue(u.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(f);for(;h.hasNext();){const{key:d,value:{document:y}}=h.getNext();if(!u.isPrefixOf(d.path))break;d.path.length>u.length+1||qV(HV(y),i)<=0||(s.has(y.key)||sm(t,y))&&(o=o.insert(y.key,y.mutableCopy()))}return fe.resolve(o)}getAllFromCollectionGroup(e,t,i,s){je(9500)}ii(e,t){return fe.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new y6(this)}getSize(e){return fe.resolve(this.size)}}class y6 extends u6{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,s)=>{s.isValidDocument()?t.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(i)})),fe.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class _6{constructor(e){this.persistence=e,this.si=new al((t=>Gv(t)),Kv),this.lastRemoteSnapshotVersion=qe.min(),this.highestTargetId=0,this.oi=0,this._i=new Zv,this.targetCount=0,this.ai=wu.ur()}forEachTarget(e,t){return this.si.forEach(((i,s)=>t(s))),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.oi&&(this.oi=t),fe.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new wu(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,fe.resolve()}updateTargetData(e,t){return this.Pr(t),fe.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,t,i){let s=0;const o=[];return this.si.forEach(((u,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.si.delete(u),o.push(this.removeMatchingKeysForTargetId(e,f.targetId)),s++)})),fe.waitFor(o).next((()=>s))}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,t){const i=this.si.get(t)||null;return fe.resolve(i)}addMatchingKeys(e,t,i){return this._i.Wr(t,i),fe.resolve()}removeMatchingKeys(e,t,i){this._i.zr(t,i);const s=this.persistence.referenceDelegate,o=[];return s&&t.forEach((u=>{o.push(s.markPotentiallyOrphaned(e,u))})),fe.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),fe.resolve()}getMatchingKeysForTargetId(e,t){const i=this._i.Hr(t);return fe.resolve(i)}containsKey(e,t){return fe.resolve(this._i.containsKey(t))}}class cI{constructor(e,t){this.ui={},this.overlays={},this.ci=new em(0),this.li=!1,this.li=!0,this.hi=new p6,this.referenceDelegate=e(this),this.Pi=new _6(this),this.indexManager=new n6,this.remoteDocumentCache=(function(s){return new g6(s)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new e6(t),this.Ii=new f6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new d6,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ui[e.toKey()];return i||(i=new m6(t,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,i){Ce("MemoryPersistence","Starting transaction:",e);const s=new v6(this.ci.next());return this.referenceDelegate.Ei(),i(s).next((o=>this.referenceDelegate.di(s).next((()=>o)))).toPromise().then((o=>(s.raiseOnCommittedEvent(),o)))}Ai(e,t){return fe.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,t))))}}class v6 extends GV{constructor(e){super(),this.currentSequenceNumber=e}}class e0{constructor(e){this.persistence=e,this.Ri=new Zv,this.Vi=null}static mi(e){return new e0(e)}get fi(){if(this.Vi)return this.Vi;throw je(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.fi.delete(i.toString()),fe.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.fi.add(i.toString()),fe.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),fe.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((s=>this.fi.add(s.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((o=>this.fi.add(o.toString())))})).next((()=>i.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.fi,(i=>{const s=Ue.fromPath(i);return this.gi(e,s).next((o=>{o||t.removeEntry(s,qe.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((i=>{i?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return fe.or([()=>fe.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class yp{constructor(e,t){this.persistence=e,this.pi=new al((i=>QV(i.path)),((i,s)=>i.isEqual(s))),this.garbageCollector=l6(this,t)}static mi(e,t){return new yp(e,t)}Ei(){}di(e){return fe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((s=>i+s))))}wr(e){let t=0;return this.pr(e,(i=>{t++})).next((()=>t))}pr(e,t){return fe.forEach(this.pi,((i,s)=>this.br(e,i,s).next((o=>o?fe.resolve():t(s)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ii(e,(u=>this.br(e,u,t).next((f=>{f||(i++,o.removeEntry(u,qe.min()))})))).next((()=>o.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),fe.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),fe.resolve()}removeReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),fe.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Fd(e.data.value)),t}br(e,t,i){return fe.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.pi.get(t);return fe.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class t0{constructor(e,t,i,s){this.targetId=e,this.fromCache=t,this.Es=i,this.ds=s}static As(e,t){let i=st(),s=st();for(const o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new t0(e,t.fromCache,i,s)}}class b6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class E6{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return ck()?8:KV(si())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,s){const o={result:null};return this.ys(e,t).next((u=>{o.result=u})).next((()=>{if(!o.result)return this.ws(e,t,s,i).next((u=>{o.result=u}))})).next((()=>{if(o.result)return;const u=new b6;return this.Ss(e,t,u).next((f=>{if(o.result=f,this.Vs)return this.bs(e,t,u,f.size)}))})).next((()=>o.result))}bs(e,t,i,s){return i.documentReadCount<this.fs?(eu()<=tt.DEBUG&&Ce("QueryEngine","SDK will not create cache indexes for query:",tu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),fe.resolve()):(eu()<=tt.DEBUG&&Ce("QueryEngine","Query:",tu(t),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.gs*s?(eu()<=tt.DEBUG&&Ce("QueryEngine","The SDK decides to create cache indexes for query:",tu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Jr(t))):fe.resolve())}ys(e,t){if(G1(t))return fe.resolve(null);let i=Jr(t);return this.indexManager.getIndexType(e,i).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=x_(t,null,"F"),i=Jr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((o=>{const u=st(...o);return this.ps.getDocuments(e,u).next((f=>this.indexManager.getMinOffset(e,i).next((h=>{const d=this.Ds(t,f);return this.Cs(t,d,u,h.readTime)?this.ys(e,x_(t,null,"F")):this.vs(e,d,t,h)}))))})))))}ws(e,t,i,s){return G1(t)||s.isEqual(qe.min())?fe.resolve(null):this.ps.getDocuments(e,i).next((o=>{const u=this.Ds(t,o);return this.Cs(t,u,i,s)?fe.resolve(null):(eu()<=tt.DEBUG&&Ce("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),tu(t)),this.vs(e,u,t,jV(s,ph)).next((f=>f)))}))}Ds(e,t){let i=new Dn(FA(e));return t.forEach(((s,o)=>{sm(e,o)&&(i=i.add(o))})),i}Cs(e,t,i,s){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Ss(e,t,i){return eu()<=tt.DEBUG&&Ce("QueryEngine","Using full collection scan to execute query:",tu(t)),this.ps.getDocumentsMatchingQuery(e,t,no.min(),i)}vs(e,t,i,s){return this.ps.getDocumentsMatchingQuery(e,i,s).next((o=>(t.forEach((u=>{o=o.insert(u.key,u)})),o)))}}const n0="LocalStore",T6=3e8;class S6{constructor(e,t,i,s){this.persistence=e,this.Fs=t,this.serializer=s,this.Ms=new Rn(rt),this.xs=new al((o=>Gv(o)),Kv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new h6(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function w6(n,e,t,i){return new S6(n,e,t,i)}async function hI(n,e){const t=Ge(n);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let s;return t.mutationQueue.getAllMutationBatches(i).next((o=>(s=o,t.Bs(e),t.mutationQueue.getAllMutationBatches(i)))).next((o=>{const u=[],f=[];let h=st();for(const d of s){u.push(d.batchId);for(const y of d.mutations)h=h.add(y.key)}for(const d of o){f.push(d.batchId);for(const y of d.mutations)h=h.add(y.key)}return t.localDocuments.getDocuments(i,h).next((d=>({Ls:d,removedBatchIds:u,addedBatchIds:f})))}))}))}function C6(n,e){const t=Ge(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const s=e.batch.keys(),o=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,h,d,y){const _=d.batch,b=_.keys();let w=fe.resolve();return b.forEach((I=>{w=w.next((()=>y.getEntry(h,I))).next((O=>{const A=d.docVersions.get(I);Ct(A!==null,48541),O.version.compareTo(A)<0&&(_.applyToRemoteDocument(O,d),O.isValidDocument()&&(O.setReadTime(d.commitVersion),y.addEntry(O)))}))})),w.next((()=>f.mutationQueue.removeMutationBatch(h,_)))})(t,i,e,o).next((()=>o.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(f){let h=st();for(let d=0;d<f.mutationResults.length;++d)f.mutationResults[d].transformResults.length>0&&(h=h.add(f.batch.mutations[d].key));return h})(e)))).next((()=>t.localDocuments.getDocuments(i,s)))}))}function fI(n){const e=Ge(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function R6(n,e){const t=Ge(n),i=e.snapshotVersion;let s=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});s=t.Ms;const f=[];e.targetChanges.forEach(((y,_)=>{const b=s.get(_);if(!b)return;f.push(t.Pi.removeMatchingKeys(o,y.removedDocuments,_).next((()=>t.Pi.addMatchingKeys(o,y.addedDocuments,_))));let w=b.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(_)!==null?w=w.withResumeToken(Qn.EMPTY_BYTE_STRING,qe.min()).withLastLimboFreeSnapshotVersion(qe.min()):y.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(y.resumeToken,i)),s=s.insert(_,w),(function(O,A,U){return O.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=T6?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0})(b,w,y)&&f.push(t.Pi.updateTargetData(o,w))}));let h=ta(),d=st();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(o,y))})),f.push(A6(o,u,e.documentUpdates).next((y=>{h=y.ks,d=y.qs}))),!i.isEqual(qe.min())){const y=t.Pi.getLastRemoteSnapshotVersion(o).next((_=>t.Pi.setTargetsMetadata(o,o.currentSequenceNumber,i)));f.push(y)}return fe.waitFor(f).next((()=>u.apply(o))).next((()=>t.localDocuments.getLocalViewOfDocuments(o,h,d))).next((()=>h))})).then((o=>(t.Ms=s,o)))}function A6(n,e,t){let i=st(),s=st();return t.forEach((o=>i=i.add(o))),e.getEntries(n,i).next((o=>{let u=ta();return t.forEach(((f,h)=>{const d=o.get(f);h.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(f)),h.isNoDocument()&&h.version.isEqual(qe.min())?(e.removeEntry(f,h.readTime),u=u.insert(f,h)):!d.isValidDocument()||h.version.compareTo(d.version)>0||h.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(h),u=u.insert(f,h)):Ce(n0,"Ignoring outdated watch update for ",f,". Current version:",d.version," Watch version:",h.version)})),{ks:u,qs:s}}))}function I6(n,e){const t=Ge(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=Hv),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function O6(n,e){const t=Ge(n);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let s;return t.Pi.getTargetData(i,e).next((o=>o?(s=o,fe.resolve(s)):t.Pi.allocateTargetId(i).next((u=>(s=new Ya(e,u,"TargetPurposeListen",i.currentSequenceNumber),t.Pi.addTargetData(i,s).next((()=>s)))))))})).then((i=>{const s=t.Ms.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(i.targetId,i),t.xs.set(e,i.targetId)),i}))}async function U_(n,e,t){const i=Ge(n),s=i.Ms.get(e),o=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",o,(u=>i.persistence.referenceDelegate.removeTarget(u,s)))}catch(u){if(!Pu(u))throw u;Ce(n0,`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ms=i.Ms.remove(e),i.xs.delete(s.target)}function sw(n,e,t){const i=Ge(n);let s=qe.min(),o=st();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(h,d,y){const _=Ge(h),b=_.xs.get(y);return b!==void 0?fe.resolve(_.Ms.get(b)):_.Pi.getTargetData(d,y)})(i,u,Jr(e)).next((f=>{if(f)return s=f.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(u,f.targetId).next((h=>{o=h}))})).next((()=>i.Fs.getDocumentsMatchingQuery(u,e,t?s:qe.min(),t?o:st()))).next((f=>(D6(i,m3(e),f),{documents:f,Qs:o})))))}function D6(n,e,t){let i=n.Os.get(e)||qe.min();t.forEach(((s,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)})),n.Os.set(e,i)}class aw{constructor(){this.activeTargetIds=E3()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class N6{constructor(){this.Mo=new aw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,i){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new aw,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class M6{Oo(e){}shutdown(){}}const ow="ConnectivityMonitor";class lw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ce(ow,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ce(ow,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let bd=null;function z_(){return bd===null?bd=(function(){return 268435456+Math.round(2147483648*Math.random())})():bd++,"0x"+bd.toString(16)}const By="RestConnection",x6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class P6{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${i}/databases/${s}`,this.Wo=this.databaseId.database===cp?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Go(e,t,i,s,o){const u=z_(),f=this.zo(e,t.toUriEncodedString());Ce(By,`Sending RPC '${e}' ${u}:`,f,i);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,s,o);const{host:d}=new URL(f),y=ra(d);return this.Jo(e,f,h,i,y).then((_=>(Ce(By,`Received RPC '${e}' ${u}: `,_),_)),(_=>{throw _u(By,`RPC '${e}' ${u} failed with error: `,_,"url: ",f,"request:",i),_}))}Ho(e,t,i,s,o,u){return this.Go(e,t,i,s,o)}jo(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Mu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,o)=>e[o]=s)),i&&i.headers.forEach(((s,o)=>e[o]=s))}zo(e,t){const i=x6[e];return`${this.Uo}/v1/${t}:${i}`}terminate(){}}class k6{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Jn="WebChannelConnection";class L6 extends P6{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,s,o){const u=z_();return new Promise(((f,h)=>{const d=new pA;d.setWithCredentials(!0),d.listenOnce(mA.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case zd.NO_ERROR:const _=d.getResponseJson();Ce(Jn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_)),f(_);break;case zd.TIMEOUT:Ce(Jn,`RPC '${e}' ${u} timed out`),h(new Ne(de.DEADLINE_EXCEEDED,"Request time out"));break;case zd.HTTP_ERROR:const b=d.getStatus();if(Ce(Jn,`RPC '${e}' ${u} failed with status:`,b,"response text:",d.getResponseText()),b>0){let w=d.getResponseJson();Array.isArray(w)&&(w=w[0]);const I=w?.error;if(I&&I.status&&I.message){const O=(function(U){const V=U.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(V)>=0?V:de.UNKNOWN})(I.status);h(new Ne(O,I.message))}else h(new Ne(de.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new Ne(de.UNAVAILABLE,"Connection failed."));break;default:je(9055,{l_:e,streamId:u,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Ce(Jn,`RPC '${e}' ${u} completed.`)}}));const y=JSON.stringify(s);Ce(Jn,`RPC '${e}' ${u} sending request:`,s),d.send(t,"POST",y,i,15)}))}T_(e,t,i){const s=z_(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=_A(),f=yA(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,t,i),h.encodeInitMessageHeaders=!0;const y=o.join("");Ce(Jn,`Creating RPC '${e}' stream ${s}: ${y}`,h);const _=u.createWebChannel(y,h);this.I_(_);let b=!1,w=!1;const I=new k6({Yo:A=>{w?Ce(Jn,`Not sending because RPC '${e}' stream ${s} is closed:`,A):(b||(Ce(Jn,`Opening RPC '${e}' stream ${s} transport.`),_.open(),b=!0),Ce(Jn,`RPC '${e}' stream ${s} sending:`,A),_.send(A))},Zo:()=>_.close()}),O=(A,U,V)=>{A.listen(U,(z=>{try{V(z)}catch(Q){setTimeout((()=>{throw Q}),0)}}))};return O(_,Gc.EventType.OPEN,(()=>{w||(Ce(Jn,`RPC '${e}' stream ${s} transport opened.`),I.o_())})),O(_,Gc.EventType.CLOSE,(()=>{w||(w=!0,Ce(Jn,`RPC '${e}' stream ${s} transport closed`),I.a_(),this.E_(_))})),O(_,Gc.EventType.ERROR,(A=>{w||(w=!0,_u(Jn,`RPC '${e}' stream ${s} transport errored. Name:`,A.name,"Message:",A.message),I.a_(new Ne(de.UNAVAILABLE,"The operation could not be completed")))})),O(_,Gc.EventType.MESSAGE,(A=>{if(!w){const U=A.data[0];Ct(!!U,16349);const V=U,z=V?.error||V[0]?.error;if(z){Ce(Jn,`RPC '${e}' stream ${s} received error:`,z);const Q=z.status;let H=(function(C){const x=Tn[C];if(x!==void 0)return ZA(x)})(Q),ie=z.message;H===void 0&&(H=de.INTERNAL,ie="Unknown error status: "+Q+" with message "+z.message),w=!0,I.a_(new Ne(H,ie)),_.close()}else Ce(Jn,`RPC '${e}' stream ${s} received:`,U),I.u_(U)}})),O(f,gA.STAT_EVENT,(A=>{A.stat===R_.PROXY?Ce(Jn,`RPC '${e}' stream ${s} detected buffering proxy`):A.stat===R_.NOPROXY&&Ce(Jn,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{I.__()}),0),I}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function jy(){return typeof document<"u"?document:null}function um(n){return new F3(n,!0)}class dI{constructor(e,t,i=1e3,s=1.5,o=6e4){this.Mi=e,this.timerId=t,this.d_=i,this.A_=s,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-i);s>0&&Ce("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const uw="PersistentStream";class pI{constructor(e,t,i,s,o,u,f,h){this.Mi=e,this.S_=i,this.b_=s,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new dI(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===de.RESOURCE_EXHAUSTED?(Zs(t.toString()),Zs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,s])=>{this.D_===t&&this.G_(i,s)}),(i=>{e((()=>{const s=new Ne(de.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(s)}))}))}G_(e,t){const i=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{i((()=>this.z_(s)))})),this.stream.onMessage((s=>{i((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ce(uw,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(Ce(uw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class V6 extends pI{constructor(e,t,i,s,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,s,u),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=H3(this.serializer,e),i=(function(o){if(!("targetChange"in o))return qe.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?qe.min():u.readTime?es(u.readTime):qe.min()})(e);return this.listener.H_(t,i)}Y_(e){const t={};t.database=V_(this.serializer),t.addTarget=(function(o,u){let f;const h=u.target;if(f=M_(h)?{documents:G3(o,h)}:{query:K3(o,h).ft},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=nI(o,u.resumeToken);const d=P_(o,u.expectedCount);d!==null&&(f.expectedCount=d)}else if(u.snapshotVersion.compareTo(qe.min())>0){f.readTime=gp(o,u.snapshotVersion.toTimestamp());const d=P_(o,u.expectedCount);d!==null&&(f.expectedCount=d)}return f})(this.serializer,e);const i=Q3(this.serializer,e);i&&(t.labels=i),this.q_(t)}Z_(e){const t={};t.database=V_(this.serializer),t.removeTarget=e,this.q_(t)}}class U6 extends pI{constructor(e,t,i,s,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,s,u),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ct(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ct(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ct(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=$3(e.writeResults,e.commitTime),i=es(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=V_(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>q3(this.serializer,i)))};this.q_(t)}}class z6{}class F6 extends z6{constructor(e,t,i,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Ne(de.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Go(e,k_(t,i),s,o,u))).catch((o=>{throw o.name==="FirebaseError"?(o.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ne(de.UNKNOWN,o.toString())}))}Ho(e,t,i,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Ho(e,k_(t,i),s,u,f,o))).catch((u=>{throw u.name==="FirebaseError"?(u.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ne(de.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class B6{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Zs(t),this.aa=!1):Ce("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Zo="RemoteStore";class j6{constructor(e,t,i,s,o){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((u=>{i.enqueueAndForget((async()=>{ol(this)&&(Ce(Zo,"Restarting streams for network reachability change."),await(async function(h){const d=Ge(h);d.Ea.add(4),await Vh(d),d.Ra.set("Unknown"),d.Ea.delete(4),await cm(d)})(this))}))})),this.Ra=new B6(i,s)}}async function cm(n){if(ol(n))for(const e of n.da)await e(!0)}async function Vh(n){for(const e of n.da)await e(!1)}function mI(n,e){const t=Ge(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),a0(t)?s0(t):ku(t).O_()&&r0(t,e))}function i0(n,e){const t=Ge(n),i=ku(t);t.Ia.delete(e),i.O_()&&gI(t,e),t.Ia.size===0&&(i.O_()?i.L_():ol(t)&&t.Ra.set("Unknown"))}function r0(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(qe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ku(n).Y_(e)}function gI(n,e){n.Va.Ue(e),ku(n).Z_(e)}function s0(n){n.Va=new L3({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),ku(n).start(),n.Ra.ua()}function a0(n){return ol(n)&&!ku(n).x_()&&n.Ia.size>0}function ol(n){return Ge(n).Ea.size===0}function yI(n){n.Va=void 0}async function H6(n){n.Ra.set("Online")}async function q6(n){n.Ia.forEach(((e,t)=>{r0(n,e)}))}async function $6(n,e){yI(n),a0(n)?(n.Ra.ha(e),s0(n)):n.Ra.set("Unknown")}async function G6(n,e,t){if(n.Ra.set("Online"),e instanceof tI&&e.state===2&&e.cause)try{await(async function(s,o){const u=o.cause;for(const f of o.targetIds)s.Ia.has(f)&&(await s.remoteSyncer.rejectListen(f,u),s.Ia.delete(f),s.Va.removeTarget(f))})(n,e)}catch(i){Ce(Zo,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await _p(n,i)}else if(e instanceof Hd?n.Va.Ze(e):e instanceof eI?n.Va.st(e):n.Va.tt(e),!t.isEqual(qe.min()))try{const i=await fI(n.localStore);t.compareTo(i)>=0&&await(function(o,u){const f=o.Va.Tt(u);return f.targetChanges.forEach(((h,d)=>{if(h.resumeToken.approximateByteSize()>0){const y=o.Ia.get(d);y&&o.Ia.set(d,y.withResumeToken(h.resumeToken,u))}})),f.targetMismatches.forEach(((h,d)=>{const y=o.Ia.get(h);if(!y)return;o.Ia.set(h,y.withResumeToken(Qn.EMPTY_BYTE_STRING,y.snapshotVersion)),gI(o,h);const _=new Ya(y.target,h,d,y.sequenceNumber);r0(o,_)})),o.remoteSyncer.applyRemoteEvent(f)})(n,t)}catch(i){Ce(Zo,"Failed to raise snapshot:",i),await _p(n,i)}}async function _p(n,e,t){if(!Pu(e))throw e;n.Ea.add(1),await Vh(n),n.Ra.set("Offline"),t||(t=()=>fI(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Ce(Zo,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await cm(n)}))}function _I(n,e){return e().catch((t=>_p(n,t,e)))}async function hm(n){const e=Ge(n),t=ao(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Hv;for(;K6(e);)try{const s=await I6(e.localStore,i);if(s===null){e.Ta.length===0&&t.L_();break}i=s.batchId,Y6(e,s)}catch(s){await _p(e,s)}vI(e)&&bI(e)}function K6(n){return ol(n)&&n.Ta.length<10}function Y6(n,e){n.Ta.push(e);const t=ao(n);t.O_()&&t.X_&&t.ea(e.mutations)}function vI(n){return ol(n)&&!ao(n).x_()&&n.Ta.length>0}function bI(n){ao(n).start()}async function Q6(n){ao(n).ra()}async function W6(n){const e=ao(n);for(const t of n.Ta)e.ea(t.mutations)}async function X6(n,e,t){const i=n.Ta.shift(),s=Wv.from(i,e,t);await _I(n,(()=>n.remoteSyncer.applySuccessfulWrite(s))),await hm(n)}async function J6(n,e){e&&ao(n).X_&&await(async function(i,s){if((function(u){return x3(u)&&u!==de.ABORTED})(s.code)){const o=i.Ta.shift();ao(i).B_(),await _I(i,(()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s))),await hm(i)}})(n,e),vI(n)&&bI(n)}async function cw(n,e){const t=Ge(n);t.asyncQueue.verifyOperationInProgress(),Ce(Zo,"RemoteStore received new credentials");const i=ol(t);t.Ea.add(3),await Vh(t),i&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await cm(t)}async function Z6(n,e){const t=Ge(n);e?(t.Ea.delete(2),await cm(t)):e||(t.Ea.add(2),await Vh(t),t.Ra.set("Unknown"))}function ku(n){return n.ma||(n.ma=(function(t,i,s){const o=Ge(t);return o.sa(),new V6(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(n.datastore,n.asyncQueue,{Xo:H6.bind(null,n),t_:q6.bind(null,n),r_:$6.bind(null,n),H_:G6.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),a0(n)?s0(n):n.Ra.set("Unknown")):(await n.ma.stop(),yI(n))}))),n.ma}function ao(n){return n.fa||(n.fa=(function(t,i,s){const o=Ge(t);return o.sa(),new U6(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:Q6.bind(null,n),r_:J6.bind(null,n),ta:W6.bind(null,n),na:X6.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await hm(n)):(await n.fa.stop(),n.Ta.length>0&&(Ce(Zo,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class o0{constructor(e,t,i,s,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=s,this.removalCallback=o,this.deferred=new Gs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,s,o){const u=Date.now()+i,f=new o0(e,t,u,s,o);return f.start(i),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ne(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function l0(n,e){if(Zs("AsyncQueue",`${e}: ${n}`),Pu(n))return new Ne(de.UNAVAILABLE,`${e}: ${n}`);throw n}class hu{static emptySet(e){return new hu(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ue.comparator(t.key,i.key):(t,i)=>Ue.comparator(t.key,i.key),this.keyedMap=Kc(),this.sortedSet=new Rn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof hu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=i.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new hu;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class hw{constructor(){this.ga=new Rn(Ue.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):je(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class Cu{constructor(e,t,i,s,o,u,f,h,d){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=h,this.hasCachedResults=d}static fromInitialDocuments(e,t,i,s,o){const u=[];return t.forEach((f=>{u.push({type:0,doc:f})})),new Cu(e,t,hu.emptySet(t),u,i,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==i[s].type||!t[s].doc.isEqual(i[s].doc))return!1;return!0}}class eU{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class tU{constructor(){this.queries=fw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const s=Ge(t),o=s.queries;s.queries=fw(),o.forEach(((u,f)=>{for(const h of f.Sa)h.onError(i)}))})(this,new Ne(de.ABORTED,"Firestore shutting down"))}}function fw(){return new al((n=>zA(n)),rm)}async function EI(n,e){const t=Ge(n);let i=3;const s=e.query;let o=t.queries.get(s);o?!o.ba()&&e.Da()&&(i=2):(o=new eU,i=e.Da()?0:1);try{switch(i){case 0:o.wa=await t.onListen(s,!0);break;case 1:o.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(u){const f=l0(u,`Initialization of query '${tu(e.query)}' failed`);return void e.onError(f)}t.queries.set(s,o),o.Sa.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&u0(t)}async function TI(n,e){const t=Ge(n),i=e.query;let s=3;const o=t.queries.get(i);if(o){const u=o.Sa.indexOf(e);u>=0&&(o.Sa.splice(u,1),o.Sa.length===0?s=e.Da()?0:1:!o.ba()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function nU(n,e){const t=Ge(n);let i=!1;for(const s of e){const o=s.query,u=t.queries.get(o);if(u){for(const f of u.Sa)f.Fa(s)&&(i=!0);u.wa=s}}i&&u0(t)}function iU(n,e,t){const i=Ge(n),s=i.queries.get(e);if(s)for(const o of s.Sa)o.onError(t);i.queries.delete(e)}function u0(n){n.Ca.forEach((e=>{e.next()}))}var F_,dw;(dw=F_||(F_={})).Ma="default",dw.Cache="cache";class SI{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new Cu(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Cu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==F_.Cache}}class wI{constructor(e){this.key=e}}class CI{constructor(e){this.key=e}}class rU{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=st(),this.mutatedKeys=st(),this.eu=FA(e),this.tu=new hu(this.eu)}get nu(){return this.Ya}ru(e,t){const i=t?t.iu:new hw,s=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,u=s,f=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((y,_)=>{const b=s.get(y),w=sm(this.query,_)?_:null,I=!!b&&this.mutatedKeys.has(b.key),O=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let A=!1;b&&w?b.data.isEqual(w.data)?I!==O&&(i.track({type:3,doc:w}),A=!0):this.su(b,w)||(i.track({type:2,doc:w}),A=!0,(h&&this.eu(w,h)>0||d&&this.eu(w,d)<0)&&(f=!0)):!b&&w?(i.track({type:0,doc:w}),A=!0):b&&!w&&(i.track({type:1,doc:b}),A=!0,(h||d)&&(f=!0)),A&&(w?(u=u.add(w),o=O?o.add(y):o.delete(y)):(u=u.delete(y),o=o.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),o=o.delete(y.key),i.track({type:1,doc:y})}return{tu:u,iu:i,Cs:f,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,s){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((y,_)=>(function(w,I){const O=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return je(20277,{Rt:A})}};return O(w)-O(I)})(y.type,_.type)||this.eu(y.doc,_.doc))),this.ou(i),s=s??!1;const f=t&&!s?this._u():[],h=this.Xa.size===0&&this.current&&!s?1:0,d=h!==this.Za;return this.Za=h,u.length!==0||d?{snapshot:new Cu(this.query,e.tu,o,u,e.mutatedKeys,h===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new hw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=st(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const t=[];return e.forEach((i=>{this.Xa.has(i)||t.push(new CI(i))})),this.Xa.forEach((i=>{e.has(i)||t.push(new wI(i))})),t}cu(e){this.Ya=e.Qs,this.Xa=st();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Cu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const c0="SyncEngine";class sU{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class aU{constructor(e){this.key=e,this.hu=!1}}class oU{constructor(e,t,i,s,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new al((f=>zA(f)),rm),this.Iu=new Map,this.Eu=new Set,this.du=new Rn(Ue.comparator),this.Au=new Map,this.Ru=new Zv,this.Vu={},this.mu=new Map,this.fu=wu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function lU(n,e,t=!0){const i=NI(n);let s;const o=i.Tu.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.lu()):s=await RI(i,e,t,!0),s}async function uU(n,e){const t=NI(n);await RI(t,e,!0,!1)}async function RI(n,e,t,i){const s=await O6(n.localStore,Jr(e)),o=s.targetId,u=n.sharedClientState.addLocalQueryTarget(o,t);let f;return i&&(f=await cU(n,e,o,u==="current",s.resumeToken)),n.isPrimaryClient&&t&&mI(n.remoteStore,s),f}async function cU(n,e,t,i,s){n.pu=(_,b,w)=>(async function(O,A,U,V){let z=A.view.ru(U);z.Cs&&(z=await sw(O.localStore,A.query,!1).then((({documents:S})=>A.view.ru(S,z))));const Q=V&&V.targetChanges.get(A.targetId),H=V&&V.targetMismatches.get(A.targetId)!=null,ie=A.view.applyChanges(z,O.isPrimaryClient,Q,H);return mw(O,A.targetId,ie.au),ie.snapshot})(n,_,b,w);const o=await sw(n.localStore,e,!0),u=new rU(e,o.Qs),f=u.ru(o.documents),h=Lh.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",s),d=u.applyChanges(f,n.isPrimaryClient,h);mw(n,t,d.au);const y=new sU(e,t,u);return n.Tu.set(e,y),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),d.snapshot}async function hU(n,e,t){const i=Ge(n),s=i.Tu.get(e),o=i.Iu.get(s.targetId);if(o.length>1)return i.Iu.set(s.targetId,o.filter((u=>!rm(u,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await U_(i.localStore,s.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(s.targetId),t&&i0(i.remoteStore,s.targetId),B_(i,s.targetId)})).catch(xu)):(B_(i,s.targetId),await U_(i.localStore,s.targetId,!0))}async function fU(n,e){const t=Ge(n),i=t.Tu.get(e),s=t.Iu.get(i.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),i0(t.remoteStore,i.targetId))}async function dU(n,e,t){const i=bU(n);try{const s=await(function(u,f){const h=Ge(u),d=Ht.now(),y=f.reduce(((w,I)=>w.add(I.key)),st());let _,b;return h.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let I=ta(),O=st();return h.Ns.getEntries(w,y).next((A=>{I=A,I.forEach(((U,V)=>{V.isValidDocument()||(O=O.add(U))}))})).next((()=>h.localDocuments.getOverlayedDocuments(w,I))).next((A=>{_=A;const U=[];for(const V of f){const z=I3(V,_.get(V.key).overlayedDocument);z!=null&&U.push(new po(V.key,z,MA(z.value.mapValue),Zr.exists(!0)))}return h.mutationQueue.addMutationBatch(w,d,U,f)})).next((A=>{b=A;const U=A.applyToLocalDocumentSet(_,O);return h.documentOverlayCache.saveOverlays(w,A.batchId,U)}))})).then((()=>({batchId:b.batchId,changes:jA(_)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),(function(u,f,h){let d=u.Vu[u.currentUser.toKey()];d||(d=new Rn(rt)),d=d.insert(f,h),u.Vu[u.currentUser.toKey()]=d})(i,s.batchId,t),await Uh(i,s.changes),await hm(i.remoteStore)}catch(s){const o=l0(s,"Failed to persist write");t.reject(o)}}async function AI(n,e){const t=Ge(n);try{const i=await R6(t.localStore,e);e.targetChanges.forEach(((s,o)=>{const u=t.Au.get(o);u&&(Ct(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u.hu=!0:s.modifiedDocuments.size>0?Ct(u.hu,14607):s.removedDocuments.size>0&&(Ct(u.hu,42227),u.hu=!1))})),await Uh(t,i,e)}catch(i){await xu(i)}}function pw(n,e,t){const i=Ge(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const s=[];i.Tu.forEach(((o,u)=>{const f=u.view.va(e);f.snapshot&&s.push(f.snapshot)})),(function(u,f){const h=Ge(u);h.onlineState=f;let d=!1;h.queries.forEach(((y,_)=>{for(const b of _.Sa)b.va(f)&&(d=!0)})),d&&u0(h)})(i.eventManager,e),s.length&&i.Pu.H_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function pU(n,e,t){const i=Ge(n);i.sharedClientState.updateQueryState(e,"rejected",t);const s=i.Au.get(e),o=s&&s.key;if(o){let u=new Rn(Ue.comparator);u=u.insert(o,ti.newNoDocument(o,qe.min()));const f=st().add(o),h=new lm(qe.min(),new Map,new Rn(rt),u,f);await AI(i,h),i.du=i.du.remove(o),i.Au.delete(e),h0(i)}else await U_(i.localStore,e,!1).then((()=>B_(i,e,t))).catch(xu)}async function mU(n,e){const t=Ge(n),i=e.batch.batchId;try{const s=await C6(t.localStore,e);OI(t,i,null),II(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Uh(t,s)}catch(s){await xu(s)}}async function gU(n,e,t){const i=Ge(n);try{const s=await(function(u,f){const h=Ge(u);return h.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let y;return h.mutationQueue.lookupMutationBatch(d,f).next((_=>(Ct(_!==null,37113),y=_.keys(),h.mutationQueue.removeMutationBatch(d,_)))).next((()=>h.mutationQueue.performConsistencyCheck(d))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(d,y,f))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,y))).next((()=>h.localDocuments.getDocuments(d,y)))}))})(i.localStore,e);OI(i,e,t),II(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Uh(i,s)}catch(s){await xu(s)}}function II(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function OI(n,e,t){const i=Ge(n);let s=i.Vu[i.currentUser.toKey()];if(s){const o=s.get(e);o&&(t?o.reject(t):o.resolve(),s=s.remove(e)),i.Vu[i.currentUser.toKey()]=s}}function B_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Iu.get(e))n.Tu.delete(i),t&&n.Pu.yu(i,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((i=>{n.Ru.containsKey(i)||DI(n,i)}))}function DI(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(i0(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),h0(n))}function mw(n,e,t){for(const i of t)i instanceof wI?(n.Ru.addReference(i.key,e),yU(n,i)):i instanceof CI?(Ce(c0,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,e),n.Ru.containsKey(i.key)||DI(n,i.key)):je(19791,{wu:i})}function yU(n,e){const t=e.key,i=t.path.canonicalString();n.du.get(t)||n.Eu.has(i)||(Ce(c0,"New document in limbo: "+t),n.Eu.add(i),h0(n))}function h0(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Ue(jt.fromString(e)),i=n.fu.next();n.Au.set(i,new aU(t)),n.du=n.du.insert(t,i),mI(n.remoteStore,new Ya(Jr(Yv(t.path)),i,"TargetPurposeLimboResolution",em.ce))}}async function Uh(n,e,t){const i=Ge(n),s=[],o=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach(((f,h)=>{u.push(i.pu(h,e,t).then((d=>{if((d||t)&&i.isPrimaryClient){const y=d?!d.fromCache:t?.targetChanges.get(h.targetId)?.current;i.sharedClientState.updateQueryState(h.targetId,y?"current":"not-current")}if(d){s.push(d);const y=t0.As(h.targetId,d);o.push(y)}})))})),await Promise.all(u),i.Pu.H_(s),await(async function(h,d){const y=Ge(h);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>fe.forEach(d,(b=>fe.forEach(b.Es,(w=>y.persistence.referenceDelegate.addReference(_,b.targetId,w))).next((()=>fe.forEach(b.ds,(w=>y.persistence.referenceDelegate.removeReference(_,b.targetId,w)))))))))}catch(_){if(!Pu(_))throw _;Ce(n0,"Failed to update sequence numbers: "+_)}for(const _ of d){const b=_.targetId;if(!_.fromCache){const w=y.Ms.get(b),I=w.snapshotVersion,O=w.withLastLimboFreeSnapshotVersion(I);y.Ms=y.Ms.insert(b,O)}}})(i.localStore,o))}async function _U(n,e){const t=Ge(n);if(!t.currentUser.isEqual(e)){Ce(c0,"User change. New user:",e.toKey());const i=await hI(t.localStore,e);t.currentUser=e,(function(o,u){o.mu.forEach((f=>{f.forEach((h=>{h.reject(new Ne(de.CANCELLED,u))}))})),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Uh(t,i.Ls)}}function vU(n,e){const t=Ge(n),i=t.Au.get(e);if(i&&i.hu)return st().add(i.key);{let s=st();const o=t.Iu.get(e);if(!o)return s;for(const u of o){const f=t.Tu.get(u);s=s.unionWith(f.view.nu)}return s}}function NI(n){const e=Ge(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=AI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pU.bind(null,e),e.Pu.H_=nU.bind(null,e.eventManager),e.Pu.yu=iU.bind(null,e.eventManager),e}function bU(n){const e=Ge(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gU.bind(null,e),e}class vp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=um(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return w6(this.persistence,new E6,e.initialUser,this.serializer)}Cu(e){return new cI(e0.mi,this.serializer)}Du(e){return new N6}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vp.provider={build:()=>new vp};class EU extends vp{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ct(this.persistence.referenceDelegate instanceof yp,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new a6(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?wi.withCacheSize(this.cacheSizeBytes):wi.DEFAULT;return new cI((i=>yp.mi(i,t)),this.serializer)}}class j_{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>pw(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=_U.bind(null,this.syncEngine),await Z6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new tU})()}createDatastore(e){const t=um(e.databaseInfo.databaseId),i=(function(o){return new L6(o)})(e.databaseInfo);return(function(o,u,f,h){return new F6(o,u,f,h)})(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,s,o,u,f){return new j6(i,s,o,u,f)})(this.localStore,this.datastore,e.asyncQueue,(t=>pw(this.syncEngine,t,0)),(function(){return lw.v()?new lw:new M6})())}createSyncEngine(e,t){return(function(s,o,u,f,h,d,y){const _=new oU(s,o,u,f,h,d);return y&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const i=Ge(t);Ce(Zo,"RemoteStore shutting down."),i.Ea.add(5),await Vh(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}j_.provider={build:()=>new j_};class MI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Zs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const oo="FirestoreClient";class TU{constructor(e,t,i,s,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=s,this.user=ei.UNAUTHENTICATED,this.clientId=Bv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,(async u=>{Ce(oo,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(Ce(oo,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=l0(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Hy(n,e){n.asyncQueue.verifyOperationInProgress(),Ce(oo,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener((async s=>{i.isEqual(s)||(await hI(e.localStore,s),i=s)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function gw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await SU(n);Ce(oo,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((i=>cw(e.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,s)=>cw(e.remoteStore,s))),n._onlineComponents=e}async function SU(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ce(oo,"Using user provided OfflineComponentProvider");try{await Hy(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===de.FAILED_PRECONDITION||s.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;_u("Error using user provided cache. Falling back to memory cache: "+t),await Hy(n,new vp)}}else Ce(oo,"Using default OfflineComponentProvider"),await Hy(n,new EU(void 0));return n._offlineComponents}async function xI(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ce(oo,"Using user provided OnlineComponentProvider"),await gw(n,n._uninitializedComponentsProvider._online)):(Ce(oo,"Using default OnlineComponentProvider"),await gw(n,new j_))),n._onlineComponents}function wU(n){return xI(n).then((e=>e.syncEngine))}async function PI(n){const e=await xI(n),t=e.eventManager;return t.onListen=lU.bind(null,e.syncEngine),t.onUnlisten=hU.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=uU.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=fU.bind(null,e.syncEngine),t}function CU(n,e,t={}){const i=new Gs;return n.asyncQueue.enqueueAndForget((async()=>(function(o,u,f,h,d){const y=new MI({next:b=>{y.Nu(),u.enqueueAndForget((()=>TI(o,_)));const w=b.docs.has(f);!w&&b.fromCache?d.reject(new Ne(de.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&b.fromCache&&h&&h.source==="server"?d.reject(new Ne(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(b)},error:b=>d.reject(b)}),_=new SI(Yv(f.path),y,{includeMetadataChanges:!0,qa:!0});return EI(o,_)})(await PI(n),n.asyncQueue,e,t,i))),i.promise}function RU(n,e,t={}){const i=new Gs;return n.asyncQueue.enqueueAndForget((async()=>(function(o,u,f,h,d){const y=new MI({next:b=>{y.Nu(),u.enqueueAndForget((()=>TI(o,_))),b.fromCache&&h.source==="server"?d.reject(new Ne(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(b)},error:b=>d.reject(b)}),_=new SI(f,y,{includeMetadataChanges:!0,qa:!0});return EI(o,_)})(await PI(n),n.asyncQueue,e,t,i))),i.promise}function kI(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const yw=new Map;const LI="firestore.googleapis.com",_w=!0;class vw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ne(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=LI,this.ssl=_w}else this.host=e.host,this.ssl=e.ssl??_w;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=uI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<r6)throw new Ne(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}BV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kI(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Ne(de.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Ne(de.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Ne(de.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,s){return i.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fm{constructor(e,t,i,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ne(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ne(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new NV;switch(i.type){case"firstParty":return new kV(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ne(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=yw.get(t);i&&(Ce("ComponentProvider","Removing Datastore"),yw.delete(t),i.terminate())})(this),Promise.resolve()}}function AU(n,e,t,i={}){n=ea(n,fm);const s=ra(e),o=n._getSettings(),u={...o,emulatorOptions:n._getEmulatorOptions()},f=`${e}:${t}`;s&&(Gp(`https://${f}`),Kp("Firestore",!0)),o.host!==LI&&o.host!==f&&_u("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...o,host:f,ssl:s,emulatorOptions:i};if(!as(h,u)&&(n._setSettings(h),i.mockUserToken)){let d,y;if(typeof i.mockUserToken=="string")d=i.mockUserToken,y=ei.MOCK_USER;else{d=Av(i.mockUserToken,n._app?.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new Ne(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new ei(_)}n._authCredentials=new MV(new bA(d,y))}}class dm{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new dm(this.firestore,e,this._query)}}class Cn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Za(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Cn(this.firestore,e,this._key)}toJSON(){return{type:Cn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(Ph(t,Cn._jsonSchema))return new Cn(e,i||null,new Ue(jt.fromString(t.referencePath)))}}Cn._jsonSchemaVersion="firestore/documentReference/1.0",Cn._jsonSchema={type:wn("string",Cn._jsonSchemaVersion),referencePath:wn("string")};class Za extends dm{constructor(e,t,i){super(e,t,Yv(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Cn(this.firestore,null,new Ue(e))}withConverter(e){return new Za(this.firestore,e,this._path)}}function VI(n,e,...t){if(n=Yn(n),EA("collection","path",e),n instanceof fm){const i=jt.fromString(e,...t);return x1(i),new Za(n,null,i)}{if(!(n instanceof Cn||n instanceof Za))throw new Ne(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(jt.fromString(e,...t));return x1(i),new Za(n.firestore,null,i)}}function ts(n,e,...t){if(n=Yn(n),arguments.length===1&&(e=Bv.newId()),EA("doc","path",e),n instanceof fm){const i=jt.fromString(e,...t);return M1(i),new Cn(n,null,new Ue(i))}{if(!(n instanceof Cn||n instanceof Za))throw new Ne(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(jt.fromString(e,...t));return M1(i),new Cn(n.firestore,n instanceof Za?n.converter:null,new Ue(i))}}const bw="AsyncQueue";class Ew{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new dI(this,"async_queue_retry"),this._c=()=>{const i=jy();i&&Ce(bw,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=jy();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=jy();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Gs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Pu(e))throw e;Ce(bw,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Zs("INTERNAL UNHANDLED ERROR: ",Tw(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=o0.createAndSchedule(this,e,t,i,(o=>this.hc(o)));return this.tc.push(s),s}uc(){this.nc&&je(47125,{Pc:Tw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Tw(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class zh extends fm{constructor(e,t,i,s){super(e,t,i,s),this.type="firestore",this._queue=new Ew,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ew(e),this._firestoreClient=void 0,await e}}}function IU(n,e){const t=typeof n=="object"?n:Wp(),i=typeof n=="string"?n:cp,s=Dh(t,"firestore").getImmediate({identifier:i});if(!s._initialized){const o=Cv("firestore");o&&AU(s,...o)}return s}function f0(n){if(n._terminated)throw new Ne(de.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||OU(n),n._firestoreClient}function OU(n){const e=n._freezeSettings(),t=(function(s,o,u,f){return new JV(s,o,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,kI(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new TU(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(s){const o=s?._online.build();return{_offline:s?._offline.build(o),_online:o}})(n._componentsProvider))}class or{constructor(e){this._byteString=e}static fromBase64String(e){try{return new or(Qn.fromBase64String(e))}catch(t){throw new Ne(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new or(Qn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:or._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ph(e,or._jsonSchema))return or.fromBase64String(e.bytes)}}or._jsonSchemaVersion="firestore/bytes/1.0",or._jsonSchema={type:wn("string",or._jsonSchemaVersion),bytes:wn("string")};class pm{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ne(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Fh{constructor(e){this._methodName=e}}class ns{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ne(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ne(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return rt(this._lat,e._lat)||rt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ns._jsonSchemaVersion}}static fromJSON(e){if(Ph(e,ns._jsonSchema))return new ns(e.latitude,e.longitude)}}ns._jsonSchemaVersion="firestore/geoPoint/1.0",ns._jsonSchema={type:wn("string",ns._jsonSchemaVersion),latitude:wn("number"),longitude:wn("number")};class is{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,s){if(i.length!==s.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==s[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:is._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ph(e,is._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new is(e.vectorValues);throw new Ne(de.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}is._jsonSchemaVersion="firestore/vectorValue/1.0",is._jsonSchema={type:wn("string",is._jsonSchemaVersion),vectorValues:wn("object")};const DU=/^__.*__$/;class NU{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new po(e,this.data,this.fieldMask,t,this.fieldTransforms):new kh(e,this.data,t,this.fieldTransforms)}}class UI{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new po(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function zI(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw je(40011,{Ac:n})}}class mm{constructor(e,t,i,s,o,u){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=s,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new mm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.gc(e),i}yc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return bp(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(zI(this.Ac)&&DU.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class MU{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||um(e)}Cc(e,t,i,s=!1){return new mm({Ac:e,methodName:t,Dc:i,path:Kn.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function FI(n){const e=n._freezeSettings(),t=um(n._databaseId);return new MU(n._databaseId,!!e.ignoreUndefinedProperties,t)}function xU(n,e,t,i,s,o={}){const u=n.Cc(o.merge||o.mergeFields?2:0,e,t,s);m0("Data must be an object, but it was:",u,i);const f=jI(i,u);let h,d;if(o.merge)h=new Fi(u.fieldMask),d=u.fieldTransforms;else if(o.mergeFields){const y=[];for(const _ of o.mergeFields){const b=H_(e,_,t);if(!u.contains(b))throw new Ne(de.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);qI(y,b)||y.push(b)}h=new Fi(y),d=u.fieldTransforms.filter((_=>h.covers(_.field)))}else h=null,d=u.fieldTransforms;return new NU(new Ci(f),h,d)}class gm extends Fh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gm}}function BI(n,e,t){return new mm({Ac:3,Dc:e.settings.Dc,methodName:n._methodName,fc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class d0 extends Fh{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=BI(this,e,!0),i=this.vc.map((o=>Lu(o,t))),s=new Tu(i);return new QA(e.path,s)}isEqual(e){return e instanceof d0&&as(this.vc,e.vc)}}class p0 extends Fh{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=BI(this,e,!0),i=this.vc.map((o=>Lu(o,t))),s=new Su(i);return new QA(e.path,s)}isEqual(e){return e instanceof p0&&as(this.vc,e.vc)}}function PU(n,e,t,i){const s=n.Cc(1,e,t);m0("Data must be an object, but it was:",s,i);const o=[],u=Ci.empty();fo(i,((h,d)=>{const y=g0(e,h,t);d=Yn(d);const _=s.yc(y);if(d instanceof gm)o.push(y);else{const b=Lu(d,_);b!=null&&(o.push(y),u.set(y,b))}}));const f=new Fi(o);return new UI(u,f,s.fieldTransforms)}function kU(n,e,t,i,s,o){const u=n.Cc(1,e,t),f=[H_(e,i,t)],h=[s];if(o.length%2!=0)throw new Ne(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<o.length;b+=2)f.push(H_(e,o[b])),h.push(o[b+1]);const d=[],y=Ci.empty();for(let b=f.length-1;b>=0;--b)if(!qI(d,f[b])){const w=f[b];let I=h[b];I=Yn(I);const O=u.yc(w);if(I instanceof gm)d.push(w);else{const A=Lu(I,O);A!=null&&(d.push(w),y.set(w,A))}}const _=new Fi(d);return new UI(y,_,u.fieldTransforms)}function Lu(n,e){if(HI(n=Yn(n)))return m0("Unsupported field value:",e,n),jI(n,e);if(n instanceof Fh)return(function(i,s){if(!zI(s.Ac))throw s.Sc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(s);o&&s.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,s){const o=[];let u=0;for(const f of i){let h=Lu(f,s.wc(u));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),u++}return{arrayValue:{values:o}}})(n,e)}return(function(i,s){if((i=Yn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return T3(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=Ht.fromDate(i);return{timestampValue:gp(s.serializer,o)}}if(i instanceof Ht){const o=new Ht(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:gp(s.serializer,o)}}if(i instanceof ns)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof or)return{bytesValue:nI(s.serializer,i._byteString)};if(i instanceof Cn){const o=s.databaseId,u=i.firestore._databaseId;if(!u.isEqual(o))throw s.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Jv(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof is)return(function(u,f){return{mapValue:{fields:{[DA]:{stringValue:NA},[hp]:{arrayValue:{values:u.toArray().map((d=>{if(typeof d!="number")throw f.Sc("VectorValues must only contain numeric values.");return Qv(f.serializer,d)}))}}}}}})(i,s);throw s.Sc(`Unsupported field value: ${jv(i)}`)})(n,e)}function jI(n,e){const t={};return wA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fo(n,((i,s)=>{const o=Lu(s,e.mc(i));o!=null&&(t[i]=o)})),{mapValue:{fields:t}}}function HI(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ht||n instanceof ns||n instanceof or||n instanceof Cn||n instanceof Fh||n instanceof is)}function m0(n,e,t){if(!HI(t)||!TA(t)){const i=jv(t);throw i==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+i)}}function H_(n,e,t){if((e=Yn(e))instanceof pm)return e._internalPath;if(typeof e=="string")return g0(n,e);throw bp("Field path arguments must be of type string or ",n,!1,void 0,t)}const LU=new RegExp("[~\\*/\\[\\]]");function g0(n,e,t){if(e.search(LU)>=0)throw bp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new pm(...e.split("."))._internalPath}catch{throw bp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function bp(n,e,t,i,s){const o=i&&!i.isEmpty(),u=s!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let h="";return(o||u)&&(h+=" (found",o&&(h+=` in field ${i}`),u&&(h+=` in document ${s}`),h+=")"),new Ne(de.INVALID_ARGUMENT,f+n+h)}function qI(n,e){return n.some((t=>t.isEqual(e)))}class $I{constructor(e,t,i,s,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new VU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(GI("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class VU extends $I{data(){return super.data()}}function GI(n,e){return typeof e=="string"?g0(n,e):e instanceof pm?e._internalPath:e._delegate._internalPath}function UU(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ne(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zU{convertValue(e,t="none"){switch(so(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ro(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw je(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return fo(e,((s,o)=>{i[s]=this.convertValue(o,t)})),i}convertVectorValue(e){const t=e.fields?.[hp].arrayValue?.values?.map((i=>dn(i.doubleValue)));return new is(t)}convertGeoPoint(e){return new ns(dn(e.latitude),dn(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=nm(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(mh(e));default:return null}}convertTimestamp(e){const t=io(e);return new Ht(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=jt.fromString(e);Ct(lI(i),9688,{name:e});const s=new gh(i.get(1),i.get(3)),o=new Ue(i.popFirst(5));return s.isEqual(t)||Zs(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}function FU(n,e,t){let i;return i=n?n.toFirestore(e):e,i}class Qc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Yo extends $I{constructor(e,t,i,s,o,u){super(e,t,i,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new qd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(GI("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ne(de.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Yo._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Yo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Yo._jsonSchema={type:wn("string",Yo._jsonSchemaVersion),bundleSource:wn("string","DocumentSnapshot"),bundleName:wn("string"),bundle:wn("string")};class qd extends Yo{data(e={}){return super.data(e)}}class fu{constructor(e,t,i,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Qc(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new qd(this._firestore,this._userDataWriter,i.key,i,new Qc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ne(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,o){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map((f=>{const h=new qd(s._firestore,s._userDataWriter,f.doc.key,f.doc,new Qc(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);return f.doc,{type:"added",doc:h,oldIndex:-1,newIndex:u++}}))}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((f=>o||f.type!==3)).map((f=>{const h=new qd(s._firestore,s._userDataWriter,f.doc.key,f.doc,new Qc(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,y=-1;return f.type!==0&&(d=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),y=u.indexOf(f.doc.key)),{type:BU(f.type),doc:h,oldIndex:d,newIndex:y}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ne(de.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=fu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Bv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],s=[];return this.docs.forEach((o=>{o._document!==null&&(t.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function BU(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return je(61501,{type:n})}}function qs(n){n=ea(n,Cn);const e=ea(n.firestore,zh);return CU(f0(e),n._key).then((t=>jU(e,n,t)))}fu._jsonSchemaVersion="firestore/querySnapshot/1.0",fu._jsonSchema={type:wn("string",fu._jsonSchemaVersion),bundleSource:wn("string","QuerySnapshot"),bundleName:wn("string"),bundle:wn("string")};class KI extends zU{constructor(e){super(),this.firestore=e}convertBytes(e){return new or(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Cn(this.firestore,null,t)}}function YI(n){n=ea(n,dm);const e=ea(n.firestore,zh),t=f0(e),i=new KI(e);return UU(n._query),RU(t,n._query).then((s=>new fu(e,i,n,s)))}function el(n,e,t){n=ea(n,Cn);const i=ea(n.firestore,zh),s=FU(n.converter,e);return QI(i,[xU(FI(i),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,Zr.none())])}function _h(n,e,t,...i){n=ea(n,Cn);const s=ea(n.firestore,zh),o=FI(s);let u;return u=typeof(e=Yn(e))=="string"||e instanceof pm?kU(o,"updateDoc",n._key,e,t,i):PU(o,"updateDoc",n._key,e),QI(s,[u.toMutation(n._key,Zr.exists(!0))])}function QI(n,e){return(function(i,s){const o=new Gs;return i.asyncQueue.enqueueAndForget((async()=>dU(await wU(i),s,o))),o.promise})(f0(n),e)}function jU(n,e,t){const i=t.docs.get(e._key),s=new KI(n);return new Yo(n,s,e._key,i,new Qc(t.hasPendingWrites,t.fromCache),e.converter)}function q_(...n){return new d0("arrayUnion",n)}function Sw(...n){return new p0("arrayRemove",n)}(function(e,t=!0){(function(s){Mu=s})(ho),to(new Ws("firestore",((i,{instanceIdentifier:s,options:o})=>{const u=i.getProvider("app").getImmediate(),f=new zh(new xV(i.getProvider("auth-internal")),new LV(u,i.getProvider("app-check-internal")),(function(d,y){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Ne(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gh(d.options.projectId,y)})(u,s),u);return o={useFetchStreams:t,...o},f._setSettings(o),f}),"PUBLIC").setMultipleInstances(!0)),ur(I1,O1,e),ur(I1,O1,"esm2020")})();var HU="firebase",qU="12.5.0";ur(HU,qU,"app");const WI="firebasestorage.googleapis.com",$U="storageBucket",GU=120*1e3,KU=600*1e3;class ds extends fs{constructor(e,t,i=0){super(qy(e),`Firebase Storage: ${t} (${qy(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ds.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return qy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var cs;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(cs||(cs={}));function qy(n){return"storage/"+n}function YU(){const n="An unknown error occurred, please check the error payload for server response.";return new ds(cs.UNKNOWN,n)}function QU(){return new ds(cs.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function WU(){return new ds(cs.CANCELED,"User canceled the upload/download.")}function XU(n){return new ds(cs.INVALID_URL,"Invalid URL '"+n+"'.")}function JU(n){return new ds(cs.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function ww(n){return new ds(cs.INVALID_ARGUMENT,n)}function XI(){return new ds(cs.APP_DELETED,"The Firebase app was deleted.")}function ZU(n){return new ds(cs.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class Ar{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=Ar.makeFromUrl(e,t)}catch{return new Ar(e,"")}if(i.path==="")return i;throw JU(e)}static makeFromUrl(e,t){let i=null;const s="([A-Za-z0-9.\\-_]+)";function o(Q){Q.path.charAt(Q.path.length-1)==="/"&&(Q.path_=Q.path_.slice(0,-1))}const u="(/(.*))?$",f=new RegExp("^gs://"+s+u,"i"),h={bucket:1,path:3};function d(Q){Q.path_=decodeURIComponent(Q.path)}const y="v[A-Za-z0-9_]+",_=t.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",w=new RegExp(`^https?://${_}/${y}/b/${s}/o${b}`,"i"),I={bucket:1,path:3},O=t===WI?"(?:storage.googleapis.com|storage.cloud.google.com)":t,A="([^?#]*)",U=new RegExp(`^https?://${O}/${s}/${A}`,"i"),z=[{regex:f,indices:h,postModify:o},{regex:w,indices:I,postModify:d},{regex:U,indices:{bucket:1,path:2},postModify:d}];for(let Q=0;Q<z.length;Q++){const H=z[Q],ie=H.regex.exec(e);if(ie){const S=ie[H.indices.bucket];let C=ie[H.indices.path];C||(C=""),i=new Ar(S,C),H.postModify(i);break}}if(i==null)throw XU(e);return i}}class e5{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function t5(n,e,t){let i=1,s=null,o=null,u=!1,f=0;function h(){return f===2}let d=!1;function y(...A){d||(d=!0,e.apply(null,A))}function _(A){s=setTimeout(()=>{s=null,n(w,h())},A)}function b(){o&&clearTimeout(o)}function w(A,...U){if(d){b();return}if(A){b(),y.call(null,A,...U);return}if(h()||u){b(),y.call(null,A,...U);return}i<64&&(i*=2);let z;f===1?(f=2,z=0):z=(i+Math.random())*1e3,_(z)}let I=!1;function O(A){I||(I=!0,b(),!d&&(s!==null?(A||(f=2),clearTimeout(s),_(0)):A||(f=1)))}return _(0),o=setTimeout(()=>{u=!0,O(!0)},t),O}function n5(n){n(!1)}function i5(n){return n!==void 0}function Cw(n,e,t,i){if(i<e)throw ww(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw ww(`Invalid value for '${n}'. Expected ${t} or less.`)}function r5(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const s=e(i)+"="+e(n[i]);t=t+s+"&"}return t=t.slice(0,-1),t}var Ep;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Ep||(Ep={}));function s5(n,e){const t=n>=500&&n<600,s=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||s||o}class a5{constructor(e,t,i,s,o,u,f,h,d,y,_,b=!0,w=!1){this.url_=e,this.method_=t,this.headers_=i,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=u,this.callback_=f,this.errorCallback_=h,this.timeout_=d,this.progressCallback_=y,this.connectionFactory_=_,this.retry=b,this.isUsingEmulator=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,O)=>{this.resolve_=I,this.reject_=O,this.start_()})}start_(){const e=(i,s)=>{if(s){i(!1,new Ed(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const u=f=>{const h=f.loaded,d=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,d)};this.progressCallback_!==null&&o.addUploadProgressListener(u),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(u),this.pendingConnection_=null;const f=o.getErrorCode()===Ep.NO_ERROR,h=o.getStatus();if(!f||s5(h,this.additionalRetryCodes_)&&this.retry){const y=o.getErrorCode()===Ep.ABORT;i(!1,new Ed(!1,null,y));return}const d=this.successCodes_.indexOf(h)!==-1;i(!0,new Ed(d,o))})},t=(i,s)=>{const o=this.resolve_,u=this.reject_,f=s.connection;if(s.wasSuccessCode)try{const h=this.callback_(f,f.getResponse());i5(h)?o(h):o()}catch(h){u(h)}else if(f!==null){const h=YU();h.serverResponse=f.getErrorText(),this.errorCallback_?u(this.errorCallback_(f,h)):u(h)}else if(s.canceled){const h=this.appDelete_?XI():WU();u(h)}else{const h=QU();u(h)}};this.canceled_?t(!1,new Ed(!1,null,!0)):this.backoffId_=t5(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&n5(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ed{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function o5(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function l5(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function u5(n,e){e&&(n["X-Firebase-GMPID"]=e)}function c5(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function h5(n,e,t,i,s,o,u=!0,f=!1){const h=r5(n.urlParams),d=n.url+h,y=Object.assign({},n.headers);return u5(y,e),o5(y,t),l5(y,o),c5(y,i),new a5(d,n.method,y,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s,u,f)}function f5(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function d5(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}class Tp{constructor(e,t){this._service=e,t instanceof Ar?this._location=t:this._location=Ar.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Tp(e,t)}get root(){const e=new Ar(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return d5(this._location.path)}get storage(){return this._service}get parent(){const e=f5(this._location.path);if(e===null)return null;const t=new Ar(this._location.bucket,e);return new Tp(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw ZU(e)}}function Rw(n,e){const t=e?.[$U];return t==null?null:Ar.makeFromBucketSpec(t,n)}function p5(n,e,t,i={}){n.host=`${e}:${t}`;const s=ra(e);s&&(Gp(`https://${n.host}/b`),Kp("Storage",!0)),n._isUsingEmulator=!0,n._protocol=s?"https":"http";const{mockUserToken:o}=i;o&&(n._overrideAuthToken=typeof o=="string"?o:Av(o,n.app.options.projectId))}class m5{constructor(e,t,i,s,o,u=!1){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=s,this._firebaseVersion=o,this._isUsingEmulator=u,this._bucket=null,this._host=WI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=GU,this._maxUploadRetryTime=KU,this._requests=new Set,s!=null?this._bucket=Ar.makeFromBucketSpec(s,this._host):this._bucket=Rw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ar.makeFromBucketSpec(this._url,e):this._bucket=Rw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Cw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Cw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(zi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Tp(this,e)}_makeRequest(e,t,i,s,o=!0){if(this._deleted)return new e5(XI());{const u=h5(e,this._appId,i,s,t,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[i,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,s).getPromise()}}const Aw="@firebase/storage",Iw="0.14.0";const JI="storage";function g5(n=Wp(),e){n=Yn(n);const i=Dh(n,JI).getImmediate({identifier:e}),s=Cv("storage");return s&&y5(i,...s),i}function y5(n,e,t,i={}){p5(n,e,t,i)}function _5(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new m5(t,i,s,e,ho)}function v5(){to(new Ws(JI,_5,"PUBLIC").setMultipleInstances(!0)),ur(Aw,Iw,""),ur(Aw,Iw,"esm2020")}v5();var Ow={};const Dw="@firebase/database",Nw="1.1.0";let ZI="";function b5(n){ZI=n}class E5{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Gn(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:hh(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class T5{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return sa(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const e2=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new E5(e)}}catch{}return new T5},$o=e2("localStorage"),S5=e2("sessionStorage");const du=new Qp("@firebase/database"),w5=(function(){let n=1;return function(){return n++}})(),t2=function(n){const e=Sk(n),t=new _k;t.update(e);const i=t.digest();return wv.encodeByteArray(i)},Bh=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=Bh.apply(null,i):typeof i=="object"?e+=Gn(i):e+=i,e+=" "}return e};let ih=null,Mw=!0;const C5=function(n,e){be(!0,"Can't turn on custom loggers persistently."),du.logLevel=tt.VERBOSE,ih=du.log.bind(du)},ni=function(...n){if(Mw===!0&&(Mw=!1,ih===null&&S5.get("logging_enabled")===!0&&C5()),ih){const e=Bh.apply(null,n);ih(e)}},jh=function(n){return function(...e){ni(n,...e)}},$_=function(...n){const e="FIREBASE INTERNAL ERROR: "+Bh(...n);du.error(e)},na=function(...n){const e=`FIREBASE FATAL ERROR: ${Bh(...n)}`;throw du.error(e),new Error(e)},Bi=function(...n){const e="FIREBASE WARNING: "+Bh(...n);du.warn(e)},R5=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Bi("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},n2=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},A5=function(n){if(document.readyState==="complete")n();else{let e=!1;const t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},Ru="[MIN_NAME]",tl="[MAX_NAME]",Vu=function(n,e){if(n===e)return 0;if(n===Ru||e===tl)return-1;if(e===Ru||n===tl)return 1;{const t=xw(n),i=xw(e);return t!==null?i!==null?t-i===0?n.length-e.length:t-i:-1:i!==null?1:n<e?-1:1}},I5=function(n,e){return n===e?0:n<e?-1:1},zc=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+Gn(e))},y0=function(n){if(typeof n!="object"||n===null)return Gn(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)i!==0&&(t+=","),t+=Gn(e[i]),t+=":",t+=y0(n[e[i]]);return t+="}",t},i2=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let s=0;s<t;s+=e)s+e>t?i.push(n.substring(s,t)):i.push(n.substring(s,s+e));return i};function fr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const r2=function(n){be(!n2(n),"Invalid JSON number");const e=11,t=52,i=(1<<e-1)-1;let s,o,u,f,h;n===0?(o=0,u=0,s=1/n===-1/0?1:0):(s=n<0,n=Math.abs(n),n>=Math.pow(2,1-i)?(f=Math.min(Math.floor(Math.log(n)/Math.LN2),i),o=f+i,u=Math.round(n*Math.pow(2,t-f)-Math.pow(2,t))):(o=0,u=Math.round(n/Math.pow(2,1-i-t))));const d=[];for(h=t;h;h-=1)d.push(u%2?1:0),u=Math.floor(u/2);for(h=e;h;h-=1)d.push(o%2?1:0),o=Math.floor(o/2);d.push(s?1:0),d.reverse();const y=d.join("");let _="";for(h=0;h<64;h+=8){let b=parseInt(y.substr(h,8),2).toString(16);b.length===1&&(b="0"+b),_=_+b}return _.toLowerCase()},O5=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},D5=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},N5=new RegExp("^-?(0*)\\d{1,10}$"),M5=-2147483648,x5=2147483647,xw=function(n){if(N5.test(n)){const e=Number(n);if(e>=M5&&e<=x5)return e}return null},Hh=function(n){try{n()}catch(e){setTimeout(()=>{const t=e.stack||"";throw Bi("Exception was thrown by user callback.",t),e},Math.floor(0))}},P5=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},rh=function(n,e){const t=setTimeout(n,e);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};class k5{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,zi(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(i=>this.appCheck=i)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.appCheckProvider?.get().then(t=>t.addTokenListener(e))}notifyForInvalidToken(){Bi(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class L5{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?(ni("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Bi(e)}}class $d{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}$d.OWNER="owner";const _0="5",s2="v",a2="s",o2="r",l2="f",u2=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,c2="ls",h2="p",G_="ac",f2="websocket",d2="long_polling";class p2{constructor(e,t,i,s,o=!1,u="",f=!1,h=!1,d=null){this.secure=t,this.namespace=i,this.webSocketOnly=s,this.nodeAdmin=o,this.persistenceKey=u,this.includeNamespaceInQueryParams=f,this.isUsingEmulator=h,this.emulatorOptions=d,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=$o.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&$o.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function V5(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function m2(n,e,t){be(typeof e=="string","typeof type must == string"),be(typeof t=="object","typeof params must == object");let i;if(e===f2)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===d2)i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);V5(n)&&(t.ns=n.namespace);const s=[];return fr(t,(o,u)=>{s.push(o+"="+u)}),i+s.join("&")}class U5{constructor(){this.counters_={}}incrementCounter(e,t=1){sa(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return XP(this.counters_)}}const $y={},Gy={};function v0(n){const e=n.toString();return $y[e]||($y[e]=new U5),$y[e]}function z5(n,e){const t=n.toString();return Gy[t]||(Gy[t]=e()),Gy[t]}class F5{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<i.length;++s)i[s]&&Hh(()=>{this.onMessage_(i[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const Pw="start",B5="close",j5="pLPCommand",H5="pRTLPCB",g2="id",y2="pw",_2="ser",q5="cb",$5="seg",G5="ts",K5="d",Y5="dframe",v2=1870,b2=30,Q5=v2-b2,W5=25e3,X5=3e4;class su{constructor(e,t,i,s,o,u,f){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.transportSessionId=u,this.lastSessionId=f,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=jh(e),this.stats_=v0(t),this.urlFn=h=>(this.appCheckToken&&(h[G_]=this.appCheckToken),m2(t,d2,h))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new F5(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(X5)),A5(()=>{if(this.isClosed_)return;this.scriptTagHolder=new b0((...o)=>{const[u,f,h,d,y]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,u===Pw)this.id=f,this.password=h;else if(u===B5)f?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(f,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+u)},(...o)=>{const[u,f]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(u,f)},()=>{this.onClosed_()},this.urlFn);const i={};i[Pw]="t",i[_2]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[q5]=this.scriptTagHolder.uniqueCallbackIdentifier),i[s2]=_0,this.transportSessionId&&(i[a2]=this.transportSessionId),this.lastSessionId&&(i[c2]=this.lastSessionId),this.applicationId&&(i[h2]=this.applicationId),this.appCheckToken&&(i[G_]=this.appCheckToken),typeof location<"u"&&location.hostname&&u2.test(location.hostname)&&(i[o2]=l2);const s=this.urlFn(i);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){su.forceAllow_=!0}static forceDisallow(){su.forceDisallow_=!0}static isAvailable(){return su.forceAllow_?!0:!su.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!O5()&&!D5()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Gn(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=CR(t),s=i2(i,Q5);for(let o=0;o<s.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[o]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const i={};i[Y5]="t",i[g2]=e,i[y2]=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Gn(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class b0{constructor(e,t,i,s){this.onDisconnect=i,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=w5(),window[j5+this.uniqueCallbackIdentifier]=e,window[H5+this.uniqueCallbackIdentifier]=t,this.myIFrame=b0.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const u="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(f){ni("frame writing exception"),f.stack&&ni(f.stack),ni(f)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||ni("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[g2]=this.myID,e[y2]=this.myPW,e[_2]=this.currentSerial;let t=this.urlFn(e),i="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+b2+i.length<=v2;){const u=this.pendingSegs.shift();i=i+"&"+$5+s+"="+u.seg+"&"+G5+s+"="+u.ts+"&"+K5+s+"="+u.d,s++}return t=t+i,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},s=setTimeout(i,Math.floor(W5)),o=()=>{clearTimeout(s),i()};this.addTag(e,o)}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{ni("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}const J5=16384,Z5=45e3;let Sp=null;typeof MozWebSocket<"u"?Sp=MozWebSocket:typeof WebSocket<"u"&&(Sp=WebSocket);class Cr{constructor(e,t,i,s,o,u,f){this.connId=e,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=jh(this.connId),this.stats_=v0(t),this.connURL=Cr.connectionURL_(t,u,f,s,i),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,i,s,o){const u={};return u[s2]=_0,typeof location<"u"&&location.hostname&&u2.test(location.hostname)&&(u[o2]=l2),t&&(u[a2]=t),i&&(u[c2]=i),s&&(u[G_]=s),o&&(u[h2]=o),m2(e,f2,u)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,$o.set("previous_websocket_failure",!0);try{let i;uk(),this.mySock=new Sp(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Cr.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(t);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&Sp!==null&&!Cr.forceDisallow_}static previouslyFailed(){return $o.isInMemoryStorage||$o.get("previous_websocket_failure")===!0}markConnectionHealthy(){$o.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const t=this.frames.join("");this.frames=null;const i=hh(t);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(be(this.frames===null,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(t);else{const i=this.extractFrameCount_(t);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const t=Gn(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=i2(t,J5);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Z5))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Cr.responsesRequiredToBeHealthy=2;Cr.healthyTimeout=3e4;class vh{static get ALL_TRANSPORTS(){return[su,Cr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=Cr&&Cr.isAvailable();let i=t&&!Cr.previouslyFailed();if(e.webSocketOnly&&(t||Bi("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Cr];else{const s=this.transports_=[];for(const o of vh.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);vh.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}vh.globalTransportInitialized_=!1;const e9=6e4,t9=5e3,n9=10*1024,i9=100*1024,Ky="t",kw="d",r9="s",Lw="r",s9="e",Vw="o",Uw="a",zw="n",Fw="p",a9="h";class o9{constructor(e,t,i,s,o,u,f,h,d,y){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=s,this.authToken_=o,this.onMessage_=u,this.onReady_=f,this.onDisconnect_=h,this.onKill_=d,this.lastSessionId=y,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=jh("c:"+this.id+":"),this.transportManager_=new vh(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=rh(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>i9?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>n9?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Ky in e){const t=e[Ky];t===Uw?this.upgradeIfSecondaryHealthy_():t===Lw?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===Vw&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=zc("t",e),i=zc("d",e);if(t==="c")this.onSecondaryControl_(i);else if(t==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Fw,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Uw,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:zw,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=zc("t",e),i=zc("d",e);t==="c"?this.onControl_(i):t==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=zc(Ky,e);if(kw in e){const i=e[kw];if(t===a9){const s={...i};this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(t===zw){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===r9?this.onConnectionShutdown_(i):t===Lw?this.onReset_(i):t===s9?$_("Server Error: "+i):t===Vw?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):$_("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),_0!==i&&Bi("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),rh(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(e9))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):rh(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(t9))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Fw,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&($o.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class E2{put(e,t,i,s){}merge(e,t,i,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}class T2{constructor(e){this.allowedEvents_=e,this.listeners_={},be(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let s=0;s<i.length;s++)i[s].callback.apply(i[s].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const s=this.getInitialEvent(e);s&&t.apply(i,s)}off(e,t,i){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let o=0;o<s.length;o++)if(s[o].callback===t&&(!i||i===s[o].context)){s.splice(o,1);return}}validateEventType_(e){be(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class wp extends T2{static getInstance(){return new wp}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Iv()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return be(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const Bw=32,jw=768;class qt{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let i=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[i]=this.pieces_[s],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}}function Pt(){return new qt("")}function ct(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function lo(n){return n.pieces_.length-n.pieceNum_}function Bt(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new qt(n.pieces_,e)}function S2(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function l9(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)n.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}function w2(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function C2(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new qt(e,0)}function zn(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof qt)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let s=0;s<i.length;s++)i[s].length>0&&t.push(i[s])}return new qt(t,0)}function ot(n){return n.pieceNum_>=n.pieces_.length}function lr(n,e){const t=ct(n),i=ct(e);if(t===null)return e;if(t===i)return lr(Bt(n),Bt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function R2(n,e){if(lo(n)!==lo(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function Ir(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(lo(n)>lo(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class u9{constructor(e,t){this.errorPrefix_=t,this.parts_=w2(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=Yp(this.parts_[i]);A2(this)}}function c9(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=Yp(e),A2(n)}function h9(n){const e=n.parts_.pop();n.byteLength_-=Yp(e),n.parts_.length>0&&(n.byteLength_-=1)}function A2(n){if(n.byteLength_>jw)throw new Error(n.errorPrefix_+"has a key path longer than "+jw+" bytes ("+n.byteLength_+").");if(n.parts_.length>Bw)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Bw+") or object contains a cycle "+Bo(n))}function Bo(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}class E0 extends T2{static getInstance(){return new E0}constructor(){super(["visible"]);let e,t;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(e){return be(e==="visible","Unknown event type: "+e),[this.visible_]}}const Fc=1e3,f9=300*1e3,Hw=30*1e3,d9=1.3,p9=3e4,m9="server_kill",qw=3;class Ks extends E2{constructor(e,t,i,s,o,u,f,h){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=u,this.appCheckTokenProvider_=f,this.authOverride_=h,this.id=Ks.nextPersistentConnectionId_++,this.log_=jh("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Fc,this.maxReconnectDelay_=f9,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,h)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");E0.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&wp.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,i){const s=++this.requestNumber_,o={r:s,a:e,b:t};this.log_(Gn(o)),be(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(e){this.initConnection_();const t=new Rv,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:u=>{const f=u.d;u.s==="ok"?t.resolve(f):t.reject(f)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),t.promise}listen(e,t,i,s){this.initConnection_();const o=e._queryIdentifier,u=e._path.toString();this.log_("Listen called for "+u+" "+o),this.listens.has(u)||this.listens.set(u,new Map),be(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),be(!this.listens.get(u).has(o),"listen() called twice for same path/queryId.");const f={onComplete:s,hashFn:t,query:e,tag:i};this.listens.get(u).set(o,f),this.connected_&&this.sendListen_(f)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(i)})}sendListen_(e){const t=e.query,i=t._path.toString(),s=t._queryIdentifier;this.log_("Listen on "+i+" for "+s);const o={p:i},u="q";e.tag&&(o.q=t._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(u,o,f=>{const h=f.d,d=f.s;Ks.warnOnListenWarnings_(h,t),(this.listens.get(i)&&this.listens.get(i).get(s))===e&&(this.log_("listen response",f),d!=="ok"&&this.removeListen_(i,s),e.onComplete&&e.onComplete(d,h))})}static warnOnListenWarnings_(e,t){if(e&&typeof e=="object"&&sa(e,"w")){const i=gu(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+t._queryParams.getIndex().toString()+'"',o=t._path.toString();Bi(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||yk(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Hw)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=gk(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(t,i,s=>{const o=s.s,u=s.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,u))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,i=e.d||"error";t==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,i)})}unlisten(e,t){const i=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),be(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,e._queryObject,t)}sendUnlisten_(e,t,i,s){this.log_("Unlisten on "+e+" for "+t);const o={p:e},u="n";s&&(o.q=i,o.t=s),this.sendRequest(u,o)}onDisconnectPut(e,t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:i})}onDisconnectMerge(e,t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:i})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,i,s){const o={p:t,d:i};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,u=>{s&&setTimeout(()=>{s(u.s,u.d)},Math.floor(0))})}put(e,t,i,s){this.putInternal("p",e,t,i,s)}merge(e,t,i,s){this.putInternal("m",e,t,i,s)}putInternal(e,t,i,s,o){this.initConnection_();const u={p:t,d:i};o!==void 0&&(u.h=o),this.outstandingPuts_.push({action:e,request:u,onComplete:s}),this.outstandingPutCount_++;const f=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(f):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,i,o=>{this.log_(t+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,i=>{if(i.s!=="ok"){const o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Gn(e));const t=e.r,i=this.requestCBHash_[t];i&&(delete this.requestCBHash_[t],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),e==="d"?this.onDataUpdate_(t.p,t.d,!1,t.t):e==="m"?this.onDataUpdate_(t.p,t.d,!0,t.t):e==="c"?this.onListenRevoked_(t.p,t.q):e==="ac"?this.onAuthRevoked_(t.s,t.d):e==="apc"?this.onAppCheckRevoked_(t.s,t.d):e==="sd"?this.onSecurityDebugPacket_(t):$_("Unrecognized action received from server: "+Gn(e)+`
Are you using the latest client?`)}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){be(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Fc,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Fc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>p9&&(this.reconnectDelay_=Fc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*d9)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+Ks.nextConnectionId_++,o=this.lastSessionId;let u=!1,f=null;const h=function(){f?f.close():(u=!0,i())},d=function(_){be(f,"sendRequest call when we're not connected not allowed."),f.sendRequest(_)};this.realtime_={close:h,sendRequest:d};const y=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[_,b]=await Promise.all([this.authTokenProvider_.getToken(y),this.appCheckTokenProvider_.getToken(y)]);u?ni("getToken() completed but was canceled"):(ni("getToken() completed. Creating connection."),this.authToken_=_&&_.accessToken,this.appCheckToken_=b&&b.token,f=new o9(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,i,w=>{Bi(w+" ("+this.repoInfo_.toString()+")"),this.interrupt(m9)},o))}catch(_){this.log_("Failed to get token: "+_),u||(this.repoInfo_.nodeAdmin&&Bi(_),h())}}}interrupt(e){ni("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ni("Resuming connection for reason: "+e),delete this.interruptReasons_[e],y_(this.interruptReasons_)&&(this.reconnectDelay_=Fc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let i;t?i=t.map(o=>y0(o)).join("$"):i="default";const s=this.removeListen_(e,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,t){const i=new qt(e).toString();let s;if(this.listens.has(i)){const o=this.listens.get(i);s=o.get(t),o.delete(t),o.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(e,t){ni("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=qw&&(this.reconnectDelay_=Hw,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){ni("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=qw&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";e["sdk."+t+"."+ZI.replace(/\./g,"-")]=1,Iv()?e["framework.cordova"]=1:DR()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=wp.getInstance().currentlyOnline();return y_(this.interruptReasons_)&&e}}Ks.nextPersistentConnectionId_=0;Ks.nextConnectionId_=0;class ht{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new ht(e,t)}}class ym{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new ht(Ru,e),s=new ht(Ru,t);return this.compare(i,s)!==0}minPost(){return ht.MIN}}let Td;class I2 extends ym{static get __EMPTY_NODE(){return Td}static set __EMPTY_NODE(e){Td=e}compare(e,t){return Vu(e.name,t.name)}isDefinedOn(e){throw Ou("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return ht.MIN}maxPost(){return new ht(tl,Td)}makePost(e,t){return be(typeof e=="string","KeyIndex indexValue must always be a string."),new ht(e,Td)}toString(){return".key"}}const pu=new I2;class Sd{constructor(e,t,i,s,o=null){this.isReverse_=s,this.resultGenerator_=o,this.nodeStack_=[];let u=1;for(;!e.isEmpty();)if(e=e,u=t?i(e.key,t):1,s&&(u*=-1),u<0)this.isReverse_?e=e.left:e=e.right;else if(u===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Un{constructor(e,t,i,s,o){this.key=e,this.value=t,this.color=i??Un.RED,this.left=s??Ri.EMPTY_NODE,this.right=o??Ri.EMPTY_NODE}copy(e,t,i,s,o){return new Un(e??this.key,t??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let s=this;const o=i(e,s.key);return o<0?s=s.copy(null,null,null,s.left.insert(e,t,i),null):o===0?s=s.copy(null,t,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,t,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ri.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let i,s;if(i=this,t(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),t(e,i.key)===0){if(i.right.isEmpty())return Ri.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Un.RED=!0;Un.BLACK=!1;class g9{copy(e,t,i,s,o){return this}insert(e,t,i){return new Un(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ri{constructor(e,t=Ri.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Ri(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Un.BLACK,null,null))}remove(e){return new Ri(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Un.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),t===0)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,s=null;for(;!i.isEmpty();)if(t=this.comparator_(e,i.key),t===0){if(i.left.isEmpty())return s?s.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else t<0?i=i.left:t>0&&(s=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Sd(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Sd(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Sd(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Sd(this.root_,null,this.comparator_,!0,e)}}Ri.EMPTY_NODE=new g9;function y9(n,e){return Vu(n.name,e.name)}function T0(n,e){return Vu(n,e)}let K_;function _9(n){K_=n}const O2=function(n){return typeof n=="number"?"number:"+r2(n):"string:"+n},D2=function(n){if(n.isLeafNode()){const e=n.val();be(typeof e=="string"||typeof e=="number"||typeof e=="object"&&sa(e,".sv"),"Priority must be a string or number.")}else be(n===K_||n.isEmpty(),"priority of unexpected type.");be(n===K_||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let $w;class Ln{static set __childrenNodeConstructor(e){$w=e}static get __childrenNodeConstructor(){return $w}constructor(e,t=Ln.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,be(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),D2(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Ln(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Ln.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ot(e)?this:ct(e)===".priority"?this.priorityNode_:Ln.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return e===".priority"?this.updatePriority(t):t.isEmpty()&&e!==".priority"?this:Ln.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const i=ct(e);return i===null?t:t.isEmpty()&&i!==".priority"?this:(be(i!==".priority"||lo(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,Ln.__childrenNodeConstructor.EMPTY_NODE.updateChild(Bt(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+O2(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",t==="number"?e+=r2(this.value_):e+=this.value_,this.lazyHash_=t2(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Ln.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Ln.__childrenNodeConstructor?-1:(be(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,i=typeof this.value_,s=Ln.VALUE_TYPE_ORDER.indexOf(t),o=Ln.VALUE_TYPE_ORDER.indexOf(i);return be(s>=0,"Unknown leaf type: "+t),be(o>=0,"Unknown leaf type: "+i),s===o?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}else return!1}}Ln.VALUE_TYPE_ORDER=["object","boolean","number","string"];let N2,M2;function v9(n){N2=n}function b9(n){M2=n}class E9 extends ym{compare(e,t){const i=e.node.getPriority(),s=t.node.getPriority(),o=i.compareTo(s);return o===0?Vu(e.name,t.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return ht.MIN}maxPost(){return new ht(tl,new Ln("[PRIORITY-POST]",M2))}makePost(e,t){const i=N2(e);return new ht(t,new Ln("[PRIORITY-POST]",i))}toString(){return".priority"}}const ri=new E9;const T9=Math.log(2);class S9{constructor(e){const t=o=>parseInt(Math.log(o)/T9,10),i=o=>parseInt(Array(o+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;const s=i(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Cp=function(n,e,t,i){n.sort(e);const s=function(h,d){const y=d-h;let _,b;if(y===0)return null;if(y===1)return _=n[h],b=t?t(_):_,new Un(b,_.node,Un.BLACK,null,null);{const w=parseInt(y/2,10)+h,I=s(h,w),O=s(w+1,d);return _=n[w],b=t?t(_):_,new Un(b,_.node,Un.BLACK,I,O)}},o=function(h){let d=null,y=null,_=n.length;const b=function(I,O){const A=_-I,U=_;_-=I;const V=s(A+1,U),z=n[A],Q=t?t(z):z;w(new Un(Q,z.node,O,null,V))},w=function(I){d?(d.left=I,d=I):(y=I,d=I)};for(let I=0;I<h.count;++I){const O=h.nextBitIsOne(),A=Math.pow(2,h.count-(I+1));O?b(A,Un.BLACK):(b(A,Un.BLACK),b(A,Un.RED))}return y},u=new S9(n.length),f=o(u);return new Ri(i||e,f)};let Yy;const Xl={};class $s{static get Default(){return be(Xl&&ri,"ChildrenNode.ts has not been loaded"),Yy=Yy||new $s({".priority":Xl},{".priority":ri}),Yy}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=gu(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Ri?t:null}hasIndex(e){return sa(this.indexSet_,e.toString())}addIndex(e,t){be(e!==pu,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let s=!1;const o=t.getIterator(ht.Wrap);let u=o.getNext();for(;u;)s=s||e.isDefinedOn(u.node),i.push(u),u=o.getNext();let f;s?f=Cp(i,e.getCompare()):f=Xl;const h=e.toString(),d={...this.indexSet_};d[h]=e;const y={...this.indexes_};return y[h]=f,new $s(y,d)}addToIndexes(e,t){const i=tp(this.indexes_,(s,o)=>{const u=gu(this.indexSet_,o);if(be(u,"Missing index implementation for "+o),s===Xl)if(u.isDefinedOn(e.node)){const f=[],h=t.getIterator(ht.Wrap);let d=h.getNext();for(;d;)d.name!==e.name&&f.push(d),d=h.getNext();return f.push(e),Cp(f,u.getCompare())}else return Xl;else{const f=t.get(e.name);let h=s;return f&&(h=h.remove(new ht(e.name,f))),h.insert(e,e.node)}});return new $s(i,this.indexSet_)}removeFromIndexes(e,t){const i=tp(this.indexes_,s=>{if(s===Xl)return s;{const o=t.get(e.name);return o?s.remove(new ht(e.name,o)):s}});return new $s(i,this.indexSet_)}}let Bc;class St{static get EMPTY_NODE(){return Bc||(Bc=new St(new Ri(T0),null,$s.Default))}constructor(e,t,i){this.children_=e,this.priorityNode_=t,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&D2(this.priorityNode_),this.children_.isEmpty()&&be(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Bc}updatePriority(e){return this.children_.isEmpty()?this:new St(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const t=this.children_.get(e);return t===null?Bc:t}}getChild(e){const t=ct(e);return t===null?this:this.getImmediateChild(t).getChild(Bt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,t){if(be(t,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(t);{const i=new ht(e,t);let s,o;t.isEmpty()?(s=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(e,t),o=this.indexMap_.addToIndexes(i,this.children_));const u=s.isEmpty()?Bc:this.priorityNode_;return new St(s,u,o)}}updateChild(e,t){const i=ct(e);if(i===null)return t;{be(ct(e)!==".priority"||lo(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(Bt(e),t);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let i=0,s=0,o=!0;if(this.forEachChild(ri,(u,f)=>{t[u]=f.val(e),i++,o&&St.INTEGER_REGEXP_.test(u)?s=Math.max(s,Number(u)):o=!1}),!e&&o&&s<2*i){const u=[];for(const f in t)u[f]=t[f];return u}else return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+O2(this.getPriority().val())+":"),this.forEachChild(ri,(t,i)=>{const s=i.hash();s!==""&&(e+=":"+t+":"+s)}),this.lazyHash_=e===""?"":t2(e)}return this.lazyHash_}getPredecessorChildName(e,t,i){const s=this.resolveIndex_(i);if(s){const o=s.getPredecessorKey(new ht(e,t));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const i=t.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new ht(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const i=t.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new ht(t,this.children_.get(t)):null}forEachChild(e,t){const i=this.resolveIndex_(e);return i?i.inorderTraversal(s=>t(s.name,s.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const i=this.resolveIndex_(t);if(i)return i.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,ht.Wrap);let o=s.peek();for(;o!=null&&t.compare(o,e)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const i=this.resolveIndex_(t);if(i)return i.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,ht.Wrap);let o=s.peek();for(;o!=null&&t.compare(o,e)>0;)s.getNext(),o=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===qh?-1:0}withIndex(e){if(e===pu||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new St(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===pu||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority()))if(this.children_.count()===t.children_.count()){const i=this.getIterator(ri),s=t.getIterator(ri);let o=i.getNext(),u=s.getNext();for(;o&&u;){if(o.name!==u.name||!o.node.equals(u.node))return!1;o=i.getNext(),u=s.getNext()}return o===null&&u===null}else return!1;else return!1}}resolveIndex_(e){return e===pu?null:this.indexMap_.get(e.toString())}}St.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class w9 extends St{constructor(){super(new Ri(T0),St.EMPTY_NODE,$s.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return St.EMPTY_NODE}isEmpty(){return!1}}const qh=new w9;Object.defineProperties(ht,{MIN:{value:new ht(Ru,St.EMPTY_NODE)},MAX:{value:new ht(tl,qh)}});I2.__EMPTY_NODE=St.EMPTY_NODE;Ln.__childrenNodeConstructor=St;_9(qh);b9(qh);const C9=!0;function ii(n,e=null){if(n===null)return St.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),be(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const t=n;return new Ln(t,ii(e))}if(!(n instanceof Array)&&C9){const t=[];let i=!1;if(fr(n,(u,f)=>{if(u.substring(0,1)!=="."){const h=ii(f);h.isEmpty()||(i=i||!h.getPriority().isEmpty(),t.push(new ht(u,h)))}}),t.length===0)return St.EMPTY_NODE;const o=Cp(t,y9,u=>u.name,T0);if(i){const u=Cp(t,ri.getCompare());return new St(o,ii(e),new $s({".priority":u},{".priority":ri}))}else return new St(o,ii(e),$s.Default)}else{let t=St.EMPTY_NODE;return fr(n,(i,s)=>{if(sa(n,i)&&i.substring(0,1)!=="."){const o=ii(s);(o.isLeafNode()||!o.isEmpty())&&(t=t.updateImmediateChild(i,o))}}),t.updatePriority(ii(e))}}v9(ii);class R9 extends ym{constructor(e){super(),this.indexPath_=e,be(!ot(e)&&ct(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),s=this.extractChild(t.node),o=i.compareTo(s);return o===0?Vu(e.name,t.name):o}makePost(e,t){const i=ii(e),s=St.EMPTY_NODE.updateChild(this.indexPath_,i);return new ht(t,s)}maxPost(){const e=St.EMPTY_NODE.updateChild(this.indexPath_,qh);return new ht(tl,e)}toString(){return w2(this.indexPath_,0).join("/")}}class A9 extends ym{compare(e,t){const i=e.node.compareTo(t.node);return i===0?Vu(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return ht.MIN}maxPost(){return ht.MAX}makePost(e,t){const i=ii(e);return new ht(t,i)}toString(){return".value"}}const I9=new A9;function O9(n){return{type:"value",snapshotNode:n}}function D9(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function N9(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function Gw(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}function M9(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}class S0{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ri}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return be(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return be(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ru}hasEnd(){return this.endSet_}getIndexEndValue(){return be(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return be(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:tl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return be(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ri}copy(){const e=new S0;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Kw(n){const e={};if(n.isDefault())return e;let t;if(n.index_===ri?t="$priority":n.index_===I9?t="$value":n.index_===pu?t="$key":(be(n.index_ instanceof R9,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=Gn(t),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";e[i]=Gn(n.indexStartValue_),n.startNameSet_&&(e[i]+=","+Gn(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";e[i]=Gn(n.indexEndValue_),n.endNameSet_&&(e[i]+=","+Gn(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function Yw(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;t===""&&(n.isViewFromLeft()?t="l":t="r"),e.vf=t}return n.index_!==ri&&(e.i=n.index_.toString()),e}class Rp extends E2{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:(be(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,i,s){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=s,this.log_=jh("p:rest:"),this.listens_={}}listen(e,t,i,s){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const u=Rp.getListenId_(e,i),f={};this.listens_[u]=f;const h=Kw(e._queryParams);this.restRequest_(o+".json",h,(d,y)=>{let _=y;if(d===404&&(_=null,d=null),d===null&&this.onDataUpdate_(o,_,!1,i),gu(this.listens_,u)===f){let b;d?d===401?b="permission_denied":b="rest_error:"+d:b="ok",s(b,null)}})}unlisten(e,t){const i=Rp.getListenId_(e,t);delete this.listens_[i]}get(e){const t=Kw(e._queryParams),i=e._path.toString(),s=new Rv;return this.restRequest_(i+".json",t,(o,u)=>{let f=u;o===404&&(f=null,o=null),o===null?(this.onDataUpdate_(i,f,!1,null),s.resolve(f)):s.reject(new Error(f))}),s.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,o])=>{s&&s.accessToken&&(t.auth=s.accessToken),o&&o.token&&(t.ac=o.token);const u=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Du(t);this.log_("Sending REST request for "+u);const f=new XMLHttpRequest;f.onreadystatechange=()=>{if(i&&f.readyState===4){this.log_("REST Response for "+u+" received. status:",f.status,"response:",f.responseText);let h=null;if(f.status>=200&&f.status<300){try{h=hh(f.responseText)}catch{Bi("Failed to parse JSON response for "+u+": "+f.responseText)}i(null,h)}else f.status!==401&&f.status!==404&&Bi("Got unsuccessful REST response for "+u+" Status: "+f.status),i(f.status);i=null}},f.open("GET",u,!0),f.send()})}}class x9{constructor(){this.rootNode_=St.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function Ap(){return{value:null,children:new Map}}function x2(n,e,t){if(ot(e))n.value=t,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,t);else{const i=ct(e);n.children.has(i)||n.children.set(i,Ap());const s=n.children.get(i);e=Bt(e),x2(s,e,t)}}function Y_(n,e,t){n.value!==null?t(e,n.value):P9(n,(i,s)=>{const o=new qt(e.toString()+"/"+i);Y_(s,o,t)})}function P9(n,e){n.children.forEach((t,i)=>{e(i,t)})}class k9{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t={...e};return this.last_&&fr(this.last_,(i,s)=>{t[i]=t[i]-s}),this.last_=e,t}}const Qw=10*1e3,L9=30*1e3,V9=300*1e3;class U9{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new k9(e);const i=Qw+(L9-Qw)*Math.random();rh(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;fr(e,(s,o)=>{o>0&&sa(this.statsToReport_,s)&&(t[s]=o,i=!0)}),i&&this.server_.reportStats(t),rh(this.reportStats_.bind(this),Math.floor(Math.random()*2*V9))}}var Yr;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Yr||(Yr={}));function P2(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function k2(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function L2(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Ip{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=Yr.ACK_USER_WRITE,this.source=P2()}operationForChild(e){if(ot(this.path)){if(this.affectedTree.value!=null)return be(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new qt(e));return new Ip(Pt(),t,this.revert)}}else return be(ct(this.path)===e,"operationForChild called for unrelated child."),new Ip(Bt(this.path),this.affectedTree,this.revert)}}class nl{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=Yr.OVERWRITE}operationForChild(e){return ot(this.path)?new nl(this.source,Pt(),this.snap.getImmediateChild(e)):new nl(this.source,Bt(this.path),this.snap)}}class bh{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=Yr.MERGE}operationForChild(e){if(ot(this.path)){const t=this.children.subtree(new qt(e));return t.isEmpty()?null:t.value?new nl(this.source,Pt(),t.value):new bh(this.source,Pt(),t)}else return be(ct(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new bh(this.source,Bt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class w0{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ot(e))return this.isFullyInitialized()&&!this.filtered_;const t=ct(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function z9(n,e,t,i){const s=[],o=[];return e.forEach(u=>{u.type==="child_changed"&&n.index_.indexedValueChanged(u.oldSnap,u.snapshotNode)&&o.push(M9(u.childName,u.snapshotNode))}),jc(n,s,"child_removed",e,i,t),jc(n,s,"child_added",e,i,t),jc(n,s,"child_moved",o,i,t),jc(n,s,"child_changed",e,i,t),jc(n,s,"value",e,i,t),s}function jc(n,e,t,i,s,o){const u=i.filter(f=>f.type===t);u.sort((f,h)=>B9(n,f,h)),u.forEach(f=>{const h=F9(n,f,o);s.forEach(d=>{d.respondsTo(f.type)&&e.push(d.createEvent(h,n.query_))})})}function F9(n,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function B9(n,e,t){if(e.childName==null||t.childName==null)throw Ou("Should only compare child_ events.");const i=new ht(e.childName,e.snapshotNode),s=new ht(t.childName,t.snapshotNode);return n.index_.compare(i,s)}function V2(n,e){return{eventCache:n,serverCache:e}}function sh(n,e,t,i){return V2(new w0(e,t,i),n.serverCache)}function U2(n,e,t,i){return V2(n.eventCache,new w0(e,t,i))}function Q_(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function il(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let Qy;const j9=()=>(Qy||(Qy=new Ri(I5)),Qy);class Ft{static fromObject(e){let t=new Ft(null);return fr(e,(i,s)=>{t=t.set(new qt(i),s)}),t}constructor(e,t=j9()){this.value=e,this.children=t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:Pt(),value:this.value};if(ot(e))return null;{const i=ct(e),s=this.children.get(i);if(s!==null){const o=s.findRootMostMatchingPathAndValue(Bt(e),t);return o!=null?{path:zn(new qt(i),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ot(e))return this;{const t=ct(e),i=this.children.get(t);return i!==null?i.subtree(Bt(e)):new Ft(null)}}set(e,t){if(ot(e))return new Ft(t,this.children);{const i=ct(e),o=(this.children.get(i)||new Ft(null)).set(Bt(e),t),u=this.children.insert(i,o);return new Ft(this.value,u)}}remove(e){if(ot(e))return this.children.isEmpty()?new Ft(null):new Ft(null,this.children);{const t=ct(e),i=this.children.get(t);if(i){const s=i.remove(Bt(e));let o;return s.isEmpty()?o=this.children.remove(t):o=this.children.insert(t,s),this.value===null&&o.isEmpty()?new Ft(null):new Ft(this.value,o)}else return this}}get(e){if(ot(e))return this.value;{const t=ct(e),i=this.children.get(t);return i?i.get(Bt(e)):null}}setTree(e,t){if(ot(e))return t;{const i=ct(e),o=(this.children.get(i)||new Ft(null)).setTree(Bt(e),t);let u;return o.isEmpty()?u=this.children.remove(i):u=this.children.insert(i,o),new Ft(this.value,u)}}fold(e){return this.fold_(Pt(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((s,o)=>{i[s]=o.fold_(zn(e,s),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,Pt(),t)}findOnPath_(e,t,i){const s=this.value?i(t,this.value):!1;if(s)return s;if(ot(e))return null;{const o=ct(e),u=this.children.get(o);return u?u.findOnPath_(Bt(e),zn(t,o),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Pt(),t)}foreachOnPath_(e,t,i){if(ot(e))return this;{this.value&&i(t,this.value);const s=ct(e),o=this.children.get(s);return o?o.foreachOnPath_(Bt(e),zn(t,s),i):new Ft(null)}}foreach(e){this.foreach_(Pt(),e)}foreach_(e,t){this.children.inorderTraversal((i,s)=>{s.foreach_(zn(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}class Dr{constructor(e){this.writeTree_=e}static empty(){return new Dr(new Ft(null))}}function ah(n,e,t){if(ot(e))return new Dr(new Ft(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(i!=null){const s=i.path;let o=i.value;const u=lr(s,e);return o=o.updateChild(u,t),new Dr(n.writeTree_.set(s,o))}else{const s=new Ft(t),o=n.writeTree_.setTree(e,s);return new Dr(o)}}}function Ww(n,e,t){let i=n;return fr(t,(s,o)=>{i=ah(i,zn(e,s),o)}),i}function Xw(n,e){if(ot(e))return Dr.empty();{const t=n.writeTree_.setTree(e,new Ft(null));return new Dr(t)}}function W_(n,e){return ll(n,e)!=null}function ll(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return t!=null?n.writeTree_.get(t.path).getChild(lr(t.path,e)):null}function Jw(n){const e=[],t=n.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(ri,(i,s)=>{e.push(new ht(i,s))}):n.writeTree_.children.inorderTraversal((i,s)=>{s.value!=null&&e.push(new ht(i,s.value))}),e}function eo(n,e){if(ot(e))return n;{const t=ll(n,e);return t!=null?new Dr(new Ft(t)):new Dr(n.writeTree_.subtree(e))}}function X_(n){return n.writeTree_.isEmpty()}function Au(n,e){return z2(Pt(),n.writeTree_,e)}function z2(n,e,t){if(e.value!=null)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((s,o)=>{s===".priority"?(be(o.value!==null,"Priority writes must always be leaf nodes"),i=o.value):t=z2(zn(n,s),o,t)}),!t.getChild(n).isEmpty()&&i!==null&&(t=t.updateChild(zn(n,".priority"),i)),t}}function F2(n,e){return $2(e,n)}function H9(n,e,t,i,s){be(i>n.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:s}),s&&(n.visibleWrites=ah(n.visibleWrites,e,t)),n.lastWriteId=i}function q9(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}function $9(n,e){const t=n.allWrites.findIndex(f=>f.writeId===e);be(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let s=i.visible,o=!1,u=n.allWrites.length-1;for(;s&&u>=0;){const f=n.allWrites[u];f.visible&&(u>=t&&G9(f,i.path)?s=!1:Ir(i.path,f.path)&&(o=!0)),u--}if(s){if(o)return K9(n),!0;if(i.snap)n.visibleWrites=Xw(n.visibleWrites,i.path);else{const f=i.children;fr(f,h=>{n.visibleWrites=Xw(n.visibleWrites,zn(i.path,h))})}return!0}else return!1}function G9(n,e){if(n.snap)return Ir(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&Ir(zn(n.path,t),e))return!0;return!1}function K9(n){n.visibleWrites=B2(n.allWrites,Y9,Pt()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function Y9(n){return n.visible}function B2(n,e,t){let i=Dr.empty();for(let s=0;s<n.length;++s){const o=n[s];if(e(o)){const u=o.path;let f;if(o.snap)Ir(t,u)?(f=lr(t,u),i=ah(i,f,o.snap)):Ir(u,t)&&(f=lr(u,t),i=ah(i,Pt(),o.snap.getChild(f)));else if(o.children){if(Ir(t,u))f=lr(t,u),i=Ww(i,f,o.children);else if(Ir(u,t))if(f=lr(u,t),ot(f))i=Ww(i,Pt(),o.children);else{const h=gu(o.children,ct(f));if(h){const d=h.getChild(Bt(f));i=ah(i,Pt(),d)}}}else throw Ou("WriteRecord should have .snap or .children")}}return i}function j2(n,e,t,i,s){if(!i&&!s){const o=ll(n.visibleWrites,e);if(o!=null)return o;{const u=eo(n.visibleWrites,e);if(X_(u))return t;if(t==null&&!W_(u,Pt()))return null;{const f=t||St.EMPTY_NODE;return Au(u,f)}}}else{const o=eo(n.visibleWrites,e);if(!s&&X_(o))return t;if(!s&&t==null&&!W_(o,Pt()))return null;{const u=function(d){return(d.visible||s)&&(!i||!~i.indexOf(d.writeId))&&(Ir(d.path,e)||Ir(e,d.path))},f=B2(n.allWrites,u,e),h=t||St.EMPTY_NODE;return Au(f,h)}}}function Q9(n,e,t){let i=St.EMPTY_NODE;const s=ll(n.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(ri,(o,u)=>{i=i.updateImmediateChild(o,u)}),i;if(t){const o=eo(n.visibleWrites,e);return t.forEachChild(ri,(u,f)=>{const h=Au(eo(o,new qt(u)),f);i=i.updateImmediateChild(u,h)}),Jw(o).forEach(u=>{i=i.updateImmediateChild(u.name,u.node)}),i}else{const o=eo(n.visibleWrites,e);return Jw(o).forEach(u=>{i=i.updateImmediateChild(u.name,u.node)}),i}}function W9(n,e,t,i,s){be(i||s,"Either existingEventSnap or existingServerSnap must exist");const o=zn(e,t);if(W_(n.visibleWrites,o))return null;{const u=eo(n.visibleWrites,o);return X_(u)?s.getChild(t):Au(u,s.getChild(t))}}function X9(n,e,t,i){const s=zn(e,t),o=ll(n.visibleWrites,s);if(o!=null)return o;if(i.isCompleteForChild(t)){const u=eo(n.visibleWrites,s);return Au(u,i.getNode().getImmediateChild(t))}else return null}function J9(n,e){return ll(n.visibleWrites,e)}function Z9(n,e,t,i,s,o,u){let f;const h=eo(n.visibleWrites,e),d=ll(h,Pt());if(d!=null)f=d;else if(t!=null)f=Au(h,t);else return[];if(f=f.withIndex(u),!f.isEmpty()&&!f.isLeafNode()){const y=[],_=u.getCompare(),b=o?f.getReverseIteratorFrom(i,u):f.getIteratorFrom(i,u);let w=b.getNext();for(;w&&y.length<s;)_(w,i)!==0&&y.push(w),w=b.getNext();return y}else return[]}function ez(){return{visibleWrites:Dr.empty(),allWrites:[],lastWriteId:-1}}function J_(n,e,t,i){return j2(n.writeTree,n.treePath,e,t,i)}function H2(n,e){return Q9(n.writeTree,n.treePath,e)}function Zw(n,e,t,i){return W9(n.writeTree,n.treePath,e,t,i)}function Op(n,e){return J9(n.writeTree,zn(n.treePath,e))}function tz(n,e,t,i,s,o){return Z9(n.writeTree,n.treePath,e,t,i,s,o)}function C0(n,e,t){return X9(n.writeTree,n.treePath,e,t)}function q2(n,e){return $2(zn(n.treePath,e),n.writeTree)}function $2(n,e){return{treePath:n,writeTree:e}}class nz{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;be(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),be(i!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(i);if(s){const o=s.type;if(t==="child_added"&&o==="child_removed")this.changeMap.set(i,Gw(i,e.snapshotNode,s.snapshotNode));else if(t==="child_removed"&&o==="child_added")this.changeMap.delete(i);else if(t==="child_removed"&&o==="child_changed")this.changeMap.set(i,N9(i,s.oldSnap));else if(t==="child_changed"&&o==="child_added")this.changeMap.set(i,D9(i,e.snapshotNode));else if(t==="child_changed"&&o==="child_changed")this.changeMap.set(i,Gw(i,e.snapshotNode,s.oldSnap));else throw Ou("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}class iz{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}}const G2=new iz;class R0{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new w0(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return C0(this.writes_,e,i)}}getChildAfterChild(e,t,i){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:il(this.viewCache_),o=tz(this.writes_,s,t,1,i,e);return o.length===0?null:o[0]}}function rz(n,e){be(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),be(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function sz(n,e,t,i,s){const o=new nz;let u,f;if(t.type===Yr.OVERWRITE){const d=t;d.source.fromUser?u=Z_(n,e,d.path,d.snap,i,s,o):(be(d.source.fromServer,"Unknown source."),f=d.source.tagged||e.serverCache.isFiltered()&&!ot(d.path),u=Dp(n,e,d.path,d.snap,i,s,f,o))}else if(t.type===Yr.MERGE){const d=t;d.source.fromUser?u=oz(n,e,d.path,d.children,i,s,o):(be(d.source.fromServer,"Unknown source."),f=d.source.tagged||e.serverCache.isFiltered(),u=ev(n,e,d.path,d.children,i,s,f,o))}else if(t.type===Yr.ACK_USER_WRITE){const d=t;d.revert?u=cz(n,e,d.path,i,s,o):u=lz(n,e,d.path,d.affectedTree,i,s,o)}else if(t.type===Yr.LISTEN_COMPLETE)u=uz(n,e,t.path,i,o);else throw Ou("Unknown operation type: "+t.type);const h=o.getChanges();return az(e,u,h),{viewCache:u,changes:h}}function az(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const s=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=Q_(n);(t.length>0||!n.eventCache.isFullyInitialized()||s&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&t.push(O9(Q_(e)))}}function K2(n,e,t,i,s,o){const u=e.eventCache;if(Op(i,t)!=null)return e;{let f,h;if(ot(t))if(be(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const d=il(e),y=d instanceof St?d:St.EMPTY_NODE,_=H2(i,y);f=n.filter.updateFullNode(e.eventCache.getNode(),_,o)}else{const d=J_(i,il(e));f=n.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{const d=ct(t);if(d===".priority"){be(lo(t)===1,"Can't have a priority with additional path components");const y=u.getNode();h=e.serverCache.getNode();const _=Zw(i,t,y,h);_!=null?f=n.filter.updatePriority(y,_):f=u.getNode()}else{const y=Bt(t);let _;if(u.isCompleteForChild(d)){h=e.serverCache.getNode();const b=Zw(i,t,u.getNode(),h);b!=null?_=u.getNode().getImmediateChild(d).updateChild(y,b):_=u.getNode().getImmediateChild(d)}else _=C0(i,d,e.serverCache);_!=null?f=n.filter.updateChild(u.getNode(),d,_,y,s,o):f=u.getNode()}}return sh(e,f,u.isFullyInitialized()||ot(t),n.filter.filtersNodes())}}function Dp(n,e,t,i,s,o,u,f){const h=e.serverCache;let d;const y=u?n.filter:n.filter.getIndexedFilter();if(ot(t))d=y.updateFullNode(h.getNode(),i,null);else if(y.filtersNodes()&&!h.isFiltered()){const w=h.getNode().updateChild(t,i);d=y.updateFullNode(h.getNode(),w,null)}else{const w=ct(t);if(!h.isCompleteForPath(t)&&lo(t)>1)return e;const I=Bt(t),A=h.getNode().getImmediateChild(w).updateChild(I,i);w===".priority"?d=y.updatePriority(h.getNode(),A):d=y.updateChild(h.getNode(),w,A,I,G2,null)}const _=U2(e,d,h.isFullyInitialized()||ot(t),y.filtersNodes()),b=new R0(s,_,o);return K2(n,_,t,s,b,f)}function Z_(n,e,t,i,s,o,u){const f=e.eventCache;let h,d;const y=new R0(s,e,o);if(ot(t))d=n.filter.updateFullNode(e.eventCache.getNode(),i,u),h=sh(e,d,!0,n.filter.filtersNodes());else{const _=ct(t);if(_===".priority")d=n.filter.updatePriority(e.eventCache.getNode(),i),h=sh(e,d,f.isFullyInitialized(),f.isFiltered());else{const b=Bt(t),w=f.getNode().getImmediateChild(_);let I;if(ot(b))I=i;else{const O=y.getCompleteChild(_);O!=null?S2(b)===".priority"&&O.getChild(C2(b)).isEmpty()?I=O:I=O.updateChild(b,i):I=St.EMPTY_NODE}if(w.equals(I))h=e;else{const O=n.filter.updateChild(f.getNode(),_,I,b,y,u);h=sh(e,O,f.isFullyInitialized(),n.filter.filtersNodes())}}}return h}function eC(n,e){return n.eventCache.isCompleteForChild(e)}function oz(n,e,t,i,s,o,u){let f=e;return i.foreach((h,d)=>{const y=zn(t,h);eC(e,ct(y))&&(f=Z_(n,f,y,d,s,o,u))}),i.foreach((h,d)=>{const y=zn(t,h);eC(e,ct(y))||(f=Z_(n,f,y,d,s,o,u))}),f}function tC(n,e,t){return t.foreach((i,s)=>{e=e.updateChild(i,s)}),e}function ev(n,e,t,i,s,o,u,f){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let h=e,d;ot(t)?d=i:d=new Ft(null).setTree(t,i);const y=e.serverCache.getNode();return d.children.inorderTraversal((_,b)=>{if(y.hasChild(_)){const w=e.serverCache.getNode().getImmediateChild(_),I=tC(n,w,b);h=Dp(n,h,new qt(_),I,s,o,u,f)}}),d.children.inorderTraversal((_,b)=>{const w=!e.serverCache.isCompleteForChild(_)&&b.value===null;if(!y.hasChild(_)&&!w){const I=e.serverCache.getNode().getImmediateChild(_),O=tC(n,I,b);h=Dp(n,h,new qt(_),O,s,o,u,f)}}),h}function lz(n,e,t,i,s,o,u){if(Op(s,t)!=null)return e;const f=e.serverCache.isFiltered(),h=e.serverCache;if(i.value!=null){if(ot(t)&&h.isFullyInitialized()||h.isCompleteForPath(t))return Dp(n,e,t,h.getNode().getChild(t),s,o,f,u);if(ot(t)){let d=new Ft(null);return h.getNode().forEachChild(pu,(y,_)=>{d=d.set(new qt(y),_)}),ev(n,e,t,d,s,o,f,u)}else return e}else{let d=new Ft(null);return i.foreach((y,_)=>{const b=zn(t,y);h.isCompleteForPath(b)&&(d=d.set(y,h.getNode().getChild(b)))}),ev(n,e,t,d,s,o,f,u)}}function uz(n,e,t,i,s){const o=e.serverCache,u=U2(e,o.getNode(),o.isFullyInitialized()||ot(t),o.isFiltered());return K2(n,u,t,i,G2,s)}function cz(n,e,t,i,s,o){let u;if(Op(i,t)!=null)return e;{const f=new R0(i,e,s),h=e.eventCache.getNode();let d;if(ot(t)||ct(t)===".priority"){let y;if(e.serverCache.isFullyInitialized())y=J_(i,il(e));else{const _=e.serverCache.getNode();be(_ instanceof St,"serverChildren would be complete if leaf node"),y=H2(i,_)}y=y,d=n.filter.updateFullNode(h,y,o)}else{const y=ct(t);let _=C0(i,y,e.serverCache);_==null&&e.serverCache.isCompleteForChild(y)&&(_=h.getImmediateChild(y)),_!=null?d=n.filter.updateChild(h,y,_,Bt(t),f,o):e.eventCache.getNode().hasChild(y)?d=n.filter.updateChild(h,y,St.EMPTY_NODE,Bt(t),f,o):d=h,d.isEmpty()&&e.serverCache.isFullyInitialized()&&(u=J_(i,il(e)),u.isLeafNode()&&(d=n.filter.updateFullNode(d,u,o)))}return u=e.serverCache.isFullyInitialized()||Op(i,Pt())!=null,sh(e,d,u,n.filter.filtersNodes())}}function hz(n,e){const t=il(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!ot(e)&&!t.getImmediateChild(ct(e)).isEmpty())?t.getChild(e):null}function nC(n,e,t,i){e.type===Yr.MERGE&&e.source.queryId!==null&&(be(il(n.viewCache_),"We should always have a full cache before handling merges"),be(Q_(n.viewCache_),"Missing event cache, even though we have a server cache"));const s=n.viewCache_,o=sz(n.processor_,s,e,t,i);return rz(n.processor_,o.viewCache),be(o.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,fz(n,o.changes,o.viewCache.eventCache.getNode())}function fz(n,e,t,i){const s=n.eventRegistrations_;return z9(n.eventGenerator_,e,t,s)}let iC;function dz(n){be(!iC,"__referenceConstructor has already been defined"),iC=n}function A0(n,e,t,i){const s=e.source.queryId;if(s!==null){const o=n.views.get(s);return be(o!=null,"SyncTree gave us an op for an invalid query."),nC(o,e,t,i)}else{let o=[];for(const u of n.views.values())o=o.concat(nC(u,e,t,i));return o}}function I0(n,e){let t=null;for(const i of n.views.values())t=t||hz(i,e);return t}let rC;function pz(n){be(!rC,"__referenceConstructor has already been defined"),rC=n}class sC{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ft(null),this.pendingWriteTree_=ez(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function mz(n,e,t,i,s){return H9(n.pendingWriteTree_,e,t,i,s),s?vm(n,new nl(P2(),e,t)):[]}function au(n,e,t=!1){const i=q9(n.pendingWriteTree_,e);if($9(n.pendingWriteTree_,e)){let o=new Ft(null);return i.snap!=null?o=o.set(Pt(),!0):fr(i.children,u=>{o=o.set(new qt(u),!0)}),vm(n,new Ip(i.path,o,t))}else return[]}function _m(n,e,t){return vm(n,new nl(k2(),e,t))}function gz(n,e,t){const i=Ft.fromObject(t);return vm(n,new bh(k2(),e,i))}function yz(n,e,t,i){const s=X2(n,i);if(s!=null){const o=J2(s),u=o.path,f=o.queryId,h=lr(u,e),d=new nl(L2(f),h,t);return Z2(n,u,d)}else return[]}function _z(n,e,t,i){const s=X2(n,i);if(s){const o=J2(s),u=o.path,f=o.queryId,h=lr(u,e),d=Ft.fromObject(t),y=new bh(L2(f),h,d);return Z2(n,u,y)}else return[]}function Y2(n,e,t){const s=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(e,(u,f)=>{const h=lr(u,e),d=I0(f,h);if(d)return d});return j2(s,e,o,t,!0)}function vm(n,e){return Q2(e,n.syncPointTree_,null,F2(n.pendingWriteTree_,Pt()))}function Q2(n,e,t,i){if(ot(n.path))return W2(n,e,t,i);{const s=e.get(Pt());t==null&&s!=null&&(t=I0(s,Pt()));let o=[];const u=ct(n.path),f=n.operationForChild(u),h=e.children.get(u);if(h&&f){const d=t?t.getImmediateChild(u):null,y=q2(i,u);o=o.concat(Q2(f,h,d,y))}return s&&(o=o.concat(A0(s,n,i,t))),o}}function W2(n,e,t,i){const s=e.get(Pt());t==null&&s!=null&&(t=I0(s,Pt()));let o=[];return e.children.inorderTraversal((u,f)=>{const h=t?t.getImmediateChild(u):null,d=q2(i,u),y=n.operationForChild(u);y&&(o=o.concat(W2(y,f,h,d)))}),s&&(o=o.concat(A0(s,n,i,t))),o}function X2(n,e){return n.tagToQueryMap.get(e)}function J2(n){const e=n.indexOf("$");return be(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new qt(n.substr(0,e))}}function Z2(n,e,t){const i=n.syncPointTree_.get(e);be(i,"Missing sync point for query tag that we're tracking");const s=F2(n.pendingWriteTree_,e);return A0(i,t,s,null)}class O0{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new O0(t)}node(){return this.node_}}class D0{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=zn(this.path_,e);return new D0(this.syncTree_,t)}node(){return Y2(this.syncTree_,this.path_)}}const vz=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},aC=function(n,e,t){if(!n||typeof n!="object")return n;if(be(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return bz(n[".sv"],e,t);if(typeof n[".sv"]=="object")return Ez(n[".sv"],e);be(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},bz=function(n,e,t){switch(n){case"timestamp":return t.timestamp;default:be(!1,"Unexpected server value: "+n)}},Ez=function(n,e,t){n.hasOwnProperty("increment")||be(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;typeof i!="number"&&be(!1,"Unexpected increment value: "+i);const s=e.node();if(be(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return i;const u=s.getValue();return typeof u!="number"?i:u+i},Tz=function(n,e,t,i){return N0(e,new D0(t,n),i)},Sz=function(n,e,t){return N0(n,new O0(e),t)};function N0(n,e,t){const i=n.getPriority().val(),s=aC(i,e.getImmediateChild(".priority"),t);let o;if(n.isLeafNode()){const u=n,f=aC(u.getValue(),e,t);return f!==u.getValue()||s!==u.getPriority().val()?new Ln(f,ii(s)):n}else{const u=n;return o=u,s!==u.getPriority().val()&&(o=o.updatePriority(new Ln(s))),u.forEachChild(ri,(f,h)=>{const d=N0(h,e.getImmediateChild(f),t);d!==h&&(o=o.updateImmediateChild(f,d))}),o}}class M0{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function x0(n,e){let t=e instanceof qt?e:new qt(e),i=n,s=ct(t);for(;s!==null;){const o=gu(i.node.children,s)||{children:{},childCount:0};i=new M0(s,i,o),t=Bt(t),s=ct(t)}return i}function Uu(n){return n.node.value}function eO(n,e){n.node.value=e,tv(n)}function tO(n){return n.node.childCount>0}function wz(n){return Uu(n)===void 0&&!tO(n)}function bm(n,e){fr(n.node.children,(t,i)=>{e(new M0(t,n,i))})}function nO(n,e,t,i){t&&e(n),bm(n,s=>{nO(s,e,!0)})}function Cz(n,e,t){let i=n.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function $h(n){return new qt(n.parent===null?n.name:$h(n.parent)+"/"+n.name)}function tv(n){n.parent!==null&&Rz(n.parent,n.name,n)}function Rz(n,e,t){const i=wz(t),s=sa(n.node.children,e);i&&s?(delete n.node.children[e],n.node.childCount--,tv(n)):!i&&!s&&(n.node.children[e]=t.node,n.node.childCount++,tv(n))}const Az=/[\[\].#$\/\u0000-\u001F\u007F]/,Iz=/[\[\].#$\u0000-\u001F\u007F]/,Wy=10*1024*1024,iO=function(n){return typeof n=="string"&&n.length!==0&&!Az.test(n)},Oz=function(n){return typeof n=="string"&&n.length!==0&&!Iz.test(n)},Dz=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Oz(n)},rO=function(n,e,t){const i=t instanceof qt?new u9(t,n):t;if(e===void 0)throw new Error(n+"contains undefined "+Bo(i));if(typeof e=="function")throw new Error(n+"contains a function "+Bo(i)+" with contents = "+e.toString());if(n2(e))throw new Error(n+"contains "+e.toString()+" "+Bo(i));if(typeof e=="string"&&e.length>Wy/3&&Yp(e)>Wy)throw new Error(n+"contains a string greater than "+Wy+" utf8 bytes "+Bo(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,o=!1;if(fr(e,(u,f)=>{if(u===".value")s=!0;else if(u!==".priority"&&u!==".sv"&&(o=!0,!iO(u)))throw new Error(n+" contains an invalid key ("+u+") "+Bo(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);c9(i,u),rO(n,f,i),h9(i)}),s&&o)throw new Error(n+' contains ".value" child '+Bo(i)+" in addition to actual children.")}},Nz=function(n,e){const t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!iO(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!Dz(t))throw new Error(Tk(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};class Mz{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function xz(n,e){let t=null;for(let i=0;i<e.length;i++){const s=e[i],o=s.getPath();t!==null&&!R2(o,t.path)&&(n.eventLists_.push(t),t=null),t===null&&(t={events:[],path:o}),t.events.push(s)}t&&n.eventLists_.push(t)}function ul(n,e,t){xz(n,t),Pz(n,i=>Ir(i,e)||Ir(e,i))}function Pz(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const s=n.eventLists_[i];if(s){const o=s.path;e(o)?(kz(n.eventLists_[i]),n.eventLists_[i]=null):t=!1}}t&&(n.eventLists_=[]),n.recursionDepth_--}function kz(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(t!==null){n.events[e]=null;const i=t.getEventRunner();ih&&ni("event: "+t.toString()),Hh(i)}}}const Lz="repo_interrupt",Vz=25;class Uz{constructor(e,t,i,s){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Mz,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ap(),this.transactionQueueTree_=new M0,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function zz(n,e,t){if(n.stats_=v0(n.repoInfo_),n.forceRestClient_||P5())n.server_=new Rp(n.repoInfo_,(i,s,o,u)=>{oC(n,i,s,o,u)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>lC(n,!0),0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Gn(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Ks(n.repoInfo_,e,(i,s,o,u)=>{oC(n,i,s,o,u)},i=>{lC(n,i)},i=>{Bz(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=z5(n.repoInfo_,()=>new U9(n.stats_,n.server_)),n.infoData_=new x9,n.infoSyncTree_=new sC({startListening:(i,s,o,u)=>{let f=[];const h=n.infoData_.getNode(i._path);return h.isEmpty()||(f=_m(n.infoSyncTree_,i._path,h),setTimeout(()=>{u("ok")},0)),f},stopListening:()=>{}}),P0(n,"connected",!1),n.serverSyncTree_=new sC({startListening:(i,s,o,u)=>(n.server_.listen(i,o,s,(f,h)=>{const d=u(f,h);ul(n.eventQueue_,i._path,d)}),[]),stopListening:(i,s)=>{n.server_.unlisten(i,s)}})}function Fz(n){const t=n.infoData_.getNode(new qt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function sO(n){return vz({timestamp:Fz(n)})}function oC(n,e,t,i,s){n.dataUpdateCount++;const o=new qt(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let u=[];if(s)if(i){const h=tp(t,d=>ii(d));u=_z(n.serverSyncTree_,o,h,s)}else{const h=ii(t);u=yz(n.serverSyncTree_,o,h,s)}else if(i){const h=tp(t,d=>ii(d));u=gz(n.serverSyncTree_,o,h)}else{const h=ii(t);u=_m(n.serverSyncTree_,o,h)}let f=o;u.length>0&&(f=L0(n,o)),ul(n.eventQueue_,f,u)}function lC(n,e){P0(n,"connected",e),e===!1&&Hz(n)}function Bz(n,e){fr(e,(t,i)=>{P0(n,t,i)})}function P0(n,e,t){const i=new qt("/.info/"+e),s=ii(t);n.infoData_.updateSnapshot(i,s);const o=_m(n.infoSyncTree_,i,s);ul(n.eventQueue_,i,o)}function jz(n){return n.nextWriteId_++}function Hz(n){aO(n,"onDisconnectEvents");const e=sO(n),t=Ap();Y_(n.onDisconnect_,Pt(),(s,o)=>{const u=Tz(s,o,n.serverSyncTree_,e);x2(t,s,u)});let i=[];Y_(t,Pt(),(s,o)=>{i=i.concat(_m(n.serverSyncTree_,s,o));const u=Kz(n,s);L0(n,u)}),n.onDisconnect_=Ap(),ul(n.eventQueue_,Pt(),i)}function qz(n){n.persistentConnection_&&n.persistentConnection_.interrupt(Lz)}function aO(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),ni(t,...e)}function oO(n,e,t){return Y2(n.serverSyncTree_,e,t)||St.EMPTY_NODE}function k0(n,e=n.transactionQueueTree_){if(e||Em(n,e),Uu(e)){const t=uO(n,e);be(t.length>0,"Sending zero length transaction queue"),t.every(s=>s.status===0)&&$z(n,$h(e),t)}else tO(e)&&bm(e,t=>{k0(n,t)})}function $z(n,e,t){const i=t.map(d=>d.currentWriteId),s=oO(n,e,i);let o=s;const u=s.hash();for(let d=0;d<t.length;d++){const y=t[d];be(y.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),y.status=1,y.retryCount++;const _=lr(e,y.path);o=o.updateChild(_,y.currentOutputSnapshotRaw)}const f=o.val(!0),h=e;n.server_.put(h.toString(),f,d=>{aO(n,"transaction put response",{path:h.toString(),status:d});let y=[];if(d==="ok"){const _=[];for(let b=0;b<t.length;b++)t[b].status=2,y=y.concat(au(n.serverSyncTree_,t[b].currentWriteId)),t[b].onComplete&&_.push(()=>t[b].onComplete(null,!0,t[b].currentOutputSnapshotResolved)),t[b].unwatcher();Em(n,x0(n.transactionQueueTree_,e)),k0(n,n.transactionQueueTree_),ul(n.eventQueue_,e,y);for(let b=0;b<_.length;b++)Hh(_[b])}else{if(d==="datastale")for(let _=0;_<t.length;_++)t[_].status===3?t[_].status=4:t[_].status=0;else{Bi("transaction at "+h.toString()+" failed: "+d);for(let _=0;_<t.length;_++)t[_].status=4,t[_].abortReason=d}L0(n,e)}},u)}function L0(n,e){const t=lO(n,e),i=$h(t),s=uO(n,t);return Gz(n,s,i),i}function Gz(n,e,t){if(e.length===0)return;const i=[];let s=[];const u=e.filter(f=>f.status===0).map(f=>f.currentWriteId);for(let f=0;f<e.length;f++){const h=e[f],d=lr(t,h.path);let y=!1,_;if(be(d!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),h.status===4)y=!0,_=h.abortReason,s=s.concat(au(n.serverSyncTree_,h.currentWriteId,!0));else if(h.status===0)if(h.retryCount>=Vz)y=!0,_="maxretry",s=s.concat(au(n.serverSyncTree_,h.currentWriteId,!0));else{const b=oO(n,h.path,u);h.currentInputSnapshot=b;const w=e[f].update(b.val());if(w!==void 0){rO("transaction failed: Data returned ",w,h.path);let I=ii(w);typeof w=="object"&&w!=null&&sa(w,".priority")||(I=I.updatePriority(b.getPriority()));const A=h.currentWriteId,U=sO(n),V=Sz(I,b,U);h.currentOutputSnapshotRaw=I,h.currentOutputSnapshotResolved=V,h.currentWriteId=jz(n),u.splice(u.indexOf(A),1),s=s.concat(mz(n.serverSyncTree_,h.path,V,h.currentWriteId,h.applyLocally)),s=s.concat(au(n.serverSyncTree_,A,!0))}else y=!0,_="nodata",s=s.concat(au(n.serverSyncTree_,h.currentWriteId,!0))}ul(n.eventQueue_,t,s),s=[],y&&(e[f].status=2,(function(b){setTimeout(b,Math.floor(0))})(e[f].unwatcher),e[f].onComplete&&(_==="nodata"?i.push(()=>e[f].onComplete(null,!1,e[f].currentInputSnapshot)):i.push(()=>e[f].onComplete(new Error(_),!1,null))))}Em(n,n.transactionQueueTree_);for(let f=0;f<i.length;f++)Hh(i[f]);k0(n,n.transactionQueueTree_)}function lO(n,e){let t,i=n.transactionQueueTree_;for(t=ct(e);t!==null&&Uu(i)===void 0;)i=x0(i,t),e=Bt(e),t=ct(e);return i}function uO(n,e){const t=[];return cO(n,e,t),t.sort((i,s)=>i.order-s.order),t}function cO(n,e,t){const i=Uu(e);if(i)for(let s=0;s<i.length;s++)t.push(i[s]);bm(e,s=>{cO(n,s,t)})}function Em(n,e){const t=Uu(e);if(t){let i=0;for(let s=0;s<t.length;s++)t[s].status!==2&&(t[i]=t[s],i++);t.length=i,eO(e,t.length>0?t:void 0)}bm(e,i=>{Em(n,i)})}function Kz(n,e){const t=$h(lO(n,e)),i=x0(n.transactionQueueTree_,e);return Cz(i,s=>{Xy(n,s)}),Xy(n,i),nO(i,s=>{Xy(n,s)}),t}function Xy(n,e){const t=Uu(e);if(t){const i=[];let s=[],o=-1;for(let u=0;u<t.length;u++)t[u].status===3||(t[u].status===1?(be(o===u-1,"All SENT items should be at beginning of queue."),o=u,t[u].status=3,t[u].abortReason="set"):(be(t[u].status===0,"Unexpected transaction status in abort"),t[u].unwatcher(),s=s.concat(au(n.serverSyncTree_,t[u].currentWriteId,!0)),t[u].onComplete&&i.push(t[u].onComplete.bind(null,new Error("set"),!1,null))));o===-1?eO(e,void 0):t.length=o+1,ul(n.eventQueue_,$h(e),s);for(let u=0;u<i.length;u++)Hh(i[u])}}function Yz(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let s=t[i];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function Qz(n){const e={};n.charAt(0)==="?"&&(n=n.substring(1));for(const t of n.split("&")){if(t.length===0)continue;const i=t.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Bi(`Invalid query segment '${t}' in query '${n}'`)}return e}const uC=function(n,e){const t=Wz(n),i=t.namespace;t.domain==="firebase.com"&&na(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&t.domain!=="localhost"&&na("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||R5();const s=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new p2(t.host,t.secure,i,s,e,"",i!==t.subdomain),path:new qt(t.pathString)}},Wz=function(n){let e="",t="",i="",s="",o="",u=!0,f="https",h=443;if(typeof n=="string"){let d=n.indexOf("//");d>=0&&(f=n.substring(0,d-1),n=n.substring(d+2));let y=n.indexOf("/");y===-1&&(y=n.length);let _=n.indexOf("?");_===-1&&(_=n.length),e=n.substring(0,Math.min(y,_)),y<_&&(s=Yz(n.substring(y,_)));const b=Qz(n.substring(Math.min(n.length,_)));d=e.indexOf(":"),d>=0?(u=f==="https"||f==="wss",h=parseInt(e.substring(d+1),10)):d=e.length;const w=e.slice(0,d);if(w.toLowerCase()==="localhost")t="localhost";else if(w.split(".").length<=2)t=w;else{const I=e.indexOf(".");i=e.substring(0,I).toLowerCase(),t=e.substring(I+1),o=i}"ns"in b&&(o=b.ns)}return{host:e,port:h,domain:t,subdomain:i,secure:u,scheme:f,pathString:s,namespace:o}};class V0{constructor(e,t,i,s){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=s}get key(){return ot(this._path)?null:S2(this._path)}get ref(){return new zu(this._repo,this._path)}get _queryIdentifier(){const e=Yw(this._queryParams),t=y0(e);return t==="{}"?"default":t}get _queryObject(){return Yw(this._queryParams)}isEqual(e){if(e=Yn(e),!(e instanceof V0))return!1;const t=this._repo===e._repo,i=R2(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return t&&i&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+l9(this._path)}}class zu extends V0{constructor(e,t){super(e,t,new S0,!1)}get parent(){const e=C2(this._path);return e===null?null:new zu(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}dz(zu);pz(zu);const Xz="FIREBASE_DATABASE_EMULATOR_HOST",nv={};let Jz=!1;function Zz(n,e,t,i){const s=e.lastIndexOf(":"),o=e.substring(0,s),u=ra(o);n.repoInfo_=new p2(e,u,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0,t),i&&(n.authTokenProvider_=i)}function eF(n,e,t,i,s){let o=i||n.options.databaseURL;o===void 0&&(n.options.projectId||na("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ni("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let u=uC(o,s),f=u.repoInfo,h;typeof process<"u"&&Ow&&(h=Ow[Xz]),h?(o=`http://${h}?ns=${f.namespace}`,u=uC(o,s),f=u.repoInfo):u.repoInfo.secure;const d=new L5(n.name,n.options,e);Nz("Invalid Firebase Database URL",u),ot(u.path)||na("Database URL must point to the root of a Firebase Database (not including a child path).");const y=nF(f,n,d,new k5(n,t));return new iF(y,n)}function tF(n,e){const t=nv[e];(!t||t[n.key]!==n)&&na(`Database ${e}(${n.repoInfo_}) has already been deleted.`),qz(n),delete t[n.key]}function nF(n,e,t,i){let s=nv[e.name];s||(s={},nv[e.name]=s);let o=s[n.toURLString()];return o&&na("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Uz(n,Jz,t,i),s[n.toURLString()]=o,o}class iF{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(zz(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new zu(this._repo,Pt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(tF(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&na("Cannot call "+e+" on a deleted database.")}}function rF(n=Wp(),e){const t=Dh(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const i=Cv("database");i&&sF(t,...i)}return t}function sF(n,e,t,i={}){n=Yn(n),n._checkNotDeleted("useEmulator");const s=`${e}:${t}`,o=n._repoInternal;if(n._instanceStarted){if(s===n._repoInternal.repoInfo_.host&&as(i,o.repoInfo_.emulatorOptions))return;na("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let u;if(o.repoInfo_.nodeAdmin)i.mockUserToken&&na('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),u=new $d($d.OWNER);else if(i.mockUserToken){const f=typeof i.mockUserToken=="string"?i.mockUserToken:Av(i.mockUserToken,n.app.options.projectId);u=new $d(f)}ra(e)&&(Gp(e),Kp("Database",!0)),Zz(o,s,i,u)}function aF(n){b5(ho),to(new Ws("database",(e,{instanceIdentifier:t})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return eF(i,s,o,t)},"PUBLIC").setMultipleInstances(!0)),ur(Dw,Nw,n),ur(Dw,Nw,"esm2020")}Ks.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};Ks.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};aF();const oF={apiKey:"AIzaSyBf3h-x62vL8UhFi3x4UpJAP4faAeBpLNE",authDomain:"studytogether-14a65.firebaseapp.com",projectId:"studytogether-14a65",storageBucket:"studytogether-14a65.firebasestorage.app",messagingSenderId:"917416581658",appId:"1:917416581658:web:f8241b3045555660d30fa3"},Tm=PR(oF),lF=OV(Tm),cr=IU(Tm);rF(Tm);g5(Tm);const uF="_GoogleButton_8qn3y_1",cF={GoogleButton:uF};function hF(){const n=Wo(t=>t.setUser),e=async()=>{const t=new Bs;try{const i=await U4(lF,t),s=i.user;if(console.log("Signed in user:",s),n(s),i._tokenResponse?.isNewUser){console.log("new user");const o=ts(cr,"userStuff",s.uid);await el(o,{name:s.displayName,photoURL:s.photoURL||null,chats:[],listings:[]})}}catch(i){console.error("Login error:",i)}};return se.jsx("button",{onClick:e,className:cF.GoogleButton,children:"Log in"})}function fF(){return Wo(e=>e.user),se.jsxs(se.Fragment,{children:[se.jsx("h1",{children:"Hi There!, Welcome to Study Together"}),se.jsx("h2",{children:"Anouncements: "}),se.jsx("h3",{style:{whiteSpace:"pre-wrap",margin:0,padding:0},children:`This website is being published for the SAS HS hackathon 2025!!!

Intructions for new users:
   If you want to create a session, it's reccomended to put a zoom / google meets link in the description
If you don't but in a meeting link, you should contact each attendee to meet in person or otherwise study
***Warning*** your email will be visible to the host of sessions you join`})]})}const dF="_bar_18znn_1",pF="_rightContainer_18znn_5",mF="_logo_18znn_11",gF="_homeButton_18znn_14",yF="_headerButton_18znn_26",Us={bar:dF,rightContainer:pF,logo:mF,homeButton:gF,headerButton:yF};function _F(){const n=Wo(o=>o.user),e=Wo(o=>o.setUser),t=Fp(),i=()=>{e(null),t("/")};k.useEffect(()=>{console.log(n),console.log("change in user")},[n]);function s(){n==null?ft.warn("Sorry, you don't seem to be logged in right now"):t("/mysessions")}return se.jsxs("div",{className:Us.bar,children:[se.jsx("button",{className:Us.homeButton,onClick:()=>t("/"),children:se.jsx("img",{src:"/studyTogetherLogo.png",alt:"home",className:Us.logo})}),se.jsx("button",{className:Us.headerButton,onClick:()=>t("/create"),children:"create listing"}),se.jsx("button",{className:Us.headerButton,onClick:()=>t("/browse"),children:"browse listings"}),se.jsx("button",{className:Us.headerButton,onClick:()=>s(),children:"my sessions"}),se.jsxs("div",{className:Us.rightContainer,children:[se.jsx("p",{children:n!=null?n.email:"No User"}),se.jsx("div",{className:Us.authButtonContainer,children:n?se.jsx("button",{onClick:i,className:Us.homeButton,children:"logout"}):se.jsx(hF,{})})]})]})}const vF={};function bF(){return se.jsx("div",{className:vF.bar,children:se.jsx("p",{children:"Created by Caleb Craig"})})}const EF="_Header_1suuh_1",TF="_Footer_1suuh_10",SF="_fullContainer_1suuh_19",wd={Header:EF,Footer:TF,fullContainer:SF};function wF(){const n=k.useRef(null);return se.jsxs("div",{className:wd.fullContainer,children:[se.jsx("div",{className:wd.Header,children:se.jsx(_F,{scrollTargetRef:n})}),se.jsx("main",{ref:n,className:wd.main,children:se.jsx(Tx,{})}),se.jsx("div",{className:wd.Footer,children:se.jsx(bF,{scrollTargetRef:n})})]})}function rl(n){"@babel/helpers - typeof";return rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rl(n)}function CF(n,e){if(rl(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(rl(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function hO(n){var e=CF(n,"string");return rl(e)=="symbol"?e:e+""}function Wc(n,e,t){return(e=hO(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function cC(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,i)}return t}function ze(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?cC(Object(t),!0).forEach(function(i){Wc(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):cC(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function RF(n){if(Array.isArray(n))return n}function AF(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,s,o,u,f=[],h=!0,d=!1;try{if(o=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;h=!1}else for(;!(h=(i=o.call(t)).done)&&(f.push(i.value),f.length!==e);h=!0);}catch(y){d=!0,s=y}finally{try{if(!h&&t.return!=null&&(u=t.return(),Object(u)!==u))return}finally{if(d)throw s}}return f}}function iv(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=Array(e);t<e;t++)i[t]=n[t];return i}function fO(n,e){if(n){if(typeof n=="string")return iv(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?iv(n,e):void 0}}function IF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ys(n,e){return RF(n)||AF(n,e)||fO(n,e)||IF()}function OF(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function aa(n,e){if(n==null)return{};var t,i,s=OF(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)t=o[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(s[t]=n[t])}return s}var DF=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function NF(n){var e=n.defaultInputValue,t=e===void 0?"":e,i=n.defaultMenuIsOpen,s=i===void 0?!1:i,o=n.defaultValue,u=o===void 0?null:o,f=n.inputValue,h=n.menuIsOpen,d=n.onChange,y=n.onInputChange,_=n.onMenuClose,b=n.onMenuOpen,w=n.value,I=aa(n,DF),O=k.useState(f!==void 0?f:t),A=Ys(O,2),U=A[0],V=A[1],z=k.useState(h!==void 0?h:s),Q=Ys(z,2),H=Q[0],ie=Q[1],S=k.useState(w!==void 0?w:u),C=Ys(S,2),x=C[0],N=C[1],L=k.useCallback(function(me,De){typeof d=="function"&&d(me,De),N(me)},[d]),P=k.useCallback(function(me,De){var Ve;typeof y=="function"&&(Ve=y(me,De)),V(Ve!==void 0?Ve:me)},[y]),M=k.useCallback(function(){typeof b=="function"&&b(),ie(!0)},[b]),ye=k.useCallback(function(){typeof _=="function"&&_(),ie(!1)},[_]),ne=f!==void 0?f:U,$=h!==void 0?h:H,ee=w!==void 0?w:x;return ze(ze({},I),{},{inputValue:ne,menuIsOpen:$,onChange:L,onInputChange:P,onMenuClose:ye,onMenuOpen:M,value:ee})}function Be(){return Be=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Be.apply(null,arguments)}function MF(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function hC(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,hO(i.key),i)}}function xF(n,e,t){return e&&hC(n.prototype,e),t&&hC(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function rv(n,e){return rv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},rv(n,e)}function PF(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&rv(n,e)}function Np(n){return Np=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Np(n)}function dO(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dO=function(){return!!n})()}function kF(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function LF(n,e){if(e&&(rl(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kF(n)}function VF(n){var e=dO();return function(){var t,i=Np(n);if(e){var s=Np(this).constructor;t=Reflect.construct(i,arguments,s)}else t=i.apply(this,arguments);return LF(this,t)}}function UF(n){if(Array.isArray(n))return iv(n)}function zF(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function FF(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U0(n){return UF(n)||zF(n)||fO(n)||FF()}function BF(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function jF(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var HF=(function(){function n(t){var i=this;this._insertTag=function(s){var o;i.tags.length===0?i.insertionPoint?o=i.insertionPoint.nextSibling:i.prepend?o=i.container.firstChild:o=i.before:o=i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(s,o),i.tags.push(s)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(i){i.forEach(this._insertTag)},e.insert=function(i){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(jF(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var o=BF(s);try{o.insertRule(i,o.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(i));this.ctr++},e.flush=function(){this.tags.forEach(function(i){var s;return(s=i.parentNode)==null?void 0:s.removeChild(i)}),this.tags=[],this.ctr=0},n})(),Zn="-ms-",Mp="-moz-",bt="-webkit-",pO="comm",z0="rule",F0="decl",qF="@import",mO="@keyframes",$F="@layer",GF=Math.abs,Sm=String.fromCharCode,KF=Object.assign;function YF(n,e){return $n(n,0)^45?(((e<<2^$n(n,0))<<2^$n(n,1))<<2^$n(n,2))<<2^$n(n,3):0}function gO(n){return n.trim()}function QF(n,e){return(n=e.exec(n))?n[0]:n}function Et(n,e,t){return n.replace(e,t)}function sv(n,e){return n.indexOf(e)}function $n(n,e){return n.charCodeAt(e)|0}function Eh(n,e,t){return n.slice(e,t)}function Gr(n){return n.length}function B0(n){return n.length}function Cd(n,e){return e.push(n),n}function WF(n,e){return n.map(e).join("")}var wm=1,Iu=1,yO=0,Ai=0,Sn=0,Fu="";function Cm(n,e,t,i,s,o,u){return{value:n,root:e,parent:t,type:i,props:s,children:o,line:wm,column:Iu,length:u,return:""}}function Hc(n,e){return KF(Cm("",null,null,"",null,null,0),n,{length:-n.length},e)}function XF(){return Sn}function JF(){return Sn=Ai>0?$n(Fu,--Ai):0,Iu--,Sn===10&&(Iu=1,wm--),Sn}function ji(){return Sn=Ai<yO?$n(Fu,Ai++):0,Iu++,Sn===10&&(Iu=1,wm++),Sn}function rs(){return $n(Fu,Ai)}function Gd(){return Ai}function Gh(n,e){return Eh(Fu,n,e)}function Th(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function _O(n){return wm=Iu=1,yO=Gr(Fu=n),Ai=0,[]}function vO(n){return Fu="",n}function Kd(n){return gO(Gh(Ai-1,av(n===91?n+2:n===40?n+1:n)))}function ZF(n){for(;(Sn=rs())&&Sn<33;)ji();return Th(n)>2||Th(Sn)>3?"":" "}function e8(n,e){for(;--e&&ji()&&!(Sn<48||Sn>102||Sn>57&&Sn<65||Sn>70&&Sn<97););return Gh(n,Gd()+(e<6&&rs()==32&&ji()==32))}function av(n){for(;ji();)switch(Sn){case n:return Ai;case 34:case 39:n!==34&&n!==39&&av(Sn);break;case 40:n===41&&av(n);break;case 92:ji();break}return Ai}function t8(n,e){for(;ji()&&n+Sn!==57;)if(n+Sn===84&&rs()===47)break;return"/*"+Gh(e,Ai-1)+"*"+Sm(n===47?n:ji())}function n8(n){for(;!Th(rs());)ji();return Gh(n,Ai)}function i8(n){return vO(Yd("",null,null,null,[""],n=_O(n),0,[0],n))}function Yd(n,e,t,i,s,o,u,f,h){for(var d=0,y=0,_=u,b=0,w=0,I=0,O=1,A=1,U=1,V=0,z="",Q=s,H=o,ie=i,S=z;A;)switch(I=V,V=ji()){case 40:if(I!=108&&$n(S,_-1)==58){sv(S+=Et(Kd(V),"&","&\f"),"&\f")!=-1&&(U=-1);break}case 34:case 39:case 91:S+=Kd(V);break;case 9:case 10:case 13:case 32:S+=ZF(I);break;case 92:S+=e8(Gd()-1,7);continue;case 47:switch(rs()){case 42:case 47:Cd(r8(t8(ji(),Gd()),e,t),h);break;default:S+="/"}break;case 123*O:f[d++]=Gr(S)*U;case 125*O:case 59:case 0:switch(V){case 0:case 125:A=0;case 59+y:U==-1&&(S=Et(S,/\f/g,"")),w>0&&Gr(S)-_&&Cd(w>32?dC(S+";",i,t,_-1):dC(Et(S," ","")+";",i,t,_-2),h);break;case 59:S+=";";default:if(Cd(ie=fC(S,e,t,d,y,s,f,z,Q=[],H=[],_),o),V===123)if(y===0)Yd(S,e,ie,ie,Q,o,_,f,H);else switch(b===99&&$n(S,3)===110?100:b){case 100:case 108:case 109:case 115:Yd(n,ie,ie,i&&Cd(fC(n,ie,ie,0,0,s,f,z,s,Q=[],_),H),s,H,_,f,i?Q:H);break;default:Yd(S,ie,ie,ie,[""],H,0,f,H)}}d=y=w=0,O=U=1,z=S="",_=u;break;case 58:_=1+Gr(S),w=I;default:if(O<1){if(V==123)--O;else if(V==125&&O++==0&&JF()==125)continue}switch(S+=Sm(V),V*O){case 38:U=y>0?1:(S+="\f",-1);break;case 44:f[d++]=(Gr(S)-1)*U,U=1;break;case 64:rs()===45&&(S+=Kd(ji())),b=rs(),y=_=Gr(z=S+=n8(Gd())),V++;break;case 45:I===45&&Gr(S)==2&&(O=0)}}return o}function fC(n,e,t,i,s,o,u,f,h,d,y){for(var _=s-1,b=s===0?o:[""],w=B0(b),I=0,O=0,A=0;I<i;++I)for(var U=0,V=Eh(n,_+1,_=GF(O=u[I])),z=n;U<w;++U)(z=gO(O>0?b[U]+" "+V:Et(V,/&\f/g,b[U])))&&(h[A++]=z);return Cm(n,e,t,s===0?z0:f,h,d,y)}function r8(n,e,t){return Cm(n,e,t,pO,Sm(XF()),Eh(n,2,-2),0)}function dC(n,e,t,i){return Cm(n,e,t,F0,Eh(n,0,i),Eh(n,i+1,-1),i)}function mu(n,e){for(var t="",i=B0(n),s=0;s<i;s++)t+=e(n[s],s,n,e)||"";return t}function s8(n,e,t,i){switch(n.type){case $F:if(n.children.length)break;case qF:case F0:return n.return=n.return||n.value;case pO:return"";case mO:return n.return=n.value+"{"+mu(n.children,i)+"}";case z0:n.value=n.props.join(",")}return Gr(t=mu(n.children,i))?n.return=n.value+"{"+t+"}":""}function a8(n){var e=B0(n);return function(t,i,s,o){for(var u="",f=0;f<e;f++)u+=n[f](t,i,s,o)||"";return u}}function o8(n){return function(e){e.root||(e=e.return)&&n(e)}}function l8(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var u8=function(e,t,i){for(var s=0,o=0;s=o,o=rs(),s===38&&o===12&&(t[i]=1),!Th(o);)ji();return Gh(e,Ai)},c8=function(e,t){var i=-1,s=44;do switch(Th(s)){case 0:s===38&&rs()===12&&(t[i]=1),e[i]+=u8(Ai-1,t,i);break;case 2:e[i]+=Kd(s);break;case 4:if(s===44){e[++i]=rs()===58?"&\f":"",t[i]=e[i].length;break}default:e[i]+=Sm(s)}while(s=ji());return e},h8=function(e,t){return vO(c8(_O(e),t))},pC=new WeakMap,f8=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,i=e.parent,s=e.column===i.column&&e.line===i.line;i.type!=="rule";)if(i=i.parent,!i)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!pC.get(i))&&!s){pC.set(e,!0);for(var o=[],u=h8(t,o),f=i.props,h=0,d=0;h<u.length;h++)for(var y=0;y<f.length;y++,d++)e.props[d]=o[h]?u[h].replace(/&\f/g,f[y]):f[y]+" "+u[h]}}},d8=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function bO(n,e){switch(YF(n,e)){case 5103:return bt+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return bt+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return bt+n+Mp+n+Zn+n+n;case 6828:case 4268:return bt+n+Zn+n+n;case 6165:return bt+n+Zn+"flex-"+n+n;case 5187:return bt+n+Et(n,/(\w+).+(:[^]+)/,bt+"box-$1$2"+Zn+"flex-$1$2")+n;case 5443:return bt+n+Zn+"flex-item-"+Et(n,/flex-|-self/,"")+n;case 4675:return bt+n+Zn+"flex-line-pack"+Et(n,/align-content|flex-|-self/,"")+n;case 5548:return bt+n+Zn+Et(n,"shrink","negative")+n;case 5292:return bt+n+Zn+Et(n,"basis","preferred-size")+n;case 6060:return bt+"box-"+Et(n,"-grow","")+bt+n+Zn+Et(n,"grow","positive")+n;case 4554:return bt+Et(n,/([^-])(transform)/g,"$1"+bt+"$2")+n;case 6187:return Et(Et(Et(n,/(zoom-|grab)/,bt+"$1"),/(image-set)/,bt+"$1"),n,"")+n;case 5495:case 3959:return Et(n,/(image-set\([^]*)/,bt+"$1$`$1");case 4968:return Et(Et(n,/(.+:)(flex-)?(.*)/,bt+"box-pack:$3"+Zn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+bt+n+n;case 4095:case 3583:case 4068:case 2532:return Et(n,/(.+)-inline(.+)/,bt+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Gr(n)-1-e>6)switch($n(n,e+1)){case 109:if($n(n,e+4)!==45)break;case 102:return Et(n,/(.+:)(.+)-([^]+)/,"$1"+bt+"$2-$3$1"+Mp+($n(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~sv(n,"stretch")?bO(Et(n,"stretch","fill-available"),e)+n:n}break;case 4949:if($n(n,e+1)!==115)break;case 6444:switch($n(n,Gr(n)-3-(~sv(n,"!important")&&10))){case 107:return Et(n,":",":"+bt)+n;case 101:return Et(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+bt+($n(n,14)===45?"inline-":"")+"box$3$1"+bt+"$2$3$1"+Zn+"$2box$3")+n}break;case 5936:switch($n(n,e+11)){case 114:return bt+n+Zn+Et(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return bt+n+Zn+Et(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return bt+n+Zn+Et(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return bt+n+Zn+n+n}return n}var p8=function(e,t,i,s){if(e.length>-1&&!e.return)switch(e.type){case F0:e.return=bO(e.value,e.length);break;case mO:return mu([Hc(e,{value:Et(e.value,"@","@"+bt)})],s);case z0:if(e.length)return WF(e.props,function(o){switch(QF(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return mu([Hc(e,{props:[Et(o,/:(read-\w+)/,":"+Mp+"$1")]})],s);case"::placeholder":return mu([Hc(e,{props:[Et(o,/:(plac\w+)/,":"+bt+"input-$1")]}),Hc(e,{props:[Et(o,/:(plac\w+)/,":"+Mp+"$1")]}),Hc(e,{props:[Et(o,/:(plac\w+)/,Zn+"input-$1")]})],s)}return""})}},m8=[p8],g8=function(e){var t=e.key;if(t==="css"){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,function(O){var A=O.getAttribute("data-emotion");A.indexOf(" ")!==-1&&(document.head.appendChild(O),O.setAttribute("data-s",""))})}var s=e.stylisPlugins||m8,o={},u,f=[];u=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(O){for(var A=O.getAttribute("data-emotion").split(" "),U=1;U<A.length;U++)o[A[U]]=!0;f.push(O)});var h,d=[f8,d8];{var y,_=[s8,o8(function(O){y.insert(O)})],b=a8(d.concat(s,_)),w=function(A){return mu(i8(A),b)};h=function(A,U,V,z){y=V,w(A?A+"{"+U.styles+"}":U.styles),z&&(I.inserted[U.name]=!0)}}var I={key:t,sheet:new HF({key:t,container:u,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:h};return I.sheet.hydrate(f),I},Jy={exports:{}},Tt={};var mC;function y8(){if(mC)return Tt;mC=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,o=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,f=n?Symbol.for("react.context"):60110,h=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,y=n?Symbol.for("react.forward_ref"):60112,_=n?Symbol.for("react.suspense"):60113,b=n?Symbol.for("react.suspense_list"):60120,w=n?Symbol.for("react.memo"):60115,I=n?Symbol.for("react.lazy"):60116,O=n?Symbol.for("react.block"):60121,A=n?Symbol.for("react.fundamental"):60117,U=n?Symbol.for("react.responder"):60118,V=n?Symbol.for("react.scope"):60119;function z(H){if(typeof H=="object"&&H!==null){var ie=H.$$typeof;switch(ie){case e:switch(H=H.type,H){case h:case d:case i:case o:case s:case _:return H;default:switch(H=H&&H.$$typeof,H){case f:case y:case I:case w:case u:return H;default:return ie}}case t:return ie}}}function Q(H){return z(H)===d}return Tt.AsyncMode=h,Tt.ConcurrentMode=d,Tt.ContextConsumer=f,Tt.ContextProvider=u,Tt.Element=e,Tt.ForwardRef=y,Tt.Fragment=i,Tt.Lazy=I,Tt.Memo=w,Tt.Portal=t,Tt.Profiler=o,Tt.StrictMode=s,Tt.Suspense=_,Tt.isAsyncMode=function(H){return Q(H)||z(H)===h},Tt.isConcurrentMode=Q,Tt.isContextConsumer=function(H){return z(H)===f},Tt.isContextProvider=function(H){return z(H)===u},Tt.isElement=function(H){return typeof H=="object"&&H!==null&&H.$$typeof===e},Tt.isForwardRef=function(H){return z(H)===y},Tt.isFragment=function(H){return z(H)===i},Tt.isLazy=function(H){return z(H)===I},Tt.isMemo=function(H){return z(H)===w},Tt.isPortal=function(H){return z(H)===t},Tt.isProfiler=function(H){return z(H)===o},Tt.isStrictMode=function(H){return z(H)===s},Tt.isSuspense=function(H){return z(H)===_},Tt.isValidElementType=function(H){return typeof H=="string"||typeof H=="function"||H===i||H===d||H===o||H===s||H===_||H===b||typeof H=="object"&&H!==null&&(H.$$typeof===I||H.$$typeof===w||H.$$typeof===u||H.$$typeof===f||H.$$typeof===y||H.$$typeof===A||H.$$typeof===U||H.$$typeof===V||H.$$typeof===O)},Tt.typeOf=z,Tt}var gC;function _8(){return gC||(gC=1,Jy.exports=y8()),Jy.exports}var Zy,yC;function v8(){if(yC)return Zy;yC=1;var n=_8(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};o[n.ForwardRef]=i,o[n.Memo]=s;function u(I){return n.isMemo(I)?s:o[I.$$typeof]||e}var f=Object.defineProperty,h=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,y=Object.getOwnPropertyDescriptor,_=Object.getPrototypeOf,b=Object.prototype;function w(I,O,A){if(typeof O!="string"){if(b){var U=_(O);U&&U!==b&&w(I,U,A)}var V=h(O);d&&(V=V.concat(d(O)));for(var z=u(I),Q=u(O),H=0;H<V.length;++H){var ie=V[H];if(!t[ie]&&!(A&&A[ie])&&!(Q&&Q[ie])&&!(z&&z[ie])){var S=y(O,ie);try{f(I,ie,S)}catch{}}}}return I}return Zy=w,Zy}v8();var b8=!0;function E8(n,e,t){var i="";return t.split(" ").forEach(function(s){n[s]!==void 0?e.push(n[s]+";"):s&&(i+=s+" ")}),i}var EO=function(e,t,i){var s=e.key+"-"+t.name;(i===!1||b8===!1)&&e.registered[s]===void 0&&(e.registered[s]=t.styles)},T8=function(e,t,i){EO(e,t,i);var s=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var o=t;do e.insert(t===o?"."+s:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function S8(n){for(var e=0,t,i=0,s=n.length;s>=4;++i,s-=4)t=n.charCodeAt(i)&255|(n.charCodeAt(++i)&255)<<8|(n.charCodeAt(++i)&255)<<16|(n.charCodeAt(++i)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(n.charCodeAt(i+2)&255)<<16;case 2:e^=(n.charCodeAt(i+1)&255)<<8;case 1:e^=n.charCodeAt(i)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var w8={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},C8=/[A-Z]|^ms/g,R8=/_EMO_([^_]+?)_([^]*?)_EMO_/g,TO=function(e){return e.charCodeAt(1)===45},_C=function(e){return e!=null&&typeof e!="boolean"},e_=l8(function(n){return TO(n)?n:n.replace(C8,"-$&").toLowerCase()}),vC=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(R8,function(i,s,o){return Kr={name:s,styles:o,next:Kr},s})}return w8[e]!==1&&!TO(e)&&typeof t=="number"&&t!==0?t+"px":t};function Sh(n,e,t){if(t==null)return"";var i=t;if(i.__emotion_styles!==void 0)return i;switch(typeof t){case"boolean":return"";case"object":{var s=t;if(s.anim===1)return Kr={name:s.name,styles:s.styles,next:Kr},s.name;var o=t;if(o.styles!==void 0){var u=o.next;if(u!==void 0)for(;u!==void 0;)Kr={name:u.name,styles:u.styles,next:Kr},u=u.next;var f=o.styles+";";return f}return A8(n,e,t)}case"function":{if(n!==void 0){var h=Kr,d=t(n);return Kr=h,Sh(n,e,d)}break}}var y=t;return y}function A8(n,e,t){var i="";if(Array.isArray(t))for(var s=0;s<t.length;s++)i+=Sh(n,e,t[s])+";";else for(var o in t){var u=t[o];if(typeof u!="object"){var f=u;_C(f)&&(i+=e_(o)+":"+vC(o,f)+";")}else if(Array.isArray(u)&&typeof u[0]=="string"&&e==null)for(var h=0;h<u.length;h++)_C(u[h])&&(i+=e_(o)+":"+vC(o,u[h])+";");else{var d=Sh(n,e,u);switch(o){case"animation":case"animationName":{i+=e_(o)+":"+d+";";break}default:i+=o+"{"+d+"}"}}}return i}var bC=/label:\s*([^\s;{]+)\s*(;|$)/g,Kr;function SO(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var i=!0,s="";Kr=void 0;var o=n[0];if(o==null||o.raw===void 0)i=!1,s+=Sh(t,e,o);else{var u=o;s+=u[0]}for(var f=1;f<n.length;f++)if(s+=Sh(t,e,n[f]),i){var h=o;s+=h[f]}bC.lastIndex=0;for(var d="",y;(y=bC.exec(s))!==null;)d+="-"+y[1];var _=S8(s)+d;return{name:_,styles:s,next:Kr}}var I8=function(e){return e()},O8=vS.useInsertionEffect?vS.useInsertionEffect:!1,D8=O8||I8,wO=k.createContext(typeof HTMLElement<"u"?g8({key:"css"}):null);wO.Provider;var N8=function(e){return k.forwardRef(function(t,i){var s=k.useContext(wO);return e(t,s,i)})},M8=k.createContext({}),j0={}.hasOwnProperty,ov="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",x8=function(e,t){var i={};for(var s in t)j0.call(t,s)&&(i[s]=t[s]);return i[ov]=e,i},P8=function(e){var t=e.cache,i=e.serialized,s=e.isStringTag;return EO(t,i,s),D8(function(){return T8(t,i,s)}),null},k8=N8(function(n,e,t){var i=n.css;typeof i=="string"&&e.registered[i]!==void 0&&(i=e.registered[i]);var s=n[ov],o=[i],u="";typeof n.className=="string"?u=E8(e.registered,o,n.className):n.className!=null&&(u=n.className+" ");var f=SO(o,void 0,k.useContext(M8));u+=e.key+"-"+f.name;var h={};for(var d in n)j0.call(n,d)&&d!=="css"&&d!==ov&&(h[d]=n[d]);return h.className=u,t&&(h.ref=t),k.createElement(k.Fragment,null,k.createElement(P8,{cache:e,serialized:f,isStringTag:typeof s=="string"}),k.createElement(s,h))}),L8=k8,Le=function(e,t){var i=arguments;if(t==null||!j0.call(t,"css"))return k.createElement.apply(void 0,i);var s=i.length,o=new Array(s);o[0]=L8,o[1]=x8(e,t);for(var u=2;u<s;u++)o[u]=i[u];return k.createElement.apply(null,o)};(function(n){var e;e||(e=n.JSX||(n.JSX={}))})(Le||(Le={}));function H0(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return SO(e)}function V8(){var n=H0.apply(void 0,arguments),e="animation-"+n.name;return{name:e,styles:"@keyframes "+e+"{"+n.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function U8(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}const z8=Math.min,F8=Math.max,xp=Math.round,Rd=Math.floor,Pp=n=>({x:n,y:n});function B8(n){const{x:e,y:t,width:i,height:s}=n;return{width:i,height:s,top:t,left:e,right:e+i,bottom:t+s,x:e,y:t}}function Rm(){return typeof window<"u"}function CO(n){return AO(n)?(n.nodeName||"").toLowerCase():"#document"}function ia(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function RO(n){var e;return(e=(AO(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function AO(n){return Rm()?n instanceof Node||n instanceof ia(n).Node:!1}function j8(n){return Rm()?n instanceof Element||n instanceof ia(n).Element:!1}function q0(n){return Rm()?n instanceof HTMLElement||n instanceof ia(n).HTMLElement:!1}function EC(n){return!Rm()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof ia(n).ShadowRoot}const H8=new Set(["inline","contents"]);function IO(n){const{overflow:e,overflowX:t,overflowY:i,display:s}=$0(n);return/auto|scroll|overlay|hidden|clip/.test(e+i+t)&&!H8.has(s)}function q8(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const $8=new Set(["html","body","#document"]);function G8(n){return $8.has(CO(n))}function $0(n){return ia(n).getComputedStyle(n)}function K8(n){if(CO(n)==="html")return n;const e=n.assignedSlot||n.parentNode||EC(n)&&n.host||RO(n);return EC(e)?e.host:e}function OO(n){const e=K8(n);return G8(e)?n.ownerDocument?n.ownerDocument.body:n.body:q0(e)&&IO(e)?e:OO(e)}function kp(n,e,t){var i;e===void 0&&(e=[]),t===void 0&&(t=!0);const s=OO(n),o=s===((i=n.ownerDocument)==null?void 0:i.body),u=ia(s);if(o){const f=lv(u);return e.concat(u,u.visualViewport||[],IO(s)?s:[],f&&t?kp(f):[])}return e.concat(s,kp(s,[],t))}function lv(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function Y8(n){const e=$0(n);let t=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const s=q0(n),o=s?n.offsetWidth:t,u=s?n.offsetHeight:i,f=xp(t)!==o||xp(i)!==u;return f&&(t=o,i=u),{width:t,height:i,$:f}}function G0(n){return j8(n)?n:n.contextElement}function TC(n){const e=G0(n);if(!q0(e))return Pp(1);const t=e.getBoundingClientRect(),{width:i,height:s,$:o}=Y8(e);let u=(o?xp(t.width):t.width)/i,f=(o?xp(t.height):t.height)/s;return(!u||!Number.isFinite(u))&&(u=1),(!f||!Number.isFinite(f))&&(f=1),{x:u,y:f}}const Q8=Pp(0);function W8(n){const e=ia(n);return!q8()||!e.visualViewport?Q8:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function X8(n,e,t){return!1}function SC(n,e,t,i){e===void 0&&(e=!1);const s=n.getBoundingClientRect(),o=G0(n);let u=Pp(1);e&&(u=TC(n));const f=X8()?W8(o):Pp(0);let h=(s.left+f.x)/u.x,d=(s.top+f.y)/u.y,y=s.width/u.x,_=s.height/u.y;if(o){const b=ia(o),w=i;let I=b,O=lv(I);for(;O&&i&&w!==I;){const A=TC(O),U=O.getBoundingClientRect(),V=$0(O),z=U.left+(O.clientLeft+parseFloat(V.paddingLeft))*A.x,Q=U.top+(O.clientTop+parseFloat(V.paddingTop))*A.y;h*=A.x,d*=A.y,y*=A.x,_*=A.y,h+=z,d+=Q,I=ia(O),O=lv(I)}}return B8({width:y,height:_,x:h,y:d})}function DO(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function J8(n,e){let t=null,i;const s=RO(n);function o(){var f;clearTimeout(i),(f=t)==null||f.disconnect(),t=null}function u(f,h){f===void 0&&(f=!1),h===void 0&&(h=1),o();const d=n.getBoundingClientRect(),{left:y,top:_,width:b,height:w}=d;if(f||e(),!b||!w)return;const I=Rd(_),O=Rd(s.clientWidth-(y+b)),A=Rd(s.clientHeight-(_+w)),U=Rd(y),z={rootMargin:-I+"px "+-O+"px "+-A+"px "+-U+"px",threshold:F8(0,z8(1,h))||1};let Q=!0;function H(ie){const S=ie[0].intersectionRatio;if(S!==h){if(!Q)return u();S?u(!1,S):i=setTimeout(()=>{u(!1,1e-7)},1e3)}S===1&&!DO(d,n.getBoundingClientRect())&&u(),Q=!1}try{t=new IntersectionObserver(H,{...z,root:s.ownerDocument})}catch{t=new IntersectionObserver(H,z)}t.observe(n)}return u(!0),o}function Z8(n,e,t,i){i===void 0&&(i={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:h=!1}=i,d=G0(n),y=s||o?[...d?kp(d):[],...kp(e)]:[];y.forEach(U=>{s&&U.addEventListener("scroll",t,{passive:!0}),o&&U.addEventListener("resize",t)});const _=d&&f?J8(d,t):null;let b=-1,w=null;u&&(w=new ResizeObserver(U=>{let[V]=U;V&&V.target===d&&w&&(w.unobserve(e),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var z;(z=w)==null||z.observe(e)})),t()}),d&&!h&&w.observe(d),w.observe(e));let I,O=h?SC(n):null;h&&A();function A(){const U=SC(n);O&&!DO(O,U)&&t(),O=U,I=requestAnimationFrame(A)}return t(),()=>{var U;y.forEach(V=>{s&&V.removeEventListener("scroll",t),o&&V.removeEventListener("resize",t)}),_?.(),(U=w)==null||U.disconnect(),w=null,h&&cancelAnimationFrame(I)}}var uv=k.useLayoutEffect,eB=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Lp=function(){};function tB(n,e){return e?e[0]==="-"?n+e:n+"__"+e:n}function nB(n,e){for(var t=arguments.length,i=new Array(t>2?t-2:0),s=2;s<t;s++)i[s-2]=arguments[s];var o=[].concat(i);if(e&&n)for(var u in e)e.hasOwnProperty(u)&&e[u]&&o.push("".concat(tB(n,u)));return o.filter(function(f){return f}).map(function(f){return String(f).trim()}).join(" ")}var wC=function(e){return hB(e)?e.filter(Boolean):rl(e)==="object"&&e!==null?[e]:[]},NO=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var t=aa(e,eB);return ze({},t)},sn=function(e,t,i){var s=e.cx,o=e.getStyles,u=e.getClassNames,f=e.className;return{css:o(t,e),className:s(i??{},u(t,e),f)}};function Am(n){return[document.documentElement,document.body,window].indexOf(n)>-1}function iB(n){return Am(n)?window.innerHeight:n.clientHeight}function MO(n){return Am(n)?window.pageYOffset:n.scrollTop}function Vp(n,e){if(Am(n)){window.scrollTo(0,e);return}n.scrollTop=e}function rB(n){var e=getComputedStyle(n),t=e.position==="absolute",i=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var s=n;s=s.parentElement;)if(e=getComputedStyle(s),!(t&&e.position==="static")&&i.test(e.overflow+e.overflowY+e.overflowX))return s;return document.documentElement}function sB(n,e,t,i){return t*((n=n/i-1)*n*n+1)+e}function Ad(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Lp,s=MO(n),o=e-s,u=10,f=0;function h(){f+=u;var d=sB(f,s,o,t);Vp(n,d),f<t?window.requestAnimationFrame(h):i(n)}h()}function CC(n,e){var t=n.getBoundingClientRect(),i=e.getBoundingClientRect(),s=e.offsetHeight/3;i.bottom+s>t.bottom?Vp(n,Math.min(e.offsetTop+e.clientHeight-n.offsetHeight+s,n.scrollHeight)):i.top-s<t.top&&Vp(n,Math.max(e.offsetTop-s,0))}function aB(n){var e=n.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function RC(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function oB(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var xO=!1,lB={get passive(){return xO=!0}},Id=typeof window<"u"?window:{};Id.addEventListener&&Id.removeEventListener&&(Id.addEventListener("p",Lp,lB),Id.removeEventListener("p",Lp,!1));var uB=xO;function cB(n){return n!=null}function hB(n){return Array.isArray(n)}function Od(n,e,t){return n?e:t}var fB=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),s=1;s<t;s++)i[s-1]=arguments[s];var o=Object.entries(e).filter(function(u){var f=Ys(u,1),h=f[0];return!i.includes(h)});return o.reduce(function(u,f){var h=Ys(f,2),d=h[0],y=h[1];return u[d]=y,u},{})},dB=["children","innerProps"],pB=["children","innerProps"];function mB(n){var e=n.maxHeight,t=n.menuEl,i=n.minHeight,s=n.placement,o=n.shouldScroll,u=n.isFixedPosition,f=n.controlHeight,h=rB(t),d={placement:"bottom",maxHeight:e};if(!t||!t.offsetParent)return d;var y=h.getBoundingClientRect(),_=y.height,b=t.getBoundingClientRect(),w=b.bottom,I=b.height,O=b.top,A=t.offsetParent.getBoundingClientRect(),U=A.top,V=u?window.innerHeight:iB(h),z=MO(h),Q=parseInt(getComputedStyle(t).marginBottom,10),H=parseInt(getComputedStyle(t).marginTop,10),ie=U-H,S=V-O,C=ie+z,x=_-z-O,N=w-V+z+Q,L=z+O-H,P=160;switch(s){case"auto":case"bottom":if(S>=I)return{placement:"bottom",maxHeight:e};if(x>=I&&!u)return o&&Ad(h,N,P),{placement:"bottom",maxHeight:e};if(!u&&x>=i||u&&S>=i){o&&Ad(h,N,P);var M=u?S-Q:x-Q;return{placement:"bottom",maxHeight:M}}if(s==="auto"||u){var ye=e,ne=u?ie:C;return ne>=i&&(ye=Math.min(ne-Q-f,e)),{placement:"top",maxHeight:ye}}if(s==="bottom")return o&&Vp(h,N),{placement:"bottom",maxHeight:e};break;case"top":if(ie>=I)return{placement:"top",maxHeight:e};if(C>=I&&!u)return o&&Ad(h,L,P),{placement:"top",maxHeight:e};if(!u&&C>=i||u&&ie>=i){var $=e;return(!u&&C>=i||u&&ie>=i)&&($=u?ie-H:C-H),o&&Ad(h,L,P),{placement:"top",maxHeight:$}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(s,'".'))}return d}function gB(n){var e={bottom:"top",top:"bottom"};return n?e[n]:"bottom"}var PO=function(e){return e==="auto"?"bottom":e},yB=function(e,t){var i,s=e.placement,o=e.theme,u=o.borderRadius,f=o.spacing,h=o.colors;return ze((i={label:"menu"},Wc(i,gB(s),"100%"),Wc(i,"position","absolute"),Wc(i,"width","100%"),Wc(i,"zIndex",1),i),t?{}:{backgroundColor:h.neutral0,borderRadius:u,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:f.menuGutter,marginTop:f.menuGutter})},kO=k.createContext(null),_B=function(e){var t=e.children,i=e.minMenuHeight,s=e.maxMenuHeight,o=e.menuPlacement,u=e.menuPosition,f=e.menuShouldScrollIntoView,h=e.theme,d=k.useContext(kO)||{},y=d.setPortalPlacement,_=k.useRef(null),b=k.useState(s),w=Ys(b,2),I=w[0],O=w[1],A=k.useState(null),U=Ys(A,2),V=U[0],z=U[1],Q=h.spacing.controlHeight;return uv(function(){var H=_.current;if(H){var ie=u==="fixed",S=f&&!ie,C=mB({maxHeight:s,menuEl:H,minHeight:i,placement:o,shouldScroll:S,isFixedPosition:ie,controlHeight:Q});O(C.maxHeight),z(C.placement),y?.(C.placement)}},[s,o,u,f,i,y,Q]),t({ref:_,placerProps:ze(ze({},e),{},{placement:V||PO(o),maxHeight:I})})},vB=function(e){var t=e.children,i=e.innerRef,s=e.innerProps;return Le("div",Be({},sn(e,"menu",{menu:!0}),{ref:i},s),t)},bB=vB,EB=function(e,t){var i=e.maxHeight,s=e.theme.spacing.baseUnit;return ze({maxHeight:i,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},t?{}:{paddingBottom:s,paddingTop:s})},TB=function(e){var t=e.children,i=e.innerProps,s=e.innerRef,o=e.isMulti;return Le("div",Be({},sn(e,"menuList",{"menu-list":!0,"menu-list--is-multi":o}),{ref:s},i),t)},LO=function(e,t){var i=e.theme,s=i.spacing.baseUnit,o=i.colors;return ze({textAlign:"center"},t?{}:{color:o.neutral40,padding:"".concat(s*2,"px ").concat(s*3,"px")})},SB=LO,wB=LO,CB=function(e){var t=e.children,i=t===void 0?"No options":t,s=e.innerProps,o=aa(e,dB);return Le("div",Be({},sn(ze(ze({},o),{},{children:i,innerProps:s}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),s),i)},RB=function(e){var t=e.children,i=t===void 0?"Loading...":t,s=e.innerProps,o=aa(e,pB);return Le("div",Be({},sn(ze(ze({},o),{},{children:i,innerProps:s}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),s),i)},AB=function(e){var t=e.rect,i=e.offset,s=e.position;return{left:t.left,position:s,top:i,width:t.width,zIndex:1}},IB=function(e){var t=e.appendTo,i=e.children,s=e.controlElement,o=e.innerProps,u=e.menuPlacement,f=e.menuPosition,h=k.useRef(null),d=k.useRef(null),y=k.useState(PO(u)),_=Ys(y,2),b=_[0],w=_[1],I=k.useMemo(function(){return{setPortalPlacement:w}},[]),O=k.useState(null),A=Ys(O,2),U=A[0],V=A[1],z=k.useCallback(function(){if(s){var S=aB(s),C=f==="fixed"?0:window.pageYOffset,x=S[b]+C;(x!==U?.offset||S.left!==U?.rect.left||S.width!==U?.rect.width)&&V({offset:x,rect:S})}},[s,f,b,U?.offset,U?.rect.left,U?.rect.width]);uv(function(){z()},[z]);var Q=k.useCallback(function(){typeof d.current=="function"&&(d.current(),d.current=null),s&&h.current&&(d.current=Z8(s,h.current,z,{elementResize:"ResizeObserver"in window}))},[s,z]);uv(function(){Q()},[Q]);var H=k.useCallback(function(S){h.current=S,Q()},[Q]);if(!t&&f!=="fixed"||!U)return null;var ie=Le("div",Be({ref:H},sn(ze(ze({},e),{},{offset:U.offset,position:f,rect:U.rect}),"menuPortal",{"menu-portal":!0}),o),i);return Le(kO.Provider,{value:I},t?mR.createPortal(ie,t):ie)},OB=function(e){var t=e.isDisabled,i=e.isRtl;return{label:"container",direction:i?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},DB=function(e){var t=e.children,i=e.innerProps,s=e.isDisabled,o=e.isRtl;return Le("div",Be({},sn(e,"container",{"--is-disabled":s,"--is-rtl":o}),i),t)},NB=function(e,t){var i=e.theme.spacing,s=e.isMulti,o=e.hasValue,u=e.selectProps.controlShouldRenderValue;return ze({alignItems:"center",display:s&&o&&u?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},t?{}:{padding:"".concat(i.baseUnit/2,"px ").concat(i.baseUnit*2,"px")})},MB=function(e){var t=e.children,i=e.innerProps,s=e.isMulti,o=e.hasValue;return Le("div",Be({},sn(e,"valueContainer",{"value-container":!0,"value-container--is-multi":s,"value-container--has-value":o}),i),t)},xB=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},PB=function(e){var t=e.children,i=e.innerProps;return Le("div",Be({},sn(e,"indicatorsContainer",{indicators:!0}),i),t)},AC,kB=["size"],LB=["innerProps","isRtl","size"],VB={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},VO=function(e){var t=e.size,i=aa(e,kB);return Le("svg",Be({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:VB},i))},K0=function(e){return Le(VO,Be({size:20},e),Le("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},UO=function(e){return Le(VO,Be({size:20},e),Le("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},zO=function(e,t){var i=e.isFocused,s=e.theme,o=s.spacing.baseUnit,u=s.colors;return ze({label:"indicatorContainer",display:"flex",transition:"color 150ms"},t?{}:{color:i?u.neutral60:u.neutral20,padding:o*2,":hover":{color:i?u.neutral80:u.neutral40}})},UB=zO,zB=function(e){var t=e.children,i=e.innerProps;return Le("div",Be({},sn(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),i),t||Le(UO,null))},FB=zO,BB=function(e){var t=e.children,i=e.innerProps;return Le("div",Be({},sn(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),i),t||Le(K0,null))},jB=function(e,t){var i=e.isDisabled,s=e.theme,o=s.spacing.baseUnit,u=s.colors;return ze({label:"indicatorSeparator",alignSelf:"stretch",width:1},t?{}:{backgroundColor:i?u.neutral10:u.neutral20,marginBottom:o*2,marginTop:o*2})},HB=function(e){var t=e.innerProps;return Le("span",Be({},t,sn(e,"indicatorSeparator",{"indicator-separator":!0})))},qB=V8(AC||(AC=U8([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),$B=function(e,t){var i=e.isFocused,s=e.size,o=e.theme,u=o.colors,f=o.spacing.baseUnit;return ze({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:s,lineHeight:1,marginRight:s,textAlign:"center",verticalAlign:"middle"},t?{}:{color:i?u.neutral60:u.neutral20,padding:f*2})},t_=function(e){var t=e.delay,i=e.offset;return Le("span",{css:H0({animation:"".concat(qB," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:i?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},GB=function(e){var t=e.innerProps,i=e.isRtl,s=e.size,o=s===void 0?4:s,u=aa(e,LB);return Le("div",Be({},sn(ze(ze({},u),{},{innerProps:t,isRtl:i,size:o}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),t),Le(t_,{delay:0,offset:i}),Le(t_,{delay:160,offset:!0}),Le(t_,{delay:320,offset:!i}))},KB=function(e,t){var i=e.isDisabled,s=e.isFocused,o=e.theme,u=o.colors,f=o.borderRadius,h=o.spacing;return ze({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:h.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},t?{}:{backgroundColor:i?u.neutral5:u.neutral0,borderColor:i?u.neutral10:s?u.primary:u.neutral20,borderRadius:f,borderStyle:"solid",borderWidth:1,boxShadow:s?"0 0 0 1px ".concat(u.primary):void 0,"&:hover":{borderColor:s?u.primary:u.neutral30}})},YB=function(e){var t=e.children,i=e.isDisabled,s=e.isFocused,o=e.innerRef,u=e.innerProps,f=e.menuIsOpen;return Le("div",Be({ref:o},sn(e,"control",{control:!0,"control--is-disabled":i,"control--is-focused":s,"control--menu-is-open":f}),u,{"aria-disabled":i||void 0}),t)},QB=YB,WB=["data"],XB=function(e,t){var i=e.theme.spacing;return t?{}:{paddingBottom:i.baseUnit*2,paddingTop:i.baseUnit*2}},JB=function(e){var t=e.children,i=e.cx,s=e.getStyles,o=e.getClassNames,u=e.Heading,f=e.headingProps,h=e.innerProps,d=e.label,y=e.theme,_=e.selectProps;return Le("div",Be({},sn(e,"group",{group:!0}),h),Le(u,Be({},f,{selectProps:_,theme:y,getStyles:s,getClassNames:o,cx:i}),d),Le("div",null,t))},ZB=function(e,t){var i=e.theme,s=i.colors,o=i.spacing;return ze({label:"group",cursor:"default",display:"block"},t?{}:{color:s.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:o.baseUnit*3,paddingRight:o.baseUnit*3,textTransform:"uppercase"})},ej=function(e){var t=NO(e);t.data;var i=aa(t,WB);return Le("div",Be({},sn(e,"groupHeading",{"group-heading":!0}),i))},tj=JB,nj=["innerRef","isDisabled","isHidden","inputClassName"],ij=function(e,t){var i=e.isDisabled,s=e.value,o=e.theme,u=o.spacing,f=o.colors;return ze(ze({visibility:i?"hidden":"visible",transform:s?"translateZ(0)":""},rj),t?{}:{margin:u.baseUnit/2,paddingBottom:u.baseUnit/2,paddingTop:u.baseUnit/2,color:f.neutral80})},FO={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},rj={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":ze({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},FO)},sj=function(e){return ze({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},FO)},aj=function(e){var t=e.cx,i=e.value,s=NO(e),o=s.innerRef,u=s.isDisabled,f=s.isHidden,h=s.inputClassName,d=aa(s,nj);return Le("div",Be({},sn(e,"input",{"input-container":!0}),{"data-value":i||""}),Le("input",Be({className:t({input:!0},h),ref:o,style:sj(f),disabled:u},d)))},oj=aj,lj=function(e,t){var i=e.theme,s=i.spacing,o=i.borderRadius,u=i.colors;return ze({label:"multiValue",display:"flex",minWidth:0},t?{}:{backgroundColor:u.neutral10,borderRadius:o/2,margin:s.baseUnit/2})},uj=function(e,t){var i=e.theme,s=i.borderRadius,o=i.colors,u=e.cropWithEllipsis;return ze({overflow:"hidden",textOverflow:u||u===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},t?{}:{borderRadius:s/2,color:o.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},cj=function(e,t){var i=e.theme,s=i.spacing,o=i.borderRadius,u=i.colors,f=e.isFocused;return ze({alignItems:"center",display:"flex"},t?{}:{borderRadius:o/2,backgroundColor:f?u.dangerLight:void 0,paddingLeft:s.baseUnit,paddingRight:s.baseUnit,":hover":{backgroundColor:u.dangerLight,color:u.danger}})},BO=function(e){var t=e.children,i=e.innerProps;return Le("div",i,t)},hj=BO,fj=BO;function dj(n){var e=n.children,t=n.innerProps;return Le("div",Be({role:"button"},t),e||Le(K0,{size:14}))}var pj=function(e){var t=e.children,i=e.components,s=e.data,o=e.innerProps,u=e.isDisabled,f=e.removeProps,h=e.selectProps,d=i.Container,y=i.Label,_=i.Remove;return Le(d,{data:s,innerProps:ze(ze({},sn(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":u})),o),selectProps:h},Le(y,{data:s,innerProps:ze({},sn(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:h},t),Le(_,{data:s,innerProps:ze(ze({},sn(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(t||"option")},f),selectProps:h}))},mj=pj,gj=function(e,t){var i=e.isDisabled,s=e.isFocused,o=e.isSelected,u=e.theme,f=u.spacing,h=u.colors;return ze({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},t?{}:{backgroundColor:o?h.primary:s?h.primary25:"transparent",color:i?h.neutral20:o?h.neutral0:"inherit",padding:"".concat(f.baseUnit*2,"px ").concat(f.baseUnit*3,"px"),":active":{backgroundColor:i?void 0:o?h.primary:h.primary50}})},yj=function(e){var t=e.children,i=e.isDisabled,s=e.isFocused,o=e.isSelected,u=e.innerRef,f=e.innerProps;return Le("div",Be({},sn(e,"option",{option:!0,"option--is-disabled":i,"option--is-focused":s,"option--is-selected":o}),{ref:u,"aria-disabled":i},f),t)},_j=yj,vj=function(e,t){var i=e.theme,s=i.spacing,o=i.colors;return ze({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},t?{}:{color:o.neutral50,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},bj=function(e){var t=e.children,i=e.innerProps;return Le("div",Be({},sn(e,"placeholder",{placeholder:!0}),i),t)},Ej=bj,Tj=function(e,t){var i=e.isDisabled,s=e.theme,o=s.spacing,u=s.colors;return ze({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t?{}:{color:i?u.neutral40:u.neutral80,marginLeft:o.baseUnit/2,marginRight:o.baseUnit/2})},Sj=function(e){var t=e.children,i=e.isDisabled,s=e.innerProps;return Le("div",Be({},sn(e,"singleValue",{"single-value":!0,"single-value--is-disabled":i}),s),t)},wj=Sj,Cj={ClearIndicator:BB,Control:QB,DropdownIndicator:zB,DownChevron:UO,CrossIcon:K0,Group:tj,GroupHeading:ej,IndicatorsContainer:PB,IndicatorSeparator:HB,Input:oj,LoadingIndicator:GB,Menu:bB,MenuList:TB,MenuPortal:IB,LoadingMessage:RB,NoOptionsMessage:CB,MultiValue:mj,MultiValueContainer:hj,MultiValueLabel:fj,MultiValueRemove:dj,Option:_j,Placeholder:Ej,SelectContainer:DB,SingleValue:wj,ValueContainer:MB},Rj=function(e){return ze(ze({},Cj),e.components)},IC=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function Aj(n,e){return!!(n===e||IC(n)&&IC(e))}function Ij(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(!Aj(n[t],e[t]))return!1;return!0}function Oj(n,e){e===void 0&&(e=Ij);var t=null;function i(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];if(t&&t.lastThis===this&&e(s,t.lastArgs))return t.lastResult;var u=n.apply(this,s);return t={lastResult:u,lastArgs:s,lastThis:this},u}return i.clear=function(){t=null},i}var Dj={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},Nj=function(e){return Le("span",Be({css:Dj},e))},OC=Nj,Mj={guidance:function(e){var t=e.isSearchable,i=e.isMulti,s=e.tabSelectsValue,o=e.context,u=e.isInitialFocus;switch(o){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(s?", press Tab to select the option and exit the menu":"",".");case"input":return u?"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(i?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,i=e.label,s=i===void 0?"":i,o=e.labels,u=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(s,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(o.length>1?"s":""," ").concat(o.join(","),", selected.");case"select-option":return u?"option ".concat(s," is disabled. Select another option."):"option ".concat(s,", selected.");default:return""}},onFocus:function(e){var t=e.context,i=e.focused,s=e.options,o=e.label,u=o===void 0?"":o,f=e.selectValue,h=e.isDisabled,d=e.isSelected,y=e.isAppleDevice,_=function(O,A){return O&&O.length?"".concat(O.indexOf(A)+1," of ").concat(O.length):""};if(t==="value"&&f)return"value ".concat(u," focused, ").concat(_(f,i),".");if(t==="menu"&&y){var b=h?" disabled":"",w="".concat(d?" selected":"").concat(b);return"".concat(u).concat(w,", ").concat(_(s,i),".")}return""},onFilter:function(e){var t=e.inputValue,i=e.resultsMessage;return"".concat(i).concat(t?" for search term "+t:"",".")}},xj=function(e){var t=e.ariaSelection,i=e.focusedOption,s=e.focusedValue,o=e.focusableOptions,u=e.isFocused,f=e.selectValue,h=e.selectProps,d=e.id,y=e.isAppleDevice,_=h.ariaLiveMessages,b=h.getOptionLabel,w=h.inputValue,I=h.isMulti,O=h.isOptionDisabled,A=h.isSearchable,U=h.menuIsOpen,V=h.options,z=h.screenReaderStatus,Q=h.tabSelectsValue,H=h.isLoading,ie=h["aria-label"],S=h["aria-live"],C=k.useMemo(function(){return ze(ze({},Mj),_||{})},[_]),x=k.useMemo(function(){var ne="";if(t&&C.onChange){var $=t.option,ee=t.options,me=t.removedValue,De=t.removedValues,Ve=t.value,j=function(gt){return Array.isArray(gt)?null:gt},J=me||$||j(Ve),he=J?b(J):"",le=ee||De||void 0,ge=le?le.map(b):[],Se=ze({isDisabled:J&&O(J,f),label:he,labels:ge},t);ne=C.onChange(Se)}return ne},[t,C,O,f,b]),N=k.useMemo(function(){var ne="",$=i||s,ee=!!(i&&f&&f.includes(i));if($&&C.onFocus){var me={focused:$,label:b($),isDisabled:O($,f),isSelected:ee,options:o,context:$===i?"menu":"value",selectValue:f,isAppleDevice:y};ne=C.onFocus(me)}return ne},[i,s,b,O,C,o,f,y]),L=k.useMemo(function(){var ne="";if(U&&V.length&&!H&&C.onFilter){var $=z({count:o.length});ne=C.onFilter({inputValue:w,resultsMessage:$})}return ne},[o,w,U,C,V,z,H]),P=t?.action==="initial-input-focus",M=k.useMemo(function(){var ne="";if(C.guidance){var $=s?"value":U?"menu":"input";ne=C.guidance({"aria-label":ie,context:$,isDisabled:i&&O(i,f),isMulti:I,isSearchable:A,tabSelectsValue:Q,isInitialFocus:P})}return ne},[ie,i,s,I,O,A,U,C,f,Q,P]),ye=Le(k.Fragment,null,Le("span",{id:"aria-selection"},x),Le("span",{id:"aria-focused"},N),Le("span",{id:"aria-results"},L),Le("span",{id:"aria-guidance"},M));return Le(k.Fragment,null,Le(OC,{id:d},P&&ye),Le(OC,{"aria-live":S,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},u&&!P&&ye))},Pj=xj,cv=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],kj=new RegExp("["+cv.map(function(n){return n.letters}).join("")+"]","g"),jO={};for(var n_=0;n_<cv.length;n_++)for(var i_=cv[n_],r_=0;r_<i_.letters.length;r_++)jO[i_.letters[r_]]=i_.base;var HO=function(e){return e.replace(kj,function(t){return jO[t]})},Lj=Oj(HO),DC=function(e){return e.replace(/^\s+|\s+$/g,"")},Vj=function(e){return"".concat(e.label," ").concat(e.value)},Uj=function(e){return function(t,i){if(t.data.__isNew__)return!0;var s=ze({ignoreCase:!0,ignoreAccents:!0,stringify:Vj,trim:!0,matchFrom:"any"},e),o=s.ignoreCase,u=s.ignoreAccents,f=s.stringify,h=s.trim,d=s.matchFrom,y=h?DC(i):i,_=h?DC(f(t)):f(t);return o&&(y=y.toLowerCase(),_=_.toLowerCase()),u&&(y=Lj(y),_=HO(_)),d==="start"?_.substr(0,y.length)===y:_.indexOf(y)>-1}},zj=["innerRef"];function Fj(n){var e=n.innerRef,t=aa(n,zj),i=fB(t,"onExited","in","enter","exit","appear");return Le("input",Be({ref:e},i,{css:H0({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var Bj=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function jj(n){var e=n.isEnabled,t=n.onBottomArrive,i=n.onBottomLeave,s=n.onTopArrive,o=n.onTopLeave,u=k.useRef(!1),f=k.useRef(!1),h=k.useRef(0),d=k.useRef(null),y=k.useCallback(function(A,U){if(d.current!==null){var V=d.current,z=V.scrollTop,Q=V.scrollHeight,H=V.clientHeight,ie=d.current,S=U>0,C=Q-H-z,x=!1;C>U&&u.current&&(i&&i(A),u.current=!1),S&&f.current&&(o&&o(A),f.current=!1),S&&U>C?(t&&!u.current&&t(A),ie.scrollTop=Q,x=!0,u.current=!0):!S&&-U>z&&(s&&!f.current&&s(A),ie.scrollTop=0,x=!0,f.current=!0),x&&Bj(A)}},[t,i,s,o]),_=k.useCallback(function(A){y(A,A.deltaY)},[y]),b=k.useCallback(function(A){h.current=A.changedTouches[0].clientY},[]),w=k.useCallback(function(A){var U=h.current-A.changedTouches[0].clientY;y(A,U)},[y]),I=k.useCallback(function(A){if(A){var U=uB?{passive:!1}:!1;A.addEventListener("wheel",_,U),A.addEventListener("touchstart",b,U),A.addEventListener("touchmove",w,U)}},[w,b,_]),O=k.useCallback(function(A){A&&(A.removeEventListener("wheel",_,!1),A.removeEventListener("touchstart",b,!1),A.removeEventListener("touchmove",w,!1))},[w,b,_]);return k.useEffect(function(){if(e){var A=d.current;return I(A),function(){O(A)}}},[e,I,O]),function(A){d.current=A}}var NC=["boxSizing","height","overflow","paddingRight","position"],MC={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function xC(n){n.cancelable&&n.preventDefault()}function PC(n){n.stopPropagation()}function kC(){var n=this.scrollTop,e=this.scrollHeight,t=n+this.offsetHeight;n===0?this.scrollTop=1:t===e&&(this.scrollTop=n-1)}function LC(){return"ontouchstart"in window||navigator.maxTouchPoints}var VC=!!(typeof window<"u"&&window.document&&window.document.createElement),qc=0,Jl={capture:!1,passive:!1};function Hj(n){var e=n.isEnabled,t=n.accountForScrollbars,i=t===void 0?!0:t,s=k.useRef({}),o=k.useRef(null),u=k.useCallback(function(h){if(VC){var d=document.body,y=d&&d.style;if(i&&NC.forEach(function(I){var O=y&&y[I];s.current[I]=O}),i&&qc<1){var _=parseInt(s.current.paddingRight,10)||0,b=document.body?document.body.clientWidth:0,w=window.innerWidth-b+_||0;Object.keys(MC).forEach(function(I){var O=MC[I];y&&(y[I]=O)}),y&&(y.paddingRight="".concat(w,"px"))}d&&LC()&&(d.addEventListener("touchmove",xC,Jl),h&&(h.addEventListener("touchstart",kC,Jl),h.addEventListener("touchmove",PC,Jl))),qc+=1}},[i]),f=k.useCallback(function(h){if(VC){var d=document.body,y=d&&d.style;qc=Math.max(qc-1,0),i&&qc<1&&NC.forEach(function(_){var b=s.current[_];y&&(y[_]=b)}),d&&LC()&&(d.removeEventListener("touchmove",xC,Jl),h&&(h.removeEventListener("touchstart",kC,Jl),h.removeEventListener("touchmove",PC,Jl)))}},[i]);return k.useEffect(function(){if(e){var h=o.current;return u(h),function(){f(h)}}},[e,u,f]),function(h){o.current=h}}var qj=function(e){var t=e.target;return t.ownerDocument.activeElement&&t.ownerDocument.activeElement.blur()},$j={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function Gj(n){var e=n.children,t=n.lockEnabled,i=n.captureEnabled,s=i===void 0?!0:i,o=n.onBottomArrive,u=n.onBottomLeave,f=n.onTopArrive,h=n.onTopLeave,d=jj({isEnabled:s,onBottomArrive:o,onBottomLeave:u,onTopArrive:f,onTopLeave:h}),y=Hj({isEnabled:t}),_=function(w){d(w),y(w)};return Le(k.Fragment,null,t&&Le("div",{onClick:qj,css:$j}),e(_))}var Kj={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},Yj=function(e){var t=e.name,i=e.onFocus;return Le("input",{required:!0,name:t,tabIndex:-1,"aria-hidden":"true",onFocus:i,css:Kj,value:"",onChange:function(){}})},Qj=Yj;function Y0(n){var e;return typeof window<"u"&&window.navigator!=null?n.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function Wj(){return Y0(/^iPhone/i)}function qO(){return Y0(/^Mac/i)}function Xj(){return Y0(/^iPad/i)||qO()&&navigator.maxTouchPoints>1}function Jj(){return Wj()||Xj()}function Zj(){return qO()||Jj()}var e7=function(e){return e.label},t7=function(e){return e.label},n7=function(e){return e.value},i7=function(e){return!!e.isDisabled},r7={clearIndicator:FB,container:OB,control:KB,dropdownIndicator:UB,group:XB,groupHeading:ZB,indicatorsContainer:xB,indicatorSeparator:jB,input:ij,loadingIndicator:$B,loadingMessage:wB,menu:yB,menuList:EB,menuPortal:AB,multiValue:lj,multiValueLabel:uj,multiValueRemove:cj,noOptionsMessage:SB,option:gj,placeholder:vj,singleValue:Tj,valueContainer:NB},s7={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},a7=4,$O=4,o7=38,l7=$O*2,u7={baseUnit:$O,controlHeight:o7,menuGutter:l7},s_={borderRadius:a7,colors:s7,spacing:u7},c7={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:RC(),captureMenuScroll:!RC(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:Uj(),formatGroupLabel:e7,getOptionLabel:t7,getOptionValue:n7,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:i7,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!oB(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(t!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function UC(n,e,t,i){var s=YO(n,e,t),o=QO(n,e,t),u=KO(n,e),f=Up(n,e);return{type:"option",data:e,isDisabled:s,isSelected:o,label:u,value:f,index:i}}function Qd(n,e){return n.options.map(function(t,i){if("options"in t){var s=t.options.map(function(u,f){return UC(n,u,e,f)}).filter(function(u){return FC(n,u)});return s.length>0?{type:"group",data:t,options:s,index:i}:void 0}var o=UC(n,t,e,i);return FC(n,o)?o:void 0}).filter(cB)}function GO(n){return n.reduce(function(e,t){return t.type==="group"?e.push.apply(e,U0(t.options.map(function(i){return i.data}))):e.push(t.data),e},[])}function zC(n,e){return n.reduce(function(t,i){return i.type==="group"?t.push.apply(t,U0(i.options.map(function(s){return{data:s.data,id:"".concat(e,"-").concat(i.index,"-").concat(s.index)}}))):t.push({data:i.data,id:"".concat(e,"-").concat(i.index)}),t},[])}function h7(n,e){return GO(Qd(n,e))}function FC(n,e){var t=n.inputValue,i=t===void 0?"":t,s=e.data,o=e.isSelected,u=e.label,f=e.value;return(!XO(n)||!o)&&WO(n,{label:u,value:f,data:s},i)}function f7(n,e){var t=n.focusedValue,i=n.selectValue,s=i.indexOf(t);if(s>-1){var o=e.indexOf(t);if(o>-1)return t;if(s<e.length)return e[s]}return null}function d7(n,e){var t=n.focusedOption;return t&&e.indexOf(t)>-1?t:e[0]}var a_=function(e,t){var i,s=(i=e.find(function(o){return o.data===t}))===null||i===void 0?void 0:i.id;return s||null},KO=function(e,t){return e.getOptionLabel(t)},Up=function(e,t){return e.getOptionValue(t)};function YO(n,e,t){return typeof n.isOptionDisabled=="function"?n.isOptionDisabled(e,t):!1}function QO(n,e,t){if(t.indexOf(e)>-1)return!0;if(typeof n.isOptionSelected=="function")return n.isOptionSelected(e,t);var i=Up(n,e);return t.some(function(s){return Up(n,s)===i})}function WO(n,e,t){return n.filterOption?n.filterOption(e,t):!0}var XO=function(e){var t=e.hideSelectedOptions,i=e.isMulti;return t===void 0?i:t},p7=1,JO=(function(n){PF(t,n);var e=VF(t);function t(i){var s;if(MF(this,t),s=e.call(this,i),s.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:"",isAppleDevice:!1},s.blockOptionHover=!1,s.isComposing=!1,s.commonProps=void 0,s.initialTouchX=0,s.initialTouchY=0,s.openAfterFocus=!1,s.scrollToFocusedOptionOnUpdate=!1,s.userIsDragging=void 0,s.controlRef=null,s.getControlRef=function(h){s.controlRef=h},s.focusedOptionRef=null,s.getFocusedOptionRef=function(h){s.focusedOptionRef=h},s.menuListRef=null,s.getMenuListRef=function(h){s.menuListRef=h},s.inputRef=null,s.getInputRef=function(h){s.inputRef=h},s.focus=s.focusInput,s.blur=s.blurInput,s.onChange=function(h,d){var y=s.props,_=y.onChange,b=y.name;d.name=b,s.ariaOnChange(h,d),_(h,d)},s.setValue=function(h,d,y){var _=s.props,b=_.closeMenuOnSelect,w=_.isMulti,I=_.inputValue;s.onInputChange("",{action:"set-value",prevInputValue:I}),b&&(s.setState({inputIsHiddenAfterUpdate:!w}),s.onMenuClose()),s.setState({clearFocusValueOnUpdate:!0}),s.onChange(h,{action:d,option:y})},s.selectOption=function(h){var d=s.props,y=d.blurInputOnSelect,_=d.isMulti,b=d.name,w=s.state.selectValue,I=_&&s.isOptionSelected(h,w),O=s.isOptionDisabled(h,w);if(I){var A=s.getOptionValue(h);s.setValue(w.filter(function(U){return s.getOptionValue(U)!==A}),"deselect-option",h)}else if(!O)_?s.setValue([].concat(U0(w),[h]),"select-option",h):s.setValue(h,"select-option");else{s.ariaOnChange(h,{action:"select-option",option:h,name:b});return}y&&s.blurInput()},s.removeValue=function(h){var d=s.props.isMulti,y=s.state.selectValue,_=s.getOptionValue(h),b=y.filter(function(I){return s.getOptionValue(I)!==_}),w=Od(d,b,b[0]||null);s.onChange(w,{action:"remove-value",removedValue:h}),s.focusInput()},s.clearValue=function(){var h=s.state.selectValue;s.onChange(Od(s.props.isMulti,[],null),{action:"clear",removedValues:h})},s.popValue=function(){var h=s.props.isMulti,d=s.state.selectValue,y=d[d.length-1],_=d.slice(0,d.length-1),b=Od(h,_,_[0]||null);y&&s.onChange(b,{action:"pop-value",removedValue:y})},s.getFocusedOptionId=function(h){return a_(s.state.focusableOptionsWithIds,h)},s.getFocusableOptionsWithIds=function(){return zC(Qd(s.props,s.state.selectValue),s.getElementId("option"))},s.getValue=function(){return s.state.selectValue},s.cx=function(){for(var h=arguments.length,d=new Array(h),y=0;y<h;y++)d[y]=arguments[y];return nB.apply(void 0,[s.props.classNamePrefix].concat(d))},s.getOptionLabel=function(h){return KO(s.props,h)},s.getOptionValue=function(h){return Up(s.props,h)},s.getStyles=function(h,d){var y=s.props.unstyled,_=r7[h](d,y);_.boxSizing="border-box";var b=s.props.styles[h];return b?b(_,d):_},s.getClassNames=function(h,d){var y,_;return(y=(_=s.props.classNames)[h])===null||y===void 0?void 0:y.call(_,d)},s.getElementId=function(h){return"".concat(s.state.instancePrefix,"-").concat(h)},s.getComponents=function(){return Rj(s.props)},s.buildCategorizedOptions=function(){return Qd(s.props,s.state.selectValue)},s.getCategorizedOptions=function(){return s.props.menuIsOpen?s.buildCategorizedOptions():[]},s.buildFocusableOptions=function(){return GO(s.buildCategorizedOptions())},s.getFocusableOptions=function(){return s.props.menuIsOpen?s.buildFocusableOptions():[]},s.ariaOnChange=function(h,d){s.setState({ariaSelection:ze({value:h},d)})},s.onMenuMouseDown=function(h){h.button===0&&(h.stopPropagation(),h.preventDefault(),s.focusInput())},s.onMenuMouseMove=function(h){s.blockOptionHover=!1},s.onControlMouseDown=function(h){if(!h.defaultPrevented){var d=s.props.openMenuOnClick;s.state.isFocused?s.props.menuIsOpen?h.target.tagName!=="INPUT"&&h.target.tagName!=="TEXTAREA"&&s.onMenuClose():d&&s.openMenu("first"):(d&&(s.openAfterFocus=!0),s.focusInput()),h.target.tagName!=="INPUT"&&h.target.tagName!=="TEXTAREA"&&h.preventDefault()}},s.onDropdownIndicatorMouseDown=function(h){if(!(h&&h.type==="mousedown"&&h.button!==0)&&!s.props.isDisabled){var d=s.props,y=d.isMulti,_=d.menuIsOpen;s.focusInput(),_?(s.setState({inputIsHiddenAfterUpdate:!y}),s.onMenuClose()):s.openMenu("first"),h.preventDefault()}},s.onClearIndicatorMouseDown=function(h){h&&h.type==="mousedown"&&h.button!==0||(s.clearValue(),h.preventDefault(),s.openAfterFocus=!1,h.type==="touchend"?s.focusInput():setTimeout(function(){return s.focusInput()}))},s.onScroll=function(h){typeof s.props.closeMenuOnScroll=="boolean"?h.target instanceof HTMLElement&&Am(h.target)&&s.props.onMenuClose():typeof s.props.closeMenuOnScroll=="function"&&s.props.closeMenuOnScroll(h)&&s.props.onMenuClose()},s.onCompositionStart=function(){s.isComposing=!0},s.onCompositionEnd=function(){s.isComposing=!1},s.onTouchStart=function(h){var d=h.touches,y=d&&d.item(0);y&&(s.initialTouchX=y.clientX,s.initialTouchY=y.clientY,s.userIsDragging=!1)},s.onTouchMove=function(h){var d=h.touches,y=d&&d.item(0);if(y){var _=Math.abs(y.clientX-s.initialTouchX),b=Math.abs(y.clientY-s.initialTouchY),w=5;s.userIsDragging=_>w||b>w}},s.onTouchEnd=function(h){s.userIsDragging||(s.controlRef&&!s.controlRef.contains(h.target)&&s.menuListRef&&!s.menuListRef.contains(h.target)&&s.blurInput(),s.initialTouchX=0,s.initialTouchY=0)},s.onControlTouchEnd=function(h){s.userIsDragging||s.onControlMouseDown(h)},s.onClearIndicatorTouchEnd=function(h){s.userIsDragging||s.onClearIndicatorMouseDown(h)},s.onDropdownIndicatorTouchEnd=function(h){s.userIsDragging||s.onDropdownIndicatorMouseDown(h)},s.handleInputChange=function(h){var d=s.props.inputValue,y=h.currentTarget.value;s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange(y,{action:"input-change",prevInputValue:d}),s.props.menuIsOpen||s.onMenuOpen()},s.onInputFocus=function(h){s.props.onFocus&&s.props.onFocus(h),s.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(s.openAfterFocus||s.props.openMenuOnFocus)&&s.openMenu("first"),s.openAfterFocus=!1},s.onInputBlur=function(h){var d=s.props.inputValue;if(s.menuListRef&&s.menuListRef.contains(document.activeElement)){s.inputRef.focus();return}s.props.onBlur&&s.props.onBlur(h),s.onInputChange("",{action:"input-blur",prevInputValue:d}),s.onMenuClose(),s.setState({focusedValue:null,isFocused:!1})},s.onOptionHover=function(h){if(!(s.blockOptionHover||s.state.focusedOption===h)){var d=s.getFocusableOptions(),y=d.indexOf(h);s.setState({focusedOption:h,focusedOptionId:y>-1?s.getFocusedOptionId(h):null})}},s.shouldHideSelectedOptions=function(){return XO(s.props)},s.onValueInputFocus=function(h){h.preventDefault(),h.stopPropagation(),s.focus()},s.onKeyDown=function(h){var d=s.props,y=d.isMulti,_=d.backspaceRemovesValue,b=d.escapeClearsValue,w=d.inputValue,I=d.isClearable,O=d.isDisabled,A=d.menuIsOpen,U=d.onKeyDown,V=d.tabSelectsValue,z=d.openMenuOnFocus,Q=s.state,H=Q.focusedOption,ie=Q.focusedValue,S=Q.selectValue;if(!O&&!(typeof U=="function"&&(U(h),h.defaultPrevented))){switch(s.blockOptionHover=!0,h.key){case"ArrowLeft":if(!y||w)return;s.focusValue("previous");break;case"ArrowRight":if(!y||w)return;s.focusValue("next");break;case"Delete":case"Backspace":if(w)return;if(ie)s.removeValue(ie);else{if(!_)return;y?s.popValue():I&&s.clearValue()}break;case"Tab":if(s.isComposing||h.shiftKey||!A||!V||!H||z&&s.isOptionSelected(H,S))return;s.selectOption(H);break;case"Enter":if(h.keyCode===229)break;if(A){if(!H||s.isComposing)return;s.selectOption(H);break}return;case"Escape":A?(s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange("",{action:"menu-close",prevInputValue:w}),s.onMenuClose()):I&&b&&s.clearValue();break;case" ":if(w)return;if(!A){s.openMenu("first");break}if(!H)return;s.selectOption(H);break;case"ArrowUp":A?s.focusOption("up"):s.openMenu("last");break;case"ArrowDown":A?s.focusOption("down"):s.openMenu("first");break;case"PageUp":if(!A)return;s.focusOption("pageup");break;case"PageDown":if(!A)return;s.focusOption("pagedown");break;case"Home":if(!A)return;s.focusOption("first");break;case"End":if(!A)return;s.focusOption("last");break;default:return}h.preventDefault()}},s.state.instancePrefix="react-select-"+(s.props.instanceId||++p7),s.state.selectValue=wC(i.value),i.menuIsOpen&&s.state.selectValue.length){var o=s.getFocusableOptionsWithIds(),u=s.buildFocusableOptions(),f=u.indexOf(s.state.selectValue[0]);s.state.focusableOptionsWithIds=o,s.state.focusedOption=u[f],s.state.focusedOptionId=a_(o,u[f])}return s}return xF(t,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&CC(this.menuListRef,this.focusedOptionRef),Zj()&&this.setState({isAppleDevice:!0})}},{key:"componentDidUpdate",value:function(s){var o=this.props,u=o.isDisabled,f=o.menuIsOpen,h=this.state.isFocused;(h&&!u&&s.isDisabled||h&&f&&!s.menuIsOpen)&&this.focusInput(),h&&u&&!s.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!h&&!u&&s.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(CC(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(s,o){this.props.onInputChange(s,o)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(s){var o=this,u=this.state,f=u.selectValue,h=u.isFocused,d=this.buildFocusableOptions(),y=s==="first"?0:d.length-1;if(!this.props.isMulti){var _=d.indexOf(f[0]);_>-1&&(y=_)}this.scrollToFocusedOptionOnUpdate=!(h&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:d[y],focusedOptionId:this.getFocusedOptionId(d[y])},function(){return o.onMenuOpen()})}},{key:"focusValue",value:function(s){var o=this.state,u=o.selectValue,f=o.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var h=u.indexOf(f);f||(h=-1);var d=u.length-1,y=-1;if(u.length){switch(s){case"previous":h===0?y=0:h===-1?y=d:y=h-1;break;case"next":h>-1&&h<d&&(y=h+1);break}this.setState({inputIsHidden:y!==-1,focusedValue:u[y]})}}}},{key:"focusOption",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",o=this.props.pageSize,u=this.state.focusedOption,f=this.getFocusableOptions();if(f.length){var h=0,d=f.indexOf(u);u||(d=-1),s==="up"?h=d>0?d-1:f.length-1:s==="down"?h=(d+1)%f.length:s==="pageup"?(h=d-o,h<0&&(h=0)):s==="pagedown"?(h=d+o,h>f.length-1&&(h=f.length-1)):s==="last"&&(h=f.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:f[h],focusedValue:null,focusedOptionId:this.getFocusedOptionId(f[h])})}}},{key:"getTheme",value:(function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(s_):ze(ze({},s_),this.props.theme):s_})},{key:"getCommonProps",value:function(){var s=this.clearValue,o=this.cx,u=this.getStyles,f=this.getClassNames,h=this.getValue,d=this.selectOption,y=this.setValue,_=this.props,b=_.isMulti,w=_.isRtl,I=_.options,O=this.hasValue();return{clearValue:s,cx:o,getStyles:u,getClassNames:f,getValue:h,hasValue:O,isMulti:b,isRtl:w,options:I,selectOption:d,selectProps:_,setValue:y,theme:this.getTheme()}}},{key:"hasValue",value:function(){var s=this.state.selectValue;return s.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var s=this.props,o=s.isClearable,u=s.isMulti;return o===void 0?u:o}},{key:"isOptionDisabled",value:function(s,o){return YO(this.props,s,o)}},{key:"isOptionSelected",value:function(s,o){return QO(this.props,s,o)}},{key:"filterOption",value:function(s,o){return WO(this.props,s,o)}},{key:"formatOptionLabel",value:function(s,o){if(typeof this.props.formatOptionLabel=="function"){var u=this.props.inputValue,f=this.state.selectValue;return this.props.formatOptionLabel(s,{context:o,inputValue:u,selectValue:f})}else return this.getOptionLabel(s)}},{key:"formatGroupLabel",value:function(s){return this.props.formatGroupLabel(s)}},{key:"startListeningComposition",value:(function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))})},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:(function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))})},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:(function(){var s=this.props,o=s.isDisabled,u=s.isSearchable,f=s.inputId,h=s.inputValue,d=s.tabIndex,y=s.form,_=s.menuIsOpen,b=s.required,w=this.getComponents(),I=w.Input,O=this.state,A=O.inputIsHidden,U=O.ariaSelection,V=this.commonProps,z=f||this.getElementId("input"),Q=ze(ze(ze({"aria-autocomplete":"list","aria-expanded":_,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":b,role:"combobox","aria-activedescendant":this.state.isAppleDevice?void 0:this.state.focusedOptionId||""},_&&{"aria-controls":this.getElementId("listbox")}),!u&&{"aria-readonly":!0}),this.hasValue()?U?.action==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return u?k.createElement(I,Be({},V,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:z,innerRef:this.getInputRef,isDisabled:o,isHidden:A,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:d,form:y,type:"text",value:h},Q)):k.createElement(Fj,Be({id:z,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Lp,onFocus:this.onInputFocus,disabled:o,tabIndex:d,inputMode:"none",form:y,value:""},Q))})},{key:"renderPlaceholderOrValue",value:function(){var s=this,o=this.getComponents(),u=o.MultiValue,f=o.MultiValueContainer,h=o.MultiValueLabel,d=o.MultiValueRemove,y=o.SingleValue,_=o.Placeholder,b=this.commonProps,w=this.props,I=w.controlShouldRenderValue,O=w.isDisabled,A=w.isMulti,U=w.inputValue,V=w.placeholder,z=this.state,Q=z.selectValue,H=z.focusedValue,ie=z.isFocused;if(!this.hasValue()||!I)return U?null:k.createElement(_,Be({},b,{key:"placeholder",isDisabled:O,isFocused:ie,innerProps:{id:this.getElementId("placeholder")}}),V);if(A)return Q.map(function(C,x){var N=C===H,L="".concat(s.getOptionLabel(C),"-").concat(s.getOptionValue(C));return k.createElement(u,Be({},b,{components:{Container:f,Label:h,Remove:d},isFocused:N,isDisabled:O,key:L,index:x,removeProps:{onClick:function(){return s.removeValue(C)},onTouchEnd:function(){return s.removeValue(C)},onMouseDown:function(M){M.preventDefault()}},data:C}),s.formatOptionLabel(C,"value"))});if(U)return null;var S=Q[0];return k.createElement(y,Be({},b,{data:S,isDisabled:O}),this.formatOptionLabel(S,"value"))}},{key:"renderClearIndicator",value:function(){var s=this.getComponents(),o=s.ClearIndicator,u=this.commonProps,f=this.props,h=f.isDisabled,d=f.isLoading,y=this.state.isFocused;if(!this.isClearable()||!o||h||!this.hasValue()||d)return null;var _={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return k.createElement(o,Be({},u,{innerProps:_,isFocused:y}))}},{key:"renderLoadingIndicator",value:function(){var s=this.getComponents(),o=s.LoadingIndicator,u=this.commonProps,f=this.props,h=f.isDisabled,d=f.isLoading,y=this.state.isFocused;if(!o||!d)return null;var _={"aria-hidden":"true"};return k.createElement(o,Be({},u,{innerProps:_,isDisabled:h,isFocused:y}))}},{key:"renderIndicatorSeparator",value:function(){var s=this.getComponents(),o=s.DropdownIndicator,u=s.IndicatorSeparator;if(!o||!u)return null;var f=this.commonProps,h=this.props.isDisabled,d=this.state.isFocused;return k.createElement(u,Be({},f,{isDisabled:h,isFocused:d}))}},{key:"renderDropdownIndicator",value:function(){var s=this.getComponents(),o=s.DropdownIndicator;if(!o)return null;var u=this.commonProps,f=this.props.isDisabled,h=this.state.isFocused,d={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return k.createElement(o,Be({},u,{innerProps:d,isDisabled:f,isFocused:h}))}},{key:"renderMenu",value:function(){var s=this,o=this.getComponents(),u=o.Group,f=o.GroupHeading,h=o.Menu,d=o.MenuList,y=o.MenuPortal,_=o.LoadingMessage,b=o.NoOptionsMessage,w=o.Option,I=this.commonProps,O=this.state.focusedOption,A=this.props,U=A.captureMenuScroll,V=A.inputValue,z=A.isLoading,Q=A.loadingMessage,H=A.minMenuHeight,ie=A.maxMenuHeight,S=A.menuIsOpen,C=A.menuPlacement,x=A.menuPosition,N=A.menuPortalTarget,L=A.menuShouldBlockScroll,P=A.menuShouldScrollIntoView,M=A.noOptionsMessage,ye=A.onMenuScrollToTop,ne=A.onMenuScrollToBottom;if(!S)return null;var $=function(he,le){var ge=he.type,Se=he.data,Me=he.isDisabled,gt=he.isSelected,yt=he.label,dr=he.value,Lt=O===Se,Wn=Me?void 0:function(){return s.onOptionHover(Se)},pr=Me?void 0:function(){return s.selectOption(Se)},ai="".concat(s.getElementId("option"),"-").concat(le),oi={id:ai,onClick:pr,onMouseMove:Wn,onMouseOver:Wn,tabIndex:-1,role:"option","aria-selected":s.state.isAppleDevice?void 0:gt};return k.createElement(w,Be({},I,{innerProps:oi,data:Se,isDisabled:Me,isSelected:gt,key:ai,label:yt,type:ge,value:dr,isFocused:Lt,innerRef:Lt?s.getFocusedOptionRef:void 0}),s.formatOptionLabel(he.data,"menu"))},ee;if(this.hasOptions())ee=this.getCategorizedOptions().map(function(J){if(J.type==="group"){var he=J.data,le=J.options,ge=J.index,Se="".concat(s.getElementId("group"),"-").concat(ge),Me="".concat(Se,"-heading");return k.createElement(u,Be({},I,{key:Se,data:he,options:le,Heading:f,headingProps:{id:Me,data:J.data},label:s.formatGroupLabel(J.data)}),J.options.map(function(gt){return $(gt,"".concat(ge,"-").concat(gt.index))}))}else if(J.type==="option")return $(J,"".concat(J.index))});else if(z){var me=Q({inputValue:V});if(me===null)return null;ee=k.createElement(_,I,me)}else{var De=M({inputValue:V});if(De===null)return null;ee=k.createElement(b,I,De)}var Ve={minMenuHeight:H,maxMenuHeight:ie,menuPlacement:C,menuPosition:x,menuShouldScrollIntoView:P},j=k.createElement(_B,Be({},I,Ve),function(J){var he=J.ref,le=J.placerProps,ge=le.placement,Se=le.maxHeight;return k.createElement(h,Be({},I,Ve,{innerRef:he,innerProps:{onMouseDown:s.onMenuMouseDown,onMouseMove:s.onMenuMouseMove},isLoading:z,placement:ge}),k.createElement(Gj,{captureEnabled:U,onTopArrive:ye,onBottomArrive:ne,lockEnabled:L},function(Me){return k.createElement(d,Be({},I,{innerRef:function(yt){s.getMenuListRef(yt),Me(yt)},innerProps:{role:"listbox","aria-multiselectable":I.isMulti,id:s.getElementId("listbox")},isLoading:z,maxHeight:Se,focusedOption:O}),ee)}))});return N||x==="fixed"?k.createElement(y,Be({},I,{appendTo:N,controlElement:this.controlRef,menuPlacement:C,menuPosition:x}),j):j}},{key:"renderFormField",value:function(){var s=this,o=this.props,u=o.delimiter,f=o.isDisabled,h=o.isMulti,d=o.name,y=o.required,_=this.state.selectValue;if(y&&!this.hasValue()&&!f)return k.createElement(Qj,{name:d,onFocus:this.onValueInputFocus});if(!(!d||f))if(h)if(u){var b=_.map(function(O){return s.getOptionValue(O)}).join(u);return k.createElement("input",{name:d,type:"hidden",value:b})}else{var w=_.length>0?_.map(function(O,A){return k.createElement("input",{key:"i-".concat(A),name:d,type:"hidden",value:s.getOptionValue(O)})}):k.createElement("input",{name:d,type:"hidden",value:""});return k.createElement("div",null,w)}else{var I=_[0]?this.getOptionValue(_[0]):"";return k.createElement("input",{name:d,type:"hidden",value:I})}}},{key:"renderLiveRegion",value:function(){var s=this.commonProps,o=this.state,u=o.ariaSelection,f=o.focusedOption,h=o.focusedValue,d=o.isFocused,y=o.selectValue,_=this.getFocusableOptions();return k.createElement(Pj,Be({},s,{id:this.getElementId("live-region"),ariaSelection:u,focusedOption:f,focusedValue:h,isFocused:d,selectValue:y,focusableOptions:_,isAppleDevice:this.state.isAppleDevice}))}},{key:"render",value:function(){var s=this.getComponents(),o=s.Control,u=s.IndicatorsContainer,f=s.SelectContainer,h=s.ValueContainer,d=this.props,y=d.className,_=d.id,b=d.isDisabled,w=d.menuIsOpen,I=this.state.isFocused,O=this.commonProps=this.getCommonProps();return k.createElement(f,Be({},O,{className:y,innerProps:{id:_,onKeyDown:this.onKeyDown},isDisabled:b,isFocused:I}),this.renderLiveRegion(),k.createElement(o,Be({},O,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:b,isFocused:I,menuIsOpen:w}),k.createElement(h,Be({},O,{isDisabled:b}),this.renderPlaceholderOrValue(),this.renderInput()),k.createElement(u,Be({},O,{isDisabled:b}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(s,o){var u=o.prevProps,f=o.clearFocusValueOnUpdate,h=o.inputIsHiddenAfterUpdate,d=o.ariaSelection,y=o.isFocused,_=o.prevWasFocused,b=o.instancePrefix,w=s.options,I=s.value,O=s.menuIsOpen,A=s.inputValue,U=s.isMulti,V=wC(I),z={};if(u&&(I!==u.value||w!==u.options||O!==u.menuIsOpen||A!==u.inputValue)){var Q=O?h7(s,V):[],H=O?zC(Qd(s,V),"".concat(b,"-option")):[],ie=f?f7(o,V):null,S=d7(o,Q),C=a_(H,S);z={selectValue:V,focusedOption:S,focusedOptionId:C,focusableOptionsWithIds:H,focusedValue:ie,clearFocusValueOnUpdate:!1}}var x=h!=null&&s!==u?{inputIsHidden:h,inputIsHiddenAfterUpdate:void 0}:{},N=d,L=y&&_;return y&&!L&&(N={value:Od(U,V,V[0]||null),options:V,action:"initial-input-focus"},L=!_),d?.action==="initial-input-focus"&&(N=null),ze(ze(ze({},z),x),{},{prevProps:s,ariaSelection:N,prevWasFocused:L})}}]),t})(k.Component);JO.defaultProps=c7;var m7=k.forwardRef(function(n,e){var t=NF(n);return k.createElement(JO,Be({ref:e},t))}),Qr=m7;const g7="_form_hsq2z_1",y7="_CreateSeshFormContainer_hsq2z_11",_7="_rightDiv_hsq2z_15",v7="_previewContainer_hsq2z_19",b7="_part_hsq2z_32",E7="_done_hsq2z_41",T7="_cannotSubmit_hsq2z_45",S7="_canSubmit_hsq2z_49",w7="_descInput_hsq2z_53",C7="_submitButton_hsq2z_66",rn={form:g7,CreateSeshFormContainer:y7,rightDiv:_7,previewContainer:v7,part:b7,done:E7,cannotSubmit:T7,canSubmit:S7,descInput:w7,submitButton:C7};function R7(n){const[e,t]=k.useState(!1),i=Wo(P=>P.user),[s,o]=k.useState(null),[u,f]=k.useState(null),[h,d]=k.useState(null),[y,_]=k.useState(null),[b,w]=k.useState(null),[I,O]=k.useState(null),A=[{value:"0000",label:"00:00"},{value:"0030",label:"00:30"},{value:"0100",label:"01:00"},{value:"0130",label:"01:30"},{value:"0200",label:"02:00"},{value:"0230",label:"02:30"},{value:"0300",label:"03:00"},{value:"0330",label:"03:30"},{value:"0400",label:"04:00"},{value:"0430",label:"04:30"},{value:"0500",label:"05:00"},{value:"0530",label:"05:30"},{value:"0600",label:"06:00"},{value:"0630",label:"06:30"},{value:"0700",label:"07:00"},{value:"0730",label:"07:30"},{value:"0800",label:"08:00"},{value:"0830",label:"08:30"},{value:"0900",label:"09:00"},{value:"0930",label:"09:30"},{value:"1100",label:"11:00"},{value:"1130",label:"11:30"},{value:"1200",label:"12:00"},{value:"1230",label:"12:30"},{value:"1300",label:"13:00"},{value:"1330",label:"13:30"},{value:"1400",label:"14:00"},{value:"1430",label:"14:30"},{value:"1500",label:"15:00"},{value:"1530",label:"15:30"},{value:"1600",label:"16:00"},{value:"1630",label:"16:30"},{value:"1700",label:"17:00"},{value:"1730",label:"17:30"},{value:"1800",label:"18:00"},{value:"1830",label:"18:30"},{value:"1900",label:"19:00"},{value:"1930",label:"19:30"},{value:"2000",label:"20:00"},{value:"2030",label:"20:30"},{value:"2100",label:"21:00"},{value:"2130",label:"21:30"},{value:"2200",label:"22:00"},{value:"2230",label:"22:30"},{value:"2300",label:"23:00"},{value:"2330",label:"23:30"}],[U,V]=k.useState(A),[z,Q]=k.useState(A);k.useEffect(()=>{if(y!==null&&h!==null){const P=A.filter(ye=>Number(ye.value)<Number(y)),M=A.filter(ye=>Number(ye.value)>Number(h));console.log("filtered times"),console.log(M),console.log(P),Q(P),V(M)}else if(y!==null){V(A);const P=A.filter(M=>Number(M.value)<Number(y));Q(P)}else if(h!==null){Q(A);const P=A.filter(M=>Number(M.value)>Number(h));V(P)}else V(A),Q(A)},[y,h]);const H=async P=>{if(P.preventDefault(),b!==null&&y!==null&&h!==null&&u!==null&&s!==null){if(i===null){ft.warn("Please log in to create a study session"),console.log("prevented bad submission");return}else if(b?.length>300){ft.warn("Please make your description shorter"),console.log("prevented bad submission");return}else if(b?.length<20){ft.warn("Please make your description longer (20+ characters)"),console.log("prevented bad submission");return}}else{ft.warn("Not all required fields have been filled"),console.log("prevented bad submission");return}t(!0);const M=ts(cr,"userStuff",i.uid);(await qs(M)).exists()||await el(M,{listings:[],signups:[]});const ne=crypto.randomUUID(),$=ts(cr,"allListings",ne),ee={title:I,month:s,day:u,startTime:h,endTime:y,description:b,host:{email:i.email,id:i.uid},id:ne,attendees:[{email:i.email,id:i.uid}],amtSignedUp:1};console.log("newListing:",ee),await _h(M,{listings:q_(ne)}),await el($,ee),ft.success("Success!"),t(!1)},ie=[{value:"10",label:"november"},{value:"11",label:"december"},{value:"00",label:"january"},{value:"01",label:"february"},{value:"03",label:"march"},{value:"04",label:"april"},{value:"05",label:"may"},{value:"06",label:"july"},{value:"07",label:"august"},{value:"08",label:"september"},{value:"09",label:"october"}],S=[{value:"01",label:"1"},{value:"02",label:"2"},{value:"03",label:"3"},{value:"04",label:"4"},{value:"05",label:"5"},{value:"06",label:"6"},{value:"07",label:"7"},{value:"08",label:"8"},{value:"09",label:"9"},{value:"10",label:"10"},{value:"11",label:"11"},{value:"12",label:"12"},{value:"13",label:"13"},{value:"14",label:"14"},{value:"15",label:"15"},{value:"16",label:"16"},{value:"17",label:"17"},{value:"18",label:"18"},{value:"19",label:"19"},{value:"20",label:"20"},{value:"21",label:"21"},{value:"22",label:"22"},{value:"23",label:"23"},{value:"24",label:"24"},{value:"25",label:"25"},{value:"26",label:"26"},{value:"27",label:"27"},{value:"28",label:"28"},{value:"29",label:"29"},{value:"30",label:"30"},{value:"31",label:"31"}],C={menuList:(P,M)=>({...P,backgroundColor:"#332f8e"}),option:(P,M)=>({...P,backgroundColor:M.isFocused?"#1a1a1a":"#332f8e"}),valueContainer:(P,M)=>({...P,backgroundColor:"#332f8e",color:"#ffffffff"}),singleValue:(P,M)=>({...P,color:"#ffffffff"}),dropdownIndicator:(P,M)=>({...P,backgroundColor:"#332f8e"}),indicatorSeparator:(P,M)=>({...P,backgroundColor:"#332f8e"}),indicatorsContainer:(P,M)=>({...P,backgroundColor:"#332f8e"}),control:(P,M)=>({...P,backgroundColor:"#332f8e",borderColor:"#332f8e",borderRadius:"0px","&:hover":{borderColor:"#646cff"},width:"150px",height:"65px",fontSize:"17px",boxShadow:"none"})},x=ie.find(P=>P.value===s);let N="";x&&(N=x.label.slice(0,3));const L=P=>{try{const M=P.slice(0,2),ye=P.slice(2),ne=Number(M),$=ne<12?"AM":"PM",ee=ne%12!==0?ne%12:12;return String(ee)+":"+ye+$}catch{return P}};return se.jsxs("div",{className:rn.CreateSeshFormContainer,children:[e?se.jsx("h1",{children:"Loading..."}):se.jsx("h3",{style:{whiteSpace:"pre-wrap"},children:`IT IS RECCOMENDED:

Put a zoom link in description
Title is the name of a class
You be nice to others
don't be fake...
you can't take down listings

If you really need a listing taken down or other help
contact the dev: 
@calebcraig81@gmail.com | Caleb Craig`}),se.jsx("form",{onSubmit:H,children:se.jsxs("div",{className:rn.form,children:[se.jsxs("div",{className:`${rn.part} ${I!==null?rn.done:""}`,children:[se.jsx("p",{children:"Title"}),se.jsx("input",{type:"text",placeholder:"type here",className:rn.descInput,onChange:P=>{O(P.target.value)}})]}),se.jsxs("div",{className:`${rn.part} ${b?.length>=20?rn.done:""}`,children:[se.jsx("p",{children:"Description"}),se.jsx("input",{type:"text",placeholder:"type here",className:rn.descInput,onChange:P=>{w(P.target.value)}})]}),se.jsxs("div",{className:`${rn.part} ${s!==null?rn.done:""}`,children:[se.jsx("p",{children:"Month"}),se.jsx(Qr,{options:ie,onChange:P=>{o(P.value)},styles:C})]}),se.jsxs("div",{className:`${rn.part} ${u!==null?rn.done:""}`,children:[se.jsx("p",{children:"Day"}),se.jsx(Qr,{onChange:P=>{f(P.value)},options:S,styles:C})]}),se.jsxs("div",{className:`${rn.part} ${h!==null?rn.done:""}`,children:[se.jsx("p",{children:"Start Time"}),se.jsx(Qr,{onChange:P=>{d(P.value)},options:z,styles:C})]}),se.jsxs("div",{className:`${rn.part} ${y!==null?rn.done:""}`,children:[se.jsx("p",{children:"End Time"}),se.jsx(Qr,{onChange:P=>{_(P.value)},options:U,styles:C})]}),se.jsx("div",{className:`${rn.part} ${b!==null&&y!==null&&h!==null&&u!==null&&s!==null&&!e?rn.canSubmit:rn.cannotSubmit}`,children:se.jsx("button",{onClick:H,className:rn.submitButton,canSubmit:!e,children:"Submit"})})]})}),se.jsxs("div",{className:rn.rightDiv,children:[se.jsx("h2",{children:"Preview:"}),se.jsxs("div",{className:rn.previewContainer,children:[se.jsxs("h3",{children:[I||"no title"," "]}),se.jsxs("p",{children:["Day: ",N," ",u]}),se.jsxs("p",{children:["Start time: ",L(h)]}),se.jsxs("p",{children:["End time: ",L(y)]}),se.jsx("p",{children:"Amt attending: 0"}),se.jsxs("p",{children:["Description: ",b]})]})]})]})}const A7="_previewContainer_1izi4_2",I7="_seshTitle_1izi4_10",O7="_hostingButton_1izi4_14",D7="_sessions_1izi4_31",N7="_hostEmail_1izi4_43",M7="_BrowsePage_1izi4_46",x7="_searchContainer_1izi4_55",P7="_searchButton_1izi4_61",k7="_title_1izi4_64",sr={previewContainer:A7,seshTitle:I7,hostingButton:O7,sessions:D7,hostEmail:N7,BrowsePage:M7,searchContainer:x7,searchButton:P7,title:k7},L7="_previewContainer_8oucr_1",V7="_seshTitle_8oucr_11",U7="_hostEmail_8oucr_15",z7="_fullContainer_8oucr_22",Dd={previewContainer:L7,seshTitle:V7,hostEmail:U7,fullContainer:z7};function F7(){const n=ix().id,[e,t]=k.useState(null);async function i(){const h=ts(cr,"allListings",n),d=(await qs(h)).data();t(d)}k.useEffect(()=>{i()},[]);const s=[{value:null,label:"any"},{value:"10",label:"november"},{value:"11",label:"december"},{value:"00",label:"january"},{value:"01",label:"february"},{value:"03",label:"march"},{value:"04",label:"april"},{value:"05",label:"may"},{value:"06",label:"july"},{value:"07",label:"august"},{value:"08",label:"september"},{value:"09",label:"october"}];let o="mon";const u=h=>{try{const d=h.slice(0,2),y=h.slice(2),_=Number(d),b=_<12?"AM":"PM",w=_%12!==0?_%12:12;return String(w)+":"+y+b}catch{return h}};if(e===null)return"Loadings";o=s.find(h=>h.value===e.month).label.slice(0,3);const f=e.attendees.map(h=>h.email===e.host.email?se.jsx("li",{style:{color:"#646cff"},children:h.email}):se.jsx("li",{children:h.email}));return se.jsxs("div",{className:Dd.fullContainer,children:[se.jsxs("div",{className:Dd.previewContainer,children:[se.jsxs("h2",{className:Dd.seshTitle,children:[e.title||"no title"," "]}),se.jsx("p",{children:"Host:"}),se.jsxs("p",{className:Dd.hostEmail,children:[" ",e.host.email]}),se.jsxs("p",{children:["Day: ",o," ",e.day]}),se.jsxs("p",{children:["Start time: ",u(e.startTime)]}),se.jsxs("p",{children:["End time: ",u(e.endTime)]}),se.jsxs("p",{children:["Amount Attending: ",e.amtSignedUp]}),se.jsxs("p",{style:{overflowY:"scroll",height:"65px"},children:["Description: ",e.description]})]},crypto.randomUUID()),se.jsxs("div",{children:[se.jsx("h2",{children:"Attendees"}),se.jsx("ul",{children:f})]})]})}async function B7(){try{return(await YI(VI(cr,"allListings"))).docs.map(t=>t.data())}catch(n){return console.error("Error fetching listings:",n),[]}}function j7(){const n=Wo(N=>N.user),[e,t]=pR(),i=e.get("q")||"",s=[],[o,u]=k.useState(s),[f,h]=k.useState("earliest"),[d,y]=k.useState(""),[_,b]=k.useState(null),[w,I]=k.useState(null),[O,A]=k.useState("All Sessions:");async function U(){const N=await B7();if(N.length==0)return;let L=N.filter(P=>{let M=i==""||P.title?.toLowerCase().includes(i.toLowerCase());return M=M&&(_==null||P.month==_),M=M&&(w==null||P.day==w),M});if(console.log("user"),console.log(n),n!=null){console.log("user !== null");const P=ts(cr,"userStuff",n.uid),M=await qs(P);M.exists()||await el(P,{listings:[],signups:[]});const ye=M.data(),ne=ye.signups||[],$=ye.listings||[];L=L.map(ee=>($.includes(ee.id)?(console.log(ee.id+"in listings"),ee.status="Hosting"):ne.includes(ee.id)?(console.log(ee.id+"in signups"),ee.status="Attending"):(console.log(ee.id+"is joinable"),ee.status="Joinable"),ee))}else L=L.map(P=>(console.log(P.id+"is joinable"),P.status="Joinable",P));f==="earliest"?L=L.sort((P,M)=>{const ye=P.month+"/"+P.day+"/"+P.startTime,ne=M.month+"/"+M.day+"/"+M.startTime;return ye>ne?1:ye<ne?-1:0}):f==="latest"?L=L.sort((P,M)=>{const ye=P.month+"/"+P.day+"/"+P.startTime,ne=M.month+"/"+M.day+"/"+M.startTime;return ye>ne?-1:ye<ne?1:0}):f==="numPeople"&&(L=L.sort((P,M)=>P.amtSignedUp>M.amtSignedUp?-1:P.amtSignedUp<M.amtSignedUp?1:0)),u(N.length>0?L:s),console.log("results set"),console.log(L)}k.useEffect(()=>{U(),console.log(i)},[i,w,_,f,n]);const V=N=>{try{const L=N.slice(0,2),P=N.slice(2),M=Number(L),ye=M<12?"AM":"PM",ne=M%12!==0?M%12:12;return String(ne)+":"+P+ye}catch{return N}},z=[{value:null,label:"any"},{value:"10",label:"november"},{value:"11",label:"december"},{value:"00",label:"january"},{value:"01",label:"february"},{value:"03",label:"march"},{value:"04",label:"april"},{value:"05",label:"may"},{value:"06",label:"july"},{value:"07",label:"august"},{value:"08",label:"september"},{value:"09",label:"october"}],Q=[{value:null,label:"any"},{value:"01",label:"1"},{value:"02",label:"2"},{value:"03",label:"3"},{value:"04",label:"4"},{value:"05",label:"5"},{value:"06",label:"6"},{value:"07",label:"7"},{value:"08",label:"8"},{value:"09",label:"9"},{value:"10",label:"10"},{value:"11",label:"11"},{value:"12",label:"12"},{value:"13",label:"13"},{value:"14",label:"14"},{value:"15",label:"15"},{value:"16",label:"16"},{value:"17",label:"17"},{value:"18",label:"18"},{value:"19",label:"19"},{value:"20",label:"20"},{value:"21",label:"21"},{value:"22",label:"22"},{value:"23",label:"23"},{value:"24",label:"24"},{value:"25",label:"25"},{value:"26",label:"26"},{value:"27",label:"27"},{value:"28",label:"28"},{value:"29",label:"29"},{value:"30",label:"30"},{value:"31",label:"31"}],H=async N=>{if(!n){ft.warn("Cannot join session while logged out");return}u(s);const L=ts(cr,"userStuff",n.uid);(await qs(L)).exists()||await el(L,{listings:[],signups:[]});const M=ts(cr,"allListings",N),ye=(await qs(M)).data();await _h(M,{amtSignedUp:ye.amtSignedUp+1,attendees:q_({email:n.email,id:n.uid})}),await _h(L,{signups:q_(N)}),console.log("signed up for session"),U()},ie=o.map(N=>{if(!N)return"";const L=z.find(P=>P.value===N.month).label.slice(0,3);return se.jsxs("div",{className:sr.previewContainer,children:[se.jsxs("h2",{className:sr.seshTitle,children:[N.title||"no title"," "]}),se.jsx("p",{children:"Host:"}),se.jsxs("p",{className:sr.hostEmail,children:[" ",N.host.email!==n?.email?N.host.email:"You are hosting this"]}),se.jsx("button",{onClick:()=>H(N.id),disabled:N.status!=="Joinable",className:N.status==="Joinable"?sr.joinButton:N.status==="Hosting"?sr.hostingButton:sr.attendingButton,children:N.status==="Joinable"?"Click to join":N.status==="Hosting"?"Hosting":"Attending"}),se.jsxs("p",{children:["Day: ",L," ",N.day]}),se.jsxs("p",{children:["Start time: ",V(N.startTime)]}),se.jsxs("p",{children:["End time: ",V(N.endTime)]}),se.jsxs("p",{children:["Amount Attending: ",N.amtSignedUp]}),se.jsxs("p",{style:{overflowY:"scroll",height:"65px"},children:["Description: ",N.description]})]},crypto.randomUUID())}),S=N=>{N.preventDefault();const L={};L.q=d,t(L)},C=[{value:"earliest",label:"earliest"},{value:"latest",label:"latest"},{value:"numPeople",label:"#people"}],x={menuList:(N,L)=>({...N,backgroundColor:"#332f8e"}),option:(N,L)=>({...N,backgroundColor:L.isFocused?"#1a1a1a":"#332f8e"}),valueContainer:(N,L)=>({...N,backgroundColor:"#332f8e",color:"#ffffffff"}),singleValue:(N,L)=>({...N,color:"#ffffffff"}),dropdownIndicator:(N,L)=>({...N,backgroundColor:"#332f8e"}),indicatorSeparator:(N,L)=>({...N,backgroundColor:"#332f8e"}),indicatorsContainer:(N,L)=>({...N,backgroundColor:"#332f8e"}),control:(N,L)=>({...N,backgroundColor:"#332f8e",borderRadius:"0px",border:"solid 2px #332f8e","&:hover":{borderColor:"#646cff"},width:"105x",height:"50px",fontSize:"17px",boxShadow:"none"})};return se.jsxs("div",{className:sr.BrowsePage,children:[se.jsxs("div",{className:sr.searchContainer,children:[se.jsxs("form",{onSubmit:S,children:[se.jsx("button",{type:"submit",className:sr.searchButton,children:"Search"}),se.jsx("input",{type:"text",className:sr.searchInput,onChange:N=>y(N.target.value),placeholder:"eg: math"})]}),se.jsx(Qr,{onChange:N=>{h(N.value)},options:C,styles:x,placeholder:"Sort"}),se.jsx(Qr,{onChange:N=>{I(N.value)},options:Q,styles:x,placeholder:"Day"}),se.jsx(Qr,{onChange:N=>{b(N.value)},options:z,styles:x,placeholder:"Month"}),se.jsx("h1",{className:sr.title,children:i===""?"All sessions":i})]}),se.jsx("div",{className:sr.sessions,children:o.length!==0?ie:"Loading..."})]})}const H7="_previewContainer_1rra2_1",q7="_seshTitle_1rra2_11",$7="_attendTitle_1rra2_15",G7="_attendRow_1rra2_23",K7="_sessions_1rra2_29",Y7="_hostEmail_1rra2_60",Q7="_leaveSession_1rra2_63",W7="_BrowsePage_1rra2_69",X7="_searchContainer_1rra2_79",J7="_searchButton_1rra2_86",Z7="_title_1rra2_90",In={previewContainer:H7,seshTitle:q7,attendTitle:$7,attendRow:G7,sessions:K7,hostEmail:Y7,leaveSession:Q7,BrowsePage:W7,searchContainer:X7,searchButton:J7,title:Z7};async function eH(){try{return(await YI(VI(cr,"allListings"))).docs.map(t=>t.data())}catch(n){return console.error("Error fetching listings:",n),[]}}function tH(){const n=Wo(ne=>ne.user),e=Fp(),[t,i]=pR(),s=t.get("q")||"",o=[],[u,f]=k.useState(o),[h,d]=k.useState(o),[y,_]=k.useState("earliest"),[b,w]=k.useState(""),[I,O]=k.useState(null),[A,U]=k.useState(null),[V,z]=k.useState("No Search Parameter");async function Q(){const ne=await eH();if(ne.length==0)return;let $=ne.filter(le=>{let ge=s==""||le.title?.toLowerCase().includes(s.toLowerCase());return ge=ge&&(I==null||le.month==I),ge=ge&&(A==null||le.day==A),ge});const ee=ts(cr,"userStuff",n.uid);let me=await qs(ee);me.exists()||(await el(ee,{listings:[],signups:[]}),me=await qs(ee));const De=me.data(),Ve=De.signups||[],j=De.listings||[];let J=$.filter(le=>j.includes(le.id)?(console.log(le.title+" by "+le.host.email+" is hosted by you"),!0):!1),he=$.filter(le=>j.includes(le.id)?!1:!!Ve.includes(le.id));y==="earliest"?(J=J.sort((le,ge)=>{const Se=le.month+"/"+le.day+"/"+le.startTime,Me=ge.month+"/"+ge.day+"/"+ge.startTime;return Se>Me?1:Se<Me?-1:0}),he=he.sort((le,ge)=>{const Se=le.month+"/"+le.day+"/"+le.startTime,Me=ge.month+"/"+ge.day+"/"+ge.startTime;return Se>Me?1:Se<Me?-1:0})):y==="latest"?(J=J.sort((le,ge)=>{const Se=le.month+"/"+le.day+"/"+le.startTime,Me=ge.month+"/"+ge.day+"/"+ge.startTime;return Se>Me?-1:Se<Me?1:0}),he=he.sort((le,ge)=>{const Se=le.month+"/"+le.day+"/"+le.startTime,Me=ge.month+"/"+ge.day+"/"+ge.startTime;return Se>Me?-1:Se<Me?1:0})):y==="numPeople"&&(J=J.sort((le,ge)=>le.amtSignedUp>ge.amtSignedUp?-1:le.amtSignedUp<ge.amtSignedUp?1:0),he=he.sort((le,ge)=>le.amtSignedUp>ge.amtSignedUp?-1:le.amtSignedUp<ge.amtSignedUp?1:0)),f(he.length>0?he:o),d(J.length>0?J:o),console.log("results set"),console.log("sessions attending"),console.log(he),console.log("sessions hosting"),console.log(J)}k.useEffect(()=>{Q()},[s,A,I,y,n]);const H=ne=>{try{const $=ne.slice(0,2),ee=ne.slice(2),me=Number($),De=me<12?"AM":"PM",Ve=me%12!==0?me%12:12;return String(Ve)+":"+ee+De}catch{return ne}},ie=[{value:null,label:"any"},{value:"10",label:"november"},{value:"11",label:"december"},{value:"00",label:"january"},{value:"01",label:"february"},{value:"03",label:"march"},{value:"04",label:"april"},{value:"05",label:"may"},{value:"06",label:"july"},{value:"07",label:"august"},{value:"08",label:"september"},{value:"09",label:"october"}],S=[{value:null,label:"any"},{value:"01",label:"1"},{value:"02",label:"2"},{value:"03",label:"3"},{value:"04",label:"4"},{value:"05",label:"5"},{value:"06",label:"6"},{value:"07",label:"7"},{value:"08",label:"8"},{value:"09",label:"9"},{value:"10",label:"10"},{value:"11",label:"11"},{value:"12",label:"12"},{value:"13",label:"13"},{value:"14",label:"14"},{value:"15",label:"15"},{value:"16",label:"16"},{value:"17",label:"17"},{value:"18",label:"18"},{value:"19",label:"19"},{value:"20",label:"20"},{value:"21",label:"21"},{value:"22",label:"22"},{value:"23",label:"23"},{value:"24",label:"24"},{value:"25",label:"25"},{value:"26",label:"26"},{value:"27",label:"27"},{value:"28",label:"28"},{value:"29",label:"29"},{value:"30",label:"30"},{value:"31",label:"31"}],C=async ne=>{if(!n){toast.warn("Cannot join session while logged out");return}f(o);const $=ts(cr,"userStuff",n.uid);(await qs($)).exists()||await el($,{listings:[],signups:[]});const me=ts(cr,"allListings",ne),De=(await qs(me)).data();await _h(me,{amtSignedUp:De.amtSignedUp-1,attendees:Sw({email:n.email,id:n.uid})}),await _h($,{signups:Sw(ne)}),console.log("left session"),Q()},x=u.map(ne=>{if(!ne)return"";const $=ie.find(ee=>ee.value===ne.month).label.slice(0,3);return se.jsxs("div",{className:In.previewContainer,children:[se.jsxs("h2",{className:In.seshTitle,children:[ne.title||"no title"," "]}),se.jsx("p",{children:"Host:"}),se.jsxs("p",{className:In.hostEmail,children:[" ",ne.host.email]}),se.jsxs("p",{children:["Day: ",$," ",ne.day]}),se.jsxs("p",{children:["Start time: ",H(ne.startTime)]}),se.jsxs("p",{children:["End time: ",H(ne.endTime)]}),se.jsxs("p",{children:["Amount Attending: ",ne.amtSignedUp]}),se.jsxs("p",{style:{overflowY:"scroll",height:"65px"},children:["Description: ",ne.description]}),se.jsx("button",{onClick:()=>C(ne.id),className:In.leaveButton,children:se.jsx("p",{className:In.leaveSession,children:"Leave Session"})})]},crypto.randomUUID())}),N=ne=>{e(`/preview/${ne}`)},L=h.map(ne=>{if(!ne)return"";const $=ie.find(ee=>ee.value===ne.month).label.slice(0,3);return se.jsxs("div",{className:In.previewContainer,children:[se.jsxs("h2",{className:In.seshTitle,children:[ne.title||"no title"," "]}),se.jsxs("p",{children:["Day: ",$," ",ne.day]}),se.jsxs("p",{children:["Start time: ",H(ne.startTime)]}),se.jsxs("p",{children:["End time: ",H(ne.endTime)]}),se.jsxs("p",{children:["Amount Attending: ",ne.amtSignedUp]}),se.jsxs("p",{style:{overflowY:"scroll",height:"65px"},children:["Description: ",ne.description]}),se.jsx("button",{onClick:()=>N(ne.id),className:In.seeAttendeesButton,children:se.jsx("p",{className:In.leaveSession,children:"See Attendees"})})]},crypto.randomUUID())}),P=ne=>{ne.preventDefault();const $={};$.q=b,i($),z(b!==""?b:"No Search Parameter")},M=[{value:"earliest",label:"earliest"},{value:"latest",label:"latest"},{value:"numPeople",label:"#people"}],ye={menuList:(ne,$)=>({...ne,backgroundColor:"#332f8e"}),option:(ne,$)=>({...ne,backgroundColor:$.isFocused?"#1a1a1a":"#332f8e"}),valueContainer:(ne,$)=>({...ne,backgroundColor:"#332f8e",color:"#ffffffff"}),singleValue:(ne,$)=>({...ne,color:"#ffffffff"}),dropdownIndicator:(ne,$)=>({...ne,backgroundColor:"#332f8e"}),indicatorSeparator:(ne,$)=>({...ne,backgroundColor:"#332f8e"}),indicatorsContainer:(ne,$)=>({...ne,backgroundColor:"#332f8e"}),control:(ne,$)=>({...ne,backgroundColor:"#332f8e",borderRadius:"0px",border:"solid 2px #332f8e","&:hover":{borderColor:"#646cff"},width:"105x",height:"50px",fontSize:"17px",boxShadow:"none"})};return se.jsxs("div",{className:In.BrowsePage,children:[se.jsxs("div",{className:In.searchContainer,children:[se.jsxs("form",{onSubmit:P,children:[se.jsx("button",{type:"submit",className:In.searchButton,children:"Search"}),se.jsx("input",{type:"text",className:In.searchInput,onChange:ne=>w(ne.target.value),placeholder:"eg: math"})]}),se.jsx(Qr,{onChange:ne=>{_(ne.value)},options:M,styles:ye,placeholder:"Sort"}),se.jsx(Qr,{onChange:ne=>{U(ne.value)},options:S,styles:ye,placeholder:"Day"}),se.jsx(Qr,{onChange:ne=>{O(ne.value)},options:ie,styles:ye,placeholder:"Month"}),se.jsx("h1",{className:In.title,children:V})]}),se.jsxs("div",{className:In.attendRow,children:[se.jsx("h1",{className:In.attendTitle,children:"Sessions you're attending:"}),se.jsx("div",{className:In.sessions,children:u.length!==0?x:"Loading..."}),se.jsx("h1",{className:In.attendTitle,children:"Sessions you're hosting:"}),se.jsx("div",{className:In.sessions,style:{paddingBottom:"0px"},children:h.length!==0?L:"Loading..."})]})]})}const nH=Kx([{path:"/",element:se.jsx(wF,{}),children:[{path:"/",element:se.jsx(fF,{})},{path:"/create",element:se.jsx(R7,{})},{path:"/browse",element:se.jsx(j7,{})},{path:"/mysessions",element:se.jsx(tH,{})},{path:"/preview/:id",element:se.jsx(F7,{})}]}]);function iH(){return se.jsxs(se.Fragment,{children:[se.jsx(sP,{router:nH}),se.jsx(FP,{})]})}zN.createRoot(document.getElementById("root")).render(se.jsx(k.StrictMode,{children:se.jsx(iH,{})}));
